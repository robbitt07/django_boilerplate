/*! For license information please see main.bf6b9cb4.js.LICENSE.txt */
(()=>{var e={1694:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)i.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},9702:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var i={},o=t||{},s=e.split(r),l=o.decode||n,u=0;u<s.length;u++){var c=s[u],g=c.indexOf("=");if(!(g<0)){var d=c.substr(0,g).trim(),h=c.substr(++g,c.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),void 0==i[d]&&(i[d]=a(h,l))}}return i},t.serialize=function(e,t,n){var r=n||{},a=r.encode||i;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var l=e+"="+s;if(null!=r.maxAge){var u=r.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(u)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");l+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");l+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(l+="; HttpOnly");r.secure&&(l+="; Secure");if(r.sameSite){switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return l};var n=decodeURIComponent,i=encodeURIComponent,r=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(n){return e}}},8126:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=n(6704).default},4408:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var i={};function r(){return i}},3462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},r=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const o={p:r,P:function(e,t){var n,o=e.match(/(P+)(p+)?/)||[],a=o[1],s=o[2];if(!s)return i(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",i(a,t)).replace("{{time}}",r(s,t))}}},4697:(e,t,n)=>{"use strict";function i(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{Z:()=>i})},5611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8527),r=n(4522),o=n(9853);function a(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(n+1,0,4),a.setUTCHours(0,0,0,0);var s=(0,o.Z)(a),l=new Date(0);l.setUTCFullYear(n,0,4),l.setUTCHours(0,0,0,0);var u=(0,o.Z)(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}},9153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(8527),r=n(9853),o=n(5611),a=n(4522);var s=6048e5;function l(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=(0,r.Z)(t).getTime()-function(e){(0,a.Z)(1,arguments);var t=(0,o.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,r.Z)(n)}(t).getTime();return Math.round(n/s)+1}},9726:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(8527),r=n(4522),o=n(1230),a=n(9297),s=n(4408);function l(e,t){var n,l,u,c,g,d,h,p;(0,r.Z)(1,arguments);var A=(0,i.Z)(e),f=A.getUTCFullYear(),C=(0,s.j)(),I=(0,a.Z)(null!==(n=null!==(l=null!==(u=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(g=t.locale)||void 0===g||null===(d=g.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==u?u:C.firstWeekContainsDate)&&void 0!==l?l:null===(h=C.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,I),v.setUTCHours(0,0,0,0);var m=(0,o.Z)(v,t),y=new Date(0);y.setUTCFullYear(f,0,I),y.setUTCHours(0,0,0,0);var b=(0,o.Z)(y,t);return A.getTime()>=m.getTime()?f+1:A.getTime()>=b.getTime()?f:f-1}},9934:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(8527),r=n(1230),o=n(9726),a=n(4522),s=n(9297),l=n(4408);var u=6048e5;function c(e,t){(0,a.Z)(1,arguments);var n=(0,i.Z)(e),c=(0,r.Z)(n,t).getTime()-function(e,t){var n,i,u,c,g,d,h,p;(0,a.Z)(1,arguments);var A=(0,l.j)(),f=(0,s.Z)(null!==(n=null!==(i=null!==(u=null!==(c=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null===t||void 0===t||null===(g=t.locale)||void 0===g||null===(d=g.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==u?u:A.firstWeekContainsDate)&&void 0!==i?i:null===(h=A.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==n?n:1),C=(0,o.Z)(e,t),I=new Date(0);return I.setUTCFullYear(C,0,f),I.setUTCHours(0,0,0,0),(0,r.Z)(I,t)}(n,t).getTime();return Math.round(c/u)+1}},8552:(e,t,n)=>{"use strict";n.d(t,{Do:()=>a,Iu:()=>o,qp:()=>s});var i=["D","DD"],r=["YY","YYYY"];function o(e){return-1!==i.indexOf(e)}function a(e){return-1!==r.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}},4522:(e,t,n)=>{"use strict";function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},9853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCDay(),o=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t}},1230:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(8527),r=n(4522),o=n(9297),a=n(4408);function s(e,t){var n,s,l,u,c,g,d,h;(0,r.Z)(1,arguments);var p=(0,a.j)(),A=(0,o.Z)(null!==(n=null!==(s=null!==(l=null!==(u=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==u?u:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(g=c.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,i.Z)(e),C=f.getUTCDay(),I=(C<A?7:0)+C-A;return f.setUTCDate(f.getUTCDate()-I),f.setUTCHours(0,0,0,0),f}},9297:(e,t,n)=>{"use strict";function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},9040:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(8527),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},1104:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(8527),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t);if(isNaN(a))return new Date(NaN);if(!a)return n;var s=n.getDate(),l=new Date(n.getTime());return l.setMonth(n.getMonth()+a+1,0),s>=l.getDate()?l:(n.setFullYear(l.getFullYear(),l.getMonth(),s),n)}},5105:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(1104),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.default)(e,12*n)}},9759:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(4697),r=n(8347),o=n(4522),a=864e5;function s(e,t){(0,o.Z)(2,arguments);var n=(0,r.default)(e),s=(0,r.default)(t),l=n.getTime()-(0,i.Z)(n),u=s.getTime()-(0,i.Z)(s);return Math.round((l-u)/a)}},5951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},3154:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(8527),r=n(9759),o=n(4522);function a(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function s(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e),s=(0,i.Z)(t),l=a(n,s),u=Math.abs((0,r.default)(n,s));n.setDate(n.getDate()-l*u);var c=l*(u-Number(a(n,s)===-l));return 0===c?0:c}},9365:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){var n;(0,r.Z)(1,arguments);var o=e||{},a=(0,i.Z)(o.start),s=(0,i.Z)(o.end).getTime();if(!(a.getTime()<=s))throw new RangeError("Invalid interval");var l=[],u=a;u.setHours(0,0,0,0);var c=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=s;)l.push((0,i.Z)(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return l}},786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(23,59,59,999),t}},4888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},4565:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(4408),r=n(8527),o=n(9297),a=n(4522);function s(e,t){var n,s,l,u,c,g,d,h;(0,a.Z)(1,arguments);var p=(0,i.j)(),A=(0,o.Z)(null!==(n=null!==(s=null!==(l=null!==(u=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==u?u:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(g=c.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,r.Z)(e),C=f.getDay(),I=6+(C<A?-7:0)-(C-A);return f.setDate(f.getDate()+I),f.setHours(23,59,59,999),f}},1951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var i=n(811),r=n(4992),o=n(8527),a=n(4522);var s=n(9153),l=n(5611),u=n(9934),c=n(9726);function g(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}const d={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return g("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):g(n+1,2)},d:function(e,t){return g(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return g(e.getUTCHours()%12||12,t.length)},H:function(e,t){return g(e.getUTCHours(),t.length)},m:function(e,t){return g(e.getUTCMinutes(),t.length)},s:function(e,t){return g(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return g(Math.floor(i*Math.pow(10,n-3)),t.length)}};var h="midnight",p="noon",A="morning",f="afternoon",C="evening",I="night";function v(e,t){var n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var a=t||"";return n+String(r)+a+g(o,2)}function m(e,t){return e%60===0?(e>0?"-":"+")+g(Math.abs(e)/60,2):y(e,t)}function y(e,t){var n=t||"",i=e>0?"-":"+",r=Math.abs(e);return i+g(Math.floor(r/60),2)+n+g(r%60,2)}const b={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return d.y(e,t)},Y:function(e,t,n,i){var r=(0,c.Z)(e,i),o=r>0?r:1-r;return"YY"===t?g(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):g(o,t.length)},R:function(e,t){return g((0,l.Z)(e),t.length)},u:function(e,t){return g(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return g(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return g(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return d.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return g(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var r=(0,u.Z)(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):g(r,t.length)},I:function(e,t,n){var i=(0,s.Z)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):g(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):d.d(e,t)},D:function(e,t,n){var i=function(e){(0,a.Z)(1,arguments);var t=(0,o.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):g(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return g(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var r=e.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return g(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return g(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,r=e.getUTCHours();switch(i=12===r?p:0===r?h:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,r=e.getUTCHours();switch(i=r>=17?C:r>=12?f:r>=4?A:I,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return d.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):d.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):g(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):g(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):d.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):d.s(e,t)},S:function(e,t){return d.S(e,t)},X:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return m(r);case"XXXX":case"XX":return y(r);default:return y(r,":")}},x:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return m(r);case"xxxx":case"xx":return y(r);default:return y(r,":")}},O:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v(r,":");default:return"GMT"+y(r,":")}},z:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v(r,":");default:return"GMT"+y(r,":")}},t:function(e,t,n,i){var r=i._originalDate||e;return g(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,i){return g((i._originalDate||e).getTime(),t.length)}};var x=n(3462),_=n(4697),w=n(8552),k=n(9297),E=n(4408),S=n(8126),T=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P=/^'([^]*?)'?$/,D=/''/g,j=/[a-zA-Z]/;function M(e,t,n){var s,l,u,c,g,d,h,p,A,f,C,I,v,m,y,M,N,z;(0,a.Z)(2,arguments);var R=String(t),F=(0,E.j)(),L=null!==(s=null!==(l=null===n||void 0===n?void 0:n.locale)&&void 0!==l?l:F.locale)&&void 0!==s?s:S.Z,B=(0,k.Z)(null!==(u=null!==(c=null!==(g=null!==(d=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==d?d:null===n||void 0===n||null===(h=n.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==g?g:F.firstWeekContainsDate)&&void 0!==c?c:null===(A=F.locale)||void 0===A||null===(f=A.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==u?u:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Z=(0,k.Z)(null!==(C=null!==(I=null!==(v=null!==(m=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==m?m:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(M=y.options)||void 0===M?void 0:M.weekStartsOn)&&void 0!==v?v:F.weekStartsOn)&&void 0!==I?I:null===(N=F.locale)||void 0===N||null===(z=N.options)||void 0===z?void 0:z.weekStartsOn)&&void 0!==C?C:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var V=(0,o.Z)(e);if(!(0,i.default)(V))throw new RangeError("Invalid time value");var U=(0,_.Z)(V),W=(0,r.Z)(V,U),G={firstWeekContainsDate:B,weekStartsOn:Z,locale:L,_originalDate:V};return R.match(O).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,x.Z[t])(e,L.formatLong):e})).join("").match(T).map((function(i){if("''"===i)return"'";var r=i[0];if("'"===r)return function(e){var t=e.match(P);if(!t)return e;return t[1].replace(D,"'")}(i);var o=b[r];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!(0,w.Do)(i)||(0,w.qp)(i,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!(0,w.Iu)(i)||(0,w.qp)(i,t,String(e)),o(W,i,L.localize,G);if(r.match(j))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return i})).join("")}},9420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()>o.getTime()}},9579:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()<o.getTime()}},7508:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getTime()===o.getTime()}},4690:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8347),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.default)(e),o=(0,i.default)(t);return n.getTime()===o.getTime()}},5375:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e),o=(0,i.Z)(t);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(1002),r=n(4522);var o=n(8527);function a(e){if((0,r.Z)(1,arguments),!function(e){return(0,r.Z)(1,arguments),e instanceof Date||"object"===(0,i.Z)(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=(0,o.Z)(e);return!isNaN(Number(t))}},2680:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e).getDay();return 0===t||6===t}},7262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(e).getTime(),o=(0,i.Z)(t.start).getTime(),a=(0,i.Z)(t.end).getTime();if(!(o<=a))throw new RangeError("Invalid interval");return n>=o&&n<=a}},6704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const r=function(e,t,n){var r,o=i[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function o(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var a={date:o({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:o({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:o({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var s={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function l(e){return function(t,n){var i;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):r;i=e.formattingValues[o]||e.formattingValues[r]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;i=e.values[s]||e.values[a]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function u(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],o=t.match(r);if(!o)return null;var a,s=o[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(u):u,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var c;const g={code:"en-US",formatDistance:r,formatLong:a,formatRelative:function(e,t,n,i){return s[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:l({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:l({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:l({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:l({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:l({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(c.matchPattern);if(!n)return null;var i=n[0],r=e.match(c.parsePattern);if(!r)return null;var o=c.valueCallback?c.valueCallback(r[0]):r[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(i.length)}}),era:u({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:u({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:u({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:u({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:u({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}}},9333:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(1002),r=n(8527),o=n(4522);function a(e){var t,n;if((0,o.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,i.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.Z)(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)})),n||new Date(NaN)}},1056:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(1002),r=n(8527),o=n(4522);function a(e){var t,n;if((0,o.Z)(1,arguments),e&&"function"===typeof e.forEach)t=e;else{if("object"!==(0,i.Z)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.Z)(e);(void 0===n||n>t||isNaN(t.getDate()))&&(n=t)})),n||new Date(NaN)}},7420:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Qe});var i=n(1002),r=n(181);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}var a=n(8126),s=n(4992),l=n(8527);function u(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var c=n(3462),g=n(4697),d=n(8552),h=n(9297),p=n(4522),A=n(7326),f=n(136),C=n(4062),I=n(5671),v=n(3144),m=n(4942),y=function(){function e(){(0,I.Z)(this,e),(0,m.Z)(this,"priority",void 0),(0,m.Z)(this,"subPriority",0)}return(0,v.Z)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),b=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(e,i,r,o,a){var s;return(0,I.Z)(this,n),(s=t.call(this)).value=e,s.validateValue=i,s.setValue=r,s.priority=o,a&&(s.subPriority=a),s}return(0,v.Z)(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(y),x=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",10),(0,m.Z)((0,A.Z)(e),"subPriority",-1),e}return(0,v.Z)(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(y),_=function(){function e(){(0,I.Z)(this,e),(0,m.Z)(this,"incompatibleTokens",void 0),(0,m.Z)(this,"priority",void 0),(0,m.Z)(this,"subPriority",void 0)}return(0,v.Z)(e,[{key:"run",value:function(e,t,n,i){var r=this.parse(e,t,n,i);return r?{setter:new b(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),w=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",140),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["R","u","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),k=(Math.pow(10,8),/^(1[0-2]|0?\d)/),E=/^(3[0-1]|[0-2]?\d)/,S=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,T=/^(5[0-3]|[0-4]?\d)/,O=/^(2[0-3]|[0-1]?\d)/,P=/^(2[0-4]|[0-1]?\d)/,D=/^(1[0-1]|0?\d)/,j=/^(1[0-2]|0?\d)/,M=/^[0-5]?\d/,N=/^[0-5]?\d/,z=/^\d/,R=/^\d{1,2}/,F=/^\d{1,3}/,L=/^\d{1,4}/,B=/^-?\d+/,Z=/^-?\d/,V=/^-?\d{1,2}/,U=/^-?\d{1,3}/,W=/^-?\d{1,4}/,G=/^([+-])(\d{2})(\d{2})?|Z/,H=/^([+-])(\d{2})(\d{2})|Z/,Y=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,q=/^([+-])(\d{2}):(\d{2})|Z/,K=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function X(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Q(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function J(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function $(e){return Q(B,e)}function ee(e,t){switch(e){case 1:return Q(z,t);case 2:return Q(R,t);case 3:return Q(F,t);case 4:return Q(L,t);default:return Q(new RegExp("^\\d{1,"+e+"}"),t)}}function te(e,t){switch(e){case 1:return Q(Z,t);case 2:return Q(V,t);case 3:return Q(U,t);case 4:return Q(W,t);default:return Q(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ne(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function ie(e,t){var n,i=t>0,r=i?t:1-t;if(r<=50)n=e||100;else{var o=r+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return i?n:1-n}function re(e){return e%400===0||e%4===0&&e%100!==0}var oe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",130),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return X(ee(4,e),i);case"yo":return X(n.ordinalNumber(e,{unit:"year"}),i);default:return X(ee(t.length,e),i)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var r=ie(n.year,i);return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),ae=n(9726),se=n(1230),le=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",130),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return X(ee(4,e),i);case"Yo":return X(n.ordinalNumber(e,{unit:"year"}),i);default:return X(ee(t.length,e),i)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,i){var r=(0,ae.Z)(e,i);if(n.isTwoDigitYear){var o=ie(n.year,r);return e.setUTCFullYear(o,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,se.Z)(e,i)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,se.Z)(e,i)}}]),n}(_),ue=n(9853),ce=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",130),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t){return te("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),(0,ue.Z)(i)}}]),n}(_),ge=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",130),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t){return te("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),de=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",120),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return ee(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(_),he=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",120),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return ee(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(_),pe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,m.Z)((0,A.Z)(e),"priority",110),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){var i=function(e){return e-1};switch(t){case"M":return X(Q(k,e),i);case"MM":return X(ee(2,e),i);case"Mo":return X(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),Ae=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",110),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){var i=function(e){return e-1};switch(t){case"L":return X(Q(k,e),i);case"LL":return X(ee(2,e),i);case"Lo":return X(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(_),fe=n(9934);var Ce=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",100),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return Q(T,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,i){return(0,se.Z)(function(e,t,n){(0,p.Z)(2,arguments);var i=(0,l.Z)(e),r=(0,h.Z)(t),o=(0,fe.Z)(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*o),i}(e,n,i),i)}}]),n}(_),Ie=n(9153);var ve=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",100),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return Q(T,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return(0,ue.Z)(function(e,t){(0,p.Z)(2,arguments);var n=(0,l.Z)(e),i=(0,h.Z)(t),r=(0,Ie.Z)(n)-i;return n.setUTCDate(n.getUTCDate()-7*r),n}(e,n))}}]),n}(_),me=[31,28,31,30,31,30,31,31,30,31,30,31],ye=[31,29,31,30,31,30,31,31,30,31,30,31],be=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"subPriority",1),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return Q(E,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){var n=re(e.getUTCFullYear()),i=e.getUTCMonth();return n?t>=1&&t<=ye[i]:t>=1&&t<=me[i]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(_),xe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"subpriority",1),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return Q(S,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return re(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(_),_e=n(4408);function we(e,t,n){var i,r,o,a,s,u,c,g;(0,p.Z)(2,arguments);var d=(0,_e.j)(),A=(0,h.Z)(null!==(i=null!==(r=null!==(o=null!==(a=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==a?a:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(u=s.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==r?r:null===(c=d.locale)||void 0===c||null===(g=c.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==i?i:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,l.Z)(e),C=(0,h.Z)(t),I=((C%7+7)%7<A?7:0)+C-f.getUTCDay();return f.setUTCDate(f.getUTCDate()+I),f}var ke=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=we(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(_),Ee=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n,i){var r=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return X(ee(t.length,e),r);case"eo":return X(n.ordinalNumber(e,{unit:"day"}),r);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=we(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(_),Se=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n,i){var r=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return X(ee(t.length,e),r);case"co":return X(n.ordinalNumber(e,{unit:"day"}),r);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=we(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(_);var Te=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",90),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return ee(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return X(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return X(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return X(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);default:return X(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){(0,p.Z)(2,arguments);var n=(0,h.Z)(t);n%7===0&&(n-=7);var i=(0,l.Z)(e),r=((n%7+7)%7<1?7:0)+n-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+r),i}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(_),Oe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",80),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(_),Pe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",80),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(_),De=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",80),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["a","b","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(ne(n),0,0,0),e}}]),n}(_),je=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",70),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return Q(j,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(_),Me=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",70),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return Q(O,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(_),Ne=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",70),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return Q(D,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(_),ze=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",70),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return Q(P,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e}}]),n}(_),Re=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",60),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return Q(M,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(_),Fe=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",50),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return Q(N,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ee(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(_),Le=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",30),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["t","T"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t){return X(ee(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(_),Be=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",10),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["t","T","x"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return J(G,e);case"XX":return J(H,e);case"XXXX":return J(Y,e);case"XXXXX":return J(K,e);default:return J(q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(_),Ze=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",10),(0,m.Z)((0,A.Z)(e),"incompatibleTokens",["t","T","X"]),e}return(0,v.Z)(n,[{key:"parse",value:function(e,t){switch(t){case"x":return J(G,e);case"xx":return J(H,e);case"xxxx":return J(Y,e);case"xxxxx":return J(K,e);default:return J(q,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(_),Ve=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",40),(0,m.Z)((0,A.Z)(e),"incompatibleTokens","*"),e}return(0,v.Z)(n,[{key:"parse",value:function(e){return $(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(_),Ue=function(e){(0,f.Z)(n,e);var t=(0,C.Z)(n);function n(){var e;(0,I.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,m.Z)((0,A.Z)(e),"priority",20),(0,m.Z)((0,A.Z)(e),"incompatibleTokens","*"),e}return(0,v.Z)(n,[{key:"parse",value:function(e){return $(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(_),We={G:new w,y:new oe,Y:new le,R:new ce,u:new ge,Q:new de,q:new he,M:new pe,L:new Ae,w:new Ce,I:new ve,d:new be,D:new xe,E:new ke,e:new Ee,c:new Se,i:new Te,a:new Oe,b:new Pe,B:new De,h:new je,H:new Me,K:new Ne,k:new ze,m:new Re,s:new Fe,S:new Le,X:new Be,x:new Ze,t:new Ve,T:new Ue},Ge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,He=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ye=/^'([^]*?)'?$/,qe=/''/g,Ke=/\S/,Xe=/[a-zA-Z]/;function Qe(e,t,n,r){var A,f,C,I,v,m,y,b,_,w,k,E,S,T,O,P,D,j;(0,p.Z)(3,arguments);var M=String(e),N=String(t),z=(0,_e.j)(),R=null!==(A=null!==(f=null===r||void 0===r?void 0:r.locale)&&void 0!==f?f:z.locale)&&void 0!==A?A:a.Z;if(!R.match)throw new RangeError("locale must contain match property");var F=(0,h.Z)(null!==(C=null!==(I=null!==(v=null!==(m=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==m?m:null===r||void 0===r||null===(y=r.locale)||void 0===y||null===(b=y.options)||void 0===b?void 0:b.firstWeekContainsDate)&&void 0!==v?v:z.firstWeekContainsDate)&&void 0!==I?I:null===(_=z.locale)||void 0===_||null===(w=_.options)||void 0===w?void 0:w.firstWeekContainsDate)&&void 0!==C?C:1);if(!(F>=1&&F<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var L=(0,h.Z)(null!==(k=null!==(E=null!==(S=null!==(T=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==T?T:null===r||void 0===r||null===(O=r.locale)||void 0===O||null===(P=O.options)||void 0===P?void 0:P.weekStartsOn)&&void 0!==S?S:z.weekStartsOn)&&void 0!==E?E:null===(D=z.locale)||void 0===D||null===(j=D.options)||void 0===j?void 0:j.weekStartsOn)&&void 0!==k?k:0);if(!(L>=0&&L<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===N)return""===M?(0,l.Z)(n):new Date(NaN);var B,Z={firstWeekContainsDate:F,weekStartsOn:L,locale:R},V=[new x],U=N.match(He).map((function(e){var t=e[0];return t in c.Z?(0,c.Z[t])(e,R.formatLong):e})).join("").match(Ge),W=[],G=o(U);try{var H=function(){var t=B.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!(0,d.Do)(t)||(0,d.qp)(t,N,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!(0,d.Iu)(t)||(0,d.qp)(t,N,e);var n=t[0],i=We[n];if(i){var o=i.incompatibleTokens;if(Array.isArray(o)){var a=W.find((function(e){return o.includes(e.token)||e.token===n}));if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&W.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));W.push({token:n,fullToken:t});var s=i.run(M,t,R.match,Z);if(!s)return{v:new Date(NaN)};V.push(s.setter),M=s.rest}else{if(n.match(Xe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Ye)[1].replace(qe,"'")),0!==M.indexOf(t))return{v:new Date(NaN)};M=M.slice(t.length)}};for(G.s();!(B=G.n()).done;){var Y=H();if("object"===(0,i.Z)(Y))return Y.v}}catch(ne){G.e(ne)}finally{G.f()}if(M.length>0&&Ke.test(M))return new Date(NaN);var q=V.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return V.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),K=(0,l.Z)(n);if(isNaN(K.getTime()))return new Date(NaN);var X,Q=(0,s.Z)(K,(0,g.Z)(K)),J={},$=o(q);try{for($.s();!(X=$.n()).done;){var ee=X.value;if(!ee.validate(Q,Z))return new Date(NaN);var te=ee.set(Q,J,Z);Array.isArray(te)?(Q=te[0],u(J,te[1])):Q=te}}catch(ne){$.e(ne)}finally{$.f()}return Q}},2363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(8527),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t),s=n.getFullYear(),l=n.getDate(),u=new Date(0);u.setFullYear(s,a,15),u.setHours(0,0,0,0);var c=function(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getFullYear(),i=t.getMonth(),a=new Date(0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}(u);return n.setMonth(a,Math.min(l,c)),n}},5617:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(8527),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),a=(0,i.Z)(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(a),n)}},8347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setHours(0,0,0,0),t}},5719:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n(8527),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=(0,i.Z)(e);return t.setDate(1),t.setHours(0,0,0,0),t}},3629:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var i=n(8527),r=n(9297),o=n(4522),a=n(4408);function s(e,t){var n,s,l,u,c,g,d,h;(0,o.Z)(1,arguments);var p=(0,a.j)(),A=(0,r.Z)(null!==(n=null!==(s=null!==(l=null!==(u=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==u?u:null===t||void 0===t||null===(c=t.locale)||void 0===c||null===(g=c.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==l?l:p.weekStartsOn)&&void 0!==s?s:null===(d=p.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==n?n:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,i.Z)(e),C=f.getDay(),I=(C<A?7:0)+C-A;return f.setDate(f.getDate()-I),f.setHours(0,0,0,0),f}},4992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(9297),r=n(8527),o=n(4522);function a(e,t){return(0,o.Z)(2,arguments),function(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e).getTime(),a=(0,i.Z)(t);return new Date(n+a)}(e,-(0,i.Z)(t))}},8030:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var i=n(9297),r=n(1104),o=n(4522);function a(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(t);return(0,r.default)(e,-n)}},8527:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(1002),r=n(4522);function o(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,i.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},4097:(e,t,n)=>{var i;!function(r,o,a,s){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),g="function",d=Math.round,h=Math.abs,p=Date.now;function A(e,t,n){return setTimeout(b(e,n),t)}function f(e,t,n){return!!Array.isArray(e)&&(C(e,n[t],n),!0)}function C(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function I(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,i,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==s&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var v=I((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===s)&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),m=I((function(e,t){return v(e,t,!0)}),"merge","Use `assign`.");function y(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&l(i,n)}function b(e,t){return function(){return e.apply(t,arguments)}}function x(e,t){return typeof e==g?e.apply(t&&t[0]||s,t):e}function _(e,t){return e===s?t:e}function w(e,t,n){C(T(t),(function(t){e.addEventListener(t,n,!1)}))}function k(e,t,n){C(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function E(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function O(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function D(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];O(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}function j(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<u.length;){if((i=(n=u[o])?n+r:t)in e)return i;o++}return s}var M=1;function N(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}var z="ontouchstart"in r,R=j(r,"PointerEvent")!==s,F=z&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L="touch",B="mouse",Z=25,V=1,U=4,W=8,G=1,H=2,Y=4,q=8,K=16,X=H|Y,Q=q|K,J=X|Q,$=["x","y"],ee=["clientX","clientY"];function te(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){x(e.options.enable,[e])&&n.handler(t)},this.init()}function ne(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&V&&i-r===0,a=t&(U|W)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=ie(t));r>1&&!n.firstMultiple?n.firstMultiple=ie(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,l=a?a.center:o.center,u=t.center=re(i);t.timeStamp=p(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=le(l,u),t.distance=se(l,u),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==V&&o.eventType!==U||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y});t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=ae(t.deltaX,t.deltaY);var c=oe(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?(g=a.pointers,d=i,se(d[0],d[1],ee)/se(g[0],g[1],ee)):1,t.rotation=a?function(e,t){return le(t[1],t[0],ee)+le(e[1],e[0],ee)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(t.eventType!=W&&(l>Z||a.velocity===s)){var u=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,g=oe(l,u,c);i=g.x,r=g.y,n=h(g.x)>h(g.y)?g.x:g.y,o=ae(u,c),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var g,d;var A=e.element;E(t.srcEvent.target,A)&&(A=t.srcEvent.target);t.target=A}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ie(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:re(t),deltaX:e.deltaX,deltaY:e.deltaY}}function re(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:d(n/t),y:d(i/t)}}function oe(e,t,n){return{x:t/e||0,y:n/e||0}}function ae(e,t){return e===t?G:h(e)>=h(t)?e<0?H:Y:t<0?q:K}function se(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function le(e,t,n){n||(n=$);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}te.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(N(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(N(this.element),this.evWin,this.domHandler)}};var ue={mousedown:V,mousemove:2,mouseup:U},ce="mousedown",ge="mousemove mouseup";function de(){this.evEl=ce,this.evWin=ge,this.pressed=!1,te.apply(this,arguments)}y(de,te,{handler:function(e){var t=ue[e.type];t&V&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=U),this.pressed&&(t&U&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:B,srcEvent:e}))}});var he={pointerdown:V,pointermove:2,pointerup:U,pointercancel:W,pointerout:W},pe={2:L,3:"pen",4:B,5:"kinect"},Ae="pointerdown",fe="pointermove pointerup pointercancel";function Ce(){this.evEl=Ae,this.evWin=fe,te.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Ae="MSPointerDown",fe="MSPointerMove MSPointerUp MSPointerCancel"),y(Ce,te,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=he[i],o=pe[e.pointerType]||e.pointerType,a=o==L,s=O(t,e.pointerId,"pointerId");r&V&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):r&(U|W)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var Ie={touchstart:V,touchmove:2,touchend:U,touchcancel:W};function ve(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,te.apply(this,arguments)}function me(e,t){var n=P(e.touches),i=P(e.changedTouches);return t&(U|W)&&(n=D(n.concat(i),"identifier",!0)),[n,i]}y(ve,te,{handler:function(e){var t=Ie[e.type];if(t===V&&(this.started=!0),this.started){var n=me.call(this,e,t);t&(U|W)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:L,srcEvent:e})}}});var ye={touchstart:V,touchmove:2,touchend:U,touchcancel:W},be="touchstart touchmove touchend touchcancel";function xe(){this.evTarget=be,this.targetIds={},te.apply(this,arguments)}function _e(e,t){var n=P(e.touches),i=this.targetIds;if(t&(2|V)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var r,o,a=P(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return E(e.target,l)})),t===V)for(r=0;r<o.length;)i[o[r].identifier]=!0,r++;for(r=0;r<a.length;)i[a[r].identifier]&&s.push(a[r]),t&(U|W)&&delete i[a[r].identifier],r++;return s.length?[D(o.concat(s),"identifier",!0),s]:void 0}y(xe,te,{handler:function(e){var t=ye[e.type],n=_e.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:L,srcEvent:e})}});var we=2500;function ke(){te.apply(this,arguments);var e=b(this.handler,this);this.touch=new xe(this.manager,e),this.mouse=new de(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ee(e,t){e&V?(this.primaryTouch=t.changedPointers[0].identifier,Se.call(this,t)):e&(U|W)&&Se.call(this,t)}function Se(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),we)}}function Te(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}y(ke,te,{handler:function(e,t,n){var i=n.pointerType==L,r=n.pointerType==B;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)Ee.call(this,t,n);else if(r&&Te.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Oe=j(c.style,"touchAction"),Pe=Oe!==s,De="compute",je="auto",Me="manipulation",Ne="none",ze="pan-x",Re="pan-y",Fe=function(){if(!Pe)return!1;var e={},t=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||r.CSS.supports("touch-action",n)})),e}();function Le(e,t){this.manager=e,this.set(t)}Le.prototype={set:function(e){e==De&&(e=this.compute()),Pe&&this.manager.element.style&&Fe[e]&&(this.manager.element.style[Oe]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return C(this.manager.recognizers,(function(t){x(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(S(e,Ne))return Ne;var t=S(e,ze),n=S(e,Re);if(t&&n)return Ne;if(t||n)return t?ze:Re;if(S(e,Me))return Me;return je}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=S(i,Ne)&&!Fe[Ne],o=S(i,Re)&&!Fe[Re],a=S(i,ze)&&!Fe[ze];if(r){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return r||o&&n&X||a&&n&Q?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Be=1,Ze=32;function Ve(e){this.options=l({},this.defaults,e||{}),this.id=M++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=Be,this.simultaneous={},this.requireFail=[]}function Ue(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function We(e){return e==K?"down":e==q?"up":e==H?"left":e==Y?"right":""}function Ge(e,t){var n=t.manager;return n?n.get(e):e}function He(){Ve.apply(this,arguments)}function Ye(){He.apply(this,arguments),this.pX=null,this.pY=null}function qe(){He.apply(this,arguments)}function Ke(){Ve.apply(this,arguments),this._timer=null,this._input=null}function Xe(){He.apply(this,arguments)}function Qe(){He.apply(this,arguments)}function Je(){Ve.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function $e(e,t){return(t=t||{}).recognizers=_(t.recognizers,$e.defaults.preset),new et(e,t)}Ve.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(f(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ge(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return f(e,"dropRecognizeWith",this)||(e=Ge(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(f(e,"requireFailure",this))return this;var t=this.requireFail;return-1===O(t,e=Ge(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(f(e,"dropRequireFailure",this))return this;e=Ge(e,this);var t=O(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+Ue(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+Ue(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Ze},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Ze|Be)))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!x(this.options.enable,[this,t]))return this.reset(),void(this.state=Ze);56&this.state&&(this.state=Be),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},y(He,Ve,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(n&W||!r)?16|t:i||r?n&U?8|t:2&t?4|t:2:Ze}}),y(Ye,He,{defaults:{event:"pan",threshold:10,pointers:1,direction:J},getTouchAction:function(){var e=this.options.direction,t=[];return e&X&&t.push(Re),e&Q&&t.push(ze),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&X?(r=0===o?G:o<0?H:Y,n=o!=this.pX,i=Math.abs(e.deltaX)):(r=0===a?G:a<0?q:K,n=a!=this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},attrTest:function(e){return He.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=We(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),y(qe,He,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),y(Ke,Ve,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[je]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(U|W)&&!r)this.reset();else if(e.eventType&V)this.reset(),this._timer=A((function(){this.state=8,this.tryEmit()}),t.time,this);else if(e.eventType&U)return 8;return Ze},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&U?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),y(Xe,He,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ne]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),y(Qe,He,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:X|Q,pointers:1},getTouchAction:function(){return Ye.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(X|Q)?t=e.overallVelocity:n&X?t=e.overallVelocityX:n&Q&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&U},emit:function(e){var t=We(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),y(Je,Ve,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&V&&0===this.count)return this.failTimeout();if(i&&r&&n){if(e.eventType!=U)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||se(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=A((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Ze},failTimeout:function(){return this._timer=A((function(){this.state=Ze}),this.options.interval,this),Ze},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),$e.VERSION="2.0.7",$e.defaults={domEvents:!1,touchAction:De,enable:!0,inputTarget:null,inputClass:null,preset:[[Xe,{enable:!1}],[qe,{enable:!1},["rotate"]],[Qe,{direction:X}],[Ye,{direction:X},["swipe"]],[Je],[Je,{event:"doubletap",taps:2},["tap"]],[Ke]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function et(e,t){var n;this.options=l({},$e.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(R?Ce:F?xe:z?ke:de))(n,ne),this.touchAction=new Le(this,this.options.touchAction),tt(this,!0),C(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function tt(e,t){var n,i=e.element;i.style&&(C(e.options.cssProps,(function(r,o){n=j(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}et.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(r=t.curRecognizer=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!=r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(r=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Ve)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(f(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(f(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=O(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return C(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return C(T(e),(function(e){t?n[e]&&n[e].splice(O(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&tt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l($e,{INPUT_START:V,INPUT_MOVE:2,INPUT_END:U,INPUT_CANCEL:W,STATE_POSSIBLE:Be,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Ze,DIRECTION_NONE:G,DIRECTION_LEFT:H,DIRECTION_RIGHT:Y,DIRECTION_UP:q,DIRECTION_DOWN:K,DIRECTION_HORIZONTAL:X,DIRECTION_VERTICAL:Q,DIRECTION_ALL:J,Manager:et,Input:te,TouchAction:Le,TouchInput:xe,MouseInput:de,PointerEventInput:Ce,TouchMouseInput:ke,SingleTouchInput:ve,Recognizer:Ve,AttrRecognizer:He,Tap:Je,Pan:Ye,Swipe:Qe,Pinch:qe,Rotate:Xe,Press:Ke,on:w,off:k,each:C,merge:m,extend:v,assign:l,inherit:y,bindFn:b,prefixed:j}),("undefined"!==typeof r?r:"undefined"!==typeof self?self:{}).Hammer=$e,(i=function(){return $e}.call(t,n,t,e))===s||(e.exports=i)}(window,document)},2110:(e,t,n)=>{"use strict";var i=n(7441),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=h(n);r&&r!==p&&e(t,r,i)}var a=c(n);g&&(a=a.concat(g(n)));for(var s=l(t),A=l(n),f=0;f<a.length;++f){var C=a[f];if(!o[C]&&(!i||!i[C])&&(!A||!A[C])&&(!s||!s[C])){var I=d(n,C);try{u(t,C,I)}catch(v){}}}}return t}},2176:e=>{"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},5095:(e,t,n)=>{var i=NaN,r="[object Symbol]",o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,g="object"==typeof self&&self&&self.Object===Object&&self,d=c||g||Function("return this")(),h=Object.prototype.toString,p=Math.max,A=Math.min,f=function(){return d.Date.now()};function C(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function I(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&h.call(e)==r}(e))return i;if(C(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=C(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?i:+e}e.exports=function(e,t,n){var i,r,o,a,s,l,u=0,c=!1,g=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,o=r;return i=r=void 0,u=t,a=e.apply(o,n)}function v(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-u>=o}function m(){var e=f();if(v(e))return y(e);s=setTimeout(m,function(e){var n=t-(e-l);return g?A(n,o-(e-u)):n}(e))}function y(e){return s=void 0,d&&i?h(e):(i=r=void 0,a)}function b(){var e=f(),n=v(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):a}(l);if(g)return s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=I(t)||0,C(n)&&(c=!!n.leading,o=(g="maxWait"in n)?p(I(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==s&&clearTimeout(s),u=0,i=l=r=s=void 0},b.flush=function(){return void 0===s?a:y(f())},b}},763:function(e,t,n){var i;e=n.nmd(e),function(){var r,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,u=32,c=64,g=128,d=256,h=1/0,p=9007199254740991,A=NaN,f=4294967295,C=[["ary",g],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",u],["partialRight",c],["rearg",d]],I="[object Arguments]",v="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",x="[object Function]",_="[object GeneratorFunction]",w="[object Map]",k="[object Number]",E="[object Object]",S="[object Promise]",T="[object RegExp]",O="[object Set]",P="[object String]",D="[object Symbol]",j="[object WeakMap]",M="[object ArrayBuffer]",N="[object DataView]",z="[object Float32Array]",R="[object Float64Array]",F="[object Int8Array]",L="[object Int16Array]",B="[object Int32Array]",Z="[object Uint8Array]",V="[object Uint8ClampedArray]",U="[object Uint16Array]",W="[object Uint32Array]",G=/\b__p \+= '';/g,H=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,X=RegExp(q.source),Q=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(re.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ue=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,xe=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",we="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Se="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",De="["+_e+"]",je="["+Oe+"]",Me="["+we+"]",Ne="\\d+",ze="["+ke+"]",Re="["+Ee+"]",Fe="[^"+_e+Oe+Ne+ke+Ee+Se+"]",Le="\\ud83c[\\udffb-\\udfff]",Be="[^"+_e+"]",Ze="(?:\\ud83c[\\udde6-\\uddff]){2}",Ve="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Se+"]",We="\\u200d",Ge="(?:"+Re+"|"+Fe+")",He="(?:"+Ue+"|"+Fe+")",Ye="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",qe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Me+"|"+Le+")"+"?",Xe="["+Te+"]?",Qe=Xe+Ke+("(?:"+We+"(?:"+[Be,Ze,Ve].join("|")+")"+Xe+Ke+")*"),Je="(?:"+[ze,Ze,Ve].join("|")+")"+Qe,$e="(?:"+[Be+Me+"?",Me,Ze,Ve,De].join("|")+")",et=RegExp(Pe,"g"),tt=RegExp(Me,"g"),nt=RegExp(Le+"(?="+Le+")|"+$e+Qe,"g"),it=RegExp([Ue+"?"+Re+"+"+Ye+"(?="+[je,Ue,"$"].join("|")+")",He+"+"+qe+"(?="+[je,Ue+Ge,"$"].join("|")+")",Ue+"?"+Ge+"+"+Ye,Ue+"+"+qe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Je].join("|"),"g"),rt=RegExp("["+We+_e+we+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[z]=lt[R]=lt[F]=lt[L]=lt[B]=lt[Z]=lt[V]=lt[U]=lt[W]=!0,lt[I]=lt[v]=lt[M]=lt[m]=lt[N]=lt[y]=lt[b]=lt[x]=lt[w]=lt[k]=lt[E]=lt[T]=lt[O]=lt[P]=lt[j]=!1;var ut={};ut[I]=ut[v]=ut[M]=ut[N]=ut[m]=ut[y]=ut[z]=ut[R]=ut[F]=ut[L]=ut[B]=ut[w]=ut[k]=ut[E]=ut[T]=ut[O]=ut[P]=ut[D]=ut[Z]=ut[V]=ut[U]=ut[W]=!0,ut[b]=ut[x]=ut[j]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},gt=parseFloat,dt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,At=ht||pt||Function("return this")(),ft=t&&!t.nodeType&&t,Ct=ft&&e&&!e.nodeType&&e,It=Ct&&Ct.exports===ft,vt=It&&ht.process,mt=function(){try{var e=Ct&&Ct.require&&Ct.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),yt=mt&&mt.isArrayBuffer,bt=mt&&mt.isDate,xt=mt&&mt.isMap,_t=mt&&mt.isRegExp,wt=mt&&mt.isSet,kt=mt&&mt.isTypedArray;function Et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function St(e,t,n,i){for(var r=-1,o=null==e?0:e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function Tt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function Dt(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function jt(e,t){return!!(null==e?0:e.length)&&Ut(e,t,0)>-1}function Mt(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function Nt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function zt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function Rt(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function Ft(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function Lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var Bt=Yt("length");function Zt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function Vt(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t===t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):Vt(e,Gt,n)}function Wt(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function Gt(e){return e!==e}function Ht(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:A}function Yt(e){return function(t){return null==t?r:t[e]}}function qt(e){return function(t){return null==e?r:e[t]}}function Kt(e,t,n,i,r){return r(e,(function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)})),n}function Xt(e,t){for(var n,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==r&&(n=n===r?a:n+a)}return n}function Qt(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Jt(e){return e?e.slice(0,fn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Nt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,i=e.length;++n<i&&Ut(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}var on=qt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=qt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ct[e]}function ln(e){return rt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function gn(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[r++]=n)}return o}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function An(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var Cn=qt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var In=function e(t){var n=(t=null==t?At:In.defaults(At.Object(),t,In.pick(At,at))).Array,i=t.Date,se=t.Error,_e=t.Function,we=t.Math,ke=t.Object,Ee=t.RegExp,Se=t.String,Te=t.TypeError,Oe=n.prototype,Pe=_e.prototype,De=ke.prototype,je=t["__core-js_shared__"],Me=Pe.toString,Ne=De.hasOwnProperty,ze=0,Re=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=De.toString,Le=Me.call(ke),Be=At._,Ze=Ee("^"+Me.call(Ne).replace(re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=It?t.Buffer:r,Ue=t.Symbol,We=t.Uint8Array,Ge=Ve?Ve.allocUnsafe:r,He=cn(ke.getPrototypeOf,ke),Ye=ke.create,qe=De.propertyIsEnumerable,Ke=Oe.splice,Xe=Ue?Ue.isConcatSpreadable:r,Qe=Ue?Ue.iterator:r,Je=Ue?Ue.toStringTag:r,$e=function(){try{var e=go(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,rt=i&&i.now!==At.Date.now&&i.now,ct=t.setTimeout!==At.setTimeout&&t.setTimeout,ht=we.ceil,pt=we.floor,ft=ke.getOwnPropertySymbols,Ct=Ve?Ve.isBuffer:r,vt=t.isFinite,mt=Oe.join,Bt=cn(ke.keys,ke),qt=we.max,vn=we.min,mn=i.now,yn=t.parseInt,bn=we.random,xn=Oe.reverse,_n=go(t,"DataView"),wn=go(t,"Map"),kn=go(t,"Promise"),En=go(t,"Set"),Sn=go(t,"WeakMap"),Tn=go(ke,"create"),On=Sn&&new Sn,Pn={},Dn=Fo(_n),jn=Fo(wn),Mn=Fo(kn),Nn=Fo(En),zn=Fo(Sn),Rn=Ue?Ue.prototype:r,Fn=Rn?Rn.valueOf:r,Ln=Rn?Rn.toString:r;function Bn(e){if(ts(e)&&!Wa(e)&&!(e instanceof Wn)){if(e instanceof Un)return e;if(Ne.call(e,"__wrapped__"))return Lo(e)}return new Un(e)}var Zn=function(){function e(){}return function(t){if(!es(t))return{};if(Ye)return Ye(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function Vn(){}function Un(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Kn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Xn(e,t){var n=Wa(e),i=!n&&Ua(e),r=!n&&!i&&qa(e),o=!n&&!i&&!r&&us(e),a=n||i||r||o,s=a?Qt(e.length,Se):[],l=s.length;for(var u in e)!t&&!Ne.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||vo(u,l))||s.push(u);return s}function Qn(e){var t=e.length;return t?e[qi(0,t-1)]:r}function Jn(e,t){return No(Tr(e),si(t,0,e.length))}function $n(e){return No(Tr(e))}function ei(e,t,n){(n!==r&&!Ba(e[t],n)||n===r&&!(t in e))&&oi(e,t,n)}function ti(e,t,n){var i=e[t];Ne.call(e,t)&&Ba(i,n)&&(n!==r||t in e)||oi(e,t,n)}function ni(e,t){for(var n=e.length;n--;)if(Ba(e[n][0],t))return n;return-1}function ii(e,t,n,i){return di(e,(function(e,r,o){t(i,e,n(e),o)})),i}function ri(e,t){return e&&Or(t,Ps(t),e)}function oi(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ai(e,t){for(var i=-1,o=t.length,a=n(o),s=null==e;++i<o;)a[i]=s?r:ks(e,t[i]);return a}function si(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function li(e,t,n,i,o,a){var s,l=1&t,u=2&t,c=4&t;if(n&&(s=o?n(e,i,o,a):n(e)),s!==r)return s;if(!es(e))return e;var g=Wa(e);if(g){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Tr(e,s)}else{var d=Ao(e),h=d==x||d==_;if(qa(e))return xr(e,l);if(d==E||d==I||h&&!o){if(s=u||h?{}:Co(e),!l)return u?function(e,t){return Or(e,po(e),t)}(e,function(e,t){return e&&Or(t,Ds(t),e)}(s,e)):function(e,t){return Or(e,ho(e),t)}(e,ri(s,e))}else{if(!ut[d])return o?e:{};s=function(e,t,n){var i=e.constructor;switch(t){case M:return _r(e);case m:case y:return new i(+e);case N:return function(e,t){var n=t?_r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case z:case R:case F:case L:case B:case Z:case V:case U:case W:return wr(e,n);case w:return new i;case k:case P:return new i(e);case T:return function(e){var t=new e.constructor(e.source,Ae.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new i;case D:return r=e,Fn?ke(Fn.call(r)):{}}var r}(e,d,l)}}a||(a=new Kn);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(i){s.add(li(i,t,n,i,e,a))})):ns(e)&&e.forEach((function(i,r){s.set(r,li(i,t,n,r,e,a))}));var A=g?r:(c?u?ro:io:u?Ds:Ps)(e);return Tt(A||e,(function(i,r){A&&(i=e[r=i]),ti(s,r,li(i,t,n,r,e,a))})),s}function ui(e,t,n){var i=n.length;if(null==e)return!i;for(e=ke(e);i--;){var o=n[i],a=t[o],s=e[o];if(s===r&&!(o in e)||!a(s))return!1}return!0}function ci(e,t,n){if("function"!=typeof e)throw new Te(o);return Po((function(){e.apply(r,n)}),t)}function gi(e,t,n,i){var r=-1,o=jt,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=Nt(t,$t(n))),i?(o=Mt,a=!1):t.length>=200&&(o=tn,a=!1,t=new qn(t));e:for(;++r<s;){var c=e[r],g=null==n?c:n(c);if(c=i||0!==c?c:0,a&&g===g){for(var d=u;d--;)if(t[d]===g)continue e;l.push(c)}else o(t,g,i)||l.push(c)}return l}Bn.templateSettings={escape:J,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=Vn.prototype,Bn.prototype.constructor=Bn,Un.prototype=Zn(Vn.prototype),Un.prototype.constructor=Un,Wn.prototype=Zn(Vn.prototype),Wn.prototype.constructor=Wn,Gn.prototype.clear=function(){this.__data__=Tn?Tn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Tn){var n=t[e];return n===a?r:n}return Ne.call(t,e)?t[e]:r},Gn.prototype.has=function(e){var t=this.__data__;return Tn?t[e]!==r:Ne.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Tn&&t===r?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=ni(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=ni(t,e);return n<0?r:t[n][1]},Hn.prototype.has=function(e){return ni(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,i=ni(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(wn||Hn),string:new Gn}},Yn.prototype.delete=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return uo(this,e).get(e)},Yn.prototype.has=function(e){return uo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=uo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},qn.prototype.add=qn.prototype.push=function(e){return this.__data__.set(e,a),this},qn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Kn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Kn.prototype.get=function(e){return this.__data__.get(e)},Kn.prototype.has=function(e){return this.__data__.has(e)},Kn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var i=n.__data__;if(!wn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(i)}return n.set(e,t),this.size=n.size,this};var di=jr(mi),hi=jr(yi,!0);function pi(e,t){var n=!0;return di(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function Ai(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(l===r?s===s&&!ls(s):n(s,l)))var l=s,u=a}return u}function fi(e,t){var n=[];return di(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function Ci(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=Io),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Ci(s,t-1,n,i,r):zt(r,s):i||(r[r.length]=s)}return r}var Ii=Mr(),vi=Mr(!0);function mi(e,t){return e&&Ii(e,t,Ps)}function yi(e,t){return e&&vi(e,t,Ps)}function bi(e,t){return Dt(t,(function(t){return Qa(e[t])}))}function xi(e,t){for(var n=0,i=(t=vr(t,e)).length;null!=e&&n<i;)e=e[Ro(t[n++])];return n&&n==i?e:r}function _i(e,t,n){var i=t(e);return Wa(e)?i:zt(i,n(e))}function wi(e){return null==e?e===r?"[object Undefined]":"[object Null]":Je&&Je in ke(e)?function(e){var t=Ne.call(e,Je),n=e[Je];try{e[Je]=r;var i=!0}catch(a){}var o=Fe.call(e);i&&(t?e[Je]=n:delete e[Je]);return o}(e):function(e){return Fe.call(e)}(e)}function ki(e,t){return e>t}function Ei(e,t){return null!=e&&Ne.call(e,t)}function Si(e,t){return null!=e&&t in ke(e)}function Ti(e,t,i){for(var o=i?Mt:jt,a=e[0].length,s=e.length,l=s,u=n(s),c=1/0,g=[];l--;){var d=e[l];l&&t&&(d=Nt(d,$t(t))),c=vn(d.length,c),u[l]=!i&&(t||a>=120&&d.length>=120)?new qn(l&&d):r}d=e[0];var h=-1,p=u[0];e:for(;++h<a&&g.length<c;){var A=d[h],f=t?t(A):A;if(A=i||0!==A?A:0,!(p?tn(p,f):o(g,f,i))){for(l=s;--l;){var C=u[l];if(!(C?tn(C,f):o(e[l],f,i)))continue e}p&&p.push(f),g.push(A)}}return g}function Oi(e,t,n){var i=null==(e=So(e,t=vr(t,e)))?e:e[Ro(Xo(t))];return null==i?r:Et(i,e,n)}function Pi(e){return ts(e)&&wi(e)==I}function Di(e,t,n,i,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,n,i,o,a){var s=Wa(e),l=Wa(t),u=s?v:Ao(e),c=l?v:Ao(t),g=(u=u==I?E:u)==E,d=(c=c==I?E:c)==E,h=u==c;if(h&&qa(e)){if(!qa(t))return!1;s=!0,g=!1}if(h&&!g)return a||(a=new Kn),s||us(e)?to(e,t,n,i,o,a):function(e,t,n,i,r,o,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case M:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case m:case y:case k:return Ba(+e,+t);case b:return e.name==t.name&&e.message==t.message;case T:case P:return e==t+"";case w:var s=un;case O:var l=1&i;if(s||(s=dn),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var c=to(s(e),s(t),i,r,o,a);return a.delete(e),c;case D:if(Fn)return Fn.call(e)==Fn.call(t)}return!1}(e,t,u,n,i,o,a);if(!(1&n)){var p=g&&Ne.call(e,"__wrapped__"),A=d&&Ne.call(t,"__wrapped__");if(p||A){var f=p?e.value():e,C=A?t.value():t;return a||(a=new Kn),o(f,C,n,i,a)}}if(!h)return!1;return a||(a=new Kn),function(e,t,n,i,o,a){var s=1&n,l=io(e),u=l.length,c=io(t),g=c.length;if(u!=g&&!s)return!1;var d=u;for(;d--;){var h=l[d];if(!(s?h in t:Ne.call(t,h)))return!1}var p=a.get(e),A=a.get(t);if(p&&A)return p==t&&A==e;var f=!0;a.set(e,t),a.set(t,e);var C=s;for(;++d<u;){var I=e[h=l[d]],v=t[h];if(i)var m=s?i(v,I,h,t,e,a):i(I,v,h,e,t,a);if(!(m===r?I===v||o(I,v,n,i,a):m)){f=!1;break}C||(C="constructor"==h)}if(f&&!C){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return a.delete(e),a.delete(t),f}(e,t,n,i,o,a)}(e,t,n,i,Di,o))}function ji(e,t,n,i){var o=n.length,a=o,s=!i;if(null==e)return!a;for(e=ke(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var u=(l=n[o])[0],c=e[u],g=l[1];if(s&&l[2]){if(c===r&&!(u in e))return!1}else{var d=new Kn;if(i)var h=i(c,g,u,e,t,d);if(!(h===r?Di(g,c,3,i,d):h))return!1}}return!0}function Mi(e){return!(!es(e)||(t=e,Re&&Re in t))&&(Qa(e)?Ze:Ie).test(Fo(e));var t}function Ni(e){return"function"==typeof e?e:null==e?il:"object"==typeof e?Wa(e)?Zi(e[0],e[1]):Bi(e):dl(e)}function zi(e){if(!_o(e))return Bt(e);var t=[];for(var n in ke(e))Ne.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ri(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var n in ke(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var i in e)("constructor"!=i||!t&&Ne.call(e,i))&&n.push(i);return n}function Fi(e,t){return e<t}function Li(e,t){var i=-1,r=Ha(e)?n(e.length):[];return di(e,(function(e,n,o){r[++i]=t(e,n,o)})),r}function Bi(e){var t=co(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(n){return n===e||ji(n,e,t)}}function Zi(e,t){return yo(e)&&wo(t)?ko(Ro(e),t):function(n){var i=ks(n,e);return i===r&&i===t?Es(n,e):Di(t,i,3)}}function Vi(e,t,n,i,o){e!==t&&Ii(t,(function(a,s){if(o||(o=new Kn),es(a))!function(e,t,n,i,o,a,s){var l=To(e,n),u=To(t,n),c=s.get(u);if(c)return void ei(e,n,c);var g=a?a(l,u,n+"",e,t,s):r,d=g===r;if(d){var h=Wa(u),p=!h&&qa(u),A=!h&&!p&&us(u);g=u,h||p||A?Wa(l)?g=l:Ya(l)?g=Tr(l):p?(d=!1,g=xr(u,!0)):A?(d=!1,g=wr(u,!0)):g=[]:rs(u)||Ua(u)?(g=l,Ua(l)?g=Cs(l):es(l)&&!Qa(l)||(g=Co(u))):d=!1}d&&(s.set(u,g),o(g,u,i,a,s),s.delete(u));ei(e,n,g)}(e,t,s,n,Vi,i,o);else{var l=i?i(To(e,s),a,s+"",e,t,o):r;l===r&&(l=a),ei(e,s,l)}}),Ds)}function Ui(e,t){var n=e.length;if(n)return vo(t+=t<0?n:0,n)?e[t]:r}function Wi(e,t,n){t=t.length?Nt(t,(function(e){return Wa(e)?function(t){return xi(t,1===e.length?e[0]:e)}:e})):[il];var i=-1;t=Nt(t,$t(lo()));var r=Li(e,(function(e,n,r){var o=Nt(t,(function(t){return t(e)}));return{criteria:o,index:++i,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(r,(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;for(;++i<a;){var l=kr(r[i],o[i]);if(l)return i>=s?l:l*("desc"==n[i]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gi(e,t,n){for(var i=-1,r=t.length,o={};++i<r;){var a=t[i],s=xi(e,a);n(s,a)&&$i(o,vr(a,e),s)}return o}function Hi(e,t,n,i){var r=i?Wt:Ut,o=-1,a=t.length,s=e;for(e===t&&(t=Tr(t)),n&&(s=Nt(e,$t(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&Ke.call(s,l,1),Ke.call(e,l,1);return e}function Yi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==o){var o=r;vo(r)?Ke.call(e,r,1):gr(e,r)}}return e}function qi(e,t){return e+pt(bn()*(t-e+1))}function Ki(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Xi(e,t){return Do(Eo(e,t,il),e+"")}function Qi(e){return Qn(Bs(e))}function Ji(e,t){var n=Bs(e);return No(n,si(t,0,n.length))}function $i(e,t,n,i){if(!es(e))return e;for(var o=-1,a=(t=vr(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var u=Ro(t[o]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(o!=s){var g=l[u];(c=i?i(g,u,l):r)===r&&(c=es(g)?g:vo(t[o+1])?[]:{})}ti(l,u,c),l=l[u]}return e}var er=On?function(e,t){return On.set(e,t),e}:il,tr=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:el(t),writable:!0})}:il;function nr(e){return No(Bs(e))}function ir(e,t,i){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(i=i>o?o:i)<0&&(i+=o),o=t>i?0:i-t>>>0,t>>>=0;for(var a=n(o);++r<o;)a[r]=e[r+t];return a}function rr(e,t){var n;return di(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function or(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t===t&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?i=o+1:r=o}return r}return ar(e,t,il,n)}function ar(e,t,n,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,l=null===t,u=ls(t),c=t===r;o<a;){var g=pt((o+a)/2),d=n(e[g]),h=d!==r,p=null===d,A=d===d,f=ls(d);if(s)var C=i||A;else C=c?A&&(i||h):l?A&&h&&(i||!p):u?A&&h&&!p&&(i||!f):!p&&!f&&(i?d<=t:d<t);C?o=g+1:a=g}return vn(a,4294967294)}function sr(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n],s=t?t(a):a;if(!n||!Ba(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function lr(e){return"number"==typeof e?e:ls(e)?A:+e}function ur(e){if("string"==typeof e)return e;if(Wa(e))return Nt(e,ur)+"";if(ls(e))return Ln?Ln.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function cr(e,t,n){var i=-1,r=jt,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=Mt;else if(o>=200){var u=t?null:Kr(e);if(u)return dn(u);a=!1,r=tn,l=new qn}else l=t?[]:s;e:for(;++i<o;){var c=e[i],g=t?t(c):c;if(c=n||0!==c?c:0,a&&g===g){for(var d=l.length;d--;)if(l[d]===g)continue e;t&&l.push(g),s.push(c)}else r(l,g,n)||(l!==s&&l.push(g),s.push(c))}return s}function gr(e,t){return null==(e=So(e,t=vr(t,e)))||delete e[Ro(Xo(t))]}function dr(e,t,n,i){return $i(e,t,n(xi(e,t)),i)}function hr(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?ir(e,i?0:o,i?o+1:r):ir(e,i?o+1:0,i?r:o)}function pr(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,zt([e],t.args))}),n)}function Ar(e,t,i){var r=e.length;if(r<2)return r?cr(e[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=e[o],l=-1;++l<r;)l!=o&&(a[o]=gi(a[o]||s,e[l],t,i));return cr(Ci(a,1),t,i)}function fr(e,t,n){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var l=i<a?t[i]:r;n(s,e[i],l)}return s}function Cr(e){return Ya(e)?e:[]}function Ir(e){return"function"==typeof e?e:il}function vr(e,t){return Wa(e)?e:yo(e,t)?[e]:zo(Is(e))}var mr=Xi;function yr(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ir(e,t,n)}var br=nt||function(e){return At.clearTimeout(e)};function xr(e,t){if(t)return e.slice();var n=e.length,i=Ge?Ge(n):new e.constructor(n);return e.copy(i),i}function _r(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function wr(e,t){var n=t?_r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function kr(e,t){if(e!==t){var n=e!==r,i=null===e,o=e===e,a=ls(e),s=t!==r,l=null===t,u=t===t,c=ls(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}function Er(e,t,i,r){for(var o=-1,a=e.length,s=i.length,l=-1,u=t.length,c=qt(a-s,0),g=n(u+c),d=!r;++l<u;)g[l]=t[l];for(;++o<s;)(d||o<a)&&(g[i[o]]=e[o]);for(;c--;)g[l++]=e[o++];return g}function Sr(e,t,i,r){for(var o=-1,a=e.length,s=-1,l=i.length,u=-1,c=t.length,g=qt(a-l,0),d=n(g+c),h=!r;++o<g;)d[o]=e[o];for(var p=o;++u<c;)d[p+u]=t[u];for(;++s<l;)(h||o<a)&&(d[p+i[s]]=e[o++]);return d}function Tr(e,t){var i=-1,r=e.length;for(t||(t=n(r));++i<r;)t[i]=e[i];return t}function Or(e,t,n,i){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],u=i?i(n[l],e[l],l,n,e):r;u===r&&(u=e[l]),o?oi(n,l,u):ti(n,l,u)}return n}function Pr(e,t){return function(n,i){var r=Wa(n)?St:ii,o=t?t():{};return r(n,e,lo(i,2),o)}}function Dr(e){return Xi((function(t,n){var i=-1,o=n.length,a=o>1?n[o-1]:r,s=o>2?n[2]:r;for(a=e.length>3&&"function"==typeof a?(o--,a):r,s&&mo(n[0],n[1],s)&&(a=o<3?r:a,o=1),t=ke(t);++i<o;){var l=n[i];l&&e(t,l,i,a)}return t}))}function jr(e,t){return function(n,i){if(null==n)return n;if(!Ha(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=ke(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Mr(e){return function(t,n,i){for(var r=-1,o=ke(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(!1===n(o[l],l,o))break}return t}}function Nr(e){return function(t){var n=ln(t=Is(t))?An(t):r,i=n?n[0]:t.charAt(0),o=n?yr(n,1).join(""):t.slice(1);return i[e]()+o}}function zr(e){return function(t){return Rt(Qs(Us(t).replace(et,"")),e,"")}}function Rr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Zn(e.prototype),i=e.apply(n,t);return es(i)?i:n}}function Fr(e){return function(t,n,i){var o=ke(t);if(!Ha(t)){var a=lo(n,3);t=Ps(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,i);return s>-1?o[a?t[s]:s]:r}}function Lr(e){return no((function(t){var n=t.length,i=n,a=Un.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new Te(o);if(a&&!l&&"wrapper"==ao(s))var l=new Un([],!0)}for(i=l?i:n;++i<n;){var u=ao(s=t[i]),c="wrapper"==u?oo(s):r;l=c&&bo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[ao(c[0])].apply(l,c[3]):1==s.length&&bo(s)?l[u]():l.thru(s)}return function(){var e=arguments,i=e[0];if(l&&1==e.length&&Wa(i))return l.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}}))}function Br(e,t,i,o,a,s,l,u,c,d){var h=t&g,p=1&t,A=2&t,f=24&t,C=512&t,I=A?r:Rr(e);return function g(){for(var v=arguments.length,m=n(v),y=v;y--;)m[y]=arguments[y];if(f)var b=so(g),x=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}(m,b);if(o&&(m=Er(m,o,a,f)),s&&(m=Sr(m,s,l,f)),v-=x,f&&v<d){var _=gn(m,b);return Yr(e,t,Br,g.placeholder,i,m,_,u,c,d-v)}var w=p?i:this,k=A?w[e]:e;return v=m.length,u?m=function(e,t){var n=e.length,i=vn(t.length,n),o=Tr(e);for(;i--;){var a=t[i];e[i]=vo(a,n)?o[a]:r}return e}(m,u):C&&v>1&&m.reverse(),h&&c<v&&(m.length=c),this&&this!==At&&this instanceof g&&(k=I||Rr(k)),k.apply(w,m)}}function Zr(e,t){return function(n,i){return function(e,t,n,i){return mi(e,(function(e,r,o){t(i,n(e),r,o)})),i}(n,e,t(i),{})}}function Vr(e,t){return function(n,i){var o;if(n===r&&i===r)return t;if(n!==r&&(o=n),i!==r){if(o===r)return i;"string"==typeof n||"string"==typeof i?(n=ur(n),i=ur(i)):(n=lr(n),i=lr(i)),o=e(n,i)}return o}}function Ur(e){return no((function(t){return t=Nt(t,$t(lo())),Xi((function(n){var i=this;return e(t,(function(e){return Et(e,i,n)}))}))}))}function Wr(e,t){var n=(t=t===r?" ":ur(t)).length;if(n<2)return n?Ki(t,e):t;var i=Ki(t,ht(e/pn(t)));return ln(t)?yr(An(i),0,e).join(""):i.slice(0,e)}function Gr(e){return function(t,i,o){return o&&"number"!=typeof o&&mo(t,i,o)&&(i=o=r),t=hs(t),i===r?(i=t,t=0):i=hs(i),function(e,t,i,r){for(var o=-1,a=qt(ht((t-e)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=e,e+=i;return s}(t,i,o=o===r?t<i?1:-1:hs(o),e)}}function Hr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=fs(t),n=fs(n)),e(t,n)}}function Yr(e,t,n,i,o,a,s,l,g,d){var h=8&t;t|=h?u:c,4&(t&=~(h?c:u))||(t&=-4);var p=[e,t,o,h?a:r,h?s:r,h?r:a,h?r:s,l,g,d],A=n.apply(r,p);return bo(e)&&Oo(A,p),A.placeholder=i,jo(A,e,t)}function qr(e){var t=we[e];return function(e,n){if(e=fs(e),(n=null==n?0:vn(ps(n),292))&&vt(e)){var i=(Is(e)+"e").split("e");return+((i=(Is(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Kr=En&&1/dn(new En([,-0]))[1]==h?function(e){return new En(e)}:ll;function Xr(e){return function(t){var n=Ao(t);return n==w?un(t):n==O?hn(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qr(e,t,i,a,h,p,A,f){var C=2&t;if(!C&&"function"!=typeof e)throw new Te(o);var I=a?a.length:0;if(I||(t&=-97,a=h=r),A=A===r?A:qt(ps(A),0),f=f===r?f:ps(f),I-=h?h.length:0,t&c){var v=a,m=h;a=h=r}var y=C?r:oo(e),b=[e,t,i,a,h,v,m,p,A,f];if(y&&function(e,t){var n=e[1],i=t[1],r=n|i,o=r<131,a=i==g&&8==n||i==g&&n==d&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var l=t[3];if(l){var u=e[3];e[3]=u?Er(u,l,t[4]):l,e[4]=u?gn(e[3],s):t[4]}(l=t[5])&&(u=e[5],e[5]=u?Sr(u,l,t[6]):l,e[6]=u?gn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);i&g&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(b,y),e=b[0],t=b[1],i=b[2],a=b[3],h=b[4],!(f=b[9]=b[9]===r?C?0:e.length:qt(b[9]-I,0))&&24&t&&(t&=-25),t&&1!=t)x=8==t||t==l?function(e,t,i){var o=Rr(e);return function a(){for(var s=arguments.length,l=n(s),u=s,c=so(a);u--;)l[u]=arguments[u];var g=s<3&&l[0]!==c&&l[s-1]!==c?[]:gn(l,c);return(s-=g.length)<i?Yr(e,t,Br,a.placeholder,r,l,g,r,r,i-s):Et(this&&this!==At&&this instanceof a?o:e,this,l)}}(e,t,f):t!=u&&33!=t||h.length?Br.apply(r,b):function(e,t,i,r){var o=1&t,a=Rr(e);return function t(){for(var s=-1,l=arguments.length,u=-1,c=r.length,g=n(c+l),d=this&&this!==At&&this instanceof t?a:e;++u<c;)g[u]=r[u];for(;l--;)g[u++]=arguments[++s];return Et(d,o?i:this,g)}}(e,t,i,a);else var x=function(e,t,n){var i=1&t,r=Rr(e);return function t(){return(this&&this!==At&&this instanceof t?r:e).apply(i?n:this,arguments)}}(e,t,i);return jo((y?er:Oo)(x,b),e,t)}function Jr(e,t,n,i){return e===r||Ba(e,De[n])&&!Ne.call(i,n)?t:e}function $r(e,t,n,i,o,a){return es(e)&&es(t)&&(a.set(t,e),Vi(e,t,r,$r,a),a.delete(t)),e}function eo(e){return rs(e)?r:e}function to(e,t,n,i,o,a){var s=1&n,l=e.length,u=t.length;if(l!=u&&!(s&&u>l))return!1;var c=a.get(e),g=a.get(t);if(c&&g)return c==t&&g==e;var d=-1,h=!0,p=2&n?new qn:r;for(a.set(e,t),a.set(t,e);++d<l;){var A=e[d],f=t[d];if(i)var C=s?i(f,A,d,t,e,a):i(A,f,d,e,t,a);if(C!==r){if(C)continue;h=!1;break}if(p){if(!Lt(t,(function(e,t){if(!tn(p,t)&&(A===e||o(A,e,n,i,a)))return p.push(t)}))){h=!1;break}}else if(A!==f&&!o(A,f,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function no(e){return Do(Eo(e,r,Go),e+"")}function io(e){return _i(e,Ps,ho)}function ro(e){return _i(e,Ds,po)}var oo=On?function(e){return On.get(e)}:ll;function ao(e){for(var t=e.name+"",n=Pn[t],i=Ne.call(Pn,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function so(e){return(Ne.call(Bn,"placeholder")?Bn:e).placeholder}function lo(){var e=Bn.iteratee||rl;return e=e===rl?Ni:e,arguments.length?e(arguments[0],arguments[1]):e}function uo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function co(e){for(var t=Ps(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,wo(r)]}return t}function go(e,t){var n=function(e,t){return null==e?r:e[t]}(e,t);return Mi(n)?n:r}var ho=ft?function(e){return null==e?[]:(e=ke(e),Dt(ft(e),(function(t){return qe.call(e,t)})))}:Al,po=ft?function(e){for(var t=[];e;)zt(t,ho(e)),e=He(e);return t}:Al,Ao=wi;function fo(e,t,n){for(var i=-1,r=(t=vr(t,e)).length,o=!1;++i<r;){var a=Ro(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&$a(r)&&vo(a,r)&&(Wa(e)||Ua(e))}function Co(e){return"function"!=typeof e.constructor||_o(e)?{}:Zn(He(e))}function Io(e){return Wa(e)||Ua(e)||!!(Xe&&e&&e[Xe])}function vo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mo(e,t,n){if(!es(n))return!1;var i=typeof t;return!!("number"==i?Ha(n)&&vo(t,n.length):"string"==i&&t in n)&&Ba(n[t],e)}function yo(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in ke(t))}function bo(e){var t=ao(e),n=Bn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var i=oo(n);return!!i&&e===i[0]}(_n&&Ao(new _n(new ArrayBuffer(1)))!=N||wn&&Ao(new wn)!=w||kn&&Ao(kn.resolve())!=S||En&&Ao(new En)!=O||Sn&&Ao(new Sn)!=j)&&(Ao=function(e){var t=wi(e),n=t==E?e.constructor:r,i=n?Fo(n):"";if(i)switch(i){case Dn:return N;case jn:return w;case Mn:return S;case Nn:return O;case zn:return j}return t});var xo=je?Qa:fl;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||De)}function wo(e){return e===e&&!es(e)}function ko(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==r||e in ke(n)))}}function Eo(e,t,i){return t=qt(t===r?e.length-1:t,0),function(){for(var r=arguments,o=-1,a=qt(r.length-t,0),s=n(a);++o<a;)s[o]=r[t+o];o=-1;for(var l=n(t+1);++o<t;)l[o]=r[o];return l[t]=i(s),Et(e,this,l)}}function So(e,t){return t.length<2?e:xi(e,ir(t,0,-1))}function To(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=Mo(er),Po=ct||function(e,t){return At.setTimeout(e,t)},Do=Mo(tr);function jo(e,t,n){var i=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return Tt(C,(function(n){var i="_."+n[0];t&n[1]&&!jt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(ue);return t?t[1].split(ce):[]}(i),n)))}function Mo(e){var t=0,n=0;return function(){var i=mn(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(r,arguments)}}function No(e,t){var n=-1,i=e.length,o=i-1;for(t=t===r?i:t;++n<t;){var a=qi(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var zo=function(e){var t=Ma(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ie,(function(e,n,i,r){t.push(i?r.replace(he,"$1"):n||e)})),t}));function Ro(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Lo(e){if(e instanceof Wn)return e.clone();var t=new Un(e.__wrapped__,e.__chain__);return t.__actions__=Tr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Xi((function(e,t){return Ya(e)?gi(e,Ci(t,1,Ya,!0)):[]})),Zo=Xi((function(e,t){var n=Xo(t);return Ya(n)&&(n=r),Ya(e)?gi(e,Ci(t,1,Ya,!0),lo(n,2)):[]})),Vo=Xi((function(e,t){var n=Xo(t);return Ya(n)&&(n=r),Ya(e)?gi(e,Ci(t,1,Ya,!0),r,n):[]}));function Uo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ps(n);return r<0&&(r=qt(i+r,0)),Vt(e,lo(t,3),r)}function Wo(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return n!==r&&(o=ps(n),o=n<0?qt(i+o,0):vn(o,i-1)),Vt(e,lo(t,3),o,!0)}function Go(e){return(null==e?0:e.length)?Ci(e,1):[]}function Ho(e){return e&&e.length?e[0]:r}var Yo=Xi((function(e){var t=Nt(e,Cr);return t.length&&t[0]===e[0]?Ti(t):[]})),qo=Xi((function(e){var t=Xo(e),n=Nt(e,Cr);return t===Xo(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Ti(n,lo(t,2)):[]})),Ko=Xi((function(e){var t=Xo(e),n=Nt(e,Cr);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Ti(n,r,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:r}var Qo=Xi(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?Hi(e,t):e}var $o=no((function(e,t){var n=null==e?0:e.length,i=ai(e,t);return Yi(e,Nt(t,(function(e){return vo(e,n)?+e:e})).sort(kr)),i}));function ea(e){return null==e?e:xn.call(e)}var ta=Xi((function(e){return cr(Ci(e,1,Ya,!0))})),na=Xi((function(e){var t=Xo(e);return Ya(t)&&(t=r),cr(Ci(e,1,Ya,!0),lo(t,2))})),ia=Xi((function(e){var t=Xo(e);return t="function"==typeof t?t:r,cr(Ci(e,1,Ya,!0),r,t)}));function ra(e){if(!e||!e.length)return[];var t=0;return e=Dt(e,(function(e){if(Ya(e))return t=qt(e.length,t),!0})),Qt(t,(function(t){return Nt(e,Yt(t))}))}function oa(e,t){if(!e||!e.length)return[];var n=ra(e);return null==t?n:Nt(n,(function(e){return Et(t,r,e)}))}var aa=Xi((function(e,t){return Ya(e)?gi(e,t):[]})),sa=Xi((function(e){return Ar(Dt(e,Ya))})),la=Xi((function(e){var t=Xo(e);return Ya(t)&&(t=r),Ar(Dt(e,Ya),lo(t,2))})),ua=Xi((function(e){var t=Xo(e);return t="function"==typeof t?t:r,Ar(Dt(e,Ya),r,t)})),ca=Xi(ra);var ga=Xi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,oa(e,n)}));function da(e){var t=Bn(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=no((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,o=function(t){return ai(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Wn&&vo(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:r}),new Un(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(o)}));var Aa=Pr((function(e,t,n){Ne.call(e,n)?++e[n]:oi(e,n,1)}));var fa=Fr(Uo),Ca=Fr(Wo);function Ia(e,t){return(Wa(e)?Tt:di)(e,lo(t,3))}function va(e,t){return(Wa(e)?Ot:hi)(e,lo(t,3))}var ma=Pr((function(e,t,n){Ne.call(e,n)?e[n].push(t):oi(e,n,[t])}));var ya=Xi((function(e,t,i){var r=-1,o="function"==typeof t,a=Ha(e)?n(e.length):[];return di(e,(function(e){a[++r]=o?Et(t,e,i):Oi(e,t,i)})),a})),ba=Pr((function(e,t,n){oi(e,n,t)}));function xa(e,t){return(Wa(e)?Nt:Li)(e,lo(t,3))}var _a=Pr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var wa=Xi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mo(e,t[0],t[1])?t=[]:n>2&&mo(t[0],t[1],t[2])&&(t=[t[0]]),Wi(e,Ci(t,1),[])})),ka=rt||function(){return At.Date.now()};function Ea(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Qr(e,g,r,r,r,r,t)}function Sa(e,t){var n;if("function"!=typeof t)throw new Te(o);return e=ps(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ta=Xi((function(e,t,n){var i=1;if(n.length){var r=gn(n,so(Ta));i|=u}return Qr(e,i,t,n,r)})),Oa=Xi((function(e,t,n){var i=3;if(n.length){var r=gn(n,so(Oa));i|=u}return Qr(t,i,e,n,r)}));function Pa(e,t,n){var i,a,s,l,u,c,g=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(o);function A(t){var n=i,o=a;return i=a=r,g=t,l=e.apply(o,n)}function f(e){var n=e-c;return c===r||n>=t||n<0||h&&e-g>=s}function C(){var e=ka();if(f(e))return I(e);u=Po(C,function(e){var n=t-(e-c);return h?vn(n,s-(e-g)):n}(e))}function I(e){return u=r,p&&i?A(e):(i=a=r,l)}function v(){var e=ka(),n=f(e);if(i=arguments,a=this,c=e,n){if(u===r)return function(e){return g=e,u=Po(C,t),d?A(e):l}(c);if(h)return br(u),u=Po(C,t),A(c)}return u===r&&(u=Po(C,t)),l}return t=fs(t)||0,es(n)&&(d=!!n.leading,s=(h="maxWait"in n)?qt(fs(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),v.cancel=function(){u!==r&&br(u),g=0,i=c=a=u=r},v.flush=function(){return u===r?l:I(ka())},v}var Da=Xi((function(e,t){return ci(e,1,t)})),ja=Xi((function(e,t,n){return ci(e,fs(t)||0,n)}));function Ma(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ma.Cache||Yn),n}function Na(e){if("function"!=typeof e)throw new Te(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ma.Cache=Yn;var za=mr((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Nt(t[0],$t(lo())):Nt(Ci(t,1),$t(lo()))).length;return Xi((function(i){for(var r=-1,o=vn(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return Et(e,this,i)}))})),Ra=Xi((function(e,t){var n=gn(t,so(Ra));return Qr(e,u,r,t,n)})),Fa=Xi((function(e,t){var n=gn(t,so(Fa));return Qr(e,c,r,t,n)})),La=no((function(e,t){return Qr(e,d,r,r,r,t)}));function Ba(e,t){return e===t||e!==e&&t!==t}var Za=Hr(ki),Va=Hr((function(e,t){return e>=t})),Ua=Pi(function(){return arguments}())?Pi:function(e){return ts(e)&&Ne.call(e,"callee")&&!qe.call(e,"callee")},Wa=n.isArray,Ga=yt?$t(yt):function(e){return ts(e)&&wi(e)==M};function Ha(e){return null!=e&&$a(e.length)&&!Qa(e)}function Ya(e){return ts(e)&&Ha(e)}var qa=Ct||fl,Ka=bt?$t(bt):function(e){return ts(e)&&wi(e)==y};function Xa(e){if(!ts(e))return!1;var t=wi(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rs(e)}function Qa(e){if(!es(e))return!1;var t=wi(e);return t==x||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ps(e)}function $a(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var ns=xt?$t(xt):function(e){return ts(e)&&Ao(e)==w};function is(e){return"number"==typeof e||ts(e)&&wi(e)==k}function rs(e){if(!ts(e)||wi(e)!=E)return!1;var t=He(e);if(null===t)return!0;var n=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==Le}var os=_t?$t(_t):function(e){return ts(e)&&wi(e)==T};var as=wt?$t(wt):function(e){return ts(e)&&Ao(e)==O};function ss(e){return"string"==typeof e||!Wa(e)&&ts(e)&&wi(e)==P}function ls(e){return"symbol"==typeof e||ts(e)&&wi(e)==D}var us=kt?$t(kt):function(e){return ts(e)&&$a(e.length)&&!!lt[wi(e)]};var cs=Hr(Fi),gs=Hr((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(Ha(e))return ss(e)?An(e):Tr(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=Ao(e);return(t==w?un:t==O?dn:Bs)(e)}function hs(e){return e?(e=fs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),n=t%1;return t===t?n?t-n:t:0}function As(e){return e?si(ps(e),0,f):0}function fs(e){if("number"==typeof e)return e;if(ls(e))return A;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=Ce.test(e);return n||ve.test(e)?dt(e.slice(2),n?2:8):fe.test(e)?A:+e}function Cs(e){return Or(e,Ds(e))}function Is(e){return null==e?"":ur(e)}var vs=Dr((function(e,t){if(_o(t)||Ha(t))Or(t,Ps(t),e);else for(var n in t)Ne.call(t,n)&&ti(e,n,t[n])})),ms=Dr((function(e,t){Or(t,Ds(t),e)})),ys=Dr((function(e,t,n,i){Or(t,Ds(t),e,i)})),bs=Dr((function(e,t,n,i){Or(t,Ps(t),e,i)})),xs=no(ai);var _s=Xi((function(e,t){e=ke(e);var n=-1,i=t.length,o=i>2?t[2]:r;for(o&&mo(t[0],t[1],o)&&(i=1);++n<i;)for(var a=t[n],s=Ds(a),l=-1,u=s.length;++l<u;){var c=s[l],g=e[c];(g===r||Ba(g,De[c])&&!Ne.call(e,c))&&(e[c]=a[c])}return e})),ws=Xi((function(e){return e.push(r,$r),Et(Ms,r,e)}));function ks(e,t,n){var i=null==e?r:xi(e,t);return i===r?n:i}function Es(e,t){return null!=e&&fo(e,t,Si)}var Ss=Zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),el(il)),Ts=Zr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Ne.call(e,t)?e[t].push(n):e[t]=[n]}),lo),Os=Xi(Oi);function Ps(e){return Ha(e)?Xn(e):zi(e)}function Ds(e){return Ha(e)?Xn(e,!0):Ri(e)}var js=Dr((function(e,t,n){Vi(e,t,n)})),Ms=Dr((function(e,t,n,i){Vi(e,t,n,i)})),Ns=no((function(e,t){var n={};if(null==e)return n;var i=!1;t=Nt(t,(function(t){return t=vr(t,e),i||(i=t.length>1),t})),Or(e,ro(e),n),i&&(n=li(n,7,eo));for(var r=t.length;r--;)gr(n,t[r]);return n}));var zs=no((function(e,t){return null==e?{}:function(e,t){return Gi(e,t,(function(t,n){return Es(e,n)}))}(e,t)}));function Rs(e,t){if(null==e)return{};var n=Nt(ro(e),(function(e){return[e]}));return t=lo(t),Gi(e,n,(function(e,n){return t(e,n[0])}))}var Fs=Xr(Ps),Ls=Xr(Ds);function Bs(e){return null==e?[]:en(e,Ps(e))}var Zs=zr((function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)}));function Vs(e){return Xs(Is(e).toLowerCase())}function Us(e){return(e=Is(e))&&e.replace(ye,on).replace(tt,"")}var Ws=zr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=zr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hs=Nr("toLowerCase");var Ys=zr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var qs=zr((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ks=zr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=Nr("toUpperCase");function Qs(e,t,n){return e=Is(e),(t=n?r:t)===r?function(e){return ot.test(e)}(e)?function(e){return e.match(it)||[]}(e):function(e){return e.match(ge)||[]}(e):e.match(t)||[]}var Js=Xi((function(e,t){try{return Et(e,r,t)}catch(n){return Xa(n)?n:new se(n)}})),$s=no((function(e,t){return Tt(t,(function(t){t=Ro(t),oi(e,t,Ta(e[t],e))})),e}));function el(e){return function(){return e}}var tl=Lr(),nl=Lr(!0);function il(e){return e}function rl(e){return Ni("function"==typeof e?e:li(e,1))}var ol=Xi((function(e,t){return function(n){return Oi(n,e,t)}})),al=Xi((function(e,t){return function(n){return Oi(e,n,t)}}));function sl(e,t,n){var i=Ps(t),r=bi(t,i);null!=n||es(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=bi(t,Ps(t)));var o=!(es(n)&&"chain"in n)||!!n.chain,a=Qa(e);return Tt(r,(function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Tr(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,zt([this.value()],arguments))})})),e}function ll(){}var ul=Ur(Nt),cl=Ur(Pt),gl=Ur(Lt);function dl(e){return yo(e)?Yt(Ro(e)):function(e){return function(t){return xi(t,e)}}(e)}var hl=Gr(),pl=Gr(!0);function Al(){return[]}function fl(){return!1}var Cl=Vr((function(e,t){return e+t}),0),Il=qr("ceil"),vl=Vr((function(e,t){return e/t}),1),ml=qr("floor");var yl=Vr((function(e,t){return e*t}),1),bl=qr("round"),xl=Vr((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Te(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ea,Bn.assign=vs,Bn.assignIn=ms,Bn.assignInWith=ys,Bn.assignWith=bs,Bn.at=xs,Bn.before=Sa,Bn.bind=Ta,Bn.bindAll=$s,Bn.bindKey=Oa,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Bn.chain=da,Bn.chunk=function(e,t,i){t=(i?mo(e,t,i):t===r)?1:qt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=n(ht(o/t));a<o;)l[s++]=ir(e,a,a+=t);return l},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),i=arguments[0],r=e;r--;)t[r-1]=arguments[r];return zt(Wa(i)?Tr(i):[i],Ci(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=lo();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Te(o);return[n(e[0]),e[1]]})):[],Xi((function(n){for(var i=-1;++i<t;){var r=e[i];if(Et(r[0],this,n))return Et(r[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ps(e);return function(n){return ui(n,e,t)}}(li(e,1))},Bn.constant=el,Bn.countBy=Aa,Bn.create=function(e,t){var n=Zn(e);return null==t?n:ri(n,t)},Bn.curry=function e(t,n,i){var o=Qr(t,8,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,i){var o=Qr(t,l,r,r,r,r,r,n=i?r:n);return o.placeholder=e.placeholder,o},Bn.debounce=Pa,Bn.defaults=_s,Bn.defaultsDeep=ws,Bn.defer=Da,Bn.delay=ja,Bn.difference=Bo,Bn.differenceBy=Zo,Bn.differenceWith=Vo,Bn.drop=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,(t=n||t===r?1:ps(t))<0?0:t,i):[]},Bn.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,0,(t=i-(t=n||t===r?1:ps(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?hr(e,lo(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?hr(e,lo(t,3),!0):[]},Bn.fill=function(e,t,n,i){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&mo(e,t,n)&&(n=0,i=o),function(e,t,n,i){var o=e.length;for((n=ps(n))<0&&(n=-n>o?0:o+n),(i=i===r||i>o?o:ps(i))<0&&(i+=o),i=n>i?0:As(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},Bn.filter=function(e,t){return(Wa(e)?Dt:fi)(e,lo(t,3))},Bn.flatMap=function(e,t){return Ci(xa(e,t),1)},Bn.flatMapDeep=function(e,t){return Ci(xa(e,t),h)},Bn.flatMapDepth=function(e,t,n){return n=n===r?1:ps(n),Ci(xa(e,t),n)},Bn.flatten=Go,Bn.flattenDeep=function(e){return(null==e?0:e.length)?Ci(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?Ci(e,t=t===r?1:ps(t)):[]},Bn.flip=function(e){return Qr(e,512)},Bn.flow=tl,Bn.flowRight=nl,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},Bn.functions=function(e){return null==e?[]:bi(e,Ps(e))},Bn.functionsIn=function(e){return null==e?[]:bi(e,Ds(e))},Bn.groupBy=ma,Bn.initial=function(e){return(null==e?0:e.length)?ir(e,0,-1):[]},Bn.intersection=Yo,Bn.intersectionBy=qo,Bn.intersectionWith=Ko,Bn.invert=Ss,Bn.invertBy=Ts,Bn.invokeMap=ya,Bn.iteratee=rl,Bn.keyBy=ba,Bn.keys=Ps,Bn.keysIn=Ds,Bn.map=xa,Bn.mapKeys=function(e,t){var n={};return t=lo(t,3),mi(e,(function(e,i,r){oi(n,t(e,i,r),e)})),n},Bn.mapValues=function(e,t){var n={};return t=lo(t,3),mi(e,(function(e,i,r){oi(n,i,t(e,i,r))})),n},Bn.matches=function(e){return Bi(li(e,1))},Bn.matchesProperty=function(e,t){return Zi(e,li(t,1))},Bn.memoize=Ma,Bn.merge=js,Bn.mergeWith=Ms,Bn.method=ol,Bn.methodOf=al,Bn.mixin=sl,Bn.negate=Na,Bn.nthArg=function(e){return e=ps(e),Xi((function(t){return Ui(t,e)}))},Bn.omit=Ns,Bn.omitBy=function(e,t){return Rs(e,Na(lo(t)))},Bn.once=function(e){return Sa(2,e)},Bn.orderBy=function(e,t,n,i){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=i?r:n)||(n=null==n?[]:[n]),Wi(e,t,n))},Bn.over=ul,Bn.overArgs=za,Bn.overEvery=cl,Bn.overSome=gl,Bn.partial=Ra,Bn.partialRight=Fa,Bn.partition=_a,Bn.pick=zs,Bn.pickBy=Rs,Bn.property=dl,Bn.propertyOf=function(e){return function(t){return null==e?r:xi(e,t)}},Bn.pull=Qo,Bn.pullAll=Jo,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hi(e,t,lo(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hi(e,t,r,n):e},Bn.pullAt=$o,Bn.range=hl,Bn.rangeRight=pl,Bn.rearg=La,Bn.reject=function(e,t){return(Wa(e)?Dt:fi)(e,Na(lo(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=lo(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Yi(e,r),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Te(o);return Xi(e,t=t===r?t:ps(t))},Bn.reverse=ea,Bn.sampleSize=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:ps(t),(Wa(e)?Jn:Ji)(e,t)},Bn.set=function(e,t,n){return null==e?e:$i(e,t,n)},Bn.setWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:$i(e,t,n,i)},Bn.shuffle=function(e){return(Wa(e)?$n:nr)(e)},Bn.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&mo(e,t,n)?(t=0,n=i):(t=null==t?0:ps(t),n=n===r?i:ps(n)),ir(e,t,n)):[]},Bn.sortBy=wa,Bn.sortedUniq=function(e){return e&&e.length?sr(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?sr(e,lo(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&mo(e,t,n)&&(t=n=r),(n=n===r?f:n>>>0)?(e=Is(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=ur(t))&&ln(e)?yr(An(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Te(o);return t=null==t?0:qt(ps(t),0),Xi((function(n){var i=n[t],r=yr(n,0,t);return i&&zt(r,i),Et(e,this,r)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ir(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ir(e,0,(t=n||t===r?1:ps(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?ir(e,(t=i-(t=n||t===r?1:ps(t)))<0?0:t,i):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?hr(e,lo(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?hr(e,lo(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Te(o);return es(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Pa(e,t,{leading:i,maxWait:t,trailing:r})},Bn.thru=ha,Bn.toArray=ds,Bn.toPairs=Fs,Bn.toPairsIn=Ls,Bn.toPath=function(e){return Wa(e)?Nt(e,Ro):ls(e)?[e]:Tr(zo(Is(e)))},Bn.toPlainObject=Cs,Bn.transform=function(e,t,n){var i=Wa(e),r=i||qa(e)||us(e);if(t=lo(t,4),null==n){var o=e&&e.constructor;n=r?i?new o:[]:es(e)&&Qa(o)?Zn(He(e)):{}}return(r?Tt:mi)(e,(function(e,i,r){return t(n,e,i,r)})),n},Bn.unary=function(e){return Ea(e,1)},Bn.union=ta,Bn.unionBy=na,Bn.unionWith=ia,Bn.uniq=function(e){return e&&e.length?cr(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?cr(e,lo(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:r,e&&e.length?cr(e,r,t):[]},Bn.unset=function(e,t){return null==e||gr(e,t)},Bn.unzip=ra,Bn.unzipWith=oa,Bn.update=function(e,t,n){return null==e?e:dr(e,t,Ir(n))},Bn.updateWith=function(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:dr(e,t,Ir(n),i)},Bn.values=Bs,Bn.valuesIn=function(e){return null==e?[]:en(e,Ds(e))},Bn.without=aa,Bn.words=Qs,Bn.wrap=function(e,t){return Ra(Ir(t),e)},Bn.xor=sa,Bn.xorBy=la,Bn.xorWith=ua,Bn.zip=ca,Bn.zipObject=function(e,t){return fr(e||[],t||[],ti)},Bn.zipObjectDeep=function(e,t){return fr(e||[],t||[],$i)},Bn.zipWith=ga,Bn.entries=Fs,Bn.entriesIn=Ls,Bn.extend=ms,Bn.extendWith=ys,sl(Bn,Bn),Bn.add=Cl,Bn.attempt=Js,Bn.camelCase=Zs,Bn.capitalize=Vs,Bn.ceil=Il,Bn.clamp=function(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=fs(n))===n?n:0),t!==r&&(t=(t=fs(t))===t?t:0),si(fs(e),t,n)},Bn.clone=function(e){return li(e,4)},Bn.cloneDeep=function(e){return li(e,5)},Bn.cloneDeepWith=function(e,t){return li(e,5,t="function"==typeof t?t:r)},Bn.cloneWith=function(e,t){return li(e,4,t="function"==typeof t?t:r)},Bn.conformsTo=function(e,t){return null==t||ui(e,t,Ps(t))},Bn.deburr=Us,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=vl,Bn.endsWith=function(e,t,n){e=Is(e),t=ur(t);var i=e.length,o=n=n===r?i:si(ps(n),0,i);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Ba,Bn.escape=function(e){return(e=Is(e))&&Q.test(e)?e.replace(K,an):e},Bn.escapeRegExp=function(e){return(e=Is(e))&&oe.test(e)?e.replace(re,"\\$&"):e},Bn.every=function(e,t,n){var i=Wa(e)?Pt:pi;return n&&mo(e,t,n)&&(t=r),i(e,lo(t,3))},Bn.find=fa,Bn.findIndex=Uo,Bn.findKey=function(e,t){return Zt(e,lo(t,3),mi)},Bn.findLast=Ca,Bn.findLastIndex=Wo,Bn.findLastKey=function(e,t){return Zt(e,lo(t,3),yi)},Bn.floor=ml,Bn.forEach=Ia,Bn.forEachRight=va,Bn.forIn=function(e,t){return null==e?e:Ii(e,lo(t,3),Ds)},Bn.forInRight=function(e,t){return null==e?e:vi(e,lo(t,3),Ds)},Bn.forOwn=function(e,t){return e&&mi(e,lo(t,3))},Bn.forOwnRight=function(e,t){return e&&yi(e,lo(t,3))},Bn.get=ks,Bn.gt=Za,Bn.gte=Va,Bn.has=function(e,t){return null!=e&&fo(e,t,Ei)},Bn.hasIn=Es,Bn.head=Ho,Bn.identity=il,Bn.includes=function(e,t,n,i){e=Ha(e)?e:Bs(e),n=n&&!i?ps(n):0;var r=e.length;return n<0&&(n=qt(r+n,0)),ss(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Ut(e,t,n)>-1},Bn.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ps(n);return r<0&&(r=qt(i+r,0)),Ut(e,t,r)},Bn.inRange=function(e,t,n){return t=hs(t),n===r?(n=t,t=0):n=hs(n),function(e,t,n){return e>=vn(t,n)&&e<qt(t,n)}(e=fs(e),t,n)},Bn.invoke=Os,Bn.isArguments=Ua,Bn.isArray=Wa,Bn.isArrayBuffer=Ga,Bn.isArrayLike=Ha,Bn.isArrayLikeObject=Ya,Bn.isBoolean=function(e){return!0===e||!1===e||ts(e)&&wi(e)==m},Bn.isBuffer=qa,Bn.isDate=Ka,Bn.isElement=function(e){return ts(e)&&1===e.nodeType&&!rs(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||us(e)||Ua(e)))return!e.length;var t=Ao(e);if(t==w||t==O)return!e.size;if(_o(e))return!zi(e).length;for(var n in e)if(Ne.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Di(e,t)},Bn.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Di(e,t,r,n):!!i},Bn.isError=Xa,Bn.isFinite=function(e){return"number"==typeof e&&vt(e)},Bn.isFunction=Qa,Bn.isInteger=Ja,Bn.isLength=$a,Bn.isMap=ns,Bn.isMatch=function(e,t){return e===t||ji(e,t,co(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:r,ji(e,t,co(t),n)},Bn.isNaN=function(e){return is(e)&&e!=+e},Bn.isNative=function(e){if(xo(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mi(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=is,Bn.isObject=es,Bn.isObjectLike=ts,Bn.isPlainObject=rs,Bn.isRegExp=os,Bn.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=as,Bn.isString=ss,Bn.isSymbol=ls,Bn.isTypedArray=us,Bn.isUndefined=function(e){return e===r},Bn.isWeakMap=function(e){return ts(e)&&Ao(e)==j},Bn.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==wi(e)},Bn.join=function(e,t){return null==e?"":mt.call(e,t)},Bn.kebabCase=Ws,Bn.last=Xo,Bn.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var o=i;return n!==r&&(o=(o=ps(n))<0?qt(i+o,0):vn(o,i-1)),t===t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,o):Vt(e,Gt,o,!0)},Bn.lowerCase=Gs,Bn.lowerFirst=Hs,Bn.lt=cs,Bn.lte=gs,Bn.max=function(e){return e&&e.length?Ai(e,il,ki):r},Bn.maxBy=function(e,t){return e&&e.length?Ai(e,lo(t,2),ki):r},Bn.mean=function(e){return Ht(e,il)},Bn.meanBy=function(e,t){return Ht(e,lo(t,2))},Bn.min=function(e){return e&&e.length?Ai(e,il,Fi):r},Bn.minBy=function(e,t){return e&&e.length?Ai(e,lo(t,2),Fi):r},Bn.stubArray=Al,Bn.stubFalse=fl,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=yl,Bn.nth=function(e,t){return e&&e.length?Ui(e,ps(t)):r},Bn.noConflict=function(){return At._===this&&(At._=Be),this},Bn.noop=ll,Bn.now=ka,Bn.pad=function(e,t,n){e=Is(e);var i=(t=ps(t))?pn(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Wr(pt(r),n)+e+Wr(ht(r),n)},Bn.padEnd=function(e,t,n){e=Is(e);var i=(t=ps(t))?pn(e):0;return t&&i<t?e+Wr(t-i,n):e},Bn.padStart=function(e,t,n){e=Is(e);var i=(t=ps(t))?pn(e):0;return t&&i<t?Wr(t-i,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(Is(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mo(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=hs(e),t===r?(t=e,e=0):t=hs(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var o=bn();return vn(e+o*(t-e+gt("1e-"+((o+"").length-1))),t)}return qi(e,t)},Bn.reduce=function(e,t,n){var i=Wa(e)?Rt:Kt,r=arguments.length<3;return i(e,lo(t,4),n,r,di)},Bn.reduceRight=function(e,t,n){var i=Wa(e)?Ft:Kt,r=arguments.length<3;return i(e,lo(t,4),n,r,hi)},Bn.repeat=function(e,t,n){return t=(n?mo(e,t,n):t===r)?1:ps(t),Ki(Is(e),t)},Bn.replace=function(){var e=arguments,t=Is(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var i=-1,o=(t=vr(t,e)).length;for(o||(o=1,e=r);++i<o;){var a=null==e?r:e[Ro(t[i])];a===r&&(i=o,a=n),e=Qa(a)?a.call(e):a}return e},Bn.round=bl,Bn.runInContext=e,Bn.sample=function(e){return(Wa(e)?Qn:Qi)(e)},Bn.size=function(e){if(null==e)return 0;if(Ha(e))return ss(e)?pn(e):e.length;var t=Ao(e);return t==w||t==O?e.size:zi(e).length},Bn.snakeCase=Ys,Bn.some=function(e,t,n){var i=Wa(e)?Lt:rr;return n&&mo(e,t,n)&&(t=r),i(e,lo(t,3))},Bn.sortedIndex=function(e,t){return or(e,t)},Bn.sortedIndexBy=function(e,t,n){return ar(e,t,lo(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=or(e,t);if(i<n&&Ba(e[i],t))return i}return-1},Bn.sortedLastIndex=function(e,t){return or(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return ar(e,t,lo(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=or(e,t,!0)-1;if(Ba(e[n],t))return n}return-1},Bn.startCase=qs,Bn.startsWith=function(e,t,n){return e=Is(e),n=null==n?0:si(ps(n),0,e.length),t=ur(t),e.slice(n,n+t.length)==t},Bn.subtract=xl,Bn.sum=function(e){return e&&e.length?Xt(e,il):0},Bn.sumBy=function(e,t){return e&&e.length?Xt(e,lo(t,2)):0},Bn.template=function(e,t,n){var i=Bn.templateSettings;n&&mo(e,t,n)&&(t=r),e=Is(e),t=ys({},t,i,Jr);var o,a,s=ys({},t.imports,i.imports,Jr),l=Ps(s),u=en(s,l),c=0,g=t.interpolate||be,d="__p += '",h=Ee((t.escape||be).source+"|"+g.source+"|"+(g===ee?pe:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,i,r,s,l){return i||(i=r),d+=e.slice(c,l).replace(xe,sn),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t})),d+="';\n";var A=Ne.call(t,"variable")&&t.variable;if(A){if(de.test(A))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(G,""):d).replace(H,"$1").replace(Y,"$1;"),d="function("+(A||"obj")+") {\n"+(A?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var f=Js((function(){return _e(l,p+"return "+d).apply(r,u)}));if(f.source=d,Xa(f))throw f;return f},Bn.times=function(e,t){if((e=ps(e))<1||e>p)return[];var n=f,i=vn(e,f);t=lo(t),e-=f;for(var r=Qt(i,t);++n<e;)t(n);return r},Bn.toFinite=hs,Bn.toInteger=ps,Bn.toLength=As,Bn.toLower=function(e){return Is(e).toLowerCase()},Bn.toNumber=fs,Bn.toSafeInteger=function(e){return e?si(ps(e),-9007199254740991,p):0===e?e:0},Bn.toString=Is,Bn.toUpper=function(e){return Is(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=Is(e))&&(n||t===r))return Jt(e);if(!e||!(t=ur(t)))return e;var i=An(e),o=An(t);return yr(i,nn(i,o),rn(i,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=Is(e))&&(n||t===r))return e.slice(0,fn(e)+1);if(!e||!(t=ur(t)))return e;var i=An(e);return yr(i,0,rn(i,An(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=Is(e))&&(n||t===r))return e.replace(ae,"");if(!e||!(t=ur(t)))return e;var i=An(e);return yr(i,nn(i,An(t))).join("")},Bn.truncate=function(e,t){var n=30,i="...";if(es(t)){var o="separator"in t?t.separator:o;n="length"in t?ps(t.length):n,i="omission"in t?ur(t.omission):i}var a=(e=Is(e)).length;if(ln(e)){var s=An(e);a=s.length}if(n>=a)return e;var l=n-pn(i);if(l<1)return i;var u=s?yr(s,0,l).join(""):e.slice(0,l);if(o===r)return u+i;if(s&&(l+=u.length-l),os(o)){if(e.slice(l).search(o)){var c,g=u;for(o.global||(o=Ee(o.source,Is(Ae.exec(o))+"g")),o.lastIndex=0;c=o.exec(g);)var d=c.index;u=u.slice(0,d===r?l:d)}}else if(e.indexOf(ur(o),l)!=l){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i},Bn.unescape=function(e){return(e=Is(e))&&X.test(e)?e.replace(q,Cn):e},Bn.uniqueId=function(e){var t=++ze;return Is(e)+t},Bn.upperCase=Ks,Bn.upperFirst=Xs,Bn.each=Ia,Bn.eachRight=va,Bn.first=Ho,sl(Bn,function(){var e={};return mi(Bn,(function(t,n){Ne.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===r?1:qt(ps(n),0);var i=this.__filtered__&&!t?new Wn(this):this.clone();return i.__filtered__?i.__takeCount__=vn(n,i.__takeCount__):i.__views__.push({size:vn(n,f),type:e+(i.__dir__<0?"Right":"")}),i},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:lo(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(il)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Xi((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Oi(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Na(lo(e)))},Wn.prototype.slice=function(e,t){e=ps(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=ps(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(f)},mi(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Bn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,l=t instanceof Wn,u=s[0],c=l||Wa(t),g=function(e){var t=o.apply(Bn,zt([e],s));return i&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,A=l&&!h;if(!a&&c){t=A?t:new Wn(this);var f=e.apply(t,s);return f.__actions__.push({func:ha,args:[g],thisArg:r}),new Un(f,d)}return p&&A?e.apply(this,s):(f=this.thru(g),p?i?f.value()[0]:f.value():f)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(Wa(r)?r:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),mi(Wn.prototype,(function(e,t){var n=Bn[t];if(n){var i=n.name+"";Ne.call(Pn,i)||(Pn[i]=[]),Pn[i].push({name:t,func:n})}})),Pn[Br(r,2).name]=[{name:"wrapper",func:r}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Tr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Tr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Tr(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),i=t<0,r=n?e.length:0,o=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=qt(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,g=c.length,d=0,h=vn(l,this.__takeCount__);if(!n||!i&&r==l&&h==l)return pr(e,this.__actions__);var p=[];e:for(;l--&&d<h;){for(var A=-1,f=e[u+=t];++A<g;){var C=c[A],I=C.iteratee,v=C.type,m=I(f);if(2==v)f=m;else if(!m){if(1==v)continue e;break e}}p[d++]=f}return p},Bn.prototype.at=pa,Bn.prototype.chain=function(){return da(this)},Bn.prototype.commit=function(){return new Un(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===r&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var i=Lo(n);i.__index__=0,i.__values__=r,t?o.__wrapped__=i:t=i;var o=i;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:r}),new Un(t,this.__chain__)}return this.thru(ea)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return pr(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Qe&&(Bn.prototype[Qe]=function(){return this}),Bn}();At._=In,(i=function(){return In}.call(t,n,t,e))===r||(e.exports=i)}.call(this)},5483:function(e){e.exports=function(){"use strict";var e,t,n;function i(i,r){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),(n=r(a)).workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))}else t=r;else e=r}return i(["exports"],(function(e){function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=i;function i(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},i.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},i.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},i.prototype.solveCurveX=function(e,t){var n,i,r,o,a;for(void 0===t&&(t=1e-6),r=e,a=0;a<8;a++){if(o=this.sampleCurveX(r)-e,Math.abs(o)<t)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if((r=e)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-e)<t)return r;e>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var r=o;function o(e,t){this.x=e,this.y=t}function a(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!a(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(!a(e[i],t[i]))return!1;return!0}return e===t}function s(e,t,i,r){var o=new n(e,t,i,r);return function(e){return o.solve(e)}}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=t*this.x-n*this.y,r=n*this.x+t*this.y;return this.x=i,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.x+n*(this.x-t.x)-i*(this.y-t.y),o=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};var l=s(.25,.1,.25,1);function u(e,t,n){return Math.min(n,Math.max(t,e))}function c(e,t,n){var i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function g(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var i=0,r=t;i<r.length;i+=1){var o=r[i];for(var a in o)e[a]=o[a]}return e}var d=1;function h(){return d++}function p(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function A(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function f(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}function C(e,t){return-1!==e.indexOf(t,e.length-t.length)}function I(e,t,n){var i={};for(var r in e)i[r]=t.call(n||this,e[r],r,e);return i}function v(e,t,n){var i={};for(var r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function m(e){return Array.isArray(e)?e.map(m):"object"==typeof e&&e?I(e,m):e}var y={};function b(e){y[e]||("undefined"!=typeof console&&console.warn(e),y[e]=!0)}function x(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function _(e){for(var t=0,n=0,i=e.length,r=i-1,o=void 0,a=void 0;n<i;r=n++)o=e[n],t+=((a=e[r]).x-o.x)*(o.y+a.y);return t}function w(e){try{var t=self[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}var k,E,S,T=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),O=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,P=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,D={now:T,frame:function(e){var t=O(e);return{cancel:function(){return P(t)}}},getImageData:function(e){var t=self.document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n.getImageData(0,0,e.width,e.height)},resolveURL:function(e){return k||(k=self.document.createElement("a")),k.href=e,k.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio}},j={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},M={supported:!1,testSupport:function(e){!N&&S&&(z?R(e):E=e)}},N=!1,z=!1;function R(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,S),e.isContextLost())return;M.supported=!0}catch(e){}e.deleteTexture(t),N=!0}self.document&&((S=self.document.createElement("img")).onload=function(){E&&R(E),E=null,z=!0},S.onerror=function(){N=!0,E=null},S.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var F="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes";function L(e,t){var n=Y(j.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"/"!==n.path&&(e.path=""+n.path+e.path),!j.REQUIRE_ACCESS_TOKEN)return q(e);if(!(t=t||j.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+F);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+F);return e.params.push("access_token="+t),q(e)}function B(e){return 0===e.indexOf("mapbox:")}var Z=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function V(e){return Z.test(e)}var U=/(\.(png|jpg)\d*)(?=$)/,W=/\.[\w]+$/,G=function(e){var t=Y(e);if(!t.path.match(/(^\/v4\/)/)||!t.path.match(W))return e;var n="mapbox://tiles/";n+=t.path.replace("/v4/","");var i=t.params.filter((function(e){return!e.match(/^access_token=/)}));return i.length&&(n+="?"+i.join("&")),n},H=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/;function Y(e){var t=e.match(H);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function q(e){var t=e.params.length?"?"+e.params.join("&"):"";return e.protocol+"://"+e.authority+e.path+t}function K(e){if(!e)return null;var t,n=e.split(".");if(!n||3!==n.length)return null;try{return JSON.parse((t=n[1],decodeURIComponent(self.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(e){return null}}var X=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};X.prototype.getStorageKey=function(e){var t,n=K(j.ACCESS_TOKEN),i="";return n&&n.u?(t=n.u,i=self.btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode(Number("0x"+t))})))):i=j.ACCESS_TOKEN||"",e?"mapbox.eventData."+e+":"+i:"mapbox.eventData:"+i},X.prototype.fetchEventData=function(){var e=w("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{var i=self.localStorage.getItem(t);i&&(this.eventData=JSON.parse(i));var r=self.localStorage.getItem(n);r&&(this.anonId=r)}catch(e){b("Unable to read from LocalStorage")}},X.prototype.saveEventData=function(){var e=w("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){b("Unable to write to LocalStorage")}},X.prototype.processRequests=function(){},X.prototype.postEvent=function(e,t,n){var i=this;if(j.EVENTS_URL){var r=Y(j.EVENTS_URL);r.params.push("access_token="+(j.ACCESS_TOKEN||""));var o={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"0.54.1",userId:this.anonId},a=t?g(o,t):o,s={url:q(r),headers:{"Content-Type":"text/plain"},body:JSON.stringify([a])};this.pendingRequest=ce(s,(function(e){i.pendingRequest=null,n(e),i.saveEventData(),i.processRequests()}))}},X.prototype.queueRequest=function(e){this.queue.push(e),this.processRequests()};var Q=function(e){function t(){e.call(this,"map.load"),this.success={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t){j.EVENTS_URL&&j.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return B(e)||V(e)}))&&this.queueRequest({id:t,timestamp:Date.now()})},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var t=this.queue.shift(),n=t.id,i=t.timestamp;n&&this.success[n]||(this.anonId||this.fetchEventData(),A(this.anonId)||(this.anonId=p()),this.postEvent(i,{},(function(t){t||n&&(e.success[n]=!0)})))}},t}(X),J=new(function(e){function t(){e.call(this,"appUserTurnstile")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e){j.EVENTS_URL&&j.ACCESS_TOKEN&&Array.isArray(e)&&e.some((function(e){return B(e)||V(e)}))&&this.queueRequest(Date.now())},t.prototype.processRequests=function(){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var t=K(j.ACCESS_TOKEN),n=t?t.u:j.ACCESS_TOKEN,i=n!==this.eventData.tokenU;A(this.anonId)||(this.anonId=p(),i=!0);var r=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),a=new Date(r),s=(r-this.eventData.lastSuccess)/864e5;i=i||s>=1||s<-1||o.getDate()!==a.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(r,{"enabled.telemetry":!1},(function(t){t||(e.eventData.lastSuccess=r,e.eventData.tokenU=n)}))}},t}(X)),$=J.postTurnstileEvent.bind(J),ee=new Q,te=ee.postMapLoadEvent.bind(ee),ne={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ne);var ie=function(e){function t(t,n,i){401===n&&V(i)&&(t+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),e.call(this,t),this.status=n,this.url=i,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},t}(Error);function re(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}var oe,ae,se=re()?function(){return self.worker&&self.worker.referrer}:function(){var e=self.location.origin;if(e&&"null"!==e&&"file://"!==e)return e+self.location.pathname},le=function(e,t){if(!/^file:/.test(e.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return function(e,t){var n=new self.AbortController,i=new self.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:se(),signal:n.signal});return"json"===e.type&&i.headers.set("Accept","application/json"),self.fetch(i).then((function(n){n.ok?n[e.type||"text"]().then((function(e){t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires"))})).catch((function(e){return t(new Error(e.message))})):t(new ie(n.statusText,n.status,e.url))})).catch((function(e){20!==e.code&&t(new Error(e.message))})),{cancel:function(){return n.abort()}}}(e,t);if(re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t)}return function(e,t){var n=new self.XMLHttpRequest;for(var i in n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer"),e.headers)n.setRequestHeader(i,e.headers[i]);return"json"===e.type&&n.setRequestHeader("Accept","application/json"),n.withCredentials="include"===e.credentials,n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var i=n.response;if("json"===e.type)try{i=JSON.parse(n.response)}catch(e){return t(e)}t(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new ie(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}(e,t)},ue=function(e,t){return le(g(e,{type:"arrayBuffer"}),t)},ce=function(e,t){return le(g(e,{method:"POST"}),t)};oe=[],ae=0;var ge=function(e,t){if(ae>=j.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return oe.push(n),n}ae++;var i=!1,r=function(){if(!i)for(i=!0,ae--;oe.length&&ae<j.MAX_PARALLEL_IMAGE_REQUESTS;){var e=oe.shift(),t=e.requestParameters,n=e.callback;e.cancelled||(e.cancel=ge(t,n).cancel)}},o=ue(e,(function(e,n,i,o){if(r(),e)t(e);else if(n){var a=new self.Image,s=self.URL||self.webkitURL;a.onload=function(){t(null,a),s.revokeObjectURL(a.src)},a.onerror=function(){return t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var l=new self.Blob([new Uint8Array(n)],{type:"image/png"});a.cacheControl=i,a.expires=o,a.src=n.byteLength?s.createObjectURL(l):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}}));return{cancel:function(){o.cancel(),r()}}};function de(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function he(e,t,n){if(n&&n[e]){var i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}var pe=function(e,t){void 0===t&&(t={}),g(this,t),this.type=e},Ae=function(e){function t(t,n){void 0===n&&(n={}),e.call(this,"error",g({error:t},n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(pe),fe=function(){};fe.prototype.on=function(e,t){return this._listeners=this._listeners||{},de(e,t,this._listeners),this},fe.prototype.off=function(e,t){return he(e,t,this._listeners),he(e,t,this._oneTimeListeners),this},fe.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},de(e,t,this._oneTimeListeners),this},fe.prototype.fire=function(e,t){"string"==typeof e&&(e=new pe(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var i=0,r=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];i<r.length;i+=1)r[i].call(this,e);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];he(n,s,this._oneTimeListeners),s.call(this,e)}var l=this._eventedParent;l&&(g(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(e))}else e instanceof Ae&&console.error(e.error);return this},fe.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},fe.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var Ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"string",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:[{"!":"text-offset"}],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[{"!":"text-anchor"},{"!":"text-offset"},{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",requires:["text-field"],values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"string",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}}},Ie=function(e,t,n,i){this.message=(e?e+": ":"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)};function ve(e){var t=e.key,n=e.value;return n?[new Ie(t,n,"constants have been deprecated as of v8")]:[]}function me(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var i=0,r=t;i<r.length;i+=1){var o=r[i];for(var a in o)e[a]=o[a]}return e}function ye(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function be(e){return Array.isArray(e)?e.map(be):ye(e)}var xe=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),_e=function(e,t){void 0===t&&(t=[]),this.parent=e,this.bindings={};for(var n=0,i=t;n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];this.bindings[o]=a}};_e.prototype.concat=function(e){return new _e(this,e)},_e.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")},_e.prototype.has=function(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)};var we={kind:"null"},ke={kind:"number"},Ee={kind:"string"},Se={kind:"boolean"},Te={kind:"color"},Oe={kind:"object"},Pe={kind:"value"},De={kind:"collator"},je={kind:"formatted"};function Me(e,t){return{kind:"array",itemType:e,N:t}}function Ne(e){if("array"===e.kind){var t=Ne(e.itemType);return"number"==typeof e.N?"array<"+t+", "+e.N+">":"value"===e.itemType.kind?"array":"array<"+t+">"}return e.kind}var ze=[we,ke,Ee,Se,Te,je,Oe,Me(Pe)];function Re(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Re(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(var n=0,i=ze;n<i.length;n+=1)if(!Re(i[n],t))return null}return"Expected "+Ne(e)+" but found "+Ne(t)+" instead."}var Fe=t((function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(e){return(e=Math.round(e))<0?0:e>255?255:e}function r(e){return e<0?0:e>1?1:e}function o(e){return"%"===e[e.length-1]?i(parseFloat(e)/100*255):i(parseInt(e))}function a(e){return"%"===e[e.length-1]?r(parseFloat(e)/100):r(parseFloat(e))}function s(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{t.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in n)return n[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var l=r.indexOf("("),u=r.indexOf(")");if(-1!==l&&u+1===r.length){var c=r.substr(0,l),g=r.substr(l+1,u-(l+1)).split(","),d=1;switch(c){case"rgba":if(4!==g.length)return null;d=a(g.pop());case"rgb":return 3!==g.length?null:[o(g[0]),o(g[1]),o(g[2]),d];case"hsla":if(4!==g.length)return null;d=a(g.pop());case"hsl":if(3!==g.length)return null;var h=(parseFloat(g[0])%360+360)%360/360,p=a(g[1]),A=a(g[2]),f=A<=.5?A*(p+1):A+p-A*p,C=2*A-f;return[i(255*s(C,f,h+1/3)),i(255*s(C,f,h)),i(255*s(C,f,h-1/3)),d];default:return null}}return null}}catch(e){}})).parseCSSColor,Le=function(e,t,n,i){void 0===i&&(i=1),this.r=e,this.g=t,this.b=n,this.a=i};Le.parse=function(e){if(e){if(e instanceof Le)return e;if("string"==typeof e){var t=Fe(e);if(t)return new Le(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},Le.prototype.toString=function(){var e=this.toArray(),t=e[0],n=e[1],i=e[2],r=e[3];return"rgba("+Math.round(t)+","+Math.round(n)+","+Math.round(i)+","+r+")"},Le.prototype.toArray=function(){var e=this.r,t=this.g,n=this.b,i=this.a;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]},Le.black=new Le(0,0,0,1),Le.white=new Le(1,1,1,1),Le.transparent=new Le(0,0,0,0),Le.red=new Le(1,0,0,1);var Be=function(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Be.prototype.compare=function(e,t){return this.collator.compare(e,t)},Be.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Ze=function(e,t,n){this.text=e,this.scale=t,this.fontStack=n},Ve=function(e){this.sections=e};function Ue(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[e,t,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function We(e){if(null===e)return we;if("string"==typeof e)return Ee;if("boolean"==typeof e)return Se;if("number"==typeof e)return ke;if(e instanceof Le)return Te;if(e instanceof Be)return De;if(e instanceof Ve)return je;if(Array.isArray(e)){for(var t,n=e.length,i=0,r=e;i<r.length;i+=1){var o=We(r[i]);if(t){if(t===o)continue;t=Pe;break}t=o}return Me(t||Pe,n)}return Oe}function Ge(e){var t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Le||e instanceof Ve?e.toString():JSON.stringify(e)}Ve.fromString=function(e){return new Ve([new Ze(e,null,null)])},Ve.prototype.toString=function(){return this.sections.map((function(e){return e.text})).join("")},Ve.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var i=n[t];e.push(i.text);var r={};i.fontStack&&(r["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(r["font-scale"]=i.scale),e.push(r)}return e};var He=function(e,t){this.type=e,this.value=t};He.parse=function(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found "+(e.length-1)+" instead.");if(!function e(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof Le)return!0;if(t instanceof Be)return!0;if(t instanceof Ve)return!0;if(Array.isArray(t)){for(var n=0,i=t;n<i.length;n+=1)if(!e(i[n]))return!1;return!0}if("object"==typeof t){for(var r in t)if(!e(t[r]))return!1;return!0}return!1}(e[1]))return t.error("invalid value");var n=e[1],i=We(n),r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new He(i,n)},He.prototype.evaluate=function(){return this.value},He.prototype.eachChild=function(){},He.prototype.possibleOutputs=function(){return[this.value]},He.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Le?["rgba"].concat(this.value.toArray()):this.value instanceof Ve?this.value.serialize():this.value};var Ye=function(e){this.name="ExpressionEvaluationError",this.message=e};Ye.prototype.toJSON=function(){return this.message};var qe={string:Ee,number:ke,boolean:Se,object:Oe},Ke=function(e,t){this.type=e,this.args=t};Ke.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n,i=1,r=e[0];if("array"===r){var o,a;if(e.length>2){var s=e[1];if("string"!=typeof s||!(s in qe)||"object"===s)return t.error('The item type argument of "array" must be one of string, number, boolean',1);o=qe[s],i++}else o=Pe;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);a=e[2],i++}n=Me(o,a)}else n=qe[r];for(var l=[];i<e.length;i++){var u=t.parse(e[i],i,Pe);if(!u)return null;l.push(u)}return new Ke(n,l)},Ke.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(!Re(this.type,We(n)))return n;if(t===this.args.length-1)throw new Ye("Expected value to be of type "+Ne(this.type)+", but found "+Ne(We(n))+" instead.")}return null},Ke.prototype.eachChild=function(e){this.args.forEach(e)},Ke.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},Ke.prototype.serialize=function(){var e=this.type,t=[e.kind];if("array"===e.kind){var n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);var i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map((function(e){return e.serialize()})))};var Xe=function(e){this.type=je,this.sections=e};Xe.parse=function(e,t){if(e.length<3)return t.error("Expected at least two arguments.");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");for(var n=[],i=1;i<e.length-1;i+=2){var r=t.parse(e[i],1,Pe);if(!r)return null;var o=r.type.kind;if("string"!==o&&"value"!==o&&"null"!==o)return t.error("Formatted text type must be 'string', 'value', or 'null'.");var a=e[i+1];if("object"!=typeof a||Array.isArray(a))return t.error("Format options argument must be an object.");var s=null;if(a["font-scale"]&&!(s=t.parse(a["font-scale"],1,ke)))return null;var l=null;if(a["text-font"]&&!(l=t.parse(a["text-font"],1,Me(Ee))))return null;n.push({text:r,scale:s,font:l})}return new Xe(n)},Xe.prototype.evaluate=function(e){return new Ve(this.sections.map((function(t){return new Ze(Ge(t.text.evaluate(e)),t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null)})))},Xe.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var i=n[t];e(i.text),i.scale&&e(i.scale),i.font&&e(i.font)}},Xe.prototype.possibleOutputs=function(){return[void 0]},Xe.prototype.serialize=function(){for(var e=["format"],t=0,n=this.sections;t<n.length;t+=1){var i=n[t];e.push(i.text.serialize());var r={};i.scale&&(r["font-scale"]=i.scale.serialize()),i.font&&(r["text-font"]=i.font.serialize()),e.push(r)}return e};var Qe={"to-boolean":Se,"to-color":Te,"to-number":ke,"to-string":Ee},Je=function(e,t){this.type=e,this.args=t};Je.parse=function(e,t){if(e.length<2)return t.error("Expected at least one argument.");var n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");for(var i=Qe[n],r=[],o=1;o<e.length;o++){var a=t.parse(e[o],o,Pe);if(!a)return null;r.push(a)}return new Je(i,r)},Je.prototype.evaluate=function(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){for(var t,n,i=0,r=this.args;i<r.length;i+=1){if(n=null,(t=r[i].evaluate(e))instanceof Le)return t;if("string"==typeof t){var o=e.parseColor(t);if(o)return o}else if(Array.isArray(t)&&!(n=t.length<3||t.length>4?"Invalid rbga value "+JSON.stringify(t)+": expected an array containing either three or four numeric values.":Ue(t[0],t[1],t[2],t[3])))return new Le(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ye(n||"Could not parse color from value '"+("string"==typeof t?t:String(JSON.stringify(t)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,l=this.args;s<l.length;s+=1){if(null===(a=l[s].evaluate(e)))return 0;var u=Number(a);if(!isNaN(u))return u}throw new Ye("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?Ve.fromString(Ge(this.args[0].evaluate(e))):Ge(this.args[0].evaluate(e))},Je.prototype.eachChild=function(e){this.args.forEach(e)},Je.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},Je.prototype.serialize=function(){if("formatted"===this.type.kind)return new Xe([{text:this.args[0],scale:null,font:null}]).serialize();var e=["to-"+this.type.kind];return this.eachChild((function(t){e.push(t.serialize())})),e};var $e=["Unknown","Point","LineString","Polygon"],et=function(){this.globals=null,this.feature=null,this.featureState=null,this._parseColorCache={}};et.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},et.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?$e[this.feature.type]:this.feature.type:null},et.prototype.properties=function(){return this.feature&&this.feature.properties||{}},et.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Le.parse(e)),t};var tt=function(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i};tt.prototype.evaluate=function(e){return this._evaluate(e,this.args)},tt.prototype.eachChild=function(e){this.args.forEach(e)},tt.prototype.possibleOutputs=function(){return[void 0]},tt.prototype.serialize=function(){return[this.name].concat(this.args.map((function(e){return e.serialize()})))},tt.parse=function(e,t){var n,i=e[0],r=tt.definitions[i];if(!r)return t.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=a.filter((function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1})),l=null,u=0,c=s;u<c.length;u+=1){var g=c[u],d=g[0],h=g[1];l=new st(t.registry,t.path,null,t.scope);for(var p=[],A=!1,f=1;f<e.length;f++){var C=e[f],I=Array.isArray(d)?d[f-1]:d.type,v=l.parse(C,1+p.length,I);if(!v){A=!0;break}p.push(v)}if(!A)if(Array.isArray(d)&&d.length!==p.length)l.error("Expected "+d.length+" arguments, but found "+p.length+" instead.");else{for(var m=0;m<p.length;m++){var y=Array.isArray(d)?d[m]:d.type,b=p[m];l.concat(m+1).checkSubtype(y,b.type)}if(0===l.errors.length)return new tt(i,o,h,p)}}if(1===s.length)(n=t.errors).push.apply(n,l.errors);else{for(var x=(s.length?s:a).map((function(e){var t;return t=e[0],Array.isArray(t)?"("+t.map(Ne).join(", ")+")":"("+Ne(t.type)+"...)"})).join(" | "),_=[],w=1;w<e.length;w++){var k=t.parse(e[w],1+_.length);if(!k)return null;_.push(Ne(k.type))}t.error("Expected arguments of type "+x+", but found ("+_.join(", ")+") instead.")}return null},tt.register=function(e,t){for(var n in tt.definitions=t,t)e[n]=tt};var nt=function(e,t,n){this.type=De,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};function it(e){if(e instanceof tt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}var t=!0;return e.eachChild((function(e){t&&!it(e)&&(t=!1)})),t}function rt(e){if(e instanceof tt&&"feature-state"===e.name)return!1;var t=!0;return e.eachChild((function(e){t&&!rt(e)&&(t=!1)})),t}function ot(e,t){if(e instanceof tt&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild((function(e){n&&!ot(e,t)&&(n=!1)})),n}nt.parse=function(e,t){if(2!==e.length)return t.error("Expected one argument.");var n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");var i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,Se);if(!i)return null;var r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,Se);if(!r)return null;var o=null;return n.locale&&!(o=t.parse(n.locale,1,Ee))?null:new nt(i,r,o)},nt.prototype.evaluate=function(e){return new Be(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},nt.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},nt.prototype.possibleOutputs=function(){return[void 0]},nt.prototype.serialize=function(){var e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]};var at=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};at.parse=function(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");var n=e[1];return t.scope.has(n)?new at(n,t.scope.get(n)):t.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},at.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},at.prototype.eachChild=function(){},at.prototype.possibleOutputs=function(){return[void 0]},at.prototype.serialize=function(){return["var",this.name]};var st=function(e,t,n,i,r){void 0===t&&(t=[]),void 0===i&&(i=new _e),void 0===r&&(r=[]),this.registry=e,this.path=t,this.key=t.map((function(e){return"["+e+"]"})).join(""),this.scope=i,this.errors=r,this.expectedType=n};function lt(e,t){for(var n,i,r=0,o=e.length-1,a=0;r<=o;){if(n=e[a=Math.floor((r+o)/2)],i=e[a+1],t===n||t>n&&t<i)return a;if(n<t)r=a+1;else{if(!(n>t))throw new Ye("Input is not a number.");o=a-1}}return Math.max(a-1,0)}st.prototype.parse=function(e,t,n,i,r){return void 0===r&&(r={}),t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)},st.prototype._parse=function(e,t){function n(e,t,n){return"assert"===n?new Ke(t,[e]):"coerce"===n?new Je(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=e[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[i];if(r){var o=r.parse(e,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,t.typeAnnotation||"coerce");else o=n(o,a,t.typeAnnotation||"assert")}if(!(o instanceof He)&&function e(t){if(t instanceof at)return e(t.boundExpression);if(t instanceof tt&&"error"===t.name)return!1;if(t instanceof nt)return!1;var n=t instanceof Je||t instanceof Ke,i=!0;return t.eachChild((function(t){i=n?i&&e(t):i&&t instanceof He})),!!i&&it(t)&&ot(t,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var l=new et;try{o=new He(o.type,o.evaluate(l))}catch(e){return this.error(e.message),null}}return o}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?this.error("'undefined' value invalid. Use null instead."):"object"==typeof e?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof e+" instead.")},st.prototype.concat=function(e,t,n){var i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new st(this.registry,i,t||null,r,this.errors)},st.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var i=""+this.key+t.map((function(e){return"["+e+"]"})).join("");this.errors.push(new xe(i,e))},st.prototype.checkSubtype=function(e,t){var n=Re(e,t);return n&&this.error(n),n};var ut=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var i=0,r=n;i<r.length;i+=1){var o=r[i],a=o[0],s=o[1];this.labels.push(a),this.outputs.push(s)}};function ct(e,t,n){return e*(1-n)+t*n}ut.parse=function(e,t){var n=e[1],i=e.slice(2);if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(n=t.parse(n,1,ke)))return null;var r=[],o=null;t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType),i.unshift(-1/0);for(var a=0;a<i.length;a+=2){var s=i[a],l=i[a+1],u=a+1,c=a+2;if("number"!=typeof s)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(r.length&&r[r.length-1][0]>=s)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var g=t.parse(l,c,o);if(!g)return null;o=o||g.type,r.push([s,g])}return new ut(o,n,r)},ut.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);var r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[lt(t,i)].evaluate(e)},ut.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},ut.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},ut.prototype.serialize=function(){for(var e=["step",this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};var gt=Object.freeze({number:ct,color:function(e,t,n){return new Le(ct(e.r,t.r,n),ct(e.g,t.g,n),ct(e.b,t.b,n),ct(e.a,t.a,n))},array:function(e,t,n){return e.map((function(e,i){return ct(e,t[i],n)}))}}),dt=.95047,ht=1,pt=1.08883,At=4/29,ft=6/29,Ct=3*ft*ft,It=ft*ft*ft,vt=Math.PI/180,mt=180/Math.PI;function yt(e){return e>It?Math.pow(e,1/3):e/Ct+At}function bt(e){return e>ft?e*e*e:Ct*(e-At)}function xt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function wt(e){var t=_t(e.r),n=_t(e.g),i=_t(e.b),r=yt((.4124564*t+.3575761*n+.1804375*i)/dt),o=yt((.2126729*t+.7151522*n+.072175*i)/ht);return{l:116*o-16,a:500*(r-o),b:200*(o-yt((.0193339*t+.119192*n+.9503041*i)/pt)),alpha:e.a}}function kt(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=ht*bt(t),n=dt*bt(n),i=pt*bt(i),new Le(xt(3.2404542*n-1.5371385*t-.4985314*i),xt(-.969266*n+1.8760108*t+.041556*i),xt(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Et(e,t,n){var i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}var St={forward:wt,reverse:kt,interpolate:function(e,t,n){return{l:ct(e.l,t.l,n),a:ct(e.a,t.a,n),b:ct(e.b,t.b,n),alpha:ct(e.alpha,t.alpha,n)}}},Tt={forward:function(e){var t=wt(e),n=t.l,i=t.a,r=t.b,o=Math.atan2(r,i)*mt;return{h:o<0?o+360:o,c:Math.sqrt(i*i+r*r),l:n,alpha:e.a}},reverse:function(e){var t=e.h*vt,n=e.c;return kt({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Et(e.h,t.h,n),c:ct(e.c,t.c,n),l:ct(e.l,t.l,n),alpha:ct(e.alpha,t.alpha,n)}}},Ot=Object.freeze({lab:St,hcl:Tt}),Pt=function(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var o=0,a=r;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];this.labels.push(l),this.outputs.push(u)}};function Dt(e,t,n,i){var r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}Pt.interpolationFactor=function(e,t,i,r){var o=0;if("exponential"===e.name)o=Dt(t,e.base,i,r);else if("linear"===e.name)o=Dt(t,1,i,r);else if("cubic-bezier"===e.name){var a=e.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(Dt(t,1,i,r))}return o},Pt.parse=function(e,t){var n=e[0],i=e[1],r=e[2],o=e.slice(3);if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var a=i[1];if("number"!=typeof a)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:a}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some((function(e){return"number"!=typeof e||e<0||e>1})))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(!(r=t.parse(r,2,ke)))return null;var l=[],u=null;"interpolate-hcl"===n||"interpolate-lab"===n?u=Te:t.expectedType&&"value"!==t.expectedType.kind&&(u=t.expectedType);for(var c=0;c<o.length;c+=2){var g=o[c],d=o[c+1],h=c+3,p=c+4;if("number"!=typeof g)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(l.length&&l[l.length-1][0]>=g)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',h);var A=t.parse(d,p,u);if(!A)return null;u=u||A.type,l.push([g,A])}return"number"===u.kind||"color"===u.kind||"array"===u.kind&&"number"===u.itemType.kind&&"number"==typeof u.N?new Pt(u,n,i,r,l):t.error("Type "+Ne(u)+" is not interpolatable.")},Pt.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);var i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);var r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);var o=lt(t,i),a=t[o],s=t[o+1],l=Pt.interpolationFactor(this.interpolation,i,a,s),u=n[o].evaluate(e),c=n[o+1].evaluate(e);return"interpolate"===this.operator?gt[this.type.kind.toLowerCase()](u,c,l):"interpolate-hcl"===this.operator?Tt.reverse(Tt.interpolate(Tt.forward(u),Tt.forward(c),l)):St.reverse(St.interpolate(St.forward(u),St.forward(c),l))},Pt.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1)e(n[t])},Pt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()})))},Pt.prototype.serialize=function(){var e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};var jt=function(e,t){this.type=e,this.args=t};jt.parse=function(e,t){if(e.length<2)return t.error("Expectected at least one argument.");var n=null,i=t.expectedType;i&&"value"!==i.kind&&(n=i);for(var r=[],o=0,a=e.slice(1);o<a.length;o+=1){var s=a[o],l=t.parse(s,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!l)return null;n=n||l.type,r.push(l)}var u=i&&r.some((function(e){return Re(i,e.type)}));return new jt(u?Pe:n,r)},jt.prototype.evaluate=function(e){for(var t=null,n=0,i=this.args;n<i.length&&null===(t=i[n].evaluate(e));n+=1);return t},jt.prototype.eachChild=function(e){this.args.forEach(e)},jt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.args.map((function(e){return e.possibleOutputs()})))},jt.prototype.serialize=function(){var e=["coalesce"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Mt=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Mt.prototype.evaluate=function(e){return this.result.evaluate(e)},Mt.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1)e(n[t][1]);e(this.result)},Mt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found "+(e.length-1)+" instead.");for(var n=[],i=1;i<e.length-1;i+=2){var r=e[i];if("string"!=typeof r)return t.error("Expected string, but found "+typeof r+" instead.",i);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=t.parse(e[i+1],i+1);if(!o)return null;n.push([r,o])}var a=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return a?new Mt(n,a):null},Mt.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},Mt.prototype.serialize=function(){for(var e=["let"],t=0,n=this.bindings;t<n.length;t+=1){var i=n[t],r=i[0],o=i[1];e.push(r,o.serialize())}return e.push(this.result.serialize()),e};var Nt=function(e,t,n){this.type=e,this.index=t,this.input=n};Nt.parse=function(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1,ke),i=t.parse(e[2],2,Me(t.expectedType||Pe));if(!n||!i)return null;var r=i.type;return new Nt(r.itemType,n,i)},Nt.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ye("Array index out of bounds: "+t+" < 0.");if(t>=n.length)throw new Ye("Array index out of bounds: "+t+" > "+(n.length-1)+".");if(t!==Math.floor(t))throw new Ye("Array index must be an integer, but found "+t+" instead.");return n[t]},Nt.prototype.eachChild=function(e){e(this.index),e(this.input)},Nt.prototype.possibleOutputs=function(){return[void 0]},Nt.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var zt=function(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o};zt.parse=function(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only "+(e.length-1)+".");if(e.length%2!=1)return t.error("Expected an even number of arguments.");var n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(var r={},o=[],a=2;a<e.length-1;a+=2){var s=e[a],l=e[a+1];Array.isArray(s)||(s=[s]);var u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(var c=0,g=s;c<g.length;c+=1){var d=g[c];if("number"!=typeof d&&"string"!=typeof d)return u.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return u.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,We(d)))return null}else n=We(d);if(void 0!==r[String(d)])return u.error("Branch labels must be unique.");r[String(d)]=o.length}var h=t.parse(l,a,i);if(!h)return null;i=i||h.type,o.push(h)}var p=t.parse(e[1],1,Pe);if(!p)return null;var A=t.parse(e[e.length-1],e.length-1,i);return A?"value"!==p.type.kind&&t.concat(1).checkSubtype(n,p.type)?null:new zt(n,i,p,r,o,A):null},zt.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(We(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},zt.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},zt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.outputs.map((function(e){return e.possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},zt.prototype.serialize=function(){for(var e=this,t=["match",this.input.serialize()],n=[],i={},r=0,o=Object.keys(this.cases).sort();r<o.length;r+=1){var a=o[r];void 0===(g=i[this.cases[a]])?(i[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[g][1].push(a)}for(var s=function(t){return"number"===e.inputType.kind?Number(t):t},l=0,u=n;l<u.length;l+=1){var c=u[l],g=c[0],d=c[1];1===d.length?t.push(s(d[0])):t.push(d.map(s)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var Rt=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};function Ft(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function Lt(e,t,n,i){return 0===i.compare(t,n)}function Bt(e,t,n){var i="=="!==e&&"!="!==e;return function(){function r(e,t,n){this.type=Se,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}return r.parse=function(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");var n=e[0],o=t.parse(e[1],1,Pe);if(!o)return null;if(!Ft(n,o.type))return t.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Ne(o.type)+"'.");var a=t.parse(e[2],2,Pe);if(!a)return null;if(!Ft(n,a.type))return t.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Ne(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '"+Ne(o.type)+"' and '"+Ne(a.type)+"'.");i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Ke(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Ke(o.type,[a])));var s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(!(s=t.parse(e[3],3,De)))return null}return new r(o,a,s)},r.prototype.evaluate=function(r){var o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){var s=We(o),l=We(a);if(s.kind!==l.kind||"string"!==s.kind&&"number"!==s.kind)throw new Ye('Expected arguments for "'+e+'" to be (string, string) or (number, number), but found ('+s.kind+", "+l.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var u=We(o),c=We(a);if("string"!==u.kind||"string"!==c.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)},r.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},r.prototype.possibleOutputs=function(){return[!0,!1]},r.prototype.serialize=function(){var t=[e];return this.eachChild((function(e){t.push(e.serialize())})),t},r}()}Rt.parse=function(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only "+(e.length-1)+".");if(e.length%2!=0)return t.error("Expected an odd number of arguments.");var n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);for(var i=[],r=1;r<e.length-1;r+=2){var o=t.parse(e[r],r,Se);if(!o)return null;var a=t.parse(e[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new Rt(n,i,s):null},Rt.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var i=n[t],r=i[0],o=i[1];if(r.evaluate(e))return o.evaluate(e)}return this.otherwise.evaluate(e)},Rt.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var i=n[t],r=i[0],o=i[1];e(r),e(o)}e(this.otherwise)},Rt.prototype.possibleOutputs=function(){var e;return(e=[]).concat.apply(e,this.branches.map((function(e){return e[0],e[1].possibleOutputs()}))).concat(this.otherwise.possibleOutputs())},Rt.prototype.serialize=function(){var e=["case"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Zt=Bt("==",(function(e,t,n){return t===n}),Lt),Vt=Bt("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!Lt(0,t,n,i)})),Ut=Bt("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),Wt=Bt(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),Gt=Bt("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),Ht=Bt(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0})),Yt=function(e,t,n,i,r){this.type=Ee,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r};Yt.parse=function(e,t){if(3!==e.length)return t.error("Expected two arguments.");var n=t.parse(e[1],1,ke);if(!n)return null;var i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=t.parse(i.locale,1,Ee)))return null;var o=null;if(i.currency&&!(o=t.parse(i.currency,1,Ee)))return null;var a=null;if(i["min-fraction-digits"]&&!(a=t.parse(i["min-fraction-digits"],1,ke)))return null;var s=null;return i["max-fraction-digits"]&&!(s=t.parse(i["max-fraction-digits"],1,ke))?null:new Yt(n,r,o,a,s)},Yt.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Yt.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Yt.prototype.possibleOutputs=function(){return[void 0]},Yt.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]};var qt=function(e){this.type=ke,this.input=e};qt.parse=function(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found "+(e.length-1)+" instead.");var n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found "+Ne(n.type)+" instead."):new qt(n):null},qt.prototype.evaluate=function(e){var t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ye("Expected value to be of type string or array, but found "+Ne(We(t))+" instead.")},qt.prototype.eachChild=function(e){e(this.input)},qt.prototype.possibleOutputs=function(){return[void 0]},qt.prototype.serialize=function(){var e=["length"];return this.eachChild((function(t){e.push(t.serialize())})),e};var Kt={"==":Zt,"!=":Vt,">":Wt,"<":Ut,">=":Ht,"<=":Gt,array:Ke,at:Nt,boolean:Ke,case:Rt,coalesce:jt,collator:nt,format:Xe,interpolate:Pt,"interpolate-hcl":Pt,"interpolate-lab":Pt,length:qt,let:Mt,literal:He,match:zt,number:Ke,"number-format":Yt,object:Ke,step:ut,string:Ke,"to-boolean":Je,"to-color":Je,"to-number":Je,"to-string":Je,var:at};function Xt(e,t){var n=t[0],i=t[1],r=t[2],o=t[3];n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);var a=o?o.evaluate(e):1,s=Ue(n,i,r,a);if(s)throw new Ye(s);return new Le(n/255*a,i/255*a,r/255*a,a)}function Qt(e,t){return e in t}function Jt(e,t){var n=t[e];return void 0===n?null:n}function $t(e){return{type:e}}function en(e){return{result:"success",value:e}}function tn(e){return{result:"error",value:e}}function nn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function rn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function on(e){return!!e.expression&&e.expression.interpolated}function an(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function sn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function ln(e){return e}function un(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function cn(e,t,n,i,r){return un(typeof n===r?i[n]:void 0,e.default,t.default)}function gn(e,t,n){if("number"!==an(n))return un(e.default,t.default);var i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var r=pn(e.stops,n);return e.stops[r][1]}function dn(e,t,n){var i=void 0!==e.base?e.base:1;if("number"!==an(n))return un(e.default,t.default);var r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var o=pn(e.stops,n),a=function(e,t,n,i){var r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],u=gt[t.type]||ln;if(e.colorSpace&&"rgb"!==e.colorSpace){var c=Ot[e.colorSpace];u=function(e,t){return c.reverse(c.interpolate(c.forward(e),c.forward(t),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),i=l.evaluate.apply(void 0,e);if(void 0!==n&&void 0!==i)return u(n,i,a)}}:u(s,l,a)}function hn(e,t,n){return"color"===t.type?n=Le.parse(n):"formatted"===t.type?n=Ve.fromString(n.toString()):an(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),un(n,e.default,t.default)}function pn(e,t){for(var n,i,r=0,o=e.length-1,a=0;r<=o;){if(n=e[a=Math.floor((r+o)/2)][0],i=e[a+1][0],t===n||t>n&&t<i)return a;n<t?r=a+1:n>t&&(o=a-1)}return Math.max(a-1,0)}tt.register(Kt,{error:[{kind:"error"},[Ee],function(e,t){var n=t[0];throw new Ye(n.evaluate(e))}],typeof:[Ee,[Pe],function(e,t){return Ne(We(t[0].evaluate(e)))}],"to-rgba":[Me(ke,4),[Te],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[Te,[ke,ke,ke],Xt],rgba:[Te,[ke,ke,ke,ke],Xt],has:{type:Se,overloads:[[[Ee],function(e,t){return Qt(t[0].evaluate(e),e.properties())}],[[Ee,Oe],function(e,t){var n=t[0],i=t[1];return Qt(n.evaluate(e),i.evaluate(e))}]]},get:{type:Pe,overloads:[[[Ee],function(e,t){return Jt(t[0].evaluate(e),e.properties())}],[[Ee,Oe],function(e,t){var n=t[0],i=t[1];return Jt(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[Pe,[Ee],function(e,t){return Jt(t[0].evaluate(e),e.featureState||{})}],properties:[Oe,[],function(e){return e.properties()}],"geometry-type":[Ee,[],function(e){return e.geometryType()}],id:[Pe,[],function(e){return e.id()}],zoom:[ke,[],function(e){return e.globals.zoom}],"heatmap-density":[ke,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[ke,[],function(e){return e.globals.lineProgress||0}],accumulated:[Pe,[],function(e){return void 0===e.globals.accumulated?null:e.globals.accumulated}],"+":[ke,$t(ke),function(e,t){for(var n=0,i=0,r=t;i<r.length;i+=1)n+=r[i].evaluate(e);return n}],"*":[ke,$t(ke),function(e,t){for(var n=1,i=0,r=t;i<r.length;i+=1)n*=r[i].evaluate(e);return n}],"-":{type:ke,overloads:[[[ke,ke],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)-i.evaluate(e)}],[[ke],function(e,t){return-t[0].evaluate(e)}]]},"/":[ke,[ke,ke],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)/i.evaluate(e)}],"%":[ke,[ke,ke],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)%i.evaluate(e)}],ln2:[ke,[],function(){return Math.LN2}],pi:[ke,[],function(){return Math.PI}],e:[ke,[],function(){return Math.E}],"^":[ke,[ke,ke],function(e,t){var n=t[0],i=t[1];return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[ke,[ke],function(e,t){var n=t[0];return Math.sqrt(n.evaluate(e))}],log10:[ke,[ke],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[ke,[ke],function(e,t){var n=t[0];return Math.log(n.evaluate(e))}],log2:[ke,[ke],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[ke,[ke],function(e,t){var n=t[0];return Math.sin(n.evaluate(e))}],cos:[ke,[ke],function(e,t){var n=t[0];return Math.cos(n.evaluate(e))}],tan:[ke,[ke],function(e,t){var n=t[0];return Math.tan(n.evaluate(e))}],asin:[ke,[ke],function(e,t){var n=t[0];return Math.asin(n.evaluate(e))}],acos:[ke,[ke],function(e,t){var n=t[0];return Math.acos(n.evaluate(e))}],atan:[ke,[ke],function(e,t){var n=t[0];return Math.atan(n.evaluate(e))}],min:[ke,$t(ke),function(e,t){return Math.min.apply(Math,t.map((function(t){return t.evaluate(e)})))}],max:[ke,$t(ke),function(e,t){return Math.max.apply(Math,t.map((function(t){return t.evaluate(e)})))}],abs:[ke,[ke],function(e,t){var n=t[0];return Math.abs(n.evaluate(e))}],round:[ke,[ke],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[ke,[ke],function(e,t){var n=t[0];return Math.floor(n.evaluate(e))}],ceil:[ke,[ke],function(e,t){var n=t[0];return Math.ceil(n.evaluate(e))}],"filter-==":[Se,[Ee,Pe],function(e,t){var n=t[0],i=t[1];return e.properties()[n.value]===i.value}],"filter-id-==":[Se,[Pe],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[Se,[Ee],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[Se,[Ee,Pe],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r<o}],"filter-id-<":[Se,[Pe],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[Se,[Ee,Pe],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r>o}],"filter-id->":[Se,[Pe],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[Se,[Ee,Pe],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[Se,[Pe],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[Se,[Ee,Pe],function(e,t){var n=t[0],i=t[1],r=e.properties()[n.value],o=i.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[Se,[Pe],function(e,t){var n=t[0],i=e.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[Se,[Pe],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[Se,[],function(e){return null!==e.id()}],"filter-type-in":[Se,[Me(Ee)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[Se,[Me(Pe)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[Se,[Ee,Me(Pe)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[Se,[Ee,Me(Pe)],function(e,t){var n=t[0],i=t[1];return function(e,t,n,i){for(;n<=i;){var r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:Se,overloads:[[[Se,Se],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)&&i.evaluate(e)}],[$t(Se),function(e,t){for(var n=0,i=t;n<i.length;n+=1)if(!i[n].evaluate(e))return!1;return!0}]]},any:{type:Se,overloads:[[[Se,Se],function(e,t){var n=t[0],i=t[1];return n.evaluate(e)||i.evaluate(e)}],[$t(Se),function(e,t){for(var n=0,i=t;n<i.length;n+=1)if(i[n].evaluate(e))return!0;return!1}]]},"!":[Se,[Se],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[Se,[Ee],function(e,t){var n=t[0],i=e.globals&&e.globals.isSupportedScript;return!i||i(n.evaluate(e))}],upcase:[Ee,[Ee],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[Ee,[Ee],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[Ee,$t(Pe),function(e,t){return t.map((function(t){return Ge(t.evaluate(e))})).join("")}],"resolved-locale":[Ee,[De],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});var An=function(e,t){var n;this.expression=e,this._warningHistory={},this._evaluator=new et,this._defaultValue=t?"color"===(n=t).type&&sn(n.default)?new Le(0,0,0,0):"color"===n.type?Le.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=t&&"enum"===t.type?t.values:null};function fn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Kt}function Cn(e,t){var n=new st(Kt,[],t?function(e){var t={color:Te,string:Ee,number:ke,enum:Ee,boolean:Se,formatted:je};return"array"===e.type?Me(t[e.value]||Pe,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?en(new An(i,t)):tn(n.errors)}An.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this.expression.evaluate(this._evaluator)},An.prototype.evaluate=function(e,t,n){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null;try{var i=this.expression.evaluate(this._evaluator);if(null==i)return this._defaultValue;if(this._enumValues&&!(i in this._enumValues))throw new Ye("Expected value to be one of "+Object.keys(this._enumValues).map((function(e){return JSON.stringify(e)})).join(", ")+", but found "+JSON.stringify(i)+" instead.");return i}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}};var In=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!rt(t.expression)};In.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n)},In.prototype.evaluate=function(e,t,n){return this._styleExpression.evaluate(e,t,n)};var vn=function(e,t,n){this.kind=e,this.zoomStops=n.labels,this._styleExpression=t,this.isStateDependent="camera"!==e&&!rt(t.expression),n instanceof Pt&&(this._interpolationType=n.interpolation)};function mn(e,t){if("error"===(e=Cn(e,t)).result)return e;var n=e.value.expression,i=it(n);if(!i&&!nn(t))return tn([new xe("","data expressions not supported")]);var r=ot(n,["zoom"]);if(!r&&!rn(t))return tn([new xe("","zoom expressions not supported")]);var o=function e(t){var n=null;if(t instanceof Mt)n=e(t.result);else if(t instanceof jt)for(var i=0,r=t.args;i<r.length;i+=1){var o=r[i];if(n=e(o))break}else(t instanceof ut||t instanceof Pt)&&t.input instanceof tt&&"zoom"===t.input.name&&(n=t);return n instanceof xe||t.eachChild((function(t){var i=e(t);i instanceof xe?n=i:!n&&i?n=new xe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new xe("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),n}(n);return o||r?o instanceof xe?tn([o]):o instanceof Pt&&!on(t)?tn([new xe("",'"interpolate" expressions cannot be used with this property')]):en(o?new vn(i?"camera":"composite",e.value,o):new In(i?"constant":"source",e.value)):tn([new xe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}vn.prototype.evaluateWithoutErrorHandling=function(e,t,n){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n)},vn.prototype.evaluate=function(e,t,n){return this._styleExpression.evaluate(e,t,n)},vn.prototype.interpolationFactor=function(e,t,n){return this._interpolationType?Pt.interpolationFactor(this._interpolationType,e,t,n):0};var yn=function(e,t){this._parameters=e,this._specification=t,me(this,function e(t,n){var i,r,o,a="color"===n.type,s=t.stops&&"object"==typeof t.stops[0][0],l=s||void 0!==t.property,u=s||!l,c=t.type||(on(n)?"exponential":"interval");if(a&&((t=me({},t)).stops&&(t.stops=t.stops.map((function(e){return[e[0],Le.parse(e[1])]}))),t.default?t.default=Le.parse(t.default):t.default=Le.parse(n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Ot[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);if("exponential"===c)i=dn;else if("interval"===c)i=gn;else if("categorical"===c){i=cn,r=Object.create(null);for(var g=0,d=t.stops;g<d.length;g+=1){var h=d[g];r[h[0]]=h[1]}o=typeof t.stops[0][0]}else{if("identity"!==c)throw new Error('Unknown function type "'+c+'"');i=hn}if(s){for(var p={},A=[],f=0;f<t.stops.length;f++){var C=t.stops[f],I=C[0].zoom;void 0===p[I]&&(p[I]={zoom:I,type:t.type,property:t.property,default:t.default,stops:[]},A.push(I)),p[I].stops.push([C[0].value,C[1]])}for(var v=[],m=0,y=A;m<y.length;m+=1){var b=y[m];v.push([p[b].zoom,e(p[b],n)])}return{kind:"composite",interpolationFactor:Pt.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:v.map((function(e){return e[0]})),evaluate:function(e,i){var r=e.zoom;return dn({stops:v,base:t.base},n,r).evaluate(r,i)}}}return u?{kind:"camera",interpolationFactor:"exponential"===c?Pt.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map((function(e){return e[0]})),evaluate:function(e){var a=e.zoom;return i(t,n,a,r,o)}}:{kind:"source",evaluate:function(e,a){var s=a&&a.properties?a.properties[t.property]:void 0;return void 0===s?un(t.default,n.default):i(t,n,s,r,o)}}}(this._parameters,this._specification))};function bn(e,t){if(sn(e))return new yn(e,t);if(fn(e)){var n=mn(e,t);if("error"===n.result)throw new Error(n.value.map((function(e){return e.key+": "+e.message})).join(", "));return n.value}var i=e;return"string"==typeof e&&"color"===t.type&&(i=Le.parse(e)),{kind:"constant",evaluate:function(){return i}}}function xn(e){var t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=[],l=an(n);if("object"!==l)return[new Ie(t,n,"object expected, "+l+" found")];for(var u in n){var c=u.split(".")[0],g=i[c]||i["*"],d=void 0;if(r[c])d=r[c];else if(i[c])d=Yn;else if(r["*"])d=r["*"];else{if(!i["*"]){s.push(new Ie(t,n[u],'unknown property "'+u+'"'));continue}d=Yn}s=s.concat(d({key:(t?t+".":t)+u,value:n[u],valueSpec:g,style:o,styleSpec:a,object:n,objectKey:u},n))}for(var h in i)r[h]||i[h].required&&void 0===i[h].default&&void 0===n[h]&&s.push(new Ie(t,n,'missing required property "'+h+'"'));return s}function _n(e){var t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||Yn;if("array"!==an(t))return[new Ie(o,t,"array expected, "+an(t)+" found")];if(n.length&&t.length!==n.length)return[new Ie(o,t,"array length "+n.length+" expected, length "+t.length+" found")];if(n["min-length"]&&t.length<n["min-length"])return[new Ie(o,t,"array length at least "+n["min-length"]+" expected, length "+t.length+" found")];var s={type:n.value,values:n.values};r.$version<7&&(s.function=n.function),"object"===an(n.value)&&(s=n.value);for(var l=[],u=0;u<t.length;u++)l=l.concat(a({array:t,arrayIndex:u,value:t[u],valueSpec:s,style:i,styleSpec:r,key:o+"["+u+"]"}));return l}function wn(e){var t=e.key,n=e.value,i=e.valueSpec,r=an(n);return"number"!==r?[new Ie(t,n,"number expected, "+r+" found")]:"minimum"in i&&n<i.minimum?[new Ie(t,n,n+" is less than the minimum value "+i.minimum)]:"maximum"in i&&n>i.maximum?[new Ie(t,n,n+" is greater than the maximum value "+i.maximum)]:[]}function kn(e){var t,n,i,r=e.valueSpec,o=ye(e.value.type),a={},s="categorical"!==o&&void 0===e.value.property,l=!s,u="array"===an(e.value.stops)&&"array"===an(e.value.stops[0])&&"object"===an(e.value.stops[0][0]),c=xn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===o)return[new Ie(e.key,e.value,'identity function may not have a "stops" property')];var t=[],n=e.value;return t=t.concat(_n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:g})),"array"===an(n)&&0===n.length&&t.push(new Ie(e.key,n,"array must have at least one stop")),t},default:function(e){return Yn({key:e.key,value:e.value,valueSpec:r,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===o&&s&&c.push(new Ie(e.key,e.value,'missing required property "property"')),"identity"===o||e.value.stops||c.push(new Ie(e.key,e.value,'missing required property "stops"')),"exponential"===o&&e.valueSpec.expression&&!on(e.valueSpec)&&c.push(new Ie(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!nn(e.valueSpec)?c.push(new Ie(e.key,e.value,"property functions not supported")):s&&!rn(e.valueSpec)&&c.push(new Ie(e.key,e.value,"zoom functions not supported"))),"categorical"!==o&&!u||void 0!==e.value.property||c.push(new Ie(e.key,e.value,'"property" property is required')),c;function g(e){var t=[],o=e.value,s=e.key;if("array"!==an(o))return[new Ie(s,o,"array expected, "+an(o)+" found")];if(2!==o.length)return[new Ie(s,o,"array length 2 expected, length "+o.length+" found")];if(u){if("object"!==an(o[0]))return[new Ie(s,o,"object expected, "+an(o[0])+" found")];if(void 0===o[0].zoom)return[new Ie(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ie(s,o,"object stop key must have value")];if(i&&i>ye(o[0].zoom))return[new Ie(s,o[0].zoom,"stop zoom values must appear in ascending order")];ye(o[0].zoom)!==i&&(i=ye(o[0].zoom),n=void 0,a={}),t=t.concat(xn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:wn,value:d}}))}else t=t.concat(d({key:s+"[0]",value:o[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},o));return fn(be(o[1]))?t.concat([new Ie(s+"[1]",o[1],"expressions are not allowed in function stops.")]):t.concat(Yn({key:s+"[1]",value:o[1],valueSpec:r,style:e.style,styleSpec:e.styleSpec}))}function d(e,i){var s=an(e.value),l=ye(e.value),u=null!==e.value?e.value:i;if(t){if(s!==t)return[new Ie(e.key,u,s+" stop domain type must match previous stop domain type "+t)]}else t=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ie(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return nn(r)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ie(e.key,u,c)]}return"categorical"!==o||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==o&&"number"===s&&void 0!==n&&l<n?[new Ie(e.key,u,"stop domain values must appear in ascending order")]:(n=l,"categorical"===o&&l in a?[new Ie(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new Ie(e.key,u,"integer expected, found "+l)]}}function En(e){var t=("property"===e.expressionContext?mn:Cn)(be(e.value),e.valueSpec);if("error"===t.result)return t.value.map((function(t){return new Ie(""+e.key+t.key,e.value,t.message)}));var n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&-1!==n.possibleOutputs().indexOf(void 0))return[new Ie(e.key,e.value,'Invalid data expression for "'+e.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===e.expressionContext&&"layout"===e.propertyType&&!rt(n))return[new Ie(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!rt(n))return[new Ie(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!ot(n,["zoom","feature-state"]))return[new Ie(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!it(n))return[new Ie(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Sn(e){var t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(ye(n))&&r.push(new Ie(t,n,"expected one of ["+i.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(i.values).indexOf(ye(n))&&r.push(new Ie(t,n,"expected one of ["+Object.keys(i.values).join(", ")+"], "+JSON.stringify(n)+" found")),r}function Tn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(var t=0,n=e.slice(1);t<n.length;t+=1){var i=n[t];if(!Tn(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}yn.deserialize=function(e){return new yn(e._parameters,e._specification)},yn.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};var On={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Pn(e){if(null==e)return function(){return!0};Tn(e)||(e=jn(e));var t=Cn(e,On);if("error"===t.result)throw new Error(t.value.map((function(e){return e.key+": "+e.message})).join(", "));return function(e,n){return t.value.evaluate(e,n)}}function Dn(e,t){return e<t?-1:e>t?1:0}function jn(e){if(!e)return!0;var t,n=e[0];return e.length<=1?"any"!==n:"=="===n?Mn(e[1],e[2],"=="):"!="===n?Rn(Mn(e[1],e[2],"==")):"<"===n||">"===n||"<="===n||">="===n?Mn(e[1],e[2],n):"any"===n?(t=e.slice(1),["any"].concat(t.map(jn))):"all"===n?["all"].concat(e.slice(1).map(jn)):"none"===n?["all"].concat(e.slice(1).map(jn).map(Rn)):"in"===n?Nn(e[1],e.slice(2)):"!in"===n?Rn(Nn(e[1],e.slice(2))):"has"===n?zn(e[1]):"!has"!==n||Rn(zn(e[1]))}function Mn(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function Nn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((function(e){return typeof e!=typeof t[0]}))?["filter-in-large",e,["literal",t.sort(Dn)]]:["filter-in-small",e,["literal",t]]}}function zn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Rn(e){return["!",e]}function Fn(e){return Tn(be(e.value))?En(me({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function e(t){var n=t.value,i=t.key;if("array"!==an(n))return[new Ie(i,n,"array expected, "+an(n)+" found")];var r,o=t.styleSpec,a=[];if(n.length<1)return[new Ie(i,n,"filter array must have at least 1 element")];switch(a=a.concat(Sn({key:i+"[0]",value:n[0],valueSpec:o.filter_operator,style:t.style,styleSpec:t.styleSpec})),ye(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===ye(n[1])&&a.push(new Ie(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Ie(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(r=an(n[1]))&&a.push(new Ie(i+"[1]",n[1],"string expected, "+r+" found"));for(var s=2;s<n.length;s++)r=an(n[s]),"$type"===ye(n[1])?a=a.concat(Sn({key:i+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new Ie(i+"["+s+"]",n[s],"string, number, or boolean expected, "+r+" found"));break;case"any":case"all":case"none":for(var l=1;l<n.length;l++)a=a.concat(e({key:i+"["+l+"]",value:n[l],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":r=an(n[1]),2!==n.length?a.push(new Ie(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==r&&a.push(new Ie(i+"[1]",n[1],"string expected, "+r+" found"))}return a}(e)}function Ln(e,t){var n=e.key,i=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r[t+"_"+e.layerType];if(!s)return[];var l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return Yn({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});var u,c=e.valueSpec||s[a];if(!c)return[new Ie(n,o,'unknown property "'+a+'"')];if("string"===an(o)&&nn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Ie(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(u[1])+" }`.")];var g=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&g.push(new Ie(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&sn(be(o))&&"identity"===ye(o.type)&&g.push(new Ie(n,o,'"text-font" does not support identity functions'))),g.concat(Yn({key:e.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function Bn(e){return Ln(e,"paint")}function Zn(e){return Ln(e,"layout")}function Vn(e){var t=[],n=e.value,i=e.key,r=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Ie(i,n,'either "type" or "ref" is required'));var a,s=ye(n.type),l=ye(n.ref);if(n.id)for(var u=ye(n.id),c=0;c<e.arrayIndex;c++){var g=r.layers[c];ye(g.id)===u&&t.push(new Ie(i,n.id,'duplicate layer id "'+n.id+'", previously used at line '+g.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach((function(e){e in n&&t.push(new Ie(i,n[e],'"'+e+'" is prohibited for ref layers'))})),r.layers.forEach((function(e){ye(e.id)===l&&(a=e)})),a?a.ref?t.push(new Ie(i,n.ref,"ref cannot reference another ref layer")):s=ye(a.type):t.push(new Ie(i,n.ref,'ref layer "'+l+'" not found'));else if("background"!==s)if(n.source){var d=r.sources&&r.sources[n.source],h=d&&ye(d.type);d?"vector"===h&&"raster"===s?t.push(new Ie(i,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===h&&"raster"!==s?t.push(new Ie(i,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==h||n["source-layer"]?"raster-dem"===h&&"hillshade"!==s?t.push(new Ie(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===h&&d.lineMetrics||t.push(new Ie(i,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new Ie(i,n,'layer "'+n.id+'" must specify a "source-layer"')):t.push(new Ie(i,n.source,'source "'+n.source+'" not found'))}else t.push(new Ie(i,n,'missing required property "source"'));return t=t.concat(xn({key:i,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Yn({key:i+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"})},filter:Fn,layout:function(e){return xn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Zn(me({layerType:s},e))}}})},paint:function(e){return xn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Bn(me({layerType:s},e))}}})}}}))}function Un(e){var t=e.value,n=e.key,i=e.styleSpec,r=e.style;if(!t.type)return[new Ie(n,t,'"type" is required')];var o,a=ye(t.type);switch(a){case"vector":case"raster":case"raster-dem":if(o=xn({key:n,value:t,valueSpec:i["source_"+a.replace("-","_")],style:e.style,styleSpec:i}),"url"in t)for(var s in t)["type","url","tileSize"].indexOf(s)<0&&o.push(new Ie(n+"."+s,t[s],'a source with a "url" property may not include a "'+s+'" property'));return o;case"geojson":if(o=xn({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i}),t.cluster)for(var l in t.clusterProperties){var u=t.clusterProperties[l],c=u[0],g=u[1],d="string"==typeof c?[c,["accumulated"],["get",l]]:c;o.push.apply(o,En({key:n+"."+l+".map",value:g,expressionContext:"cluster-map"})),o.push.apply(o,En({key:n+"."+l+".reduce",value:d,expressionContext:"cluster-reduce"}))}return o;case"video":return xn({key:n,value:t,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return xn({key:n,value:t,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Ie(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Sn({key:n+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:i})}}function Wn(e){var t=e.value,n=e.styleSpec,i=n.light,r=e.style,o=[],a=an(t);if(void 0===t)return o;if("object"!==a)return o.concat([new Ie("light",t,"object expected, "+a+" found")]);for(var s in t){var l=s.match(/^(.*)-transition$/);o=l&&i[l[1]]&&i[l[1]].transition?o.concat(Yn({key:s,value:t[s],valueSpec:n.transition,style:r,styleSpec:n})):i[s]?o.concat(Yn({key:s,value:t[s],valueSpec:i[s],style:r,styleSpec:n})):o.concat([new Ie(s,t[s],'unknown property "'+s+'"')])}return o}function Gn(e){var t=e.value,n=e.key,i=an(t);return"string"!==i?[new Ie(n,t,"string expected, "+i+" found")]:[]}var Hn={"*":function(){return[]},array:_n,boolean:function(e){var t=e.value,n=e.key,i=an(t);return"boolean"!==i?[new Ie(n,t,"boolean expected, "+i+" found")]:[]},number:wn,color:function(e){var t=e.key,n=e.value,i=an(n);return"string"!==i?[new Ie(t,n,"color expected, "+i+" found")]:null===Fe(n)?[new Ie(t,n,'color expected, "'+n+'" found')]:[]},constants:ve,enum:Sn,filter:Fn,function:kn,layer:Vn,object:xn,source:Un,light:Wn,string:Gn,formatted:function(e){return 0===Gn(e).length?[]:En(e)}};function Yn(e){var t=e.value,n=e.valueSpec,i=e.styleSpec;return n.expression&&sn(ye(t))?kn(e):n.expression&&fn(be(t))?En(e):n.type&&Hn[n.type]?Hn[n.type](e):xn(me({},e,{valueSpec:n.type?i[n.type]:n}))}function qn(e){var t=e.value,n=e.key,i=Gn(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new Ie(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new Ie(n,t,'"glyphs" url must include a "{range}" token'))),i}function Kn(e,t){t=t||Ce;var n=[];return n=n.concat(Yn({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:qn,"*":function(){return[]}}})),e.constants&&(n=n.concat(ve({key:"constants",value:e.constants,style:e,styleSpec:t}))),Xn(n)}function Xn(e){return[].concat(e).sort((function(e,t){return e.line-t.line}))}function Qn(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Xn(e.apply(this,t))}}Kn.source=Qn(Un),Kn.light=Qn(Wn),Kn.layer=Qn(Vn),Kn.filter=Qn(Fn),Kn.paintProperty=Qn(Bn),Kn.layoutProperty=Qn(Zn);var Jn=Kn,$n=Kn.light,ei=Kn.paintProperty,ti=Kn.layoutProperty;function ni(e,t){var n=!1;if(t&&t.length)for(var i=0,r=t;i<r.length;i+=1){var o=r[i];e.fire(new Ae(new Error(o.message))),n=!0}return n}var ii=oi,ri=3;function oi(e,t,n){var i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],t=r[1],n=r[2],this.d=t+2*n;for(var o=0;o<this.d*this.d;o++){var a=r[ri+o],s=r[ri+o+1];i.push(a===s?null:r.subarray(a,s))}var l=r[ri+i.length],u=r[ri+i.length+1];this.keys=r.subarray(l,u),this.bboxes=r.subarray(u),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var g=n/t*e;this.min=-g,this.max=e+g}oi.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},oi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},oi.prototype._insertCell=function(e,t,n,i,r,o){this.cells[r].push(o)},oi.prototype.query=function(e,t,n,i,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s},oi.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=this.cells[r];if(null!==l)for(var u=this.keys,c=this.bboxes,g=0;g<l.length;g++){var d=l[g];if(void 0===a[d]){var h=4*d;(s?s(c[h+0],c[h+1],c[h+2],c[h+3]):e<=c[h+2]&&t<=c[h+3]&&n>=c[h+0]&&i>=c[h+1])?(a[d]=!0,o.push(u[d])):a[d]=!1}}},oi.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),g=this._convertToCellCoord(i),d=l;d<=c;d++)for(var h=u;h<=g;h++){var p=this.d*h+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(h),this._convertFromCellCoord(d+1),this._convertFromCellCoord(h+1)))&&r.call(this,e,t,n,i,p,o,a,s))return}},oi.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},oi.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},oi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=ri+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[ri+a]=o,r.set(s,o),o+=s.length}return r[ri+e.length]=o,r.set(this.keys,o),o+=this.keys.length,r[ri+e.length+1]=o,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};var ai=self.ImageData,si={};function li(e,t,n){void 0===n&&(n={}),Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),si[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var ui in li("Object",Object),ii.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},ii.deserialize=function(e){return new ii(e.buffer)},li("Grid",ii),li("Color",Le),li("Error",Error),li("StylePropertyFunction",yn),li("StyleExpression",An,{omit:["_evaluator"]}),li("ZoomDependentExpression",vn),li("ZoomConstantExpression",In),li("CompoundExpression",tt,{omit:["_evaluate"]}),Kt)Kt[ui]._classRegistryKey||li("Expression_"+ui,Kt[ui]);function ci(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(e instanceof ArrayBuffer)return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof ai)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var i=[],r=0,o=e;r<o.length;r+=1){var a=o[r];i.push(ci(a,t))}return i}if("object"==typeof e){var s=e.constructor,l=s._classRegistryKey;if(!l)throw new Error("can't serialize object of unregistered class");var u=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var c in e)if(e.hasOwnProperty(c)&&!(si[l].omit.indexOf(c)>=0)){var g=e[c];u[c]=si[l].shallow.indexOf(c)>=0?g:ci(g,t)}e instanceof Error&&(u.message=e.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==l&&(u.$name=l),u}throw new Error("can't serialize object of type "+typeof e)}function gi(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||e instanceof ai)return e;if(Array.isArray(e))return e.map(gi);if("object"==typeof e){var t=e.$name||"Object",n=si[t].klass;if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);for(var i=Object.create(n.prototype),r=0,o=Object.keys(e);r<o.length;r+=1){var a=o[r];if("$name"!==a){var s=e[a];i[a]=si[t].shallow.indexOf(a)>=0?s:gi(s)}}return i}throw new Error("can't deserialize object of type "+typeof e)}var di=function(){this.first=!0};di.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))};var hi={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function pi(e){for(var t=0,n=e;t<n.length;t+=1)if(Ci(n[t].charCodeAt(0)))return!0;return!1}function Ai(e){for(var t=0,n=e;t<n.length;t+=1)if(!fi(n[t].charCodeAt(0)))return!1;return!0}function fi(e){return!hi.Arabic(e)&&!hi["Arabic Supplement"](e)&&!hi["Arabic Extended-A"](e)&&!hi["Arabic Presentation Forms-A"](e)&&!hi["Arabic Presentation Forms-B"](e)}function Ci(e){return 746===e||747===e||!(e<4352)&&(!!hi["Bopomofo Extended"](e)||!!hi.Bopomofo(e)||!(!hi["CJK Compatibility Forms"](e)||e>=65097&&e<=65103)||!!hi["CJK Compatibility Ideographs"](e)||!!hi["CJK Compatibility"](e)||!!hi["CJK Radicals Supplement"](e)||!!hi["CJK Strokes"](e)||!(!hi["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||!!hi["CJK Unified Ideographs Extension A"](e)||!!hi["CJK Unified Ideographs"](e)||!!hi["Enclosed CJK Letters and Months"](e)||!!hi["Hangul Compatibility Jamo"](e)||!!hi["Hangul Jamo Extended-A"](e)||!!hi["Hangul Jamo Extended-B"](e)||!!hi["Hangul Jamo"](e)||!!hi["Hangul Syllables"](e)||!!hi.Hiragana(e)||!!hi["Ideographic Description Characters"](e)||!!hi.Kanbun(e)||!!hi["Kangxi Radicals"](e)||!!hi["Katakana Phonetic Extensions"](e)||!(!hi.Katakana(e)||12540===e)||!(!hi["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!hi["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||!!hi["Unified Canadian Aboriginal Syllabics"](e)||!!hi["Unified Canadian Aboriginal Syllabics Extended"](e)||!!hi["Vertical Forms"](e)||!!hi["Yijing Hexagram Symbols"](e)||!!hi["Yi Syllables"](e)||!!hi["Yi Radicals"](e))}function Ii(e){return!(Ci(e)||function(e){return!!(hi["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||hi["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||hi["Letterlike Symbols"](e)||hi["Number Forms"](e)||hi["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||hi["Control Pictures"](e)&&9251!==e||hi["Optical Character Recognition"](e)||hi["Enclosed Alphanumerics"](e)||hi["Geometric Shapes"](e)||hi["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||hi["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||hi["CJK Symbols and Punctuation"](e)||hi.Katakana(e)||hi["Private Use Area"](e)||hi["CJK Compatibility Forms"](e)||hi["Small Form Variants"](e)||hi["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function vi(e,t){return!(!t&&(e>=1424&&e<=2303||hi["Arabic Presentation Forms-A"](e)||hi["Arabic Presentation Forms-B"](e)))&&!(e>=2304&&e<=3583||e>=3840&&e<=4255||hi.Khmer(e))}var mi,yi=!1,bi=null,xi=!1,_i=new fe,wi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return xi||null!=wi.applyArabicShaping}},ki=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new di,this.transition={})};ki.prototype.isSupportedScript=function(e){return function(e,t){for(var n=0,i=e;n<i.length;n+=1)if(!vi(i[n].charCodeAt(0),t))return!1;return!0}(e,wi.isLoaded())},ki.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ki.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var Ei=function(e,t){this.property=e,this.value=t,this.expression=bn(void 0===t?e.specification.default:t,e.specification)};Ei.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},Ei.prototype.possiblyEvaluate=function(e){return this.property.possiblyEvaluate(this,e)};var Si=function(e){this.property=e,this.value=new Ei(e,void 0)};Si.prototype.transitioned=function(e,t){return new Oi(this.property,this.value,t,g({},e.transition,this.transition),e.now)},Si.prototype.untransitioned=function(){return new Oi(this.property,this.value,null,{},0)};var Ti=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Ti.prototype.getValue=function(e){return m(this._values[e].value.value)},Ti.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Si(this._values[e].property)),this._values[e].value=new Ei(this._values[e].property,null===t?void 0:m(t))},Ti.prototype.getTransition=function(e){return m(this._values[e].transition)},Ti.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Si(this._values[e].property)),this._values[e].transition=m(t)||void 0},Ti.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var i=n[t],r=this.getValue(i);void 0!==r&&(e[i]=r);var o=this.getTransition(i);void 0!==o&&(e[i+"-transition"]=o)}return e},Ti.prototype.transitioned=function(e,t){for(var n=new Pi(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var o=r[i];n._values[o]=this._values[o].transitioned(e,t._values[o])}return n},Ti.prototype.untransitioned=function(){for(var e=new Pi(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var i=n[t];e._values[i]=this._values[i].untransitioned()}return e};var Oi=function(e,t,n,i,r){this.property=e,this.value=t,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};Oi.prototype.possiblyEvaluate=function(e){var t=e.now||0,n=this.value.possiblyEvaluate(e),i=this.prior;if(i){if(t>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(t<this.begin)return i.possiblyEvaluate(e);var r=(t-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(e),n,function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(r))}return n};var Pi=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};Pi.prototype.possiblyEvaluate=function(e){for(var t=new Mi(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var r=i[n];t._values[r]=this._values[r].possiblyEvaluate(e)}return t},Pi.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var n=t[e];if(this._values[n].prior)return!0}return!1};var Di=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Di.prototype.getValue=function(e){return m(this._values[e].value)},Di.prototype.setValue=function(e,t){this._values[e]=new Ei(this._values[e].property,null===t?void 0:m(t))},Di.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var i=n[t],r=this.getValue(i);void 0!==r&&(e[i]=r)}return e},Di.prototype.possiblyEvaluate=function(e){for(var t=new Mi(this._properties),n=0,i=Object.keys(this._values);n<i.length;n+=1){var r=i[n];t._values[r]=this._values[r].possiblyEvaluate(e)}return t};var ji=function(e,t,n){this.property=e,this.value=t,this.parameters=n};ji.prototype.isConstant=function(){return"constant"===this.value.kind},ji.prototype.constantOr=function(e){return"constant"===this.value.kind?this.value.value:e},ji.prototype.evaluate=function(e,t){return this.property.evaluate(this.value,this.parameters,e,t)};var Mi=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};Mi.prototype.get=function(e){return this._values[e]};var Ni=function(e){this.specification=e};Ni.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Ni.prototype.interpolate=function(e,t,n){var i=gt[this.specification.type];return i?i(e,t,n):e};var zi=function(e){this.specification=e};zi.prototype.possiblyEvaluate=function(e,t){return"constant"===e.expression.kind||"camera"===e.expression.kind?new ji(this,{kind:"constant",value:e.expression.evaluate(t)},t):new ji(this,e.expression,t)},zi.prototype.interpolate=function(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new ji(this,{kind:"constant",value:void 0},e.parameters);var i=gt[this.specification.type];return i?new ji(this,{kind:"constant",value:i(e.value.value,t.value.value,n)},e.parameters):e},zi.prototype.evaluate=function(e,t,n,i){return"constant"===e.kind?e.value:e.evaluate(t,n,i)};var Ri=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t){if(void 0===e.value)return new ji(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){var n=e.expression.evaluate(t),i=this._calculate(n,n,n,t);return new ji(this,{kind:"constant",value:i},t)}if("camera"===e.expression.kind){var r=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new ji(this,{kind:"constant",value:r},t)}return new ji(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,i){if("source"===e.kind){var r=e.evaluate(t,n,i);return this._calculate(r,r,r,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,i),e.evaluate({zoom:Math.floor(t.zoom)},n,i),e.evaluate({zoom:Math.floor(t.zoom)+1},n,i),t):e.value},t.prototype._calculate=function(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(zi),Fi=function(e){this.specification=e};Fi.prototype.possiblyEvaluate=function(e,t){if(void 0!==e.value){if("constant"===e.expression.kind){var n=e.expression.evaluate(t);return this._calculate(n,n,n,t)}return this._calculate(e.expression.evaluate(new ki(Math.floor(t.zoom-1),t)),e.expression.evaluate(new ki(Math.floor(t.zoom),t)),e.expression.evaluate(new ki(Math.floor(t.zoom+1),t)),t)}},Fi.prototype._calculate=function(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},Fi.prototype.interpolate=function(e){return e};var Li=function(e){this.specification=e};Li.prototype.possiblyEvaluate=function(e,t){return!!e.expression.evaluate(t)},Li.prototype.interpolate=function(){return!1};var Bi=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},e){var n=e[t],i=this.defaultPropertyValues[t]=new Ei(n,void 0),r=this.defaultTransitionablePropertyValues[t]=new Si(n);this.defaultTransitioningPropertyValues[t]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=i.possiblyEvaluate({})}};li("DataDrivenProperty",zi),li("DataConstantProperty",Ni),li("CrossFadedDataDrivenProperty",Ri),li("CrossFadedProperty",Fi),li("ColorRampProperty",Li);var Zi=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter=function(){return!0},"custom"!==t.type&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,"background"!==t.type&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new Di(n.layout)),n.paint)){for(var i in this._transitionablePaint=new Ti(n.paint),t.paint)this.setPaintProperty(i,t.paint[i],{validate:!1});for(var r in t.layout)this.setLayoutProperty(r,t.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t){var i="layers."+this.id+".layout."+e;if(this._validate(ti,i,e,t,n))return}"visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t},t.prototype.getPaintProperty=function(e){return C(e,"-transition")?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(void 0===n&&(n={}),null!=t){var i="layers."+this.id+".paint."+e;if(this._validate(ei,i,e,t,n))return!1}if(C(e,"-transition"))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;var r=this._transitionablePaint._values[e],o="cross-faded-data-driven"===r.property.specification["property-type"]&&!r.value.value&&t,a=this._transitionablePaint._values[e].value.isDataDriven();this._transitionablePaint.setValue(e,t);var s=this._transitionablePaint._values[e].value.isDataDriven();return this._handleSpecialPaintPropertyUpdate(e),s||a||o},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype.isHidden=function(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e)),this.paint=this._transitioningPaint.possiblyEvaluate(e)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),v(e,(function(e,t){return!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)}))},t.prototype._validate=function(e,t,n,i,r){return void 0===r&&(r={}),(!r||!1!==r.validate)&&ni(this,e.call(Jn,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:Ce,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(t instanceof ji&&nn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1},t}(fe),Vi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ui=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Wi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Gi(e,t){void 0===t&&(t=1);var n=0,i=0;return{members:e.map((function(e){var r,o=(r=e.type,Vi[r].BYTES_PER_ELEMENT),a=n=Hi(n,Math.max(t,o)),s=e.components||1;return i=Math.max(i,o),n+=o*s,{name:e.name,type:e.type,components:s,offset:a}})),size:Hi(n,Math.max(i,t)),alignment:t}}function Hi(e,t){return Math.ceil(e/t)*t}Wi.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Wi.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Wi.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Wi.prototype.clear=function(){this.length=0},Wi.prototype.resize=function(e){this.reserve(e),this.length=e},Wi.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Wi.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Yi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e},t}(Wi);Yi.prototype.bytesPerElement=4,li("StructArrayLayout2i4",Yi);var qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)},t.prototype.emplace=function(e,t,n,i,r){var o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,e},t}(Wi);qi.prototype.bytesPerElement=8,li("StructArrayLayout4i8",qi);var Ki=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)},t.prototype.emplace=function(e,t,n,i,r,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Wi);Ki.prototype.bytesPerElement=12,li("StructArrayLayout2i4i12",Ki);var Xi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,i,r,o,a,s)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l){var u=6*e,c=12*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=i,this.int16[u+3]=r,this.uint8[c+8]=o,this.uint8[c+9]=a,this.uint8[c+10]=s,this.uint8[c+11]=l,e},t}(Wi);Xi.prototype.bytesPerElement=12,li("StructArrayLayout4i4ub12",Xi);var Qi=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,i,r,o,a,s)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l){var u=8*e;return this.uint16[u+0]=t,this.uint16[u+1]=n,this.uint16[u+2]=i,this.uint16[u+3]=r,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Wi);Qi.prototype.bytesPerElement=16,li("StructArrayLayout8ui16",Qi);var Ji=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,i,r,o,a,s)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l){var u=8*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=i,this.int16[u+3]=r,this.uint16[u+4]=o,this.uint16[u+5]=a,this.uint16[u+6]=s,this.uint16[u+7]=l,e},t}(Wi);Ji.prototype.bytesPerElement=16,li("StructArrayLayout4i4ui16",Ji);var $i=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)},t.prototype.emplace=function(e,t,n,i){var r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e},t}(Wi);$i.prototype.bytesPerElement=12,li("StructArrayLayout3f12",$i);var er=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.uint32[n+0]=t,e},t}(Wi);er.prototype.bytesPerElement=4,li("StructArrayLayout1ul4",er);var tr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s,l,u,c){var g=this.length;return this.resize(g+1),this.emplace(g,e,t,n,i,r,o,a,s,l,u,c)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l,u,c,g){var d=12*e,h=6*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=i,this.int16[d+3]=r,this.int16[d+4]=o,this.int16[d+5]=a,this.uint32[h+3]=s,this.uint16[d+8]=l,this.uint16[d+9]=u,this.int16[d+10]=c,this.int16[d+11]=g,e},t}(Wi);tr.prototype.bytesPerElement=24,li("StructArrayLayout6i1ul2ui2i24",tr);var nr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)},t.prototype.emplace=function(e,t,n,i,r,o,a){var s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e},t}(Wi);nr.prototype.bytesPerElement=12,li("StructArrayLayout2i2i2i12",nr);var ir=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)},t.prototype.emplace=function(e,t,n,i,r){var o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e},t}(Wi);ir.prototype.bytesPerElement=12,li("StructArrayLayout2ub2f12",ir);var rr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s,l,u,c,g,d,h,p){var A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,i,r,o,a,s,l,u,c,g,d,h,p)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A){var f=22*e,C=11*e,I=44*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.uint16[f+2]=i,this.uint16[f+3]=r,this.uint32[C+2]=o,this.uint32[C+3]=a,this.uint32[C+4]=s,this.uint16[f+10]=l,this.uint16[f+11]=u,this.uint16[f+12]=c,this.float32[C+7]=g,this.float32[C+8]=d,this.uint8[I+36]=h,this.uint8[I+37]=p,this.uint32[C+10]=A,e},t}(Wi);rr.prototype.bytesPerElement=44,li("StructArrayLayout2i2ui3ul3ui2f2ub1ul44",rr);var or=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C){var I=this.length;return this.resize(I+1),this.emplace(I,e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C)},t.prototype.emplace=function(e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C,I){var v=22*e,m=11*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.int16[v+2]=i,this.int16[v+3]=r,this.int16[v+4]=o,this.int16[v+5]=a,this.uint16[v+6]=s,this.uint16[v+7]=l,this.uint16[v+8]=u,this.uint16[v+9]=c,this.uint16[v+10]=g,this.uint16[v+11]=d,this.uint16[v+12]=h,this.uint16[v+13]=p,this.uint16[v+14]=A,this.uint32[m+8]=f,this.float32[m+9]=C,this.float32[m+10]=I,e},t}(Wi);or.prototype.bytesPerElement=44,li("StructArrayLayout6i9ui1ul2f44",or);var ar=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.float32[n+0]=t,e},t}(Wi);ar.prototype.bytesPerElement=4,li("StructArrayLayout1f4",ar);var sr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)},t.prototype.emplace=function(e,t,n,i){var r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e},t}(Wi);sr.prototype.bytesPerElement=6,li("StructArrayLayout3i6",sr);var lr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)},t.prototype.emplace=function(e,t,n,i){var r=2*e,o=4*e;return this.uint32[r+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=i,e},t}(Wi);lr.prototype.bytesPerElement=8,li("StructArrayLayout1ul2ui8",lr);var ur=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)},t.prototype.emplace=function(e,t,n,i){var r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e},t}(Wi);ur.prototype.bytesPerElement=6,li("StructArrayLayout3ui6",ur);var cr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e},t}(Wi);cr.prototype.bytesPerElement=4,li("StructArrayLayout2ui4",cr);var gr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=1*e;return this.uint16[n+0]=t,e},t}(Wi);gr.prototype.bytesPerElement=2,li("StructArrayLayout1ui2",gr);var dr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e},t}(Wi);dr.prototype.bytesPerElement=8,li("StructArrayLayout2f8",dr);var hr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)},t.prototype.emplace=function(e,t,n,i,r){var o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,e},t}(Wi);hr.prototype.bytesPerElement=16,li("StructArrayLayout4f16",hr);var pr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},radius:{configurable:!0},signedDistanceFromAnchor:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(e){this._structArray.int16[this._pos2+2]=e},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(e){this._structArray.int16[this._pos2+3]=e},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(e){this._structArray.int16[this._pos2+4]=e},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(e){this._structArray.int16[this._pos2+5]=e},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(e){this._structArray.int16[this._pos2+10]=e},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+11]=e},n.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Ui);pr.prototype.size=24;var Ar=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new pr(this,e)},t}(tr);li("CollisionBoxArray",Ar);var fr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(e){this._structArray.uint16[this._pos2+3]=e},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(e){this._structArray.uint32[this._pos4+2]=e},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(e){this._structArray.uint32[this._pos4+3]=e},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(e){this._structArray.uint32[this._pos4+4]=e},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(e){this._structArray.uint16[this._pos2+10]=e},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(e){this._structArray.uint16[this._pos2+11]=e},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(e){this._structArray.uint16[this._pos2+12]=e},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(e){this._structArray.float32[this._pos4+7]=e},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(e){this._structArray.float32[this._pos4+8]=e},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(e){this._structArray.uint8[this._pos1+36]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},Object.defineProperties(t.prototype,n),t}(Ui);fr.prototype.size=44;var Cr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new fr(this,e)},t}(rr);li("PlacedSymbolArray",Cr);var Ir=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},radialTextOffset:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(e){this._structArray.int16[this._pos2+0]=e},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(e){this._structArray.int16[this._pos2+1]=e},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.rightJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+2]=e},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.centerJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+3]=e},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.leftJustifiedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+4]=e},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.verticalPlacedTextSymbolIndex.set=function(e){this._structArray.int16[this._pos2+5]=e},n.key.get=function(){return this._structArray.uint16[this._pos2+6]},n.key.set=function(e){this._structArray.uint16[this._pos2+6]=e},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+7]},n.textBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+7]=e},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+8]=e},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.iconBoxStartIndex.set=function(e){this._structArray.uint16[this._pos2+9]=e},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.iconBoxEndIndex.set=function(e){this._structArray.uint16[this._pos2+10]=e},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.featureIndex.set=function(e){this._structArray.uint16[this._pos2+11]=e},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+12]},n.numHorizontalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+12]=e},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+13]},n.numVerticalGlyphVertices.set=function(e){this._structArray.uint16[this._pos2+13]=e},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+14]},n.numIconVertices.set=function(e){this._structArray.uint16[this._pos2+14]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+8]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+8]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+9]},n.textBoxScale.set=function(e){this._structArray.float32[this._pos4+9]=e},n.radialTextOffset.get=function(){return this._structArray.float32[this._pos4+10]},n.radialTextOffset.set=function(e){this._structArray.float32[this._pos4+10]=e},Object.defineProperties(t.prototype,n),t}(Ui);Ir.prototype.size=44;var vr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ir(this,e)},t}(or);li("SymbolInstanceArray",vr);var mr=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={offsetX:{configurable:!0}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(e){this._structArray.float32[this._pos4+0]=e},Object.defineProperties(t.prototype,n),t}(Ui);mr.prototype.size=4;var yr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[1*e+0]},t.prototype.get=function(e){return new mr(this,e)},t}(ar);li("GlyphOffsetArray",yr);var br=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={x:{configurable:!0},y:{configurable:!0},tileUnitDistanceFromAnchor:{configurable:!0}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(e){this._structArray.int16[this._pos2+0]=e},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(e){this._structArray.int16[this._pos2+1]=e},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(e){this._structArray.int16[this._pos2+2]=e},Object.defineProperties(t.prototype,n),t}(Ui);br.prototype.size=6;var xr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[3*e+0]},t.prototype.gety=function(e){return this.int16[3*e+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[3*e+2]},t.prototype.get=function(e){return new br(this,e)},t}(sr);li("SymbolLineVertexArray",xr);var _r=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(e){this._structArray.uint32[this._pos4+0]=e},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(e){this._structArray.uint16[this._pos2+2]=e},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(e){this._structArray.uint16[this._pos2+3]=e},Object.defineProperties(t.prototype,n),t}(Ui);_r.prototype.size=8;var wr=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new _r(this,e)},t}(lr);li("FeatureIndexArray",wr);var kr=Gi([{name:"a_pos",components:2,type:"Int16"}],4).members,Er=function(e){void 0===e&&(e=[]),this.segments=e};function Sr(e,t){return 256*(e=u(Math.floor(e),0,255))+u(Math.floor(t),0,255)}Er.prototype.prepareSegment=function(e,t,n,i){var r=this.segments[this.segments.length-1];return e>Er.MAX_VERTEX_ARRAY_LENGTH&&b("Max vertices per segment is "+Er.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+e),(!r||r.vertexLength+e>Er.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r},Er.prototype.get=function(){return this.segments},Er.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var i in n.vaos)n.vaos[i].destroy()}},Er.simpleSegment=function(e,t,n,i){return new Er([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])},Er.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,li("SegmentVector",Er);var Tr=function(){this.ids=[],this.positions=[],this.indexed=!1};function Or(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}Tr.prototype.add=function(e,t,n,i){this.ids.push(e),this.positions.push(t,n,i)},Tr.prototype.getPositions=function(e){for(var t=0,n=this.ids.length-1;t<n;){var i=t+n>>1;this.ids[i]>=e?n=i:t=i+1}for(var r=[];this.ids[t]===e;){var o=this.positions[3*t],a=this.positions[3*t+1],s=this.positions[3*t+2];r.push({index:o,start:a,end:s}),t++}return r},Tr.serialize=function(e,t){var n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return function e(t,n,i,r){if(!(i>=r)){for(var o=t[i+r>>1],a=i-1,s=r+1;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Or(t,a,s),Or(n,3*a,3*s),Or(n,3*a+1,3*s+1),Or(n,3*a+2,3*s+2)}e(t,n,i,s),e(t,n,s+1,r)}}(n,i,0,n.length-1),t.push(n.buffer,i.buffer),{ids:n,positions:i}},Tr.deserialize=function(e){var t=new Tr;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t},li("FeaturePositionMap",Tr);var Pr=function(e,t){this.gl=e.gl,this.location=t},Dr=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Pr),jr=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Pr),Mr=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Pr),Nr=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Pr),zr=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Pr),Rr=function(e){function t(t,n){e.call(this,t,n),this.current=Le.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Pr),Fr=new Float32Array(16),Lr=function(e){function t(t,n){e.call(this,t,n),this.current=Fr}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Pr);function Br(e){return[Sr(255*e.r,255*e.g),Sr(255*e.b,255*e.a)]}var Zr=function(e,t,n){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=n,this.maxValue=-1/0};Zr.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},Zr.prototype.setConstantPatternPositions=function(){},Zr.prototype.populatePaintArray=function(){},Zr.prototype.updatePaintArray=function(){},Zr.prototype.upload=function(){},Zr.prototype.destroy=function(){},Zr.prototype.setUniforms=function(e,t,n,i){t.set(i.constantOr(this.value))},Zr.prototype.getBinding=function(e,t){return"color"===this.type?new Rr(e,t):new jr(e,t)},Zr.serialize=function(e){var t=e.value,n=e.names,i=e.type;return{value:ci(t),names:n,type:i}},Zr.deserialize=function(e){var t=e.value,n=e.names,i=e.type;return new Zr(gi(t),n,i)};var Vr=function(e,t,n){this.value=e,this.names=t,this.uniformNames=this.names.map((function(e){return"u_"+e})),this.type=n,this.maxValue=-1/0,this.patternPositions={patternTo:null,patternFrom:null}};Vr.prototype.defines=function(){return this.names.map((function(e){return"#define HAS_UNIFORM_u_"+e}))},Vr.prototype.populatePaintArray=function(){},Vr.prototype.updatePaintArray=function(){},Vr.prototype.upload=function(){},Vr.prototype.destroy=function(){},Vr.prototype.setConstantPatternPositions=function(e,t){this.patternPositions.patternTo=e.tlbr,this.patternPositions.patternFrom=t.tlbr},Vr.prototype.setUniforms=function(e,t,n,i,r){var o=this.patternPositions;"u_pattern_to"===r&&o.patternTo&&t.set(o.patternTo),"u_pattern_from"===r&&o.patternFrom&&t.set(o.patternFrom)},Vr.prototype.getBinding=function(e,t){return new zr(e,t)};var Ur=function(e,t,n,i){this.expression=e,this.names=t,this.type=n,this.uniformNames=this.names.map((function(e){return"a_"+e})),this.maxValue=-1/0,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}})),this.paintVertexArray=new i};Ur.prototype.defines=function(){return[]},Ur.prototype.setConstantPatternPositions=function(){},Ur.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,i=n.length;n.reserve(e);var r=this.expression.evaluate(new ki(0),t,{});if("color"===this.type)for(var o=Br(r),a=i;a<e;a++)n.emplaceBack(o[0],o[1]);else{for(var s=i;s<e;s++)n.emplaceBack(r);this.maxValue=Math.max(this.maxValue,r)}},Ur.prototype.updatePaintArray=function(e,t,n,i){var r=this.paintVertexArray,o=this.expression.evaluate({zoom:0},n,i);if("color"===this.type)for(var a=Br(o),s=e;s<t;s++)r.emplace(s,a[0],a[1]);else{for(var l=e;l<t;l++)r.emplace(l,o);this.maxValue=Math.max(this.maxValue,o)}},Ur.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ur.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Ur.prototype.setUniforms=function(e,t){t.set(0)},Ur.prototype.getBinding=function(e,t){return new jr(e,t)};var Wr=function(e,t,n,i,r,o){this.expression=e,this.names=t,this.uniformNames=this.names.map((function(e){return"a_"+e+"_t"})),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=-1/0;var a=o;this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}})),this.paintVertexArray=new a};Wr.prototype.defines=function(){return[]},Wr.prototype.setConstantPatternPositions=function(){},Wr.prototype.populatePaintArray=function(e,t){var n=this.paintVertexArray,i=n.length;n.reserve(e);var r=this.expression.evaluate(new ki(this.zoom),t,{}),o=this.expression.evaluate(new ki(this.zoom+1),t,{});if("color"===this.type)for(var a=Br(r),s=Br(o),l=i;l<e;l++)n.emplaceBack(a[0],a[1],s[0],s[1]);else{for(var u=i;u<e;u++)n.emplaceBack(r,o);this.maxValue=Math.max(this.maxValue,r,o)}},Wr.prototype.updatePaintArray=function(e,t,n,i){var r=this.paintVertexArray,o=this.expression.evaluate({zoom:this.zoom},n,i),a=this.expression.evaluate({zoom:this.zoom+1},n,i);if("color"===this.type)for(var s=Br(o),l=Br(a),u=e;u<t;u++)r.emplace(u,s[0],s[1],l[0],l[1]);else{for(var c=e;c<t;c++)r.emplace(c,o,a);this.maxValue=Math.max(this.maxValue,o,a)}},Wr.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Wr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Wr.prototype.interpolationFactor=function(e){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(e),this.zoom,this.zoom+1):this.expression.interpolationFactor(e,this.zoom,this.zoom+1)},Wr.prototype.setUniforms=function(e,t,n){t.set(this.interpolationFactor(n.zoom))},Wr.prototype.getBinding=function(e,t){return new jr(e,t)};var Gr=function(e,t,n,i,r,o,a){this.expression=e,this.names=t,this.type=n,this.uniformNames=this.names.map((function(e){return"a_"+e+"_t"})),this.useIntegerZoom=i,this.zoom=r,this.maxValue=-1/0,this.layerId=a,this.paintVertexAttributes=t.map((function(e){return{name:"a_"+e,type:"Uint16",components:4,offset:0}})),this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o};Gr.prototype.defines=function(){return[]},Gr.prototype.setConstantPatternPositions=function(){},Gr.prototype.populatePaintArray=function(e,t,n){var i=this.zoomInPaintVertexArray,r=this.zoomOutPaintVertexArray,o=this.layerId,a=i.length;if(i.reserve(e),r.reserve(e),n&&t.patterns&&t.patterns[o]){var s=t.patterns[o],l=s.min,u=s.mid,c=s.max,g=n[l],d=n[u],h=n[c];if(!g||!d||!h)return;for(var p=a;p<e;p++)i.emplaceBack(d.tl[0],d.tl[1],d.br[0],d.br[1],g.tl[0],g.tl[1],g.br[0],g.br[1]),r.emplaceBack(d.tl[0],d.tl[1],d.br[0],d.br[1],h.tl[0],h.tl[1],h.br[0],h.br[1])}},Gr.prototype.updatePaintArray=function(e,t,n,i,r){var o=this.zoomInPaintVertexArray,a=this.zoomOutPaintVertexArray,s=this.layerId;if(r&&n.patterns&&n.patterns[s]){var l=n.patterns[s],u=l.min,c=l.mid,g=l.max,d=r[u],h=r[c],p=r[g];if(!d||!h||!p)return;for(var A=e;A<t;A++)o.emplace(A,h.tl[0],h.tl[1],h.br[0],h.br[1],d.tl[0],d.tl[1],d.br[0],d.br[1]),a.emplace(A,h.tl[0],h.tl[1],h.br[0],h.br[1],p.tl[0],p.tl[1],p.br[0],p.br[1])}},Gr.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Gr.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()},Gr.prototype.setUniforms=function(e,t){t.set(0)},Gr.prototype.getBinding=function(e,t){return new jr(e,t)};var Hr=function(){this.binders={},this.cacheKey="",this._buffers=[],this._featureMap=new Tr,this._bufferOffset=0};Hr.createDynamic=function(e,t,n){var i=new Hr,r=[];for(var o in e.paint._values)if(n(o)){var a=e.paint.get(o);if(a instanceof ji&&nn(a.property.specification)){var s=qr(o,e.type),l=a.property.specification.type,u=a.property.useIntegerZoom;if("cross-faded"===a.property.specification["property-type"]||"cross-faded-data-driven"===a.property.specification["property-type"])if("constant"===a.value.kind)i.binders[o]=new Vr(a.value.value,s,l),r.push("/u_"+o);else{var c=Kr(o,l,"source");i.binders[o]=new Gr(a.value,s,l,u,t,c,e.id),r.push("/a_"+o)}else if("constant"===a.value.kind)i.binders[o]=new Zr(a.value.value,s,l),r.push("/u_"+o);else if("source"===a.value.kind){var g=Kr(o,l,"source");i.binders[o]=new Ur(a.value,s,l,g),r.push("/a_"+o)}else{var d=Kr(o,l,"composite");i.binders[o]=new Wr(a.value,s,l,u,t,d),r.push("/z_"+o)}}}return i.cacheKey=r.sort().join(""),i},Hr.prototype.populatePaintArrays=function(e,t,n,i){for(var r in this.binders)this.binders[r].populatePaintArray(e,t,i);void 0!==t.id&&this._featureMap.add(+t.id,n,this._bufferOffset,e),this._bufferOffset=e},Hr.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders)this.binders[n].setConstantPatternPositions(e,t)},Hr.prototype.updatePaintArrays=function(e,t,n,i){var r=!1;for(var o in e)for(var a=0,s=this._featureMap.getPositions(+o);a<s.length;a+=1){var l=s[a],u=t.feature(l.index);for(var c in this.binders){var g=this.binders[c];if(!(g instanceof Zr||g instanceof Vr)&&!0===g.expression.isStateDependent){var d=n.paint.get(c);g.expression=d.value,g.updatePaintArray(l.start,l.end,u,e[o],i),r=!0}}}return r},Hr.prototype.defines=function(){var e=[];for(var t in this.binders)e.push.apply(e,this.binders[t].defines());return e},Hr.prototype.getPaintVertexBuffers=function(){return this._buffers},Hr.prototype.getUniforms=function(e,t){var n=[];for(var i in this.binders)for(var r=this.binders[i],o=0,a=r.uniformNames;o<a.length;o+=1){var s=a[o];if(t[s]){var l=r.getBinding(e,t[s]);n.push({name:s,property:i,binding:l})}}return n},Hr.prototype.setUniforms=function(e,t,n,i){for(var r=0,o=t;r<o.length;r+=1){var a=o[r],s=a.name,l=a.property,u=a.binding;this.binders[l].setUniforms(e,u,i,n.get(l),s)}},Hr.prototype.updatePatternPaintBuffers=function(e){var t=[];for(var n in this.binders){var i=this.binders[n];if(i instanceof Gr){var r=2===e.fromScale?i.zoomInPaintVertexBuffer:i.zoomOutPaintVertexBuffer;r&&t.push(r)}else(i instanceof Ur||i instanceof Wr)&&i.paintVertexBuffer&&t.push(i.paintVertexBuffer)}this._buffers=t},Hr.prototype.upload=function(e){for(var t in this.binders)this.binders[t].upload(e);var n=[];for(var i in this.binders){var r=this.binders[i];(r instanceof Ur||r instanceof Wr)&&r.paintVertexBuffer&&n.push(r.paintVertexBuffer)}this._buffers=n},Hr.prototype.destroy=function(){for(var e in this.binders)this.binders[e].destroy()};var Yr=function(e,t,n,i){void 0===i&&(i=function(){return!0}),this.programConfigurations={};for(var r=0,o=t;r<o.length;r+=1){var a=o[r];this.programConfigurations[a.id]=Hr.createDynamic(a,n,i),this.programConfigurations[a.id].layoutAttributes=e}this.needsUpload=!1};function qr(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from"],"fill-pattern":["pattern_to","pattern_from"],"fill-extrusion-pattern":["pattern_to","pattern_from"]}[e]||[e.replace(t+"-","").replace(/-/g,"_")]}function Kr(e,t,n){var i={color:{source:dr,composite:hr},number:{source:ar,composite:dr}},r=function(e){return{"line-pattern":{source:Qi,composite:Qi},"fill-pattern":{source:Qi,composite:Qi},"fill-extrusion-pattern":{source:Qi,composite:Qi}}[e]}(e);return r&&r[n]||i[t][n]}Yr.prototype.populatePaintArrays=function(e,t,n,i){for(var r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i);this.needsUpload=!0},Yr.prototype.updatePaintArrays=function(e,t,n,i){for(var r=0,o=n;r<o.length;r+=1){var a=o[r];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(e,t,a,i)||this.needsUpload}},Yr.prototype.get=function(e){return this.programConfigurations[e]},Yr.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},Yr.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()},li("ConstantBinder",Zr),li("CrossFadedConstantBinder",Vr),li("SourceExpressionBinder",Ur),li("CrossFadedCompositeBinder",Gr),li("CompositeExpressionBinder",Wr),li("ProgramConfiguration",Hr,{omit:["_buffers"]}),li("ProgramConfigurationSet",Yr);var Xr,Qr=8192,Jr=(Xr=16,{min:-1*Math.pow(2,Xr-1),max:Math.pow(2,Xr-1)-1});function $r(e){for(var t=Qr/e.extent,n=e.loadGeometry(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<r.length;o++){var a=r[o];a.x=Math.round(a.x*t),a.y=Math.round(a.y*t),(a.x<Jr.min||a.x>Jr.max||a.y<Jr.min||a.y>Jr.max)&&b("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function eo(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}var to=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Yi,this.indexArray=new ur,this.segments=new Er,this.programConfigurations=new Yr(kr,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function no(e,t){for(var n=0;n<e.length;n++)if(go(t,e[n]))return!0;for(var i=0;i<t.length;i++)if(go(e,t[i]))return!0;return!!ao(e,t)}function io(e,t,n){return!!go(e,t)||!!lo(t,e,n)}function ro(e,t){if(1===e.length)return co(t,e[0]);for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)if(go(e,i[r]))return!0;for(var o=0;o<e.length;o++)if(co(t,e[o]))return!0;for(var a=0;a<t.length;a++)if(ao(e,t[a]))return!0;return!1}function oo(e,t,n){if(e.length>1){if(ao(e,t))return!0;for(var i=0;i<t.length;i++)if(lo(t[i],e,n))return!0}for(var r=0;r<e.length;r++)if(lo(e[r],t,n))return!0;return!1}function ao(e,t){if(0===e.length||0===t.length)return!1;for(var n=0;n<e.length-1;n++)for(var i=e[n],r=e[n+1],o=0;o<t.length-1;o++)if(so(i,r,t[o],t[o+1]))return!0;return!1}function so(e,t,n,i){return x(e,n,i)!==x(t,n,i)&&x(e,t,n)!==x(e,t,i)}function lo(e,t,n){var i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(var r=1;r<t.length;r++)if(uo(e,t[r-1],t[r])<i)return!0;return!1}function uo(e,t,n){var i=t.distSqr(n);if(0===i)return e.distSqr(t);var r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return r<0?e.distSqr(t):r>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(r)._add(t))}function co(e,t){for(var n,i,r,o=!1,a=0;a<e.length;a++)for(var s=0,l=(n=e[a]).length-1;s<n.length;l=s++)i=n[s],r=n[l],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o);return o}function go(e,t){for(var n=!1,i=0,r=e.length-1;i<e.length;r=i++){var o=e[i],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ho(e,t,n){var i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;var o=x(e,t,n[0]);return o!==x(e,t,n[1])||o!==x(e,t,n[2])||o!==x(e,t,n[3])}function po(e,t,n){var i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).binders[e].maxValue}function Ao(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function fo(e,t,n,i,o){if(!t[0]&&!t[1])return e;var a=r.convert(t)._mult(o);"viewport"===n&&a._rotate(-i);for(var s=[],l=0;l<e.length;l++){var u=e[l];s.push(u.sub(a))}return s}to.prototype.populate=function(e,t){for(var n=0,i=e;n<i.length;n+=1){var r=i[n],o=r.feature,a=r.index,s=r.sourceLayerIndex;if(this.layers[0]._featureFilter(new ki(this.zoom),o)){var l=$r(o);this.addFeature(o,l,a),t.featureIndex.insert(o,l,a,s,this.index)}}},to.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},to.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},to.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},to.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,kr),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},to.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},to.prototype.addFeature=function(e,t,n){for(var i=0,r=t;i<r.length;i+=1)for(var o=0,a=r[i];o<a.length;o+=1){var s=a[o],l=s.x,u=s.y;if(!(l<0||l>=Qr||u<0||u>=Qr)){var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),g=c.vertexLength;eo(this.layoutVertexArray,l,u,-1,-1),eo(this.layoutVertexArray,l,u,1,-1),eo(this.layoutVertexArray,l,u,1,1),eo(this.layoutVertexArray,l,u,-1,1),this.indexArray.emplaceBack(g,g+1,g+2),this.indexArray.emplaceBack(g,g+3,g+2),c.vertexLength+=4,c.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{})},li("CircleBucket",to,{omit:["layers"]});var Co={paint:new Bi({"circle-radius":new zi(Ce.paint_circle["circle-radius"]),"circle-color":new zi(Ce.paint_circle["circle-color"]),"circle-blur":new zi(Ce.paint_circle["circle-blur"]),"circle-opacity":new zi(Ce.paint_circle["circle-opacity"]),"circle-translate":new Ni(Ce.paint_circle["circle-translate"]),"circle-translate-anchor":new Ni(Ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ni(Ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ni(Ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new zi(Ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new zi(Ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new zi(Ce.paint_circle["circle-stroke-opacity"])})},Io="undefined"!=typeof Float32Array?Float32Array:Array;function vo(){var e=new Io(9);return Io!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function mo(){var e=new Io(3);return Io!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function yo(e,t,n){var i=new Io(3);return i[0]=e,i[1]=t,i[2]=n,i}function bo(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}function xo(){var e=new Io(4);return Io!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}Math.PI,mo(),function(){var e;e=new Io(4),Io!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}(),mo(),yo(1,0,0),yo(0,1,0),xo(),xo(),vo(),function(){var e;e=new Io(2),Io!=Float32Array&&(e[0]=0,e[1]=0)}();var _o=function(e){function t(t){e.call(this,t,Co)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new to(e)},t.prototype.queryRadius=function(e){var t=e;return po("circle-radius",this,t)+po("circle-stroke-width",this,t)+Ao(this.paint.get("circle-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,i,r,o,a,s){for(var l=fo(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),g=c?l:function(e,t){return e.map((function(e){return wo(e,t)}))}(l,s),d=c?u*a:u,h=0,p=i;h<p.length;h+=1)for(var A=0,f=p[h];A<f.length;A+=1){var C=f[A],I=c?C:wo(C,s),v=d,m=bo([],[C.x,C.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?v*=m[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(v*=o.cameraToCenterDistance/m[3]),io(g,I,v))return!0}return!1},t}(Zi);function wo(e,t){var n=bo([],[e.x,e.y,0,1],t);return new r(n[0]/n[3],n[1]/n[3])}var ko=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(to);function Eo(e,t,n,i){var r=t.width,o=t.height;if(i){if(i.length!==r*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*o*n);return e.width=r,e.height=o,e.data=i,e}function So(e,t,n){var i=t.width,r=t.height;if(i!==e.width||r!==e.height){var o=Eo({},{width:i,height:r},n);To(e,o,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=o.data}}function To(e,t,n,i,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=e.data,s=t.data,l=0;l<r.height;l++)for(var u=((n.y+l)*e.width+n.x)*o,c=((i.y+l)*t.width+i.x)*o,g=0;g<r.width*o;g++)s[c+g]=a[u+g];return t}li("HeatmapBucket",ko,{omit:["layers"]});var Oo=function(e,t){Eo(this,e,1,t)};Oo.prototype.resize=function(e){So(this,e,1)},Oo.prototype.clone=function(){return new Oo({width:this.width,height:this.height},new Uint8Array(this.data))},Oo.copy=function(e,t,n,i,r){To(e,t,n,i,r,1)};var Po=function(e,t){Eo(this,e,4,t)};Po.prototype.resize=function(e){So(this,e,4)},Po.prototype.replace=function(e,t){t?this.data.set(e):this.data=e},Po.prototype.clone=function(){return new Po({width:this.width,height:this.height},new Uint8Array(this.data))},Po.copy=function(e,t,n,i,r){To(e,t,n,i,r,4)},li("AlphaImage",Oo),li("RGBAImage",Po);var Do={paint:new Bi({"heatmap-radius":new zi(Ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new zi(Ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ni(Ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Li(Ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ni(Ce.paint_heatmap["heatmap-opacity"])})};function jo(e,t){for(var n=new Uint8Array(1024),i={},r=0,o=0;r<256;r++,o+=4){i[t]=r/255;var a=e.evaluate(i);n[o+0]=Math.floor(255*a.r/a.a),n[o+1]=Math.floor(255*a.g/a.a),n[o+2]=Math.floor(255*a.b/a.a),n[o+3]=Math.floor(255*a.a)}return new Po({width:256,height:1},n)}var Mo=function(e){function t(t){e.call(this,t,Do),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new ko(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){"heatmap-color"===e&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=jo(e,"heatmapDensity"),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},t}(Zi),No={paint:new Bi({"hillshade-illumination-direction":new Ni(Ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ni(Ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ni(Ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ni(Ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ni(Ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ni(Ce.paint_hillshade["hillshade-accent-color"])})},zo=function(e){function t(t){e.call(this,t,No)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},t}(Zi),Ro=Gi([{name:"a_pos",components:2,type:"Int16"}],4).members,Fo=Bo,Lo=Bo;function Bo(e,t,n){n=n||2;var i,r,o,a,s,l,u,c=t&&t.length,g=c?t[0]*n:e.length,d=Zo(e,0,g,n,!0),h=[];if(!d||d.next===d.prev)return h;if(c&&(d=function(e,t,n,i){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=Zo(e,t[r]*i,r<o-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),s.push(Qo(a));for(s.sort(qo),r=0;r<s.length;r++)Ko(s[r],n),n=Vo(n,n.next);return n}(e,t,d,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var p=n;p<g;p+=n)(s=e[p])<i&&(i=s),(l=e[p+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-i,a-r))?1/u:0}return Uo(d,h,n,i,r,u),h}function Zo(e,t,n,i,r){var o,a;if(r===la(e,t,n,i)>0)for(o=t;o<n;o+=i)a=oa(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=oa(o,e[o],e[o+1],a);return a&&ta(a,a.next)&&(aa(a),a=a.next),a}function Vo(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!ta(i,i.next)&&0!==ea(i.prev,i,i.next))i=i.next;else{if(aa(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function Uo(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{null===r.z&&(r.z=Xo(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<u&&(s++,i=i.nextZ);t++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Go(e,i,r,o):Wo(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),aa(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Uo(e=Ho(e,t,n),t,n,i,r,o,2):2===a&&Yo(e,t,n,i,r,o):Uo(Vo(e),t,n,i,r,o,1);break}}}function Wo(e){var t=e.prev,n=e,i=e.next;if(ea(t,n,i)>=0)return!1;for(var r=e.next.next;r!==e.prev;){if(Jo(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&ea(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Go(e,t,n,i){var r=e.prev,o=e,a=e.next;if(ea(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,g=Xo(s,l,t,n,i),d=Xo(u,c,t,n,i),h=e.prevZ,p=e.nextZ;h&&h.z>=g&&p&&p.z<=d;){if(h!==e.prev&&h!==e.next&&Jo(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&ea(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,p!==e.prev&&p!==e.next&&Jo(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ea(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;h&&h.z>=g;){if(h!==e.prev&&h!==e.next&&Jo(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&ea(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&Jo(r.x,r.y,o.x,o.y,a.x,a.y,p.x,p.y)&&ea(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ho(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!ta(r,o)&&na(r,i,i.next,o)&&ia(r,o)&&ia(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),aa(i),aa(i.next),i=e=o),i=i.next}while(i!==e);return i}function Yo(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&$o(a,s)){var l=ra(a,s);return a=Vo(a,a.next),l=Vo(l,l.next),Uo(a,t,n,i,r,o),void Uo(l,t,n,i,r,o)}s=s.next}a=a.next}while(a!==e)}function qo(e,t){return e.x-t.x}function Ko(e,t){if(t=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!n)return null;if(r===a)return n.prev;var l,u=n,c=n.x,g=n.y,d=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&Jo(o<g?r:a,o,c,g,o<g?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<d||l===d&&i.x>n.x)&&ia(i,e)&&(n=i,d=l),i=i.next;return n}(e,t)){var n=ra(t,e);Vo(n,n.next)}}function Xo(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Qo(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Jo(e,t,n,i,r,o,a,s){return(r-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(i-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function $o(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&na(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&ia(e,t)&&ia(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)}function ea(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ta(e,t){return e.x===t.x&&e.y===t.y}function na(e,t,n,i){return!!(ta(e,t)&&ta(n,i)||ta(e,i)&&ta(n,t))||ea(e,t,n)>0!=ea(e,t,i)>0&&ea(n,i,e)>0!=ea(n,i,t)>0}function ia(e,t){return ea(e.prev,e,e.next)<0?ea(e,t,e.next)>=0&&ea(e,e.prev,t)>=0:ea(e,t,e.prev)<0||ea(e,e.next,t)<0}function ra(e,t){var n=new sa(e.i,e.x,e.y),i=new sa(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function oa(e,t,n,i){var r=new sa(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function aa(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function sa(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function la(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}function ua(e,t,n,i,r){!function e(t,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-s*u/a+c)),Math.min(r,Math.floor(n+(a-s)*u/a+c)),o)}var g=t[n],d=i,h=r;for(ca(t,i,n),o(t[r],g)>0&&ca(t,i,r);d<h;){for(ca(t,d,h),d++,h--;o(t[d],g)<0;)d++;for(;o(t[h],g)>0;)h--}0===o(t[i],g)?ca(t,i,h):ca(t,++h,r),h<=n&&(i=h+1),n<=h&&(r=h-1)}}(e,t,n||0,i||e.length-1,r||ga)}function ca(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function ga(e,t){return e<t?-1:e>t?1:0}function da(e,t){var n=e.length;if(n<=1)return[e];for(var i,r,o=[],a=0;a<n;a++){var s=_(e[a]);0!==s&&(e[a].area=Math.abs(s),void 0===r&&(r=s<0),r===s<0?(i&&o.push(i),i=[e[a]]):i.push(e[a]))}if(i&&o.push(i),t>1)for(var l=0;l<o.length;l++)o[l].length<=t||(ua(o[l],t,1,o[l].length-1,ha),o[l]=o[l].slice(0,t));return o}function ha(e,t){return t.area-e.area}function pa(e,t,n){for(var i=n.patternDependencies,r=!1,o=0,a=t;o<a.length;o+=1){var s=a[o].paint.get(e+"-pattern");s.isConstant()||(r=!0);var l=s.constantOr(null);l&&(r=!0,i[l.to]=!0,i[l.from]=!0)}return r}function Aa(e,t,n,i,r){for(var o=r.patternDependencies,a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.paint.get(e+"-pattern").value;if("constant"!==u.kind){var c=u.evaluate({zoom:i-1},n,{}),g=u.evaluate({zoom:i},n,{}),d=u.evaluate({zoom:i+1},n,{});o[c]=!0,o[g]=!0,o[d]=!0,n.patterns[l.id]={min:c,mid:g,max:d}}}return n}Bo.deviation=function(e,t,n,i){var r=t&&t.length,o=r?t[0]*n:e.length,a=Math.abs(la(e,0,o,n));if(r)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(la(e,u,c,n))}var g=0;for(s=0;s<i.length;s+=3){var d=i[s]*n,h=i[s+1]*n,p=i[s+2]*n;g+=Math.abs((e[d]-e[p])*(e[h+1]-e[d+1])-(e[d]-e[h])*(e[p+1]-e[d+1]))}return 0===a&&0===g?0:Math.abs((g-a)/a)},Bo.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&(i+=e[r-1].length,n.holes.push(i))}return n},Fo.default=Lo;var fa=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Yi,this.indexArray=new ur,this.indexArray2=new cr,this.programConfigurations=new Yr(Ro,e.layers,e.zoom),this.segments=new Er,this.segments2=new Er,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};fa.prototype.populate=function(e,t){this.features=[],this.hasPattern=pa("fill",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var r=i[n],o=r.feature,a=r.index,s=r.sourceLayerIndex;if(this.layers[0]._featureFilter(new ki(this.zoom),o)){var l=$r(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(Aa("fill",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(o,l,a,s,this.index)}}},fa.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},fa.prototype.addFeatures=function(e,t){for(var n=0,i=this.features;n<i.length;n+=1){var r=i[n],o=r.geometry;this.addFeature(r,o,r.index,t)}},fa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},fa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fa.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ro),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},fa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},fa.prototype.addFeature=function(e,t,n,i){for(var r=0,o=da(t,500);r<o.length;r+=1){for(var a=o[r],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray),g=c.vertexLength,d=[],h=[],p=0,A=a;p<A.length;p+=1){var f=A[p];if(0!==f.length){f!==a[0]&&h.push(d.length/2);var C=this.segments2.prepareSegment(f.length,this.layoutVertexArray,this.indexArray2),I=C.vertexLength;this.layoutVertexArray.emplaceBack(f[0].x,f[0].y),this.indexArray2.emplaceBack(I+f.length-1,I),d.push(f[0].x),d.push(f[0].y);for(var v=1;v<f.length;v++)this.layoutVertexArray.emplaceBack(f[v].x,f[v].y),this.indexArray2.emplaceBack(I+v-1,I+v),d.push(f[v].x),d.push(f[v].y);C.vertexLength+=f.length,C.primitiveLength+=f.length}}for(var m=Fo(d,h),y=0;y<m.length;y+=3)this.indexArray.emplaceBack(g+m[y],g+m[y+1],g+m[y+2]);c.vertexLength+=s,c.primitiveLength+=m.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i)},li("FillBucket",fa,{omit:["layers","features"]});var Ca={paint:new Bi({"fill-antialias":new Ni(Ce.paint_fill["fill-antialias"]),"fill-opacity":new zi(Ce.paint_fill["fill-opacity"]),"fill-color":new zi(Ce.paint_fill["fill-color"]),"fill-outline-color":new zi(Ce.paint_fill["fill-outline-color"]),"fill-translate":new Ni(Ce.paint_fill["fill-translate"]),"fill-translate-anchor":new Ni(Ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ri(Ce.paint_fill["fill-pattern"])})},Ia=function(e){function t(t){e.call(this,t,Ca)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t);var n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},t.prototype.createBucket=function(e){return new fa(e)},t.prototype.queryRadius=function(){return Ao(this.paint.get("fill-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,i,r,o,a){return ro(fo(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),i)},t.prototype.isTileClipped=function(){return!0},t}(Zi),va=Gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,ma=ya;function ya(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(ba,this,t)}function ba(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function xa(e){for(var t,n,i=0,r=0,o=e.length,a=o-1;r<o;a=r++)t=e[r],i+=((n=e[a]).x-t.x)*(t.y+n.y);return i}ya.types=["Unknown","Point","LineString","Polygon"],ya.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,o=0,a=0,s=0,l=[];e.pos<n;){if(o<=0){var u=e.readVarint();i=7&u,o=u>>3}if(o--,1===i||2===i)a+=e.readSVarint(),s+=e.readSVarint(),1===i&&(t&&l.push(t),t=[]),t.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&l.push(t),l},ya.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(i<=0){var c=e.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},ya.prototype.toGeoJSON=function(e,t,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=ya.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t],i=180-360*(n.y+s)/o;e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var g=[];for(i=0;i<l.length;i++)g[i]=l[i][0];c(l=g);break;case 2:for(i=0;i<l.length;i++)c(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],o=0;o<t;o++){var a=xa(e[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[o]]):n.push(e[o]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)c(l[i][r])}1===l.length?l=l[0]:u="Multi"+u;var d={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var _a=wa;function wa(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ka,this,t),this.length=this._features.length}function ka(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}function Ea(e,t,n){if(3===e){var i=new _a(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}wa.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ma(this._pbf,t,this.extent,this._keys,this._values)};var Sa={VectorTile:function(e,t){this.layers=e.readFields(Ea,{},t)},VectorTileFeature:ma,VectorTileLayer:_a},Ta=Sa.VectorTileFeature.types,Oa=Math.pow(2,13);function Pa(e,t,n,i,r,o,a,s){e.emplaceBack(t,n,2*Math.floor(i*Oa)+a,r*Oa*2,o*Oa*2,Math.round(s))}var Da=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Ki,this.indexArray=new ur,this.programConfigurations=new Yr(va,e.layers,e.zoom),this.segments=new Er,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function ja(e,t){return e.x===t.x&&(e.x<0||e.x>Qr)||e.y===t.y&&(e.y<0||e.y>Qr)}function Ma(e){return e.every((function(e){return e.x<0}))||e.every((function(e){return e.x>Qr}))||e.every((function(e){return e.y<0}))||e.every((function(e){return e.y>Qr}))}Da.prototype.populate=function(e,t){this.features=[],this.hasPattern=pa("fill-extrusion",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var r=i[n],o=r.feature,a=r.index,s=r.sourceLayerIndex;if(this.layers[0]._featureFilter(new ki(this.zoom),o)){var l=$r(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(Aa("fill-extrusion",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(o,l,a,s,this.index,!0)}}},Da.prototype.addFeatures=function(e,t){for(var n=0,i=this.features;n<i.length;n+=1){var r=i[n],o=r.geometry;this.addFeature(r,o,r.index,t)}},Da.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Da.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Da.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Da.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,va),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Da.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Da.prototype.addFeature=function(e,t,n,i){for(var r=0,o=da(t,500);r<o.length;r+=1){for(var a=o[r],s=0,l=0,u=a;l<u.length;l+=1)s+=u[l].length;for(var c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),g=0,d=a;g<d.length;g+=1){var h=d[g];if(0!==h.length&&!Ma(h))for(var p=0,A=0;A<h.length;A++){var f=h[A];if(A>=1){var C=h[A-1];if(!ja(f,C)){c.vertexLength+4>Er.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var I=f.sub(C)._perp()._unit(),v=C.dist(f);p+v>32768&&(p=0),Pa(this.layoutVertexArray,f.x,f.y,I.x,I.y,0,0,p),Pa(this.layoutVertexArray,f.x,f.y,I.x,I.y,0,1,p),p+=v,Pa(this.layoutVertexArray,C.x,C.y,I.x,I.y,0,0,p),Pa(this.layoutVertexArray,C.x,C.y,I.x,I.y,0,1,p);var m=c.vertexLength;this.indexArray.emplaceBack(m,m+2,m+1),this.indexArray.emplaceBack(m+1,m+2,m+3),c.vertexLength+=4,c.primitiveLength+=2}}}}if(c.vertexLength+s>Er.MAX_VERTEX_ARRAY_LENGTH&&(c=this.segments.prepareSegment(s,this.layoutVertexArray,this.indexArray)),"Polygon"===Ta[e.type]){for(var y=[],b=[],x=c.vertexLength,_=0,w=a;_<w.length;_+=1){var k=w[_];if(0!==k.length){k!==a[0]&&b.push(y.length/2);for(var E=0;E<k.length;E++){var S=k[E];Pa(this.layoutVertexArray,S.x,S.y,0,0,1,1,0),y.push(S.x),y.push(S.y)}}}for(var T=Fo(y,b),O=0;O<T.length;O+=3)this.indexArray.emplaceBack(x+T[O],x+T[O+2],x+T[O+1]);c.primitiveLength+=T.length/3,c.vertexLength+=s}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i)},li("FillExtrusionBucket",Da,{omit:["layers","features"]});var Na={paint:new Bi({"fill-extrusion-opacity":new Ni(Ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new zi(Ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ni(Ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ni(Ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ri(Ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new zi(Ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new zi(Ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ni(Ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},za=function(e){function t(t){e.call(this,t,Na)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Da(e)},t.prototype.queryRadius=function(){return Ao(this.paint.get("fill-extrusion-translate"))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,i,o,a,s,l){var u=fo(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(t,n),g=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,i){for(var o=[],a=0,s=e;a<s.length;a+=1){var l=s[a],u=[l.x,l.y,i,1];bo(u,u,t),o.push(new r(u[0]/u[3],u[1]/u[3]))}return o}(u,l,0,0),h=function(e,t,n,i){for(var o=[],a=[],s=i[8]*t,l=i[9]*t,u=i[10]*t,c=i[11]*t,g=i[8]*n,d=i[9]*n,h=i[10]*n,p=i[11]*n,A=0,f=e;A<f.length;A+=1){for(var C=[],I=[],v=0,m=f[A];v<m.length;v+=1){var y=m[v],b=y.x,x=y.y,_=i[0]*b+i[4]*x+i[12],w=i[1]*b+i[5]*x+i[13],k=i[2]*b+i[6]*x+i[14],E=i[3]*b+i[7]*x+i[15],S=k+u,T=E+c,O=_+g,P=w+d,D=k+h,j=E+p,M=new r((_+s)/T,(w+l)/T);M.z=S/T,C.push(M);var N=new r(O/j,P/j);N.z=D/j,I.push(N)}o.push(C),a.push(I)}return[o,a]}(i,g,c,l);return function(e,t,n){var i=1/0;ro(n,t)&&(i=Fa(n,t[0]));for(var r=0;r<t.length;r++)for(var o=t[r],a=e[r],s=0;s<o.length-1;s++){var l=o[s],u=o[s+1],c=a[s],g=[l,u,a[s+1],c,l];no(n,g)&&(i=Math.min(i,Fa(n,g)))}return i!==1/0&&i}(h[0],h[1],d)},t}(Zi);function Ra(e,t){return e.x*t.x+e.y*t.y}function Fa(e,t){if(1===e.length){var n=t[0],i=t[1],r=t[3],o=e[0],a=i.sub(n),s=r.sub(n),l=o.sub(n),u=Ra(a,a),c=Ra(a,s),g=Ra(s,s),d=Ra(l,a),h=Ra(l,s),p=u*g-c*c,A=(g*d-c*h)/p,f=(u*h-c*d)/p,C=1-A-f;return n.z*C+i.z*A+r.z*f}for(var I=1/0,v=0,m=t;v<m.length;v+=1){var y=m[v];I=Math.min(I,y.z)}return I}var La=Gi([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Ba=Sa.VectorTileFeature.types,Za=63,Va=Math.cos(Math.PI/180*37.5),Ua=.5,Wa=Math.pow(2,14)/Ua;function Ga(e,t,n,i,r,o,a){e.emplaceBack(t.x,t.y,i?1:0,r?1:-1,Math.round(Za*n.x)+128,Math.round(Za*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*Ua&63)<<2,a*Ua>>6)}var Ha=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.features=[],this.hasPattern=!1,this.layoutVertexArray=new Xi,this.indexArray=new ur,this.programConfigurations=new Yr(La,e.layers,e.zoom),this.segments=new Er,this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id}))};function Ya(e,t){return(e/t.tileTotal*(t.end-t.start)+t.start)*(Wa-1)}Ha.prototype.populate=function(e,t){this.features=[],this.hasPattern=pa("line",this.layers,t);for(var n=0,i=e;n<i.length;n+=1){var r=i[n],o=r.feature,a=r.index,s=r.sourceLayerIndex;if(this.layers[0]._featureFilter(new ki(this.zoom),o)){var l=$r(o),u={sourceLayerIndex:s,index:a,geometry:l,properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&&(u.id=o.id),this.hasPattern?this.features.push(Aa("line",this.layers,u,this.zoom,t)):this.addFeature(u,l,a,{}),t.featureIndex.insert(o,l,a,s,this.index)}}},Ha.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ha.prototype.addFeatures=function(e,t){for(var n=0,i=this.features;n<i.length;n+=1){var r=i[n],o=r.geometry;this.addFeature(r,o,r.index,t)}},Ha.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ha.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ha.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,La),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ha.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ha.prototype.addFeature=function(e,t,n,i){for(var r=this.layers[0].layout,o=r.get("line-join").evaluate(e,{}),a=r.get("line-cap"),s=r.get("line-miter-limit"),l=r.get("line-round-limit"),u=0,c=t;u<c.length;u+=1){var g=c[u];this.addLine(g,e,o,a,s,l,n,i)}},Ha.prototype.addLine=function(e,t,n,i,r,o,a,s){var l=null;t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end")&&(l={start:t.properties.mapbox_clip_start,end:t.properties.mapbox_clip_end,tileTotal:void 0});for(var u="Polygon"===Ba[t.type],c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var g=0;g<c-1&&e[g].equals(e[g+1]);)g++;if(!(c<(u?3:2))){l&&(l.tileTotal=function(e,t,n){for(var i,r,o=0,a=t;a<n-1;a++)i=e[a],r=e[a+1],o+=i.dist(r);return o}(e,g,c)),"bevel"===n&&(r=1.05);var d=Qr/(512*this.overscaling)*15,h=e[g],p=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);this.distance=0;var A,f,C,I=i,v=u?"butt":i,m=!0,y=void 0,b=void 0,x=void 0,_=void 0;this.e1=this.e2=this.e3=-1,u&&(A=e[c-2],_=h.sub(A)._unit()._perp());for(var w=g;w<c;w++)if(!(b=u&&w===c-1?e[g+1]:e[w+1])||!e[w].equals(b)){_&&(x=_),A&&(y=A),A=e[w],_=b?b.sub(A)._unit()._perp():x;var k=(x=x||_).add(_);0===k.x&&0===k.y||k._unit();var E=k.x*_.x+k.y*_.y,S=0!==E?1/E:1/0,T=E<Va&&y&&b;if(T&&w>g){var O=A.dist(y);if(O>2*d){var P=A.sub(A.sub(y)._mult(d/O)._round());this.distance+=P.dist(y),this.addCurrentVertex(P,this.distance,x.mult(1),0,0,!1,p,l),y=P}}var D=y&&b,j=D?n:b?I:v;if(D&&"round"===j&&(S<o?j="miter":S<=2&&(j="fakeround")),"miter"===j&&S>r&&(j="bevel"),"bevel"===j&&(S>2&&(j="flipbevel"),S<r&&(j="miter")),y&&(this.distance+=A.dist(y)),"miter"===j)k._mult(S),this.addCurrentVertex(A,this.distance,k,0,0,!1,p,l);else if("flipbevel"===j){if(S>100)k=_.clone().mult(-1);else{var M=x.x*_.y-x.y*_.x>0?-1:1,N=S*x.add(_).mag()/x.sub(_).mag();k._perp()._mult(N*M)}this.addCurrentVertex(A,this.distance,k,0,0,!1,p,l),this.addCurrentVertex(A,this.distance,k.mult(-1),0,0,!1,p,l)}else if("bevel"===j||"fakeround"===j){var z=x.x*_.y-x.y*_.x>0,R=-Math.sqrt(S*S-1);if(z?(C=0,f=R):(f=0,C=R),m||this.addCurrentVertex(A,this.distance,x,f,C,!1,p,l),"fakeround"===j){for(var F=Math.floor(8*(.5-(E-.5))),L=void 0,B=0;B<F;B++)L=_.mult((B+1)/(F+1))._add(x)._unit(),this.addPieSliceVertex(A,this.distance,L,z,p,l);this.addPieSliceVertex(A,this.distance,k,z,p,l);for(var Z=F-1;Z>=0;Z--)L=x.mult((Z+1)/(F+1))._add(_)._unit(),this.addPieSliceVertex(A,this.distance,L,z,p,l)}b&&this.addCurrentVertex(A,this.distance,_,-f,-C,!1,p,l)}else"butt"===j?(m||this.addCurrentVertex(A,this.distance,x,0,0,!1,p,l),b&&this.addCurrentVertex(A,this.distance,_,0,0,!1,p,l)):"square"===j?(m||(this.addCurrentVertex(A,this.distance,x,1,1,!1,p,l),this.e1=this.e2=-1),b&&this.addCurrentVertex(A,this.distance,_,-1,-1,!1,p,l)):"round"===j&&(m||(this.addCurrentVertex(A,this.distance,x,0,0,!1,p,l),this.addCurrentVertex(A,this.distance,x,1,1,!0,p,l),this.e1=this.e2=-1),b&&(this.addCurrentVertex(A,this.distance,_,-1,-1,!0,p,l),this.addCurrentVertex(A,this.distance,_,0,0,!1,p,l)));if(T&&w<c-1){var V=A.dist(b);if(V>2*d){var U=A.add(b.sub(A)._mult(d/V)._round());this.distance+=U.dist(A),this.addCurrentVertex(U,this.distance,_.mult(1),0,0,!1,p,l),A=U}}m=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,a,s)}},Ha.prototype.addCurrentVertex=function(e,t,n,i,r,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;s&&(t=Ya(t,s)),l=n.clone(),i&&l._sub(n.perp()._mult(i)),Ga(u,e,l,o,!1,i,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),r&&l._sub(n.perp()._mult(r)),Ga(u,e,l,o,!0,-r,t),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,t>Wa/2&&!s&&(this.distance=0,this.addCurrentVertex(e,this.distance,n,i,r,o,a))},Ha.prototype.addPieSliceVertex=function(e,t,n,i,r,o){n=n.mult(i?-1:1);var a=this.layoutVertexArray,s=this.indexArray;o&&(t=Ya(t,o)),Ga(a,e,n,!1,i,0,t),this.e3=r.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),r.primitiveLength++),i?this.e2=this.e3:this.e1=this.e3},li("LineBucket",Ha,{omit:["layers","features"]});var qa=new Bi({"line-cap":new Ni(Ce.layout_line["line-cap"]),"line-join":new zi(Ce.layout_line["line-join"]),"line-miter-limit":new Ni(Ce.layout_line["line-miter-limit"]),"line-round-limit":new Ni(Ce.layout_line["line-round-limit"])}),Ka={paint:new Bi({"line-opacity":new zi(Ce.paint_line["line-opacity"]),"line-color":new zi(Ce.paint_line["line-color"]),"line-translate":new Ni(Ce.paint_line["line-translate"]),"line-translate-anchor":new Ni(Ce.paint_line["line-translate-anchor"]),"line-width":new zi(Ce.paint_line["line-width"]),"line-gap-width":new zi(Ce.paint_line["line-gap-width"]),"line-offset":new zi(Ce.paint_line["line-offset"]),"line-blur":new zi(Ce.paint_line["line-blur"]),"line-dasharray":new Fi(Ce.paint_line["line-dasharray"]),"line-pattern":new Ri(Ce.paint_line["line-pattern"]),"line-gradient":new Li(Ce.paint_line["line-gradient"])}),layout:qa},Xa=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new ki(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,i,r){return n=g({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,i,r)},t}(zi))(Ka.paint.properties["line-width"].specification);Xa.useIntegerZoom=!0;var Qa=function(e){function t(t){e.call(this,t,Ka)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){"line-gradient"===e&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=jo(e,"lineProgress"),this.gradientTexture=null},t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),this.paint._values["line-floorwidth"]=Xa.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)},t.prototype.createBucket=function(e){return new Ha(e)},t.prototype.queryRadius=function(e){var t=e,n=Ja(po("line-width",this,t),po("line-gap-width",this,t)),i=po("line-offset",this,t);return n/2+Math.abs(i)+Ao(this.paint.get("line-translate"))},t.prototype.queryIntersectsFeature=function(e,t,n,i,o,a,s){var l=fo(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),u=s/2*Ja(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),c=this.paint.get("line-offset").evaluate(t,n);return c&&(i=function(e,t){for(var n=[],i=new r(0,0),o=0;o<e.length;o++){for(var a=e[o],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],g=a[l+1],d=0===l?i:c.sub(u)._unit()._perp(),h=l===a.length-1?i:g.sub(c)._unit()._perp(),p=d._add(h)._unit(),A=p.x*h.x+p.y*h.y;p._mult(1/A),s.push(p._mult(t)._add(c))}n.push(s)}return n}(i,c*s)),function(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];if(e.length>=3)for(var o=0;o<r.length;o++)if(go(e,r[o]))return!0;if(oo(e,r,n))return!0}return!1}(l,i,u)},t.prototype.isTileClipped=function(){return!0},t}(Zi);function Ja(e,t){return t>0?t+2*e:e}var $a=Gi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),es=Gi([{name:"a_projected_pos",components:3,type:"Float32"}],4),ts=(Gi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Gi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),ns=(Gi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),Gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),is=Gi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4);function rs(e,t,n){return e.sections.forEach((function(e){e.text=function(e,t,n){var i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),wi.applyArabicShaping&&(e=wi.applyArabicShaping(e)),e}(e.text,t,n)})),e}Gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"}]),Gi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"radialTextOffset"}]),Gi([{type:"Float32",name:"offsetX"}]),Gi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var os={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},as=function(e){function t(t,n,i,r){e.call(this,t,n),this.angle=i,void 0!==r&&(this.segment=r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(r);li("Anchor",as);var ss=256;function ls(e,t){var n=t.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate(new ki(e+1))};if("source"===n.kind)return{functionType:"source"};for(var i=n.zoomStops,r=0;r<i.length&&i[r]<=e;)r++;for(var o=r=Math.max(0,r-1);o<i.length&&i[o]<e+1;)o++;o=Math.min(i.length-1,o);var a={min:i[r],max:i[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:t.value}:{functionType:"camera",layoutSize:n.evaluate(new ki(e+1)),zoomRange:a,sizeRange:{min:n.evaluate(new ki(a.min)),max:n.evaluate(new ki(a.max))},propertyValue:t.value}}function us(e,t,n){var i=t;return"source"===e.functionType?n.lowerSize/ss:"composite"===e.functionType?ct(n.lowerSize/ss,n.upperSize/ss,i.uSizeT):i.uSize}function cs(e,t,n){if("constant"===e.functionType)return{uSizeT:0,uSize:e.layoutSize};if("source"===e.functionType)return{uSizeT:0,uSize:0};if("camera"===e.functionType){var i=e.propertyValue,r=e.zoomRange,o=e.sizeRange,a=u(bn(i,n.specification).interpolationFactor(t,r.min,r.max),0,1);return{uSizeT:0,uSize:o.min+a*(o.max-o.min)}}var s=e.propertyValue,l=e.zoomRange;return{uSizeT:u(bn(s,n.specification).interpolationFactor(t,l.min,l.max),0,1),uSize:0}}var gs=Object.freeze({getSizeData:ls,evaluateSizeForFeature:us,evaluateSizeForZoom:cs,SIZE_PACK_FACTOR:ss}),ds=Sa.VectorTileFeature.types,hs=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ps(e,t,n,i,r,o,a,s){e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),o,a,s?s[0]:0,s?s[1]:0)}function As(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}var fs=function(e){this.layoutVertexArray=new Ji,this.indexArray=new ur,this.programConfigurations=e,this.segments=new Er,this.dynamicLayoutVertexArray=new $i,this.opacityVertexArray=new er,this.placedSymbolArray=new Cr};fs.prototype.upload=function(e,t,n,i){n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$a.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,es.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,hs,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e)},fs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},li("SymbolBuffers",fs);var Cs=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new Er,this.collisionVertexArray=new ir};Cs.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,ts.members,!0)},Cs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},li("CollisionBuffers",Cs);var Is=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((function(e){return e.id})),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1;var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=ls(this.zoom,t["text-size"]),this.iconSizeData=ls(this.zoom,t["icon-size"]);var n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1);var o="viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey;this.sortFeaturesByY=o&&(n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement")),this.stateDependentLayerIds=this.layers.filter((function(e){return e.isStateDependent()})).map((function(e){return e.id})),this.sourceID=e.sourceID};Is.prototype.createArrays=function(){this.text=new fs(new Yr($a.members,this.layers,this.zoom,(function(e){return/^text/.test(e)}))),this.icon=new fs(new Yr($a.members,this.layers,this.zoom,(function(e){return/^icon/.test(e)}))),this.collisionBox=new Cs(nr,ns.members,cr),this.collisionCircle=new Cs(nr,is.members,ur),this.glyphOffsetArray=new yr,this.lineVertexArray=new xr,this.symbolInstances=new vr},Is.prototype.calculateGlyphDependencies=function(e,t,n,i){for(var r=0;r<e.length;r++)if(t[e.charCodeAt(r)]=!0,n&&i){var o=os[e.charAt(r)];o&&(t[o.charCodeAt(0)]=!0)}},Is.prototype.populate=function(e,t){var n=this.layers[0],i=n.layout,r=i.get("text-font"),o=i.get("text-field"),a=i.get("icon-image"),s=("constant"!==o.value.kind||o.value.value.toString().length>0)&&("constant"!==r.value.kind||r.value.value.length>0),l="constant"!==a.value.kind||a.value.value&&a.value.value.length>0,u=i.get("symbol-sort-key");if(this.features=[],s||l){for(var c=t.iconDependencies,g=t.glyphDependencies,d=new ki(this.zoom),h=0,p=e;h<p.length;h+=1){var A=p[h],f=A.feature,C=A.index,I=A.sourceLayerIndex;if(n._featureFilter(d,f)){var v=void 0;if(s){var m=n.getValueAndResolveTokens("text-field",f);v=rs(m instanceof Ve?m:Ve.fromString(m),n,f)}var y=void 0;if(l&&(y=n.getValueAndResolveTokens("icon-image",f)),v||y){var b=this.sortFeaturesByKey?u.evaluate(f,{}):void 0,x={text:v,icon:y,index:C,sourceLayerIndex:I,geometry:$r(f),properties:f.properties,type:ds[f.type],sortKey:b};if(void 0!==f.id&&(x.id=f.id),this.features.push(x),y&&(c[y]=!0),v)for(var _=r.evaluate(f,{}).join(","),w="map"===i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement"),k=0,E=v.sections;k<E.length;k+=1){var S=E[k],T=pi(v.toString()),O=S.fontStack||_,P=g[O]=g[O]||{};this.calculateGlyphDependencies(S.text,P,w,T)}}}}"line"===i.get("symbol-placement")&&(this.features=function(e){var t={},n={},i=[],r=0;function o(t){i.push(e[t]),r++}function a(e,t,r){var o=n[e];return delete n[e],n[t]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(e,n,r){var o=t[n];return delete t[n],t[e]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function l(e,t,n){var i=n?t[0][t[0].length-1]:t[0][0];return e+":"+i.x+":"+i.y}for(var u=0;u<e.length;u++){var c=e[u],g=c.geometry,d=c.text?c.text.toString():null;if(d){var h=l(d,g),p=l(d,g,!0);if(h in n&&p in t&&n[h]!==t[p]){var A=s(h,p,g),f=a(h,p,i[A].geometry);delete t[h],delete n[p],n[l(d,i[f].geometry,!0)]=f,i[A].geometry=null}else h in n?a(h,p,g):p in t?s(h,p,g):(o(u),t[h]=r-1,n[p]=r-1)}else o(u)}return i.filter((function(e){return e.geometry}))}(this.features)),this.sortFeaturesByKey&&this.features.sort((function(e,t){return e.sortKey-t.sortKey}))}},Is.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},Is.prototype.isEmpty=function(){return 0===this.symbolInstances.length},Is.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Is.prototype.upload=function(e){this.uploaded||(this.collisionBox.upload(e),this.collisionCircle.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Is.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},Is.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(void 0!==e.segment){for(var i=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]),o={},a=e.segment+1;a<t.length;a++)o[a]={x:t[a].x,y:t[a].y,tileUnitDistanceFromAnchor:i},a<t.length-1&&(i+=t[a+1].dist(t[a]));for(var s=e.segment||0;s>=0;s--)o[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:r},s>0&&(r+=t[s-1].dist(t[s]));for(var l=0;l<t.length;l++){var u=o[l];this.lineVertexArray.emplaceBack(u.x,u.y,u.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Is.prototype.addSymbols=function(e,t,n,i,r,o,a,s,l,u){for(var c=e.indexArray,g=e.layoutVertexArray,d=e.dynamicLayoutVertexArray,h=e.segments.prepareSegment(4*t.length,e.layoutVertexArray,e.indexArray,o.sortKey),p=this.glyphOffsetArray.length,A=h.vertexLength,f=0,C=t;f<C.length;f+=1){var I=C[f],v=I.tl,m=I.tr,y=I.bl,b=I.br,x=I.tex,_=h.vertexLength,w=I.glyphOffset[1];ps(g,s.x,s.y,v.x,w+v.y,x.x,x.y,n),ps(g,s.x,s.y,m.x,w+m.y,x.x+x.w,x.y,n),ps(g,s.x,s.y,y.x,w+y.y,x.x,x.y+x.h,n),ps(g,s.x,s.y,b.x,w+b.y,x.x+x.w,x.y+x.h,n),As(d,s,0),c.emplaceBack(_,_+1,_+2),c.emplaceBack(_+1,_+2,_+3),h.vertexLength+=4,h.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(I.glyphOffset[0])}e.placedSymbolArray.emplaceBack(s.x,s.y,p,this.glyphOffsetArray.length-p,A,l,u,s.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,!1,0),e.programConfigurations.populatePaintArrays(e.layoutVertexArray.length,o,o.index,{})},Is.prototype._addCollisionDebugVertex=function(e,t,n,i,r,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,i,r,Math.round(o.x),Math.round(o.y))},Is.prototype.addCollisionDebugVertices=function(e,t,n,i,o,a,s,l){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=u.vertexLength,g=o.layoutVertexArray,d=o.collisionVertexArray,h=s.anchorX,p=s.anchorY;if(this._addCollisionDebugVertex(g,d,a,h,p,new r(e,t)),this._addCollisionDebugVertex(g,d,a,h,p,new r(n,t)),this._addCollisionDebugVertex(g,d,a,h,p,new r(n,i)),this._addCollisionDebugVertex(g,d,a,h,p,new r(e,i)),u.vertexLength+=4,l){var A=o.indexArray;A.emplaceBack(c,c+1,c+2),A.emplaceBack(c,c+2,c+3),u.primitiveLength+=2}else{var f=o.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),u.primitiveLength+=4}},Is.prototype.addDebugCollisionBoxes=function(e,t,n){for(var i=e;i<t;i++){var r=this.collisionBoxArray.get(i),o=r.x1,a=r.y1,s=r.x2,l=r.y2,u=r.radius>0;this.addCollisionDebugVertices(o,a,s,l,u?this.collisionCircle:this.collisionBox,r.anchorPoint,n,u)}},Is.prototype.generateCollisionDebugBuffers=function(){for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t)}},Is.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,i,r){for(var o={},a=t;a<n;a++){var s=e.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY},o.textFeatureIndex=s.featureIndex;break}o.textCircles||(o.textCircles=[],o.textFeatureIndex=s.featureIndex),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=i;l<r;l++){var u=e.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY},o.iconFeatureIndex=u.featureIndex;break}}return o},Is.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex))}},Is.prototype.hasTextData=function(){return this.text.segments.get().length>0},Is.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Is.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},Is.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},Is.prototype.addIndicesForPlacedTextSymbol=function(e){for(var t=this.text.placedSymbolArray.get(e),n=t.vertexStartIndex+4*t.numGlyphs,i=t.vertexStartIndex;i<n;i+=4)this.text.indexArray.emplaceBack(i,i+1,i+2),this.text.indexArray.emplaceBack(i+1,i+2,i+3)},Is.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&(this.sortedAngle=e,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],i=0;i<this.symbolInstances.length;i++)n.push(i);for(var r=Math.sin(e),o=Math.cos(e),a=[],s=[],l=0;l<this.symbolInstances.length;l++){var u=this.symbolInstances.get(l);a.push(0|Math.round(r*u.anchorX+o*u.anchorY)),s.push(u.featureIndex)}n.sort((function(e,t){return a[e]-a[t]||s[t]-s[e]})),this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var c=0,g=n;c<g.length;c+=1){var d=g[c],h=this.symbolInstances.get(d);this.featureSortOrder.push(h.featureIndex),[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex].forEach((function(e,n,i){e>=0&&i.indexOf(e)===n&&t.addIndicesForPlacedTextSymbol(e)})),h.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedTextSymbol(h.verticalPlacedTextSymbolIndex);var p=this.icon.placedSymbolArray.get(d);if(p.numGlyphs){var A=p.vertexStartIndex;this.icon.indexArray.emplaceBack(A,A+1,A+2),this.icon.indexArray.emplaceBack(A+1,A+2,A+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},li("SymbolBucket",Is,{omit:["layers","collisionBoxArray","features","compareText"]}),Is.MAX_GLYPHS=65535,Is.addDynamicAttributes=As;var vs=new Bi({"symbol-placement":new Ni(Ce.layout_symbol["symbol-placement"]),"symbol-spacing":new Ni(Ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ni(Ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new zi(Ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ni(Ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ni(Ce.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ni(Ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ni(Ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ni(Ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new zi(Ce.layout_symbol["icon-size"]),"icon-text-fit":new Ni(Ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ni(Ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new zi(Ce.layout_symbol["icon-image"]),"icon-rotate":new zi(Ce.layout_symbol["icon-rotate"]),"icon-padding":new Ni(Ce.layout_symbol["icon-padding"]),"icon-keep-upright":new Ni(Ce.layout_symbol["icon-keep-upright"]),"icon-offset":new zi(Ce.layout_symbol["icon-offset"]),"icon-anchor":new zi(Ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ni(Ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ni(Ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ni(Ce.layout_symbol["text-rotation-alignment"]),"text-field":new zi(Ce.layout_symbol["text-field"]),"text-font":new zi(Ce.layout_symbol["text-font"]),"text-size":new zi(Ce.layout_symbol["text-size"]),"text-max-width":new zi(Ce.layout_symbol["text-max-width"]),"text-line-height":new Ni(Ce.layout_symbol["text-line-height"]),"text-letter-spacing":new zi(Ce.layout_symbol["text-letter-spacing"]),"text-justify":new zi(Ce.layout_symbol["text-justify"]),"text-radial-offset":new zi(Ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ni(Ce.layout_symbol["text-variable-anchor"]),"text-anchor":new zi(Ce.layout_symbol["text-anchor"]),"text-max-angle":new Ni(Ce.layout_symbol["text-max-angle"]),"text-rotate":new zi(Ce.layout_symbol["text-rotate"]),"text-padding":new Ni(Ce.layout_symbol["text-padding"]),"text-keep-upright":new Ni(Ce.layout_symbol["text-keep-upright"]),"text-transform":new zi(Ce.layout_symbol["text-transform"]),"text-offset":new zi(Ce.layout_symbol["text-offset"]),"text-allow-overlap":new Ni(Ce.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ni(Ce.layout_symbol["text-ignore-placement"]),"text-optional":new Ni(Ce.layout_symbol["text-optional"])}),ms={paint:new Bi({"icon-opacity":new zi(Ce.paint_symbol["icon-opacity"]),"icon-color":new zi(Ce.paint_symbol["icon-color"]),"icon-halo-color":new zi(Ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new zi(Ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new zi(Ce.paint_symbol["icon-halo-blur"]),"icon-translate":new Ni(Ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ni(Ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new zi(Ce.paint_symbol["text-opacity"]),"text-color":new zi(Ce.paint_symbol["text-color"]),"text-halo-color":new zi(Ce.paint_symbol["text-halo-color"]),"text-halo-width":new zi(Ce.paint_symbol["text-halo-width"]),"text-halo-blur":new zi(Ce.paint_symbol["text-halo-blur"]),"text-translate":new Ni(Ce.paint_symbol["text-translate"]),"text-translate-anchor":new Ni(Ce.paint_symbol["text-translate-anchor"])}),layout:vs},ys=function(e){function t(t){e.call(this,t,ms)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t){e.prototype.recalculate.call(this,t),"auto"===this.layout.get("icon-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("point"!==this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},t.prototype.getValueAndResolveTokens=function(e,t){var n,i=this.layout.get(e).evaluate(t,{}),r=this._unevaluatedLayout._values[e];return r.isDataDriven()||fn(r.value)?i:(n=t.properties,i.replace(/{([^{}]+)}/g,(function(e,t){return t in n?String(n[t]):""})))},t.prototype.createBucket=function(e){return new Is(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t}(Zi),bs={paint:new Bi({"background-color":new Ni(Ce.paint_background["background-color"]),"background-pattern":new Fi(Ce.paint_background["background-pattern"]),"background-opacity":new Ni(Ce.paint_background["background-opacity"])})},xs=function(e){function t(t){e.call(this,t,bs)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zi),_s={paint:new Bi({"raster-opacity":new Ni(Ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ni(Ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ni(Ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ni(Ce.paint_raster["raster-brightness-max"]),"raster-saturation":new Ni(Ce.paint_raster["raster-saturation"]),"raster-contrast":new Ni(Ce.paint_raster["raster-contrast"]),"raster-resampling":new Ni(Ce.paint_raster["raster-resampling"]),"raster-fade-duration":new Ni(Ce.paint_raster["raster-fade-duration"])})},ws=function(e){function t(t){e.call(this,t,_s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Zi),ks=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},t.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e)},t}(Zi),Es={circle:_o,heatmap:Mo,hillshade:zo,fill:Ia,"fill-extrusion":za,line:Qa,symbol:ys,background:xs,raster:ws};function Ss(e){for(var t=0,n=0,i=0,r=e;i<r.length;i+=1){var o=r[i];t+=o.w*o.h,n=Math.max(n,o.w)}e.sort((function(e,t){return t.h-e.h}));for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,l=0,u=0,c=e;u<c.length;u+=1)for(var g=c[u],d=a.length-1;d>=0;d--){var h=a[d];if(!(g.w>h.w||g.h>h.h)){if(g.x=h.x,g.y=h.y,l=Math.max(l,g.y+g.h),s=Math.max(s,g.x+g.w),g.w===h.w&&g.h===h.h){var p=a.pop();d<a.length&&(a[d]=p)}else g.h===h.h?(h.x+=g.w,h.w-=g.w):g.w===h.w?(h.y+=g.h,h.h-=g.h):(a.push({x:h.x+g.w,y:h.y,w:h.w-g.w,h:g.h}),h.y+=g.h,h.h-=g.h);break}}return{w:s,h:l,fill:t/(s*l)||0}}var Ts=function(e,t){var n=t.pixelRatio,i=t.version;this.paddedRect=e,this.pixelRatio=n,this.version=i},Os={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Os.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},Os.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},Os.tlbr.get=function(){return this.tl.concat(this.br)},Os.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(Ts.prototype,Os);var Ps=function(e,t){var n={},i={};this.haveRenderCallbacks=[];var r=[];this.addImages(e,n,r),this.addImages(t,i,r);var o=Ss(r),a=o.w,s=o.h,l=new Po({width:a||1,height:s||1});for(var u in e){var c=e[u],g=n[u].paddedRect;Po.copy(c.data,l,{x:0,y:0},{x:g.x+1,y:g.y+1},c.data)}for(var d in t){var h=t[d],p=i[d].paddedRect,A=p.x+1,f=p.y+1,C=h.data.width,I=h.data.height;Po.copy(h.data,l,{x:0,y:0},{x:A,y:f},h.data),Po.copy(h.data,l,{x:0,y:I-1},{x:A,y:f-1},{width:C,height:1}),Po.copy(h.data,l,{x:0,y:0},{x:A,y:f+I},{width:C,height:1}),Po.copy(h.data,l,{x:C-1,y:0},{x:A-1,y:f},{width:1,height:I}),Po.copy(h.data,l,{x:0,y:0},{x:A+C,y:f},{width:1,height:I})}this.image=l,this.iconPositions=n,this.patternPositions=i};Ps.prototype.addImages=function(e,t,n){for(var i in e){var r=e[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),t[i]=new Ts(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}},Ps.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},Ps.prototype.patchUpdatedImage=function(e,t,n){if(e&&t&&e.version!==t.version){e.version=t.version;var i=e.tl,r=i[0],o=i[1];n.update(t.data,void 0,{x:r,y:o})}},li("ImagePosition",Ts),li("ImageAtlas",Ps);var Ds=self.HTMLImageElement,js=self.HTMLCanvasElement,Ms=self.HTMLVideoElement,Ns=self.ImageData,zs=function(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)};zs.prototype.update=function(e,t,n){var i=e.width,r=e.height,o=!(this.size&&this.size[0]===i&&this.size[1]===r||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[i,r],e instanceof Ds||e instanceof js||e instanceof Ms||e instanceof Ns?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,i,r,0,this.format,s.UNSIGNED_BYTE,e.data);else{var l=n||{x:0,y:0},u=l.x,c=l.y;e instanceof Ds||e instanceof js||e instanceof Ms||e instanceof Ns?s.texSubImage2D(s.TEXTURE_2D,0,u,c,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,u,c,i,r,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},zs.prototype.bind=function(e,t,n){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)},zs.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},zs.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Rs=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,g=n?r-1:0,d=n?-1:1,h=e[t+g];for(g+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+g],g+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+g],g+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,i),o-=u}return(h?-1:1)*a*Math.pow(2,o-i)},Fs=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,g=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,A=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+g>=1?d/l:d*Math.pow(2,1-g))*l>=2&&(a++,l/=2),a+g>=c?(s=0,a=c):a+g>=1?(s=(t*l-1)*Math.pow(2,r),a+=g):(s=t*Math.pow(2,g-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*A},Ls=Bs;function Bs(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}function Zs(e){return e.type===Bs.Bytes?e.readVarint()+e.pos:e.pos+1}function Vs(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Us(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function Ws(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Gs(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Hs(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Ys(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function qs(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Ks(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Xs(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Qs(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Js(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function $s(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function el(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function tl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Bs.Varint=0,Bs.Fixed64=1,Bs.Bytes=2,Bs.Fixed32=5,Bs.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=$s(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=tl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=$s(this.buf,this.pos)+4294967296*$s(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=$s(this.buf,this.pos)+4294967296*tl(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=Rs(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Rs(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return Vs(e,i,t);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return Vs(e,i,t);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return Vs(e,i,t);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return Vs(e,i,t);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return Vs(e,i,t);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return Vs(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,n){for(var i="",r=t;r<n;){var o,a,s,l=e[r],u=null,c=l>239?4:l>223?3:l>191?2:1;if(r+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[r+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),r+=c}return i}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=Zs(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=Zs(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Bs.Varint)for(;this.buf[this.pos++]>127;);else if(t===Bs.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Bs.Fixed32)this.pos+=4;else{if(t!==Bs.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),el(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),el(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),el(this.buf,-1&e,this.pos),el(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),el(this.buf,-1&e,this.pos),el(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,o=0;o<t.length;o++){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Us(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Fs(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Fs(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&Us(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,Bs.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,Ws,t)},writePackedSVarint:function(e,t){this.writeMessage(e,Gs,t)},writePackedBoolean:function(e,t){this.writeMessage(e,qs,t)},writePackedFloat:function(e,t){this.writeMessage(e,Hs,t)},writePackedDouble:function(e,t){this.writeMessage(e,Ys,t)},writePackedFixed32:function(e,t){this.writeMessage(e,Ks,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,Xs,t)},writePackedFixed64:function(e,t){this.writeMessage(e,Qs,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,Js,t)},writeBytesField:function(e,t){this.writeTag(e,Bs.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Bs.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Bs.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Bs.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Bs.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Bs.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var nl=3;function il(e,t,n){1===e&&n.readMessage(rl,t)}function rl(e,t,n){if(3===e){var i=n.readMessage(ol,{}),r=i.id,o=i.bitmap,a=i.width,s=i.height,l=i.left,u=i.top,c=i.advance;t.push({id:r,bitmap:new Oo({width:a+2*nl,height:s+2*nl},o),metrics:{width:a,height:s,left:l,top:u,advance:c}})}}function ol(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}var al=nl,sl=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.callbackID=0,f(["receive"],this),this.target.addEventListener("message",this.receive,!1)};function ll(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}sl.prototype.send=function(e,t,n,i){var r=this,o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n);var a=[];if(this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:e,id:String(o),data:ci(t,a)},a),n)return{cancel:function(){r.callbacks[o]=null,r.target.postMessage({targetMapId:i,sourceMapId:r.mapId,type:"<cancel>",id:String(o)})}}},sl.prototype.receive=function(e){var t,n=this,i=e.data,r=i.id;if(!i.targetMapId||this.mapId===i.targetMapId){var o=function(e,t){delete n.callbacks[r];var i=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(r),error:e?ci(e):null,data:ci(t,i)},i)};if("<response>"===i.type||"<cancel>"===i.type)t=this.callbacks[i.id],delete this.callbacks[i.id],t&&i.error?t(gi(i.error)):t&&t(null,gi(i.data));else if(void 0!==i.id&&this.parent[i.type]){this.callbacks[i.id]=null;var a=this.parent[i.type](i.sourceMapId,gi(i.data),o);a&&null===this.callbacks[i.id]&&(this.callbacks[i.id]=a.cancel)}else if(void 0!==i.id&&this.parent.getWorkerSource){var s=i.type.split("."),l=gi(i.data);this.parent.getWorkerSource(i.sourceMapId,s[0],l.source)[s[1]](l,o)}else this.parent[i.type](gi(i.data))}},sl.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)};var ul=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};ul.prototype.setNorthEast=function(e){return this._ne=e instanceof cl?new cl(e.lng,e.lat):cl.convert(e),this},ul.prototype.setSouthWest=function(e){return this._sw=e instanceof cl?new cl(e.lng,e.lat):cl.convert(e),this},ul.prototype.extend=function(e){var t,n,i=this._sw,r=this._ne;if(e instanceof cl)t=e,n=e;else{if(!(e instanceof ul))return Array.isArray(e)?e.every(Array.isArray)?this.extend(ul.convert(e)):this.extend(cl.convert(e)):this;if(t=e._sw,n=e._ne,!t||!n)return this}return i||r?(i.lng=Math.min(t.lng,i.lng),i.lat=Math.min(t.lat,i.lat),r.lng=Math.max(n.lng,r.lng),r.lat=Math.max(n.lat,r.lat)):(this._sw=new cl(t.lng,t.lat),this._ne=new cl(n.lng,n.lat)),this},ul.prototype.getCenter=function(){return new cl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},ul.prototype.getSouthWest=function(){return this._sw},ul.prototype.getNorthEast=function(){return this._ne},ul.prototype.getNorthWest=function(){return new cl(this.getWest(),this.getNorth())},ul.prototype.getSouthEast=function(){return new cl(this.getEast(),this.getSouth())},ul.prototype.getWest=function(){return this._sw.lng},ul.prototype.getSouth=function(){return this._sw.lat},ul.prototype.getEast=function(){return this._ne.lng},ul.prototype.getNorth=function(){return this._ne.lat},ul.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},ul.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},ul.prototype.isEmpty=function(){return!(this._sw&&this._ne)},ul.convert=function(e){return!e||e instanceof ul?e:new ul(e)};var cl=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: ("+e+", "+t+")");if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};function gl(e){return 2*Math.PI*6378137*Math.cos(e*Math.PI/180)}function dl(e){return(180+e)/360}function hl(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function pl(e,t){return e/gl(t)}function Al(e){var t=180-360*e;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}cl.prototype.wrap=function(){return new cl(c(this.lng,-180,180),this.lat)},cl.prototype.toArray=function(){return[this.lng,this.lat]},cl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},cl.prototype.toBounds=function(e){void 0===e&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new ul(new cl(this.lng-n,this.lat-t),new cl(this.lng+n,this.lat+t))},cl.convert=function(e){if(e instanceof cl)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new cl(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new cl(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var fl=function(e,t,n){void 0===n&&(n=0),this.x=+e,this.y=+t,this.z=+n};fl.fromLngLat=function(e,t){void 0===t&&(t=0);var n=cl.convert(e);return new fl(dl(n.lng),hl(n.lat),pl(t,n.lat))},fl.prototype.toLngLat=function(){return new cl(360*this.x-180,Al(this.y))},fl.prototype.toAltitude=function(){return this.z*gl(Al(this.y))};var Cl=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=ml(0,e,t,n)};Cl.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},Cl.prototype.url=function(e,t){var n,i,r,o,a,s=(n=this.x,i=this.y,r=this.z,o=ll(256*n,256*(i=Math.pow(2,r)-i-1),r),a=ll(256*(n+1),256*(i+1),r),o[0]+","+o[1]+","+a[0]+","+a[1]),l=function(e,t,n){for(var i,r="",o=e;o>0;o--)r+=(t&(i=1<<o-1)?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",l).replace("{bbox-epsg-3857}",s)},Cl.prototype.getTilePoint=function(e){var t=Math.pow(2,this.z);return new r((e.x*t-this.x)*Qr,(e.y*t-this.y)*Qr)};var Il=function(e,t){this.wrap=e,this.canonical=t,this.key=ml(e,t.z,t.x,t.y)},vl=function(e,t,n,i,r){this.overscaledZ=e,this.wrap=t,this.canonical=new Cl(n,+i,+r),this.key=ml(t,e,i,r)};function ml(e,t,n,i){(e*=2)<0&&(e=-1*e-1);var r=1<<t;return 32*(r*r*e+r*i+n)+t}vl.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},vl.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new vl(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new vl(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},vl.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},vl.prototype.children=function(e){if(this.overscaledZ>=e)return[new vl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new vl(t,this.wrap,t,n,i),new vl(t,this.wrap,t,n+1,i),new vl(t,this.wrap,t,n,i+1),new vl(t,this.wrap,t,n+1,i+1)]},vl.prototype.isLessThan=function(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))},vl.prototype.wrapped=function(){return new vl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},vl.prototype.unwrapTo=function(e){return new vl(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},vl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},vl.prototype.toUnwrapped=function(){return new Il(this.wrap,this.canonical)},vl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},vl.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new fl(e.x-this.wrap,e.y))},li("CanonicalTileID",Cl),li("OverscaledTileID",vl,{omit:["posMatrix"]});var yl=function(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return b('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');var i=this.dim=t.height;this.stride=this.dim+2,this.data=new Int32Array(this.stride*this.stride);for(var r=t.data,o="terrarium"===n?this._unpackTerrarium:this._unpackMapbox,a=0;a<i;a++)for(var s=0;s<i;s++){var l=4*(a*i+s);this.set(s,a,o(r[l],r[l+1],r[l+2]))}for(var u=0;u<i;u++)this.set(-1,u,this.get(0,u)),this.set(i,u,this.get(i-1,u)),this.set(u,-1,this.get(u,0)),this.set(u,i,this.get(u,i-1));this.set(-1,-1,this.get(0,0)),this.set(i,-1,this.get(i-1,0)),this.set(-1,i,this.get(0,i-1)),this.set(i,i,this.get(i-1,i-1))};yl.prototype.set=function(e,t,n){this.data[this._idx(e,t)]=n+65536},yl.prototype.get=function(e,t){return this.data[this._idx(e,t)]-65536},yl.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)},yl.prototype._unpackMapbox=function(e,t,n){return(256*e*256+256*t+n)/10-1e4},yl.prototype._unpackTerrarium=function(e,t,n){return 256*e+t+n/256-32768},yl.prototype.getPixels=function(){return new Po({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},yl.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");var i=t*this.dim,r=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-t*this.dim,l=-n*this.dim,u=o;u<a;u++)for(var c=i;c<r;c++)this.set(c,u,e.get(c+s,u+l))},li("DEMData",yl);var bl=Gi([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),xl=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};xl.prototype.encode=function(e){return this._stringToNumber[e]},xl.prototype.decode=function(e){return this._numberToString[e]};var _l=function(e,t,n,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=i,this.properties=e.properties,null!=e.id&&(this.id=e.id)},wl={geometry:{configurable:!0}};wl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},wl.geometry.set=function(e){this._geometry=e},_l.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e},Object.defineProperties(_l.prototype,wl);var kl=function(){this.state={},this.stateChanges={},this.deletedStates={}};kl.prototype.updateState=function(e,t,n){var i=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},g(this.stateChanges[e][i],n),null===this.deletedStates[e])for(var r in this.deletedStates[e]={},this.state[e])r!==i&&(this.deletedStates[e][r]=null);else if(this.deletedStates[e]&&null===this.deletedStates[e][i])for(var o in this.deletedStates[e][i]={},this.state[e][i])n[o]||(this.deletedStates[e][i][o]=null);else for(var a in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][a]&&delete this.deletedStates[e][i][a]},kl.prototype.removeFeatureState=function(e,t,n){if(null!==this.deletedStates[e]){var i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}},kl.prototype.getState=function(e,t){var n=String(t),i=this.state[e]||{},r=this.stateChanges[e]||{},o=g({},i[n],r[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){var a=this.deletedStates[e][t];if(null===a)return{};for(var s in a)delete o[s]}return o},kl.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},kl.prototype.coalesceChanges=function(e,t){var n={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var r={};for(var o in this.stateChanges[i])this.state[i][o]||(this.state[i][o]={}),g(this.state[i][o],this.stateChanges[i][o]),r[o]=this.state[i][o];n[i]=r}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var l in this.state[a])s[l]={},this.state[a][l]={};else for(var u in this.deletedStates[a]){if(null===this.deletedStates[a][u])this.state[a][u]={};else for(var c=0,d=Object.keys(this.deletedStates[a][u]);c<d.length;c+=1){var h=d[c];delete this.state[a][u][h]}s[u]=this.state[a][u]}n[a]=n[a]||{},g(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var p in e)e[p].setFeatureState(n,t)};var El=function(e,t,n){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=t||new ii(Qr,16,0),this.grid3D=new ii(Qr,16,0),this.featureIndexArray=n||new wr};function Sl(e){for(var t=1/0,n=1/0,i=-1/0,r=-1/0,o=0,a=e;o<a.length;o+=1){var s=a[o];t=Math.min(t,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),r=Math.max(r,s.y)}return{minX:t,minY:n,maxX:i,maxY:r}}function Tl(e,t){return t-e}El.prototype.insert=function(e,t,n,i,r,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);for(var s=o?this.grid3D:this.grid,l=0;l<t.length;l++){for(var u=t[l],c=[1/0,1/0,-1/0,-1/0],g=0;g<u.length;g++){var d=u[g];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<Qr&&c[1]<Qr&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},El.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Sa.VectorTile(new Ls(this.rawTileData)).layers,this.sourceLayerCoder=new xl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},El.prototype.query=function(e,t,n){var i=this;this.loadVTLayers();for(var o=e.params||{},a=Qr/e.tileSize/e.scale,s=Pn(o.filter),l=e.queryGeometry,u=e.queryPadding*a,c=Sl(l),g=this.grid.query(c.minX-u,c.minY-u,c.maxX+u,c.maxY+u),d=Sl(e.cameraQueryGeometry),h=this.grid3D.query(d.minX-u,d.minY-u,d.maxX+u,d.maxY+u,(function(t,n,i,o){return function(e,t,n,i,o){for(var a=0,s=e;a<s.length;a+=1){var l=s[a];if(t<=l.x&&n<=l.y&&i>=l.x&&o>=l.y)return!0}var u=[new r(t,n),new r(t,o),new r(i,o),new r(i,n)];if(e.length>2)for(var c=0,g=u;c<g.length;c+=1)if(go(e,g[c]))return!0;for(var d=0;d<e.length-1;d++)if(ho(e[d],e[d+1],u))return!0;return!1}(e.cameraQueryGeometry,t-u,n-u,i+u,o+u)})),p=0,A=h;p<A.length;p+=1){var f=A[p];g.push(f)}g.sort(Tl);for(var C,I={},v=function(r){var u=g[r];if(u!==C){C=u;var c=i.featureIndexArray.get(u),d=null;i.loadMatchingFeature(I,c.bucketIndex,c.sourceLayerIndex,c.featureIndex,s,o.layers,t,(function(t,r){d||(d=$r(t));var o={};return t.id&&(o=n.getState(r.sourceLayer||"_geojsonTileLayer",t.id)),r.queryIntersectsFeature(l,t,o,d,i.z,e.transform,a,e.pixelPosMatrix)}))}},m=0;m<g.length;m++)v(m);return I},El.prototype.loadMatchingFeature=function(e,t,n,i,r,o,a,s){var l=this.bucketLayerIDs[t];if(!o||function(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,l)){var u=this.sourceLayerCoder.decode(n),c=this.vtLayers[u].feature(i);if(r(new ki(this.tileID.overscaledZ),c))for(var g=0;g<l.length;g++){var d=l[g];if(!(o&&o.indexOf(d)<0)){var h=a[d];if(h){var p=!s||s(c,h);if(p){var A=new _l(c,this.z,this.x,this.y);A.layer=h.serialize();var f=e[d];void 0===f&&(f=e[d]=[]),f.push({featureIndex:i,feature:A,intersectionZ:p})}}}}}},El.prototype.lookupSymbolFeatures=function(e,t,n,i,r,o){var a={};this.loadVTLayers();for(var s=Pn(i),l=0,u=e;l<u.length;l+=1){var c=u[l];this.loadMatchingFeature(a,t,n,c,s,r,o)}return a},El.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var i=0,r=n[t];i<r.length;i+=1)if(e===r[i])return!0;return!1},li("FeatureIndex",El,{omit:["rawTileData","sourceLayerCoder"]});var Ol=function(e,t){this.tileID=e,this.uid=h(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.expiredRequestCount=0,this.state="loading"};Ol.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<D.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Ol.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},Ol.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){for(var i in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){var n={};if(!t)return n;for(var i=function(){var e=o[r],i=e.layerIds.map((function(e){return t.getLayer(e)})).filter(Boolean);if(0!==i.length){e.layers=i,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map((function(e){return i.filter((function(t){return t.id===e}))[0]})));for(var a=0,s=i;a<s.length;a+=1){var l=s[a];n[l.id]=e}}},r=0,o=e;r<o.length;r+=1)i();return n}(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var r=this.buckets[i];if(r instanceof Is){if(this.hasSymbolBuckets=!0,!n)break;r.justReloaded=!0}}for(var o in this.queryPadding=0,this.buckets){var a=this.buckets[o];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(o).queryRadius(a))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new Ar},Ol.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ol.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},Ol.prototype.getBucket=function(e){return this.buckets[e.id]},Ol.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new zs(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new zs(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},Ol.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Ol.prototype.queryRenderedFeatures=function(e,t,n,i,r,o,a,s,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:r,tileSize:this.tileSize,pixelPosMatrix:l,transform:a,params:o,queryPadding:this.queryPadding*s},e,t):{}},Ol.prototype.querySourceFeatures=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData){var n=this.latestFeatureIndex.loadVTLayers(),i=t?t.sourceLayer:"",r=n._geojsonTileLayer||n[i];if(r)for(var o=Pn(t&&t.filter),a=this.tileID.canonical,s=a.z,l=a.x,u=a.y,c={z:s,x:l,y:u},g=0;g<r.length;g++){var d=r.feature(g);if(o(new ki(this.tileID.overscaledZ),d)){var h=new _l(d,s,l,u);h.tile=c,e.push(h)}}}},Ol.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},Ol.prototype.setMask=function(e,t){if(!a(this.mask,e)&&(this.mask=e,this.clearMask(),!a(e,{0:!0}))){var n=new qi,i=new ur;this.segments=new Er,this.segments.prepareSegment(0,n,i);for(var o=Object.keys(e),s=0;s<o.length;s++){var l=e[o[s]],u=Qr>>l.z,c=new r(l.x*u,l.y*u),g=new r(c.x+u,c.y+u),d=this.segments.prepareSegment(4,n,i);n.emplaceBack(c.x,c.y,c.x,c.y),n.emplaceBack(g.x,c.y,g.x,c.y),n.emplaceBack(c.x,g.y,c.x,g.y),n.emplaceBack(g.x,g.y,g.x,g.y);var h=d.vertexLength;i.emplaceBack(h,h+1,h+2),i.emplaceBack(h+1,h+2,h+3),d.vertexLength+=4,d.primitiveLength+=2}this.maskedBoundsBuffer=t.createVertexBuffer(n,bl.members),this.maskedIndexBuffer=t.createIndexBuffer(i)}},Ol.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},Ol.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ol.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=function(e){var t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(function(e,n,i,r){var o=i||r;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){var n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t}(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var i=Date.now(),r=!1;if(this.expirationTime>i)r=!1;else if(t)if(this.expirationTime<t)r=!0;else{var o=this.expirationTime-t;o?this.expirationTime=i+Math.max(o,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ol.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},Ol.prototype.setFeatureState=function(e,t){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(e).length){var n=this.latestFeatureIndex.loadVTLayers();for(var i in this.buckets){var r=this.buckets[i],o=r.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];a&&s&&0!==Object.keys(s).length&&(r.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{}),t&&t.style&&(this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(i).queryRadius(r))))}}},Ol.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},Ol.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<D.now()},Ol.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ol.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=D.now()+e};var Pl=24,Dl={horizontal:1,vertical:2,horizontalOnly:3},jl=function(){this.text="",this.sectionIndex=[],this.sections=[]};function Ml(e,t,n,i,r,o,a,s,l,u){var c,g=jl.fromFeature(e,n);u===Dl.vertical&&g.verticalizePunctuation();var d=wi.processBidirectionalText,h=wi.processStyledBidirectionalText;if(d&&1===g.sections.length){c=[];for(var p=0,A=d(g.toString(),Bl(g,s,i,t));p<A.length;p+=1){var f=A[p],C=new jl;C.text=f,C.sections=g.sections;for(var I=0;I<f.length;I++)C.sectionIndex.push(0);c.push(C)}}else if(h){c=[];for(var v=0,m=h(g.text,g.sectionIndex,Bl(g,s,i,t));v<m.length;v+=1){var y=m[v],b=new jl;b.text=y[0],b.sectionIndex=y[1],b.sections=g.sections,c.push(b)}}else c=function(e,t){for(var n=[],i=e.text,r=0,o=0,a=t;o<a.length;o+=1){var s=a[o];n.push(e.substring(r,s)),r=s}return r<i.length&&n.push(e.substring(r,i.length)),n}(g,Bl(g,s,i,t));var x=[],_={positionedGlyphs:x,text:g.toString(),top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:u,lineCount:c.length};return function(e,t,n,i,r,o,a,s){for(var l=0,u=-17,c=0,g=e.positionedGlyphs,d="right"===o?1:"left"===o?0:.5,h=0,p=n;h<p.length;h+=1){var A=p[h];A.trim();var f=A.getMaxScale();if(A.length()){for(var C=g.length,I=0;I<A.length();I++){var v=A.getSection(I),m=A.getCharCode(I),y=24*(f-v.scale),b=t[v.fontStack],x=b&&b[m];x&&(Ci(m)&&a!==Dl.horizontal?(g.push({glyph:m,x:l,y:y,vertical:!0,scale:v.scale,fontStack:v.fontStack}),l+=Pl*v.scale+s):(g.push({glyph:m,x:l,y:u+y,vertical:!1,scale:v.scale,fontStack:v.fontStack}),l+=x.metrics.advance*v.scale+s))}if(g.length!==C){var _=l-s;c=Math.max(_,c),Vl(g,t,C,g.length-1,d)}l=0,u+=i*f}else u+=i}var w=Zl(r),k=w.horizontalAlign,E=w.verticalAlign;!function(e,t,n,i,r,o,a){for(var s=(t-n)*r,l=(-i*a+.5)*o,u=0;u<e.length;u++)e[u].x+=s,e[u].y+=l}(g,d,k,E,c,i,n.length);var S=u- -17;e.top+=-E*S,e.bottom=e.top+S,e.left+=-k*c,e.right=e.left+c}(_,t,c,r,o,a,u,s),!!x.length&&_}jl.fromFeature=function(e,t){for(var n=new jl,i=0;i<e.sections.length;i++){var r=e.sections[i];n.sections.push({scale:r.scale||1,fontStack:r.fontStack||t}),n.text+=r.text;for(var o=0;o<r.text.length;o++)n.sectionIndex.push(i)}return n},jl.prototype.length=function(){return this.text.length},jl.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},jl.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},jl.prototype.verticalizePunctuation=function(){this.text=function(e){for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n+1)||null,r=e.charCodeAt(n-1)||null;i&&Ii(i)&&!os[e[n+1]]||r&&Ii(r)&&!os[e[n-1]]||!os[e[n]]?t+=e[n]:t+=os[e[n]]}return t}(this.text)},jl.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Nl[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,i=this.text.length-1;i>=0&&i>=e&&Nl[this.text.charCodeAt(i)];i--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},jl.prototype.substring=function(e,t){var n=new jl;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},jl.prototype.toString=function(){return this.text},jl.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce((function(t,n){return Math.max(t,e.sections[n].scale)}),0)};var Nl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},zl={};function Rl(e,t,n,i){var r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function Fl(e,t){var n=0;return 10===e&&(n-=1e4),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function Ll(e,t,n,i,r,o){for(var a=null,s=Rl(t,n,r,o),l=0,u=i;l<u.length;l+=1){var c=u[l],g=Rl(t-c.x,n,r,o)+c.badness;g<=s&&(a=c,s=g)}return{index:e,x:t,priorBreak:a,badness:s}}function Bl(e,t,n,i){if(!n)return[];if(!e)return[];for(var r,o=[],a=function(e,t,n,i){for(var r=0,o=0;o<e.length();o++){var a=e.getSection(o),s=i[a.fontStack],l=s&&s[e.getCharCode(o)];l&&(r+=l.metrics.advance*a.scale+t)}return r/Math.max(1,Math.ceil(r/n))}(e,t,n,i),s=0,l=0;l<e.length();l++){var u=e.getSection(l),c=e.getCharCode(l),g=i[u.fontStack],d=g&&g[c];d&&!Nl[c]&&(s+=d.metrics.advance*u.scale+t),l<e.length()-1&&(zl[c]||!((r=c)<11904)&&(hi["Bopomofo Extended"](r)||hi.Bopomofo(r)||hi["CJK Compatibility Forms"](r)||hi["CJK Compatibility Ideographs"](r)||hi["CJK Compatibility"](r)||hi["CJK Radicals Supplement"](r)||hi["CJK Strokes"](r)||hi["CJK Symbols and Punctuation"](r)||hi["CJK Unified Ideographs Extension A"](r)||hi["CJK Unified Ideographs"](r)||hi["Enclosed CJK Letters and Months"](r)||hi["Halfwidth and Fullwidth Forms"](r)||hi.Hiragana(r)||hi["Ideographic Description Characters"](r)||hi["Kangxi Radicals"](r)||hi["Katakana Phonetic Extensions"](r)||hi.Katakana(r)||hi["Vertical Forms"](r)||hi["Yi Radicals"](r)||hi["Yi Syllables"](r)))&&o.push(Ll(l+1,s,a,o,Fl(c,e.getCharCode(l+1)),!1))}return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Ll(e.length(),s,a,o,0,!0))}function Zl(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Vl(e,t,n,i,r){if(r){var o=e[i],a=t[o.fontStack],s=a&&a[o.glyph];if(s)for(var l=s.metrics.advance*o.scale,u=(e[i].x+l)*r,c=n;c<=i;c++)e[c].x-=u}}function Ul(e,t,n){var i=Zl(n),r=i.horizontalAlign,o=i.verticalAlign,a=t[0],s=t[1],l=a-e.displaySize[0]*r,u=l+e.displaySize[0],c=s-e.displaySize[1]*o;return{image:e,top:c,bottom:c+e.displaySize[1],left:l,right:u}}function Wl(e,t,n,i,r){if(void 0===t.segment)return!0;for(var o=t,a=t.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=e[a-1],g=e[a],d=e[a+1];if(!d)return!1;var h=c.angleTo(g)-g.angleTo(d);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),u+=h;s-l[0].distance>i;)u-=l.shift().angleDelta;if(u>r)return!1;a++,s+=g.dist(d)}return!0}function Gl(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Hl(e,t,n){return e?.6*t*n:0}function Yl(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function ql(e,t,n,i,r,o){for(var a=Hl(n,r,o),s=Yl(n,i)*o,l=0,u=Gl(e)/2,c=0;c<e.length-1;c++){var g=e[c],d=e[c+1],h=g.dist(d);if(l+h>u){var p=(u-l)/h,A=ct(g.x,d.x,p),f=ct(g.y,d.y,p),C=new as(A,f,d.angleTo(g),c);return C._round(),!a||Wl(e,C,s,a,t)?C:void 0}l+=h}}function Kl(e,t,n,i,r,o,a,s,l){var u=Hl(i,o,a),c=Yl(i,r),g=c*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-g<t/4&&(t=g+t/4),function e(t,n,i,r,o,a,s,l,u){for(var c=a/2,g=Gl(t),d=0,h=n-i,p=[],A=0;A<t.length-1;A++){for(var f=t[A],C=t[A+1],I=f.dist(C),v=C.angleTo(f);h+i<d+I;){var m=((h+=i)-d)/I,y=ct(f.x,C.x,m),b=ct(f.y,C.y,m);if(y>=0&&y<u&&b>=0&&b<u&&h-c>=0&&h+c<=g){var x=new as(y,b,v,A);x._round(),r&&!Wl(t,x,a,r,o)||p.push(x)}}d+=I}return l||p.length||s||(p=e(t,d/2,i,r,o,a,s,!0,u)),p}(e,d?t/2*s%t:(c/2+2*o)*a*s%t,t,u,n,g,d,!1,l)}zl[10]=!0,zl[32]=!0,zl[38]=!0,zl[40]=!0,zl[41]=!0,zl[43]=!0,zl[45]=!0,zl[47]=!0,zl[173]=!0,zl[183]=!0,zl[8203]=!0,zl[8208]=!0,zl[8211]=!0,zl[8231]=!0;var Xl=function(e,t,n,i,o,a,s,l,u,c,g,d){var h=s.top*l-u,p=s.bottom*l+u,A=s.left*l-u,f=s.right*l+u;if(this.boxStartIndex=e.length,c){var C=p-h,I=f-A;C>0&&(C=Math.max(10*l,C),this._addLineCollisionCircles(e,t,n,n.segment,I,C,i,o,a,g))}else{if(d){var v=new r(A,h),m=new r(f,h),y=new r(A,p),b=new r(f,p),x=d*Math.PI/180;v._rotate(x),m._rotate(x),y._rotate(x),b._rotate(x),A=Math.min(v.x,m.x,y.x,b.x),f=Math.max(v.x,m.x,y.x,b.x),h=Math.min(v.y,m.y,y.y,b.y),p=Math.max(v.y,m.y,y.y,b.y)}e.emplaceBack(n.x,n.y,A,h,f,p,i,o,a,0,0)}this.boxEndIndex=e.length};Xl.prototype._addLineCollisionCircles=function(e,t,n,i,r,o,a,s,l,u){var c=o/2,g=Math.floor(r/c)||1,d=1+.4*Math.log(u)/Math.LN2,h=Math.floor(g*d/2),p=-o/2,A=n,f=i+1,C=p,I=-r/2,v=I-r/4;do{if(--f<0){if(C>I)return;f=0;break}C-=t[f].dist(A),A=t[f]}while(C>v);for(var m=t[f].dist(t[f+1]),y=-h;y<g+h;y++){var b=y*c,x=I+b;if(b<0&&(x+=b),b>r&&(x+=b-r),!(x<C)){for(;C+m<x;){if(C+=m,1+ ++f>=t.length)return;m=t[f].dist(t[f+1])}var _=x-C,w=t[f],k=t[f+1].sub(w)._unit()._mult(_)._add(w)._round(),E=Math.abs(x-p)<c?0:.8*(x-p);e.emplaceBack(k.x,k.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,E)}}};var Ql=function(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=Jl),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function Jl(e,t){return e<t?-1:e>t?1:0}function $l(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1);for(var i=1/0,o=1/0,a=-1/0,s=-1/0,l=e[0],u=0;u<l.length;u++){var c=l[u];(!u||c.x<i)&&(i=c.x),(!u||c.y<o)&&(o=c.y),(!u||c.x>a)&&(a=c.x),(!u||c.y>s)&&(s=c.y)}var g=a-i,d=s-o,h=Math.min(g,d),p=h/2,A=new Ql([],eu);if(0===h)return new r(i,o);for(var f=i;f<a;f+=h)for(var C=o;C<s;C+=h)A.push(new tu(f+p,C+p,p,e));for(var I=function(e){for(var t=0,n=0,i=0,r=e[0],o=0,a=r.length,s=a-1;o<a;s=o++){var l=r[o],u=r[s],c=l.x*u.y-u.x*l.y;n+=(l.x+u.x)*c,i+=(l.y+u.y)*c,t+=3*c}return new tu(n/t,i/t,0,e)}(e),v=A.length;A.length;){var m=A.pop();(m.d>I.d||!I.d)&&(I=m,n&&console.log("found best %d after %d probes",Math.round(1e4*m.d)/1e4,v)),m.max-I.d<=t||(p=m.h/2,A.push(new tu(m.p.x-p,m.p.y-p,p,e)),A.push(new tu(m.p.x+p,m.p.y-p,p,e)),A.push(new tu(m.p.x-p,m.p.y+p,p,e)),A.push(new tu(m.p.x+p,m.p.y+p,p,e)),v+=4)}return n&&(console.log("num probes: "+v),console.log("best distance: "+I.d)),I.p}function eu(e,t){return t.max-e.max}function tu(e,t,n,i){this.p=new r(e,t),this.h=n,this.d=function(e,t){for(var n=!1,i=1/0,r=0;r<t.length;r++)for(var o=t[r],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l];u.y>e.y!=c.y>e.y&&e.x<(c.x-u.x)*(e.y-u.y)/(c.y-u.y)+u.x&&(n=!n),i=Math.min(i,uo(e,u,c))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}Ql.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},Ql.prototype.pop=function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},Ql.prototype.peek=function(){return this.data[0]},Ql.prototype._up=function(e){for(var t=this.data,n=this.compare,i=t[e];e>0;){var r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i},Ql.prototype._down=function(e){for(var t=this.data,n=this.compare,i=this.length>>1,r=t[e];e<i;){var o=1+(e<<1),a=t[o],s=o+1;if(s<this.length&&n(t[s],a)<0&&(o=s,a=t[s]),n(a,r)>=0)break;t[e]=a,e=o}t[e]=r};var nu=t((function(e){e.exports=function(e,t){var n,i,r,o,a,s,l,u;for(n=3&e.length,i=e.length-n,r=t,a=3432918353,s=461845907,u=0;u<i;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}})),iu=t((function(e){e.exports=function(e,t){for(var n,i=e.length,r=t^i,o=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}})),ru=nu,ou=nu,au=iu;ru.murmur3=ou,ru.murmur2=au;var su=7;function lu(e,t){var n=0,i=0,r=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":i=r-su;break;case"bottom-right":case"bottom-left":i=-r+su;break;case"bottom":i=-t+su;break;case"top":i=t-su}switch(e){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=t;break;case"right":n=-t}return[n,i]}function uu(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function cu(e,t,n,i,o,a,s){var l=a.layoutTextSize.evaluate(t,{}),u=a.layoutIconSize.evaluate(t,{}),c=a.textMaxSize.evaluate(t,{});void 0===c&&(c=l);var g=e.layers[0].layout,d=g.get("icon-offset").evaluate(t,{}),h=hu(n.horizontal),p=l/24,A=e.tilePixelRatio*p,f=e.tilePixelRatio*c/24,C=e.tilePixelRatio*u,I=e.tilePixelRatio*g.get("symbol-spacing"),v=g.get("text-padding")*e.tilePixelRatio,m=g.get("icon-padding")*e.tilePixelRatio,y=g.get("text-max-angle")/180*Math.PI,x="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement"),_="map"===g.get("icon-rotation-alignment")&&"point"!==g.get("symbol-placement"),w=g.get("symbol-placement"),k=I/2,E=function(l,u){u.x<0||u.x>=Qr||u.y<0||u.y>=Qr||function(e,t,n,i,o,a,s,l,u,c,g,d,h,p,A,f,C,I,v,m,y){var x,_,w=e.addToLineVertexArray(t,n),k=0,E=0,S=0,T={},O=ru(""),P=(a.layout.get("text-radial-offset").evaluate(v,{})||0)*Pl;for(var D in i.horizontal){var j=i.horizontal[D];if(!x){O=ru(j.text);var M=a.layout.get("text-rotate").evaluate(v,{});x=new Xl(s,n,t,l,u,c,j,g,d,h,e.overscaling,M)}var N=1===j.lineCount;if(E+=du(e,t,j,a,h,v,p,w,i.vertical?Dl.horizontal:Dl.horizontalOnly,N?Object.keys(i.horizontal):[D],T,m,y),N)break}i.vertical&&(S+=du(e,t,i.vertical,a,h,v,p,w,Dl.vertical,["vertical"],T,m,y));var z=x?x.boxStartIndex:e.collisionBoxArray.length,R=x?x.boxEndIndex:e.collisionBoxArray.length;if(o){var F=function(e,t,n,i,o,a){var s,l,u,c,g=t.image,d=n.layout,h=t.top-1/g.pixelRatio,p=t.left-1/g.pixelRatio,A=t.bottom+1/g.pixelRatio,f=t.right+1/g.pixelRatio;if("none"!==d.get("icon-text-fit")&&o){var C=f-p,I=A-h,v=d.get("text-size").evaluate(a,{})/24,m=o.left*v,y=o.right*v,b=o.top*v,x=y-m,_=o.bottom*v-b,w=d.get("icon-text-fit-padding")[0],k=d.get("icon-text-fit-padding")[1],E=d.get("icon-text-fit-padding")[2],S=d.get("icon-text-fit-padding")[3],T="width"===d.get("icon-text-fit")?.5*(_-I):0,O="height"===d.get("icon-text-fit")?.5*(x-C):0,P="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?x:C,D="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?_:I;s=new r(m+O-S,b+T-w),l=new r(m+O+k+P,b+T-w),u=new r(m+O+k+P,b+T+E+D),c=new r(m+O-S,b+T+E+D)}else s=new r(p,h),l=new r(f,h),u=new r(f,A),c=new r(p,A);var j=n.layout.get("icon-rotate").evaluate(a,{})*Math.PI/180;if(j){var M=Math.sin(j),N=Math.cos(j),z=[N,-M,M,N];s._matMult(z),l._matMult(z),c._matMult(z),u._matMult(z)}return[{tl:s,tr:l,bl:c,br:u,tex:g.paddedRect,writingMode:void 0,glyphOffset:[0,0]}]}(0,o,a,0,hu(i.horizontal),v),L=a.layout.get("icon-rotate").evaluate(v,{});_=new Xl(s,n,t,l,u,c,o,A,f,!1,e.overscaling,L),k=4*F.length;var B=e.iconSizeData,Z=null;"source"===B.functionType?(Z=[ss*a.layout.get("icon-size").evaluate(v,{})])[0]>gu&&b(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'):"composite"===B.functionType&&((Z=[ss*y.compositeIconSizes[0].evaluate(v,{}),ss*y.compositeIconSizes[1].evaluate(v,{})])[0]>gu||Z[1]>gu)&&b(e.layerIds[0]+': Value for "icon-size" is >= 256. Reduce your "icon-size".'),e.addSymbols(e.icon,F,Z,I,C,v,!1,t,w.lineStartIndex,w.lineLength)}var V=_?_.boxStartIndex:e.collisionBoxArray.length,U=_?_.boxEndIndex:e.collisionBoxArray.length;e.glyphOffsetArray.length>=Is.MAX_GLYPHS&&b("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),e.symbolInstances.emplaceBack(t.x,t.y,T.right>=0?T.right:-1,T.center>=0?T.center:-1,T.left>=0?T.left:-1,T.vertical||-1,O,z,R,V,U,l,E,S,k,0,g,P)}(e,u,l,n,i,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,A,v,x,s,C,m,_,d,t,o,a)};if("line"===w)for(var S=0,T=function(e,t,n,i,o){for(var a=[],s=0;s<e.length;s++)for(var l=e[s],u=void 0,c=0;c<l.length-1;c++){var g=l[c],d=l[c+1];g.x<t&&d.x<t||(g.x<t?g=new r(t,g.y+(d.y-g.y)*((t-g.x)/(d.x-g.x)))._round():d.x<t&&(d=new r(t,g.y+(d.y-g.y)*((t-g.x)/(d.x-g.x)))._round()),g.y<n&&d.y<n||(g.y<n?g=new r(g.x+(d.x-g.x)*((n-g.y)/(d.y-g.y)),n)._round():d.y<n&&(d=new r(g.x+(d.x-g.x)*((n-g.y)/(d.y-g.y)),n)._round()),g.x>=i&&d.x>=i||(g.x>=i?g=new r(i,g.y+(d.y-g.y)*((i-g.x)/(d.x-g.x)))._round():d.x>=i&&(d=new r(i,g.y+(d.y-g.y)*((i-g.x)/(d.x-g.x)))._round()),g.y>=o&&d.y>=o||(g.y>=o?g=new r(g.x+(d.x-g.x)*((o-g.y)/(d.y-g.y)),o)._round():d.y>=o&&(d=new r(g.x+(d.x-g.x)*((o-g.y)/(d.y-g.y)),o)._round()),u&&g.equals(u[u.length-1])||(u=[g],a.push(u)),u.push(d)))))}return a}(t.geometry,0,0,Qr,Qr);S<T.length;S+=1)for(var O=T[S],P=0,D=Kl(O,I,y,n.vertical||h,i,24,f,e.overscaling,Qr);P<D.length;P+=1){var j=D[P];h&&pu(e,h.text,k,j)||E(O,j)}else if("line-center"===w)for(var M=0,N=t.geometry;M<N.length;M+=1){var z=N[M];if(z.length>1){var R=ql(z,y,n.vertical||h,i,24,f);R&&E(z,R)}}else if("Polygon"===t.type)for(var F=0,L=da(t.geometry,0);F<L.length;F+=1){var B=L[F],Z=$l(B,16);E(B[0],new as(Z.x,Z.y,0))}else if("LineString"===t.type)for(var V=0,U=t.geometry;V<U.length;V+=1){var W=U[V];E(W,new as(W[0].x,W[0].y,0))}else if("Point"===t.type)for(var G=0,H=t.geometry;G<H.length;G+=1)for(var Y=0,q=H[G];Y<q.length;Y+=1){var K=q[Y];E([K],new as(K.x,K.y,0))}}var gu=65535;function du(e,t,n,i,o,a,s,l,u,c,g,d,h){var p=function(e,t,n,i,o,a,s){for(var l=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=t.positionedGlyphs,c=[],g=0;g<u.length;g++){var d=u[g],h=s[d.fontStack],p=h&&h[d.glyph];if(p){var A=p.rect;if(A){var f=al+1,C=p.metrics.advance*d.scale/2,I=o?[d.x+C,d.y]:[0,0],v=o?[0,0]:[d.x+C+n[0],d.y+n[1]],m=(p.metrics.left-f)*d.scale-C+v[0],y=(-p.metrics.top-f)*d.scale+v[1],b=m+A.w*d.scale,x=y+A.h*d.scale,_=new r(m,y),w=new r(b,y),k=new r(m,x),E=new r(b,x);if(o&&d.vertical){var S=new r(-C,C),T=-Math.PI/2,O=new r(5,0);_._rotateAround(T,S)._add(O),w._rotateAround(T,S)._add(O),k._rotateAround(T,S)._add(O),E._rotateAround(T,S)._add(O)}if(l){var P=Math.sin(l),D=Math.cos(l),j=[D,-P,P,D];_._matMult(j),w._matMult(j),k._matMult(j),E._matMult(j)}c.push({tl:_,tr:w,bl:k,br:E,tex:A,writingMode:t.writingMode,glyphOffset:I})}}}return c}(0,n,s,i,o,a,d),A=e.textSizeData,f=null;"source"===A.functionType?(f=[ss*i.layout.get("text-size").evaluate(a,{})])[0]>gu&&b(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'):"composite"===A.functionType&&((f=[ss*h.compositeTextSizes[0].evaluate(a,{}),ss*h.compositeTextSizes[1].evaluate(a,{})])[0]>gu||f[1]>gu)&&b(e.layerIds[0]+': Value for "text-size" is >= 256. Reduce your "text-size".'),e.addSymbols(e.text,p,f,s,o,a,u,t,l.lineStartIndex,l.lineLength);for(var C=0,I=c;C<I.length;C+=1)g[I[C]]=e.text.placedSymbolArray.length-1;return 4*p.length}function hu(e){for(var t in e)return e[t];return null}function pu(e,t,n,i){var r=e.compareText;if(t in r){for(var o=r[t],a=o.length-1;a>=0;a--)if(i.dist(o[a])<n)return!0}else r[t]=[];return r[t].push(i),!1}e.Actor=sl,e.AlphaImage=Oo,e.CanonicalTileID=Cl,e.CollisionBoxArray=Ar,e.Color=Le,e.DEMData=yl,e.DataConstantProperty=Ni,e.DictionaryCoder=xl,e.EXTENT=Qr,e.ErrorEvent=Ae,e.EvaluationParameters=ki,e.Event=pe,e.Evented=fe,e.FeatureIndex=El,e.FillBucket=fa,e.FillExtrusionBucket=Da,e.ImageAtlas=Ps,e.ImagePosition=Ts,e.LineBucket=Ha,e.LngLat=cl,e.LngLatBounds=ul,e.MercatorCoordinate=fl,e.ONE_EM=Pl,e.OverscaledTileID=vl,e.Point=r,e.Point$1=r,e.ProgramConfiguration=Hr,e.Properties=Bi,e.Protobuf=Ls,e.RGBAImage=Po,e.ResourceType=ne,e.SegmentVector=Er,e.SourceFeatureState=kl,e.StructArrayLayout1ui2=gr,e.StructArrayLayout2i4=Yi,e.StructArrayLayout2ui4=cr,e.StructArrayLayout3ui6=ur,e.StructArrayLayout4i8=qi,e.SymbolBucket=Is,e.Texture=zs,e.Tile=Ol,e.Transitionable=Ti,e.Uniform1f=jr,e.Uniform1i=Dr,e.Uniform2f=Mr,e.Uniform3f=Nr,e.Uniform4f=zr,e.UniformColor=Rr,e.UniformMatrix4f=Lr,e.UnwrappedTileID=Il,e.ValidationError=Ie,e.WritingMode=Dl,e.ZoomHistory=di,e.addDynamicAttributes=As,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);var i=e.length,r=new Array(e.length),o=null;e.forEach((function(e,a){t(e,(function(e,t){e&&(o=e),r[a]=t,0==--i&&n(o,r)}))}))},e.bezier=s,e.bindAll=f,e.browser=D,e.canonicalizeTileset=function(e,t){if(!B(t))return e.tiles||[];for(var n=[],i=0,r=e.tiles;i<r.length;i+=1){var o=r[i],a=G(o);n.push(a)}return n},e.clamp=u,e.clone=function(e){var t=new Io(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=m,e.config=j,e.create=function(){var e=new Io(16);return Io!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=vo,e.create$2=function(){var e=new Io(4);return Io!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e},e.createCommonjsModule=t,e.createExpression=Cn,e.createLayout=Gi,e.createStyleLayer=function(e){return"custom"===e.type?new ks(e):new Es[e.type](e)},e.deepEqual=a,e.ease=l,e.emitValidationErrors=ni,e.endsWith=C,e.evaluateRadialOffset=lu,e.evaluateSizeForFeature=us,e.evaluateSizeForZoom=cs,e.evented=_i,e.extend=g,e.featureFilter=Pn,e.filterObject=v,e.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.getAnchorAlignment=Zl,e.getAnchorJustification=uu,e.getArrayBuffer=ue,e.getImage=ge,e.getJSON=function(e,t){return le(g(e,{type:"json"}),t)},e.getReferrer=se,e.getVideo=function(e,t){var n,i,r=self.document.createElement("video");r.muted=!0,r.onloadstart=function(){t(null,r)};for(var o=0;o<e.length;o++){var a=self.document.createElement("source");n=e[o],i=void 0,(i=self.document.createElement("a")).href=n,(i.protocol!==self.document.location.protocol||i.host!==self.document.location.host)&&(r.crossOrigin="Anonymous"),a.src=e[o],r.appendChild(a)}return{cancel:function(){}}},e.identity=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.invert=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],g=t[9],d=t[10],h=t[11],p=t[12],A=t[13],f=t[14],C=t[15],I=n*s-i*a,v=n*l-r*a,m=n*u-o*a,y=i*l-r*s,b=i*u-o*s,x=r*u-o*l,_=c*A-g*p,w=c*f-d*p,k=c*C-h*p,E=g*f-d*A,S=g*C-h*A,T=d*C-h*f,O=I*T-v*S+m*E+y*k-b*w+x*_;return O?(O=1/O,e[0]=(s*T-l*S+u*E)*O,e[1]=(r*S-i*T-o*E)*O,e[2]=(A*x-f*b+C*y)*O,e[3]=(d*b-g*x-h*y)*O,e[4]=(l*k-a*T-u*w)*O,e[5]=(n*T-r*k+o*w)*O,e[6]=(f*m-p*x-C*v)*O,e[7]=(c*x-d*m+h*v)*O,e[8]=(a*S-s*k+u*_)*O,e[9]=(i*k-n*S-o*_)*O,e[10]=(p*b-A*m+C*I)*O,e[11]=(g*m-c*b-h*I)*O,e[12]=(s*w-a*E-l*_)*O,e[13]=(n*E-i*w+r*_)*O,e[14]=(A*v-p*y-f*I)*O,e[15]=(c*y-g*v+d*I)*O,e):null},e.isChar=hi,e.isMapboxURL=B,e.keysDifference=function(e,t){var n=[];for(var i in e)i in t||n.push(i);return n},e.makeRequest=le,e.mapObject=I,e.mercatorXfromLng=dl,e.mercatorYfromLat=hl,e.mercatorZfromAltitude=pl,e.multiply=function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],g=t[8],d=t[9],h=t[10],p=t[11],A=t[12],f=t[13],C=t[14],I=t[15],v=n[0],m=n[1],y=n[2],b=n[3];return e[0]=v*i+m*s+y*g+b*A,e[1]=v*r+m*l+y*d+b*f,e[2]=v*o+m*u+y*h+b*C,e[3]=v*a+m*c+y*p+b*I,v=n[4],m=n[5],y=n[6],b=n[7],e[4]=v*i+m*s+y*g+b*A,e[5]=v*r+m*l+y*d+b*f,e[6]=v*o+m*u+y*h+b*C,e[7]=v*a+m*c+y*p+b*I,v=n[8],m=n[9],y=n[10],b=n[11],e[8]=v*i+m*s+y*g+b*A,e[9]=v*r+m*l+y*d+b*f,e[10]=v*o+m*u+y*h+b*C,e[11]=v*a+m*c+y*p+b*I,v=n[12],m=n[13],y=n[14],b=n[15],e[12]=v*i+m*s+y*g+b*A,e[13]=v*r+m*l+y*d+b*f,e[14]=v*o+m*u+y*h+b*C,e[15]=v*a+m*c+y*p+b*I,e},e.mvt=Sa,e.normalizeGlyphsURL=function(e,t){if(!B(e))return e;var n=Y(e);return n.path="/fonts/v1"+n.path,L(n,t)},e.normalizeSourceURL=function(e,t){if(!B(e))return e;var n=Y(e);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),L(n,t)},e.normalizeSpriteURL=function(e,t,n,i){var r=Y(e);return B(e)?(r.path="/styles/v1"+r.path+"/sprite"+t+n,L(r,i)):(r.path+=""+t+n,q(r))},e.normalizeStyleURL=function(e,t){if(!B(e))return e;var n=Y(e);return n.path="/styles/v1"+n.path,L(n,t)},e.normalizeTileURL=function(e,t,n){if(!t||!B(t))return e;var i=Y(e),r=D.devicePixelRatio>=2||512===n?"@2x":"",o=M.supported?".webp":"$1";return i.path=i.path.replace(U,""+r+o),i.path="/v4"+i.path,L(i)},e.number=ct,e.ortho=function(e,t,n,i,r,o,a){var s=1/(t-n),l=1/(i-r),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*u,e[15]=1,e},e.parseGlyphPBF=function(e){return new Ls(e).readFields(il,[])},e.pbf=Ls,e.performSymbolLayout=function(e,t,n,i,r,o){e.createArrays();var a=512*e.overscaling;e.tilePixelRatio=Qr/a,e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,l=e.layers[0]._unevaluatedLayout._values,u={};if("composite"===e.textSizeData.functionType){var c=e.textSizeData.zoomRange,g=c.min,d=c.max;u.compositeTextSizes=[l["text-size"].possiblyEvaluate(new ki(g)),l["text-size"].possiblyEvaluate(new ki(d))]}if("composite"===e.iconSizeData.functionType){var h=e.iconSizeData.zoomRange,p=h.min,A=h.max;u.compositeIconSizes=[l["icon-size"].possiblyEvaluate(new ki(p)),l["icon-size"].possiblyEvaluate(new ki(A))]}u.layoutTextSize=l["text-size"].possiblyEvaluate(new ki(e.zoom+1)),u.layoutIconSize=l["icon-size"].possiblyEvaluate(new ki(e.zoom+1)),u.textMaxSize=l["text-size"].possiblyEvaluate(new ki(18));for(var f=s.get("text-line-height")*Pl,C="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),I=s.get("text-keep-upright"),v=0,m=e.features;v<m.length;v+=1){var y=m[v],x=s.get("text-font").evaluate(y,{}).join(","),_=n,w={horizontal:{},vertical:void 0},k=y.text,E=[0,0];if(k){var S=k.toString(),T=s.get("text-letter-spacing").evaluate(y,{})*Pl,O=Ai(S)?T:0,P=s.get("text-anchor").evaluate(y,{}),D=s.get("text-variable-anchor"),j=s.get("text-radial-offset").evaluate(y,{});D||(E=j?lu(P,j*Pl):s.get("text-offset").evaluate(y,{}).map((function(e){return e*Pl})));var M=C?"center":s.get("text-justify").evaluate(y,{}),N="point"===s.get("symbol-placement")?s.get("text-max-width").evaluate(y,{})*Pl:0;if(!C&&D)for(var z="auto"===M?D.map((function(e){return uu(e)})):[M],R=!1,F=0;F<z.length;F++){var L=z[F];if(!w.horizontal[L])if(R)w.horizontal[L]=w.horizontal[0];else{var B=Ml(k,t,x,N,f,"center",L,O,E,Dl.horizontal);B&&(w.horizontal[L]=B,R=1===B.lineCount)}}else{"auto"===M&&(M=uu(P));var Z=Ml(k,t,x,N,f,P,M,O,E,Dl.horizontal);Z&&(w.horizontal[M]=Z),pi(S)&&C&&I&&(w.vertical=Ml(k,t,x,N,f,P,M,O,E,Dl.vertical))}}var V=void 0;if(y.icon){var U=i[y.icon];U&&(V=Ul(r[y.icon],s.get("icon-offset").evaluate(y,{}),s.get("icon-anchor").evaluate(y,{})),void 0===e.sdfIcons?e.sdfIcons=U.sdf:e.sdfIcons!==U.sdf&&b("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(U.pixelRatio!==e.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}(Object.keys(w.horizontal).length||V)&&cu(e,y,w,V,_,u,E)}o&&e.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(o=1/(i-r),e[10]=(r+i)*o,e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e},e.pick=function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i];r in e&&(n[r]=e[r])}return n},e.plugin=wi,e.polygonIntersectsPolygon=no,e.postMapLoadEvent=te,e.postTurnstileEvent=$,e.potpack=Ss,e.properties=ms,e.rasterBoundsAttributes=bl,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=li,e.registerForPluginAvailability=function(e){return bi?e({pluginURL:bi,completionCallback:mi}):_i.once("pluginAvailable",e),e},e.rotate=function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+o*s,e[1]=r*l+a*s,e[2]=i*-s+o*l,e[3]=r*-s+a*l,e},e.rotateX=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],g=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+u*i,e[5]=a*r+c*i,e[6]=s*r+g*i,e[7]=l*r+d*i,e[8]=u*r-o*i,e[9]=c*r-a*i,e[10]=g*r-s*i,e[11]=d*r-l*i,e},e.rotateZ=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],g=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+u*i,e[1]=a*r+c*i,e[2]=s*r+g*i,e[3]=l*r+d*i,e[4]=u*r-o*i,e[5]=c*r-a*i,e[6]=g*r-s*i,e[7]=d*r-l*i,e},e.scale=function(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.setRTLTextPlugin=function(e,t){if(yi)throw new Error("setRTLTextPlugin cannot be called multiple times.");yi=!0,bi=D.resolveURL(e),mi=function(e){e?(yi=!1,bi=null,t&&t(e)):xi=!0},_i.fire(new pe("pluginAvailable",{pluginURL:bi,completionCallback:mi}))},e.sphericalToCartesian=function(e){var t=e[0],n=e[1],i=e[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(i),y:t*Math.sin(n)*Math.sin(i),z:t*Math.cos(i)}},e.styleSpec=Ce,e.symbolSize=gs,e.transformMat3=function(e,t,n){var i=t[0],r=t[1],o=t[2];return e[0]=i*n[0]+r*n[3]+o*n[6],e[1]=i*n[1]+r*n[4]+o*n[7],e[2]=i*n[2]+r*n[5]+o*n[8],e},e.transformMat4=bo,e.translate=function(e,t,n){var i,r,o,a,s,l,u,c,g,d,h,p,A=n[0],f=n[1],C=n[2];return t===e?(e[12]=t[0]*A+t[4]*f+t[8]*C+t[12],e[13]=t[1]*A+t[5]*f+t[9]*C+t[13],e[14]=t[2]*A+t[6]*f+t[10]*C+t[14],e[15]=t[3]*A+t[7]*f+t[11]*C+t[15]):(i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],g=t[8],d=t[9],h=t[10],p=t[11],e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=g,e[9]=d,e[10]=h,e[11]=p,e[12]=i*A+s*f+g*C+t[12],e[13]=r*A+l*f+d*C+t[13],e[14]=o*A+u*f+h*C+t[14],e[15]=a*A+c*f+p*C+t[15]),e},e.uniqueId=h,e.validateCustomStyleLayer=function(e){var t=[],n=e.id;return void 0===n&&t.push({message:"layers."+n+': missing required property "id"'}),void 0===e.render&&t.push({message:"layers."+n+': missing required method "render"'}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),t},e.validateLight=$n,e.validateStyle=Jn,e.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},e.vectorTile=Sa,e.version="0.54.1",e.warnOnce=b,e.webpSupported=M,e.window=self,e.wrap=c})),i(["./shared.js"],(function(e){function t(e){var n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){for(var i="[",r=0,o=e;r<o.length;r+=1)i+=t(o[r])+",";return i+"]"}for(var a=Object.keys(e).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+t(e[a[l]])+",";return s+"}"}function n(n){for(var i="",r=0,o=e.refProperties;r<o.length;r+=1)i+="/"+t(n[o[r]]);return i}var i=function(e){e&&this.replace(e)};i.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},i.prototype.update=function(t,i){for(var r=this,o=0,a=t;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=e.createStyleLayer(s);l._featureFilter=e.featureFilter(l.filter)}for(var u=0,c=i;u<c.length;u+=1){var g=c[u];delete this._layerConfigs[g],delete this._layers[g]}this.familiesBySource={};for(var d=0,h=function(e){for(var t={},i=0;i<e.length;i++){var r=n(e[i]),o=t[r];o||(o=t[r]=[]),o.push(e[i])}var a=[];for(var s in t)a.push(t[s]);return a}(e.values(this._layerConfigs));d<h.length;d+=1){var p=h[d].map((function(e){return r._layers[e.id]})),A=p[0];if("none"!==A.visibility){var f=A.source||"",C=this.familiesBySource[f];C||(C=this.familiesBySource[f]={});var I=A.sourceLayer||"_geojsonTileLayer",v=C[I];v||(v=C[I]=[]),v.push(p)}}};var r=function(t){var n={},i=[];for(var r in t){var o=t[r],a=n[r]={};for(var s in o){var l=o[+s];if(l&&0!==l.bitmap.width&&0!==l.bitmap.height){var u={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};i.push(u),a[s]={rect:u,metrics:l.metrics}}}}var c=e.potpack(i),g=c.w,d=c.h,h=new e.AlphaImage({width:g||1,height:d||1});for(var p in t){var A=t[p];for(var f in A){var C=A[+f];if(C&&0!==C.bitmap.width&&0!==C.bitmap.height){var I=n[p][f].rect;e.AlphaImage.copy(C.bitmap,h,{x:0,y:0},{x:I.x+1,y:I.y+1},C.bitmap)}}}this.image=h,this.positions=n};e.register("GlyphAtlas",r);var o=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies};function a(t,n){for(var i=new e.EvaluationParameters(n),r=0,o=t;r<o.length;r+=1)o[r].recalculate(i)}o.prototype.parse=function(t,n,i,o){var s=this;this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID);u.bucketLayerIDs=[];var c,g,d,h,p={},A={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{}},f=n.familiesBySource[this.source];for(var C in f){var I=t.layers[C];if(I){1===I.version&&e.warnOnce('Vector tile source "'+this.source+'" layer "'+C+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var v=l.encode(C),m=[],y=0;y<I.length;y++){var b=I.feature(y);m.push({feature:b,index:y,sourceLayerIndex:v})}for(var x=0,_=f[C];x<_.length;x+=1){var w=_[x],k=w[0];k.minzoom&&this.zoom<Math.floor(k.minzoom)||k.maxzoom&&this.zoom>=k.maxzoom||"none"!==k.visibility&&(a(w,this.zoom),(p[k.id]=k.createBucket({index:u.bucketLayerIDs.length,layers:w,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:v,sourceID:this.source})).populate(m,A),u.bucketLayerIDs.push(w.map((function(e){return e.id}))))}}}var E=e.mapObject(A.glyphDependencies,(function(e){return Object.keys(e).map(Number)}));Object.keys(E).length?i.send("getGlyphs",{uid:this.uid,stacks:E},(function(e,t){c||(c=e,g=t,O.call(s))})):g={};var S=Object.keys(A.iconDependencies);S.length?i.send("getImages",{icons:S},(function(e,t){c||(c=e,d=t,O.call(s))})):d={};var T=Object.keys(A.patternDependencies);function O(){if(c)return o(c);if(g&&d&&h){var t=new r(g),n=new e.ImageAtlas(d,h);for(var i in p){var s=p[i];s instanceof e.SymbolBucket?(a(s.layers,this.zoom),e.performSymbolLayout(s,g,t.positions,d,n.iconPositions,this.showCollisionBoxes)):s.hasPattern&&(s instanceof e.LineBucket||s instanceof e.FillBucket||s instanceof e.FillExtrusionBucket)&&(a(s.layers,this.zoom),s.addFeatures(A,n.patternPositions))}this.status="done",o(null,{buckets:e.values(p).filter((function(e){return!e.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?g:null,iconMap:this.returnDependencies?d:null,glyphPositions:this.returnDependencies?t.positions:null})}}T.length?i.send("getImages",{icons:T},(function(e,t){c||(c=e,h=t,O.call(s))})):h={},O.call(this)};var s="undefined"!=typeof performance,l={getEntriesByName:function(e){return!!(s&&performance&&performance.getEntriesByName)&&performance.getEntriesByName(e)},mark:function(e){return!!(s&&performance&&performance.mark)&&performance.mark(e)},measure:function(e,t,n){return!!(s&&performance&&performance.measure)&&performance.measure(e,t,n)},clearMarks:function(e){return!!(s&&performance&&performance.clearMarks)&&performance.clearMarks(e)},clearMeasures:function(e){return!!(s&&performance&&performance.clearMeasures)&&performance.clearMeasures(e)}},u=function(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},l.mark(this._marks.start)};function c(t,n){var i=e.getArrayBuffer(t.request,(function(t,i,r,o){t?n(t):i&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(i)),rawData:i,cacheControl:r,expires:o})}));return function(){i.cancel(),n()}}u.prototype.finish=function(){l.mark(this._marks.end);var e=l.getEntriesByName(this._marks.measure);return 0===e.length&&(l.measure(this._marks.measure,this._marks.start,this._marks.end),e=l.getEntriesByName(this._marks.measure),l.clearMarks(this._marks.start),l.clearMarks(this._marks.end),l.clearMeasures(this._marks.measure)),e},l.Performance=u;var g=function(e,t,n){this.actor=e,this.layerIndex=t,this.loadVectorData=n||c,this.loading={},this.loaded={}};g.prototype.loadTile=function(t,n){var i=this,r=t.uid;this.loading||(this.loading={});var a=!!(t&&t.request&&t.request.collectResourceTiming)&&new l.Performance(t.request),s=this.loading[r]=new o(t);s.abort=this.loadVectorData(t,(function(t,o){if(delete i.loading[r],t||!o)return s.status="done",i.loaded[r]=s,n(t);var l=o.rawData,u={};o.expires&&(u.expires=o.expires),o.cacheControl&&(u.cacheControl=o.cacheControl);var c={};if(a){var g=a.finish();g&&(c.resourceTiming=JSON.parse(JSON.stringify(g)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,i.layerIndex,i.actor,(function(t,i){if(t||!i)return n(t);n(null,e.extend({rawTileData:l.slice(0)},i,u,c))})),i.loaded=i.loaded||{},i.loaded[r]=s}))},g.prototype.reloadTile=function(e,t){var n=this.loaded,i=e.uid,r=this;if(n&&n[i]){var o=n[i];o.showCollisionBoxes=e.showCollisionBoxes;var a=function(e,n){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,r.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.actor,a):a())}},g.prototype.abortTile=function(e,t){var n=this.loading,i=e.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),t()},g.prototype.removeTile=function(e,t){var n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()};var d=function(){this.loaded={}};d.prototype.loadTile=function(t,n){var i=t.uid,r=t.encoding,o=t.rawImageData,a=new e.DEMData(i,o,r);this.loaded=this.loaded||{},this.loaded[i]=a,n(null,a)},d.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var h={RADIUS:6378137,FLATTENING:1/298.257223563,POLAR_RADIUS:6356752.3142};function p(e){var t=0;if(e&&e.length>0){t+=Math.abs(A(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(A(e[n]))}return t}function A(e){var t,n,i,r,o,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(i=l-2,r=l-1,o=0):a===l-1?(i=l-1,r=0,o=1):(i=a,r=a+1,o=a+2),t=e[i],n=e[r],s+=(f(e[o][0])-f(t[0]))*Math.sin(f(n[1]));s=s*h.RADIUS*h.RADIUS/2}return s}function f(e){return e*Math.PI/180}var C={geometry:function e(t){var n,i=0;switch(t.type){case"Polygon":return p(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++)i+=p(t.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++)i+=e(t.geometries[n]);return i}},ring:A},I=function e(t,n){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(v(e,n)),t;case"GeometryCollection":return t.geometries=t.geometries.map(v(e,n)),t;case"Feature":return t.geometry=e(t.geometry,n),t;case"Polygon":case"MultiPolygon":return function(e,t){return"Polygon"===e.type?e.coordinates=m(e.coordinates,t):"MultiPolygon"===e.type&&(e.coordinates=e.coordinates.map(v(m,t))),e}(t,n);default:return t}};function v(e,t){return function(n){return e(n,t)}}function m(e,t){t=!!t,e[0]=y(e[0],t);for(var n=1;n<e.length;n++)e[n]=y(e[n],!t);return e}function y(e,t){return function(e){return C.ring(e)>=0}(e)===t?e:e.reverse()}var b=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,x=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};x.prototype.loadGeometry=function(){if(1===this._feature.type){for(var t=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var r=i[n];t.push([new e.Point$1(r[0],r[1])])}return t}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var l=[],u=0,c=s[a];u<c.length;u+=1){var g=c[u];l.push(new e.Point$1(g[0],g[1]))}o.push(l)}return o},x.prototype.toGeoJSON=function(e,t,n){return b.call(this,e,t,n)};var _=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t};_.prototype.feature=function(e){return new x(this._features[e])};var w=e.vectorTile.VectorTileFeature,k=E;function E(e,t){this.options=t||{},this.features=e,this.length=e.length}function S(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}E.prototype.feature=function(e){return new S(this.features[e],this.options.extent)},S.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var i=t[n],r=[],o=0;o<i.length;o++)r.push(new e.Point$1(i[o][0],i[o][1]));this.geometry.push(r)}return this.geometry},S.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},S.prototype.toGeoJSON=w.prototype.toGeoJSON;var T=j,O=j,P=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new k(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return j({layers:n})},D=k;function j(t){var n=new e.pbf;return function(e,t){for(var n in e.layers)t.writeMessage(3,M,e.layers[n])}(t,n),n.finish()}function M(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,N,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,B,o[n])}function N(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,z,e),t.writeVarintField(3,n.type),t.writeMessage(4,L,n)}function z(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(i.push(s),l=i.length-1,o[s]=l),t.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var g=c+":"+u,d=a[g];void 0===d&&(r.push(u),d=r.length-1,a[g]=d),t.writeVarint(d)}}function R(e,t){return(t<<3)+(7&e)}function F(e){return e<<1^e>>31}function L(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===i&&(u=l.length),t.writeVarint(R(1,u));for(var c=3===i?l.length-1:l.length,g=0;g<c;g++){1===g&&1!==i&&t.writeVarint(R(2,c-1));var d=l[g].x-r,h=l[g].y-o;t.writeVarint(F(d)),t.writeVarint(F(h)),r+=d,o+=h}3===i&&t.writeVarint(R(7,1))}}function B(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function Z(e,t,n,i,r,o){if(!(r-i<=n)){var a=i+r>>1;!function e(t,n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=i-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),g=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(t,n,i,Math.max(r,Math.floor(i-l*c/s+g)),Math.min(o,Math.floor(i+(s-l)*c/s+g)),a)}var d=n[2*i+a],h=r,p=o;for(V(t,n,r,i),n[2*o+a]>d&&V(t,n,r,o);h<p;){for(V(t,n,h,p),h++,p--;n[2*h+a]<d;)h++;for(;n[2*p+a]>d;)p--}n[2*r+a]===d?V(t,n,r,p):V(t,n,++p,o),p<=i&&(r=p+1),i<=p&&(o=p-1)}}(e,t,a,i,r,o%2),Z(e,t,n,i,a-1,o+1),Z(e,t,n,a+1,r,o+1)}}function V(e,t,n,i){U(e,n,i),U(t,2*n,2*i),U(t,2*n+1,2*i+1)}function U(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function W(e,t,n,i){var r=e-n,o=t-i;return r*r+o*o}T.fromVectorTileJs=O,T.fromGeojsonVt=P,T.GeoJSONWrapper=D;var G=function(e){return e[0]},H=function(e){return e[1]},Y=function(e,t,n,i,r){void 0===t&&(t=G),void 0===n&&(n=H),void 0===i&&(i=64),void 0===r&&(r=Float64Array),this.nodeSize=i,this.points=e;for(var o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new r(2*e.length),l=0;l<e.length;l++)a[l]=l,s[2*l]=t(e[l]),s[2*l+1]=n(e[l]);Z(a,s,i,0,a.length-1,0)};Y.prototype.range=function(e,t,n,i){return function(e,t,n,i,r,o,a){for(var s,l,u=[0,e.length-1,0],c=[];u.length;){var g=u.pop(),d=u.pop(),h=u.pop();if(d-h<=a)for(var p=h;p<=d;p++)s=t[2*p],l=t[2*p+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(e[p]);else{var A=Math.floor((h+d)/2);s=t[2*A],l=t[2*A+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(e[A]);var f=(g+1)%2;(0===g?n<=s:i<=l)&&(u.push(h),u.push(A-1),u.push(f)),(0===g?r>=s:o>=l)&&(u.push(A+1),u.push(d),u.push(f))}}return c}(this.ids,this.coords,e,t,n,i,this.nodeSize)},Y.prototype.within=function(e,t,n){return function(e,t,n,i,r,o){for(var a=[0,e.length-1,0],s=[],l=r*r;a.length;){var u=a.pop(),c=a.pop(),g=a.pop();if(c-g<=o)for(var d=g;d<=c;d++)W(t[2*d],t[2*d+1],n,i)<=l&&s.push(e[d]);else{var h=Math.floor((g+c)/2),p=t[2*h],A=t[2*h+1];W(p,A,n,i)<=l&&s.push(e[h]);var f=(u+1)%2;(0===u?n-r<=p:i-r<=A)&&(a.push(g),a.push(h-1),a.push(f)),(0===u?n+r>=p:i+r>=A)&&(a.push(h+1),a.push(c),a.push(f))}}return s}(this.ids,this.coords,e,t,n,this.nodeSize)};var q={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,map:function(e){return e}},K=function(e){this.options=ne(Object.create(q),e),this.trees=new Array(this.options.maxZoom+1)};function X(e,t,n,i,r){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function Q(e,t){var n=e.geometry.coordinates,i=n[0],r=n[1];return{x:ee(i),y:te(r),zoom:1/0,index:t,parentId:-1}}function J(e){return{type:"Feature",id:e.id,properties:$(e),geometry:{type:"Point",coordinates:[(i=e.x,360*(i-.5)),(t=e.y,n=(180-360*t)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var t,n,i}function $(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return ne(ne({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function ee(e){return e/360+.5}function te(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ne(e,t){for(var n in t)e[n]=t[n];return e}function ie(e){return e.x}function re(e){return e.y}function oe(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return(a=e-n)*a+(s=t-i)*s}function ae(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)se(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)se(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)se(e,t[i][r])}(r),r}function se(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function le(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)ue(r,s);else if("MultiPoint"===o)for(var u=0;u<r.length;u++)ue(r[u],s);else if("LineString"===o)ce(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<r.length;u++)s=[],ce(r[u],s,a,!1),e.push(ae(l,"LineString",s,t.properties));return}ge(r,s,a,!1)}else if("Polygon"===o)ge(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)le(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<r.length;u++){var c=[];ge(r[u],c,a,!0),s.push(c)}}e.push(ae(l,o,s,t.properties))}}function ue(e,t){t.push(de(e[0])),t.push(he(e[1])),t.push(0)}function ce(e,t,n,i){for(var r,o,a=0,s=0;s<e.length;s++){var l=de(e[s][0]),u=he(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=i?(r*u-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(u-o,2))),r=l,o=u}var c=t.length-3;t[2]=1,function e(t,n,i,r){for(var o,a=r,s=i-n>>1,l=i-n,u=t[n],c=t[n+1],g=t[i],d=t[i+1],h=n+3;h<i;h+=3){var p=oe(t[h],t[h+1],u,c,g,d);if(p>a)o=h,a=p;else if(p===a){var A=Math.abs(h-s);A<l&&(o=h,l=A)}}a>r&&(o-n>3&&e(t,n,o,r),t[o+2]=a,i-o>3&&e(t,o,i,r))}(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ge(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];ce(e[r],o,n,i),t.push(o)}}function de(e){return e/360+.5}function he(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function pe(e,t,n,i,r,o,a,s){if(i/=t,o>=(n/=t)&&a<i)return e;if(a<n||o>=i)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],g=c.geometry,d=c.type,h=0===r?c.minX:c.minY,p=0===r?c.maxX:c.maxY;if(h>=n&&p<i)l.push(c);else if(!(p<n||h>=i)){var A=[];if("Point"===d||"MultiPoint"===d)Ae(g,A,n,i,r);else if("LineString"===d)fe(g,A,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===d)Ie(g,A,n,i,r,!1);else if("Polygon"===d)Ie(g,A,n,i,r,!0);else if("MultiPolygon"===d)for(var f=0;f<g.length;f++){var C=[];Ie(g[f],C,n,i,r,!0),C.length&&A.push(C)}if(A.length){if(s.lineMetrics&&"LineString"===d){for(f=0;f<A.length;f++)l.push(ae(c.id,d,A[f],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===A.length?(d="LineString",A=A[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===A.length?"Point":"MultiPoint"),l.push(ae(c.id,d,A,c.tags))}}}return l.length?l:null}function Ae(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=n&&a<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function fe(e,t,n,i,r,o,a){for(var s,l,u=Ce(e),c=0===r?me:ye,g=e.start,d=0;d<e.length-3;d+=3){var h=e[d],p=e[d+1],A=e[d+2],f=e[d+3],C=e[d+4],I=0===r?h:p,v=0===r?f:C,m=!1;a&&(s=Math.sqrt(Math.pow(h-f,2)+Math.pow(p-C,2))),I<n?v>n&&(l=c(u,h,p,f,C,n),a&&(u.start=g+s*l)):I>i?v<i&&(l=c(u,h,p,f,C,i),a&&(u.start=g+s*l)):ve(u,h,p,A),v<n&&I>=n&&(l=c(u,h,p,f,C,n),m=!0),v>i&&I<=i&&(l=c(u,h,p,f,C,i),m=!0),!o&&m&&(a&&(u.end=g+s*l),t.push(u),u=Ce(e)),a&&(g+=s)}var y=e.length-3;h=e[y],p=e[y+1],A=e[y+2],(I=0===r?h:p)>=n&&I<=i&&ve(u,h,p,A),y=u.length-3,o&&y>=3&&(u[y]!==u[0]||u[y+1]!==u[1])&&ve(u,u[0],u[1],u[2]),u.length&&t.push(u)}function Ce(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function Ie(e,t,n,i,r,o){for(var a=0;a<e.length;a++)fe(e[a],t,n,i,r,o,!1)}function ve(e,t,n,i){e.push(t),e.push(n),e.push(i)}function me(e,t,n,i,r,o){var a=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*a),e.push(1),a}function ye(e,t,n,i,r,o){var a=(o-n)/(r-n);return e.push(t+(i-t)*a),e.push(o),e.push(1),a}function be(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=xe(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(xe(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(xe(o.geometry[s][u],t));r.push(l)}n.push(ae(o.id,a,r,o.tags))}return n}function xe(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function _e(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(i=0;i<u.length;i+=2)l.geometry.push(we(u[i],u[i+1],t,o,a,s));else for(i=0;i<u.length;i++){var g=[];for(r=0;r<u[i].length;r+=2)g.push(we(u[i][r],u[i][r+1],t,o,a,s));l.geometry.push(g)}}return e.transformed=!0,e}function we(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function ke(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ee(a,e[s],o,r);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,g=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),g>a.maxY&&(a.maxY=g)}return a}function Ee(e,t,n,i){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)Se(a,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)Se(a,r[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var u=r[l];for(s=0;s<u.length;s++)Se(a,u[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var g in c={},t.tags)c[g]=t.tags[g];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(d.id=t.id),e.features.push(d)}}function Se(e,t,n,i,r,o){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],s=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=s}}(s,o),e.push(s)}}function Te(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)le(n,e.features[i],t,i);else"Feature"===e.type?le(n,e,t):le(n,{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(e,t){var n=t.buffer/t.extent,i=e,r=pe(e,1,-1-n,n,0,-1,2,t),o=pe(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=pe(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=be(r,1).concat(i)),o&&(i=i.concat(be(o,-1)))),i}(i,t)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Oe(e,t,n){return 32*((1<<e)*n+t)+e}function Pe(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return t(null,null);var r=new _(i.features),o=T(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}K.prototype.load=function(e){var t=this.options,n=t.log,i=t.minZoom,r=t.maxZoom,o=t.nodeSize;n&&console.time("total time");var a="prepare "+e.length+" points";n&&console.time(a),this.points=e;for(var s=[],l=0;l<e.length;l++)e[l].geometry&&s.push(Q(e[l],l));this.trees[r+1]=new Y(s,ie,re,o,Float32Array),n&&console.timeEnd(a);for(var u=r;u>=i;u--){var c=+Date.now();s=this._cluster(s,u),this.trees[u]=new Y(s,ie,re,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",u,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},K.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var a=this.getClusters([n,i,180,o],t),s=this.getClusters([-180,i,r,o],t);return a.concat(s)}for(var l=this.trees[this._limitZoom(t)],u=[],c=0,g=l.range(ee(n),te(o),ee(r),te(i));c<g.length;c+=1){var d=g[c],h=l.points[d];u.push(h.numPoints?J(h):this.points[h.index])}return u},K.prototype.getChildren=function(e){var t=e>>5,n=e%32,i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var o=r.points[t];if(!o)throw new Error(i);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],l=0,u=r.within(o.x,o.y,a);l<u.length;l+=1){var c=u[l],g=r.points[c];g.parentId===e&&s.push(g.numPoints?J(g):this.points[g.index])}if(0===s.length)throw new Error(i);return s},K.prototype.getLeaves=function(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i},K.prototype.getTile=function(e,t,n){var i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),o=this.options,a=o.extent,s=o.radius/a,l=(n-s)/r,u=(n+1+s)/r,c={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,u),i.points,t,n,r,c),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,u),i.points,r,n,r,c),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,u),i.points,-1,n,r,c),c.features.length?c:null},K.prototype.getClusterExpansionZoom=function(e){for(var t=e%32-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t},K.prototype._appendLeaves=function(e,t,n,i,r){for(var o=0,a=this.getChildren(t);o<a.length;o+=1){var s=a[o],l=s.properties;if(l&&l.cluster?r+l.point_count<=i?r+=l.point_count:r=this._appendLeaves(e,l.cluster_id,n,i,r):r<i?r++:e.push(s),e.length===n)break}return r},K.prototype._addTileFeatures=function(e,t,n,i,r,o){for(var a=0,s=e;a<s.length;a+=1){var l=t[s[a]],u={type:1,geometry:[[Math.round(this.options.extent*(l.x*r-n)),Math.round(this.options.extent*(l.y*r-i))]],tags:l.numPoints?$(l):this.points[l.index].properties},c=l.numPoints?l.id:this.points[l.index].id;void 0!==c&&(u.id=c),o.features.push(u)}},K.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},K.prototype._cluster=function(e,t){for(var n=[],i=this.options,r=i.radius,o=i.extent,a=i.reduce,s=r/(o*Math.pow(2,t)),l=0;l<e.length;l++){var u=e[l];if(!(u.zoom<=t)){u.zoom=t;for(var c=this.trees[t+1],g=c.within(u.x,u.y,s),d=u.numPoints||1,h=u.x*d,p=u.y*d,A=a?this._map(u,!0):null,f=(l<<5)+(t+1),C=0,I=g;C<I.length;C+=1){var v=I[C],m=c.points[v];if(!(m.zoom<=t)){m.zoom=t;var y=m.numPoints||1;h+=m.x*y,p+=m.y*y,d+=y,m.parentId=f,a&&a(A,this._map(m))}}1===d?n.push(u):(u.parentId=f,n.push(X(h/d,p/d,f,d,A)))}}return n},K.prototype._map=function(e,t){if(e.numPoints)return t?ne({},e.properties):e.properties;var n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?ne({},i):i},Te.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Te.prototype.splitTile=function(e,t,n,i,r,o,a){for(var s=[e,t,n,i],l=this.options,u=l.debug;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,g=Oe(t,n,i),d=this.tiles[g];if(!d&&(u>1&&console.time("creation"),d=this.tiles[g]=ke(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var h="z"+t;this.stats[h]=(this.stats[h]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var p=1<<r-t;if(n!==Math.floor(o/p)||i!==Math.floor(a/p))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){u>1&&console.time("clipping");var A,f,C,I,v,m,y=.5*l.buffer/l.extent,b=.5-y,x=.5+y,_=1+y;A=f=C=I=null,v=pe(e,c,n-y,n+x,0,d.minX,d.maxX,l),m=pe(e,c,n+b,n+_,0,d.minX,d.maxX,l),e=null,v&&(A=pe(v,c,i-y,i+x,1,d.minY,d.maxY,l),f=pe(v,c,i+b,i+_,1,d.minY,d.maxY,l),v=null),m&&(C=pe(m,c,i-y,i+x,1,d.minY,d.maxY,l),I=pe(m,c,i+b,i+_,1,d.minY,d.maxY,l),m=null),u>1&&console.timeEnd("clipping"),s.push(A||[],t+1,2*n,2*i),s.push(f||[],t+1,2*n,2*i+1),s.push(C||[],t+1,2*n+1,2*i),s.push(I||[],t+1,2*n+1,2*i+1)}}},Te.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var a=1<<e,s=Oe(e,t=(t%a+a)%a,n);if(this.tiles[s])return _e(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,g=n;!l&&u>0;)u--,c=Math.floor(c/2),g=Math.floor(g/2),l=this.tiles[Oe(u,c,g)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,g),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,g,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?_e(this.tiles[s],r):null):null};var De=function(t){function n(e,n,i){t.call(this,e,n,Pe),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var t=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new l.Performance(i.request);this.loadGeoJSON(i,(function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data is not a valid GeoJSON object."));I(a,!0);try{t._geoJSONIndex=i.cluster?new K(function(t){var n=t.superclusterOptions,i=t.clusterProperties;if(!i||!n)return n;for(var r={},o={},a={accumulated:null,zoom:0},s={properties:null},l=Object.keys(i),u=0,c=l;u<c.length;u+=1){var g=c[u],d=i[g],h=d[0],p=d[1],A=e.createExpression(p),f=e.createExpression("string"==typeof h?[h,["accumulated"],["get",g]]:h);r[g]=A.value,o[g]=f.value}return n.map=function(e){s.properties=e;for(var t={},n=0,i=l;n<i.length;n+=1){var o=i[n];t[o]=r[o].evaluate(a,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,i=l;n<i.length;n+=1){var r=i[n];a.accumulated=e[r],e[r]=o[r].evaluate(a,s)}},n}(i)).load(a.features):function(e,t){return new Te(e,t)}(a,i.geojsonVtOptions)}catch(o){return n(o)}t.loaded={};var s={};if(r){var l=r.finish();l&&(s.resourceTiming={},s.resourceTiming[i.source]=JSON.parse(JSON.stringify(l)))}n(null,s)}))}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(e,n){var i=this.loaded,r=e.uid;return i&&i[r]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error("Input data is not a valid GeoJSON object."));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error("Input data is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))},n.prototype.getClusterChildren=function(e,t){t(null,this._geoJSONIndex.getChildren(e.clusterId))},n.prototype.getClusterLeaves=function(e,t){t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))},n}(g),je=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.workerSourceTypes={vector:g,geojson:De},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw new Error('Worker source with name "'+e+'" already registered.');n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isLoaded())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return je.prototype.setReferrer=function(e,t){this.referrer=t},je.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},je.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},je.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},je.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},je.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},je.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},je.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},je.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},je.prototype.removeSource=function(e,t,n){if(this.workerSources[e]&&this.workerSources[e][t.type]&&this.workerSources[e][t.type][t.source]){var i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}},je.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},je.prototype.loadRTLTextPlugin=function(t,n,i){try{e.plugin.isLoaded()||(this.self.importScripts(n),i(e.plugin.isLoaded()?null:new Error("RTL Text Plugin failed to import scripts from "+n)))}catch(e){i(e.toString())}},je.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t},je.prototype.getWorkerSource=function(e,t,n){var i=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){var r={send:function(t,n,r){i.actor.send(t,n,r,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](r,this.getLayerIndex(e))}return this.workerSources[e][t][n]},je.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new d),this.demWorkerSources[e][t]},"undefined"!=typeof WorkerGlobalScope&&void 0!==e.window&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new je(e.window)),je})),i(["./shared.js"],(function(e){var t=e.createCommonjsModule((function(e){function t(e){return!!("undefined"!=typeof window&&"undefined"!=typeof document&&Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray&&Function.prototype&&Function.prototype.bind&&Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON&&function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{t=new Worker(i),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(i),e}()&&"Uint8ClampedArray"in window&&ArrayBuffer.isView&&function(e){return void 0===n[e]&&(n[e]=function(e){var n=document.createElement("canvas"),i=Object.create(t.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext("webgl",i)||n.probablySupportsContext("experimental-webgl",i):n.supportsContext?n.supportsContext("webgl",i)||n.supportsContext("experimental-webgl",i):n.getContext("webgl",i)||n.getContext("experimental-webgl",i)}(e)),n[e]}(e&&e.failIfMajorPerformanceCaveat))}e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t);var n={};t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}})),n={create:function(t,n,i){var r=e.window.document.createElement(t);return n&&(r.className=n),i&&i.appendChild(r),r},createNS:function(t,n){return e.window.document.createElementNS(t,n)}},i=e.window.document?e.window.document.documentElement.style:null;function r(e){if(!i)return null;for(var t=0;t<e.length;t++)if(e[t]in i)return e[t];return e[0]}var o,a=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){i&&a&&(o=i[a],i[a]="none")},n.enableDrag=function(){i&&a&&(i[a]=o)};var s=r(["transform","WebkitTransform"]);n.setTransform=function(e,t){e.style[s]=t};var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){l=!0}});e.window.addEventListener("test",u,u),e.window.removeEventListener("test",u,u)}catch(e){l=!1}n.addEventListener=function(e,t,n,i){void 0===i&&(i={}),"passive"in i&&l?e.addEventListener(t,n,i):e.addEventListener(t,n,i.capture)},n.removeEventListener=function(e,t,n,i){void 0===i&&(i={}),"passive"in i&&l?e.removeEventListener(t,n,i):e.removeEventListener(t,n,i.capture)};var c=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",c,!0)};function g(e){var t=e.userImage;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}n.suppressClick=function(){e.window.addEventListener("click",c,!0),e.window.setTimeout((function(){e.window.removeEventListener("click",c,!0)}),0)},n.mousePos=function(t,n){var i=t.getBoundingClientRect();return n=n.touches?n.touches[0]:n,new e.Point(n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop)},n.touchPos=function(t,n){for(var i=t.getBoundingClientRect(),r=[],o="touchend"===n.type?n.changedTouches:n.touches,a=0;a<o.length;a++)r.push(new e.Point(o[a].clientX-i.left-t.clientLeft,o[a].clientY-i.top-t.clientTop));return r},n.mouseButton=function(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};var d=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var i=n[t],r=i.ids,o=i.callback;this._notify(r,o)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this.images[e]=t},n.prototype.updateImage=function(e,t){var n=this.images[e];t.version=n.version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var i=0,r=e;i<r.length;i+=1){var o=r[i];this.images[o]||(n=!1)}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var i={},r=0,o=t;r<o.length;r+=1){var a=o[r];this.images[a]||this.fire(new e.Event("styleimagemissing",{id:a}));var s=this.images[a];s?i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:e.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,i)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{var r={w:i.data.width+2,h:i.data.height+2,x:0,y:0},o=new e.ImagePosition(r,i);this.patterns[t]={bin:r,position:o}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var i=e.potpack(t),r=i.w,o=i.h,a=this.atlasImage;for(var s in a.resize({width:r||1,height:o||1}),this.patterns){var l=this.patterns[s].bin,u=l.x+1,c=l.y+1,g=this.images[s].data,d=g.width,h=g.height;e.RGBAImage.copy(g,a,{x:0,y:0},{x:u,y:c},{width:d,height:h}),e.RGBAImage.copy(g,a,{x:0,y:h-1},{x:u,y:c-1},{width:d,height:1}),e.RGBAImage.copy(g,a,{x:0,y:0},{x:u,y:c+h},{width:d,height:1}),e.RGBAImage.copy(g,a,{x:d-1,y:0},{x:u-1,y:c},{width:1,height:h}),e.RGBAImage.copy(g,a,{x:0,y:0},{x:u+d,y:c},{width:1,height:h})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var r=this.images[i];g(r)&&this.updateImage(i,r)}}},n}(e.Evented),h=A,p=1e20;function A(e,t,n,i,r,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=i||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function f(e,t,n,i,r,o,a){for(var s=0;s<t;s++){for(var l=0;l<n;l++)i[l]=e[l*t+s];for(C(i,r,o,a,n),l=0;l<n;l++)e[l*t+s]=r[l]}for(l=0;l<n;l++){for(s=0;s<t;s++)i[s]=e[l*t+s];for(C(i,r,o,a,t),s=0;s<t;s++)e[l*t+s]=Math.sqrt(r[s])}}function C(e,t,n,i,r){n[0]=0,i[0]=-p,i[1]=+p;for(var o=1,a=0;o<r;o++){for(var s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=i[a];)a--,s=(e[o]+o*o-(e[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,i[a]=s,i[a+1]=+p}for(o=0,a=0;o<r;o++){for(;i[a+1]<o;)a++;t[o]=(o-n[a])*(o-n[a])+e[n[a]]}}A.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var r=t.data[4*i+3]/255;this.gridOuter[i]=1===r?0:0===r?p:Math.pow(Math.max(0,.5-r),2),this.gridInner[i]=1===r?p:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(f(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),f(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var o=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(o/this.radius+this.cutoff))))}return n};var I=function(e,t){this.requestTransform=e,this.localIdeographFontFamily=t,this.entries={}};I.prototype.setURL=function(e){this.url=e},I.prototype.getGlyphs=function(t,n){var i=this,r=[];for(var o in t)for(var a=0,s=t[o];a<s.length;a+=1){var l=s[a];r.push({stack:o,id:l})}e.asyncAll(r,(function(e,t){var n=e.stack,r=e.id,o=i.entries[n];o||(o=i.entries[n]={glyphs:{},requests:{}});var a=o.glyphs[r];if(void 0===a)if(a=i._tinySDF(o,n,r))t(null,{stack:n,id:r,glyph:a});else{var s=Math.floor(r/256);if(256*s>65535)t(new Error("glyphs > 65535 not supported"));else{var l=o.requests[s];l||(l=o.requests[s]=[],I.loadGlyphRange(n,s,i.url,i.requestTransform,(function(e,t){if(t)for(var n in t)o.glyphs[+n]=t[+n];for(var i=0,r=l;i<r.length;i+=1)(0,r[i])(e,t);delete o.requests[s]}))),l.push((function(e,i){e?t(e):i&&t(null,{stack:n,id:r,glyph:i[r]||null})}))}}else t(null,{stack:n,id:r,glyph:a})}),(function(e,t){if(e)n(e);else if(t){for(var i={},r=0,o=t;r<o.length;r+=1){var a=o[r],s=a.stack,l=a.id,u=a.glyph;(i[s]||(i[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}n(null,i)}}))},I.prototype._tinySDF=function(t,n,i){var r=this.localIdeographFontFamily;if(r&&(e.isChar["CJK Unified Ideographs"](i)||e.isChar["Hangul Syllables"](i))){var o=t.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=t.tinySDF=new I.TinySDF(24,3,8,.25,r,a)}return{id:i,bitmap:new e.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},I.loadGlyphRange=function(t,n,i,r,o){var a=256*n,s=a+255,l=r(e.normalizeGlyphsURL(i).replace("{fontstack}",t).replace("{range}",a+"-"+s),e.ResourceType.Glyphs);e.getArrayBuffer(l,(function(t,n){if(t)o(t);else if(n){for(var i={},r=0,a=e.parseGlyphPBF(n);r<a.length;r+=1){var s=a[r];i[s.id]=s}o(null,i)}}))},I.TinySDF=h;var v=function(){this.specification=e.styleSpec.light.position};v.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},v.prototype.interpolate=function(t,n,i){return{x:e.number(t.x,n.x,i),y:e.number(t.y,n.y,i),z:e.number(t.z,n.z,i)}};var m=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new v,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),y=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(m),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(void 0===n&&(n={}),!this._validate(e.validateLight,t,n))for(var i in t){var r=t[i];e.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-11),r):this._transitionable.setValue(i,r)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),b=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};b.prototype.getDash=function(e,t){var n=e.join(",")+String(t);return this.positions[n]||(this.positions[n]=this.addDash(e,t)),this.positions[n]},b.prototype.addDash=function(t,n){var i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return e.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<t.length;a++)o+=t[a];for(var s=this.width/o,l=s/2,u=t.length%2==1,c=-i;c<=i;c++)for(var g=this.nextRow+i+c,d=this.width*g,h=u?-t[t.length-1]:0,p=t[0],A=1,f=0;f<this.width;f++){for(;p<f/s;)h=p,p+=t[A],u&&A===t.length-1&&(p+=t[0]),A++;var C=Math.abs(f-h*s),I=Math.abs(f-p*s),v=Math.min(C,I),m=A%2==1,y=void 0;if(n){var b=i?c/i*(l+1):0;if(m){var x=l-Math.abs(b);y=Math.sqrt(v*v+x*x)}else y=l-Math.sqrt(v*v+b*b)}else y=(m?1:-1)*v;this.data[3+4*(d+f)]=Math.max(0,Math.min(255,y+128))}var _={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:o};return this.nextRow+=r,this.dirty=!0,_},b.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))};var x=function t(n,i){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var r=this.workerPool.acquire(this.id),o=0;o<r.length;o++){var a=r[o],s=new t.Actor(a,i,this.id);s.name="Worker "+o,this.actors.push(s)}};function _(t,n,i){var r=function(n,r){if(n)return i(n);if(r){var o=e.pick(r,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);r.vector_layers&&(o.vectorLayers=r.vector_layers,o.vectorLayerIds=o.vectorLayers.map((function(e){return e.id}))),t.url&&(o.tiles=e.canonicalizeTileset(o,t.url)),i(null,o)}};return t.url?e.getJSON(n(e.normalizeSourceURL(t.url),e.ResourceType.Source),r):e.browser.frame((function(){return r(null,t)}))}x.prototype.broadcast=function(t,n,i){i=i||function(){},e.asyncAll(this.actors,(function(e,i){e.send(t,n,i)}),i)},x.prototype.send=function(e,t,n,i){return("number"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(e,t,n),i},x.prototype.remove=function(){this.actors.forEach((function(e){e.remove()})),this.actors=[],this.workerPool.release(this.id)},x.Actor=e.Actor;var w=function(t,n,i){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=i||24};w.prototype.validateBounds=function(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]},w.prototype.contains=function(t){var n=Math.pow(2,t.z),i=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=i&&t.x<o&&t.y>=r&&t.y<a};var k=function(t){function n(n,i,r,o){if(t.call(this),this.id=n,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,e.extend(this,e.pick(i,["url","scheme","tileSize"])),this._options=e.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_(this._options,this.map._transformRequest,(function(n,i){t._tileJSONRequest=null,n?t.fire(new e.ErrorEvent(n)):i&&(e.extend(t,i),i.bounds&&(t.tileBounds=new w(i.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(i.tiles),e.postMapLoadEvent(i.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var i=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url),r={request:this.map._transformRequest(i,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};function o(e,i){return t.aborted?n(null):e&&404!==e.status?n(e):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",r,o.bind(this)):"loading"===t.state?t.reloadCallback=n:this.dispatcher.send("reloadTile",r,o.bind(this),t.workerID)},n.prototype.abortTile=function(e){this.dispatcher.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0,e.workerID)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),E=function(t){function n(n,i,r,o){t.call(this),this.id=n,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({},i),e.extend(this,e.pick(i,["url","scheme","tileSize"]))}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=_(this._options,this.map._transformRequest,(function(n,i){t._tileJSONRequest=null,n?t.fire(new e.ErrorEvent(n)):i&&(e.extend(t,i),i.bounds&&(t.tileBounds=new w(i.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(i.tiles),e.postMapLoadEvent(i.tiles,t.map._getMapId()),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),t.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var i=this,r=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(r,e.ResourceType.Tile),(function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){i.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=i.map.painter.context,s=a.gl;t.texture=i.map.painter.getTileTexture(o.width),t.texture?t.texture.update(o,{useMipmap:!0}):(t.texture=new e.Texture(a,o,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),t.state="loaded",n(null)}}))},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),S=function(t){function n(n,i,r,o){t.call(this,n,i,r,o),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({},i),this.encoding=i.encoding||"mapbox"}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var i=e.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=e.getImage(this.map._transformRequest(i,e.ResourceType.Tile),function(i,r){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(r){this.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=e.browser.getImageData(r),a={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",a,function(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.needsHillshadePrepare=!0,t.state="loaded",n(null))}.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,s=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:e.uid,source:this.id},void 0,e.workerID)},n}(E),T=function(t){function n(n,i,r,o){t.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this.dispatcher=r,this.setEventedParent(o),this._data=i.data,this._options=e.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution);var a=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:e.EXTENT,radius:(i.clusterRadius||50)*a,log:!1},clusterProperties:i.clusterProperties},i.workerOptions)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(n){if(n)t.fire(new e.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(i.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event("data",i))}}))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event("dataloading",{dataType:"source"})),this._updateWorkerData((function(t){if(t)n.fire(new e.ErrorEvent(t));else{var i={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(i.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event("data",i))}})),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.dispatcher.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t,this.workerID),this},n.prototype.getClusterChildren=function(e,t){return this.dispatcher.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t,this.workerID),this},n.prototype.getClusterLeaves=function(e,t,n,i){return this.dispatcher.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i,this.workerID),this},n.prototype._updateWorkerData=function(t){var n=this,i=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(i.request=this.map._transformRequest(e.browser.resolveURL(r),e.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",i,(function(e,r){n._removed||r&&r.abandoned||(n._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[n.id]&&(n._resourceTiming=r.resourceTiming[n.id].slice(0)),n.dispatcher.send(n.type+".coalesce",{source:i.source},null,n.workerID),t(e))}),this.workerID)},n.prototype.loadTile=function(t,n){var i=this,r=void 0===t.workerID?"loadTile":"reloadTile",o={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(r,o,(function(e,o){return t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(o,i.map.painter,"reloadTile"===r),n(null))}),this.workerID)},n.prototype.abortTile=function(e){e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.dispatcher.send("removeTile",{uid:e.uid,type:this.type,source:this.id},null,e.workerID)},n.prototype.onRemove=function(){this._removed=!0,this.dispatcher.send("removeSource",{type:this.type,source:this.id},null,this.workerID)},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),O=function(t){function n(e,n,i,r){t.call(this),this.id=e,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(t,n){var i=this;this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._transformRequest(this.url,e.ResourceType.Image),(function(r,o){r?i.fire(new e.ErrorEvent(r)):o&&(i.image=o,t&&(i.coordinates=t),n&&n(),i._finishLoading())}))},n.prototype.updateImage=function(e){var t=this;return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(function(){t.texture=null})),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var i=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,a=0,s=t;a<s.length;a+=1){var l=s[a];n=Math.min(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.x),o=Math.max(o,l.y)}var u=r-n,c=o-i,g=Math.max(u,c),d=Math.max(0,Math.floor(-Math.log(g)/Math.LN2)),h=Math.pow(2,d);return new e.CanonicalTileID(d,Math.floor((n+r)/2*h),Math.floor((i+o)/2*h))}(i),this.minzoom=this.maxzoom=this.tileID.z;var r=i.map((function(e){return n.tileID.getTilePoint(e)._round()}));return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var t=this.map.painter.context,n=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented),P=function(t){function n(e,n,i,r){t.call(this,e,n,i,r),this.roundZoom=!0,this.type="video",this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this,n=this.options;this.urls=[];for(var i=0,r=n.urls;i<r.length;i+=1){var o=r[i];this.urls.push(this.map._transformRequest(o,e.ResourceType.Source).url)}e.getVideo(this.urls,(function(n,i){n?t.fire(new e.ErrorEvent(n)):i&&(t.video=i,t.video.loop=!0,t.video.addEventListener("playing",(function(){t.map.triggerRepaint()})),t.map&&t.video.play(),t._finishLoading())}))},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(O),D=function(t){function n(n,i,r,o){t.call(this,n,i,r,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some((function(e){return!Array.isArray(e)||2!==e.length||e.some((function(e){return"number"!=typeof e}))}))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,e.rasterBoundsAttributes.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,i.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[r];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(O),j={vector:k,raster:E,"raster-dem":S,geojson:T,video:P,image:O,canvas:D},M=function(t,n,i,r){var o=new j[n.type](t,n,i,r);if(o.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+o.id);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function N(t,n){var i=e.identity([]);return e.translate(i,i,[1,1,0]),e.scale(i,i,[.5*t.width,.5*t.height,1]),e.multiply(i,i,t.calculatePosMatrix(n.toUnwrapped()))}function z(e,t,n,i,r){var o=function(e,t,n){if(e)for(var i=0,r=e;i<r.length;i+=1){var o=t[r[i]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in t){var s=t[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(i&&i.layers,t,e.id),a=r.maxPitchScaleFactor(),s=e.tilesIn(n,a,o);s.sort(R);for(var l=[],u=0,c=s;u<c.length;u+=1){var g=c[u];l.push({wrappedTileID:g.tileID.wrapped().key,queryResults:g.tile.queryRenderedFeatures(t,e._state,g.queryGeometry,g.cameraQueryGeometry,g.scale,i,r,a,N(e.transform,g.tileID))})}var d=function(e){for(var t={},n={},i=0,r=e;i<r.length;i+=1){var o=r[i],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],g=l[u]=l[u]||{},d=t[u]=t[u]||[],h=0,p=c;h<p.length;h+=1){var A=p[h];g[A.featureIndex]||(g[A.featureIndex]=!0,d.push(A))}}return t}(l);for(var h in d)d[h].forEach((function(t){var n=t.feature,i=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return d}function R(e,t){var n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}var F=function(e,t){this.max=e,this.onRemove=t,this.reset()};F.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var i=n[t];i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value)}return this.data={},this.order=[],this},F.prototype.add=function(e,t,n){var i=this,r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var o={value:t,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout((function(){i.remove(e,o)}),n)),this.data[r].push(o),this.order.push(r),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},F.prototype.has=function(e){return e.wrapped().key in this.data},F.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},F.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},F.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},F.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this},F.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this};var L=function(e,t,n){this.context=e;var i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};L.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},L.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},L.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var B={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Z=function(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;var r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};Z.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Z.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},Z.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var i=this.attributes[n],r=t.attributes[i.name];void 0!==r&&e.enableVertexAttribArray(r)}},Z.prototype.setVertexAttribPointers=function(e,t,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[B[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}},Z.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var V=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};V.prototype.get=function(){return this.current},V.prototype.set=function(e){},V.prototype.getDefault=function(){return this.default},V.prototype.setDefault=function(){this.set(this.default)};var U=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(V),W=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(V),G=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(V),H=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),Y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(V),q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(V),K=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(V),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(V),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(V),J=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),$=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(V),ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(V),te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(V),ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(V),ie=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(V),re=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(V),oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(V),ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(V),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(V),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(V),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(V),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(V),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(V),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(V),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(V),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(V),Ae=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(V),fe=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(V),Ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(V),Ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(e!==this.current||this.dirty){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(V),me=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(V),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(me),be=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(me),xe=function(e,t,n){this.context=e,this.width=t,this.height=n;var i=e.gl,r=this.framebuffer=i.createFramebuffer();this.colorAttachment=new ye(e,r),this.depthAttachment=new be(e,r)};xe.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();t&&e.deleteTexture(t);var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n),e.deleteFramebuffer(this.framebuffer)};var _e=function(e,t,n){this.func=e,this.mask=t,this.range=n};_e.ReadOnly=!1,_e.ReadWrite=!0,_e.disabled=new _e(519,_e.ReadOnly,[0,1]);var we=function(e,t,n,i,r,o){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o};we.disabled=new we({func:519,mask:0},0,0,7680,7680,7680);var ke=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};ke.Replace=[1,0],ke.disabled=new ke(ke.Replace,e.Color.transparent,[!1,!1,!1,!1]),ke.unblended=new ke(ke.Replace,e.Color.transparent,[!0,!0,!0,!0]),ke.alphaBlended=new ke([1,771],e.Color.transparent,[!0,!0,!0,!0]);var Ee=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Ee.disabled=new Ee(!1,1029,2305),Ee.backCCW=new Ee(!0,1029,2305);var Se=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new U(this),this.clearDepth=new W(this),this.clearStencil=new G(this),this.colorMask=new H(this),this.depthMask=new Y(this),this.stencilMask=new q(this),this.stencilFunc=new K(this),this.stencilOp=new X(this),this.stencilTest=new Q(this),this.depthRange=new J(this),this.depthTest=new $(this),this.depthFunc=new ee(this),this.blend=new te(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new re(this),this.cullFace=new oe(this),this.cullFaceSide=new ae(this),this.frontFace=new se(this),this.program=new le(this),this.activeTexture=new ue(this),this.viewport=new ce(this),this.bindFramebuffer=new ge(this),this.bindRenderbuffer=new de(this),this.bindTexture=new he(this),this.bindVertexBuffer=new pe(this),this.bindElementBuffer=new Ae(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new fe(this),this.pixelStoreUnpack=new Ce(this),this.pixelStoreUnpackPremultiplyAlpha=new Ie(this),this.pixelStoreUnpackFlipY=new ve(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&e.getExtension("OES_texture_half_float_linear")};Se.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Se.prototype.createIndexBuffer=function(e,t){return new L(this,e,t)},Se.prototype.createVertexBuffer=function(e,t,n){return new Z(this,e,t,n)},Se.prototype.createRenderbuffer=function(e,t,n){var i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r},Se.prototype.createFramebuffer=function(e,t){return new xe(this,e,t)},Se.prototype.clear=function(e){var t=e.color,n=e.depth,i=this.gl,r=0;t&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(r)},Se.prototype.setCullFace=function(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Se.prototype.setDepthMode=function(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)},Se.prototype.setStencilMode=function(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)},Se.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Se.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Te=function(t){function n(n,i,r){var o=this;t.call(this),this.id=n,this.dispatcher=r,this.on("data",(function(e){"source"===e.dataType&&"metadata"===e.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))})),this.on("error",(function(){o._sourceErrored=!0})),this._source=M(n,i,r,this),this._tiles={},this._cache=new F(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in this._tiles){var t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,(function(){}))},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,(function(){}))},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(Oe)},n.prototype.getRenderableIds=function(t){var n=this,i=[];for(var r in this._tiles)this._isIdRenderable(+r,t)&&i.push(+r);return t?i.sort((function(t,i){var r=n._tiles[t].tileID,o=n._tiles[i].tileID,a=new e.Point(r.canonical.x,r.canonical.y)._rotate(n.transform.angle),s=new e.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return r.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x})):i.sort(Oe)},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var e in this._cache.reset(),this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,i,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new e.ErrorEvent(r,{tile:t})):this.update(this.transform));t.timeAdded=e.browser.now(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){var r=this.getTileByID(i);o(e,r),o(r,e)}}function o(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype.getZoom=function(e){return e.zoom+e.scaleZoom(e.tileSize/this._source.tileSize)},n.prototype._retainLoadedChildren=function(e,t,n,i){for(var r in this._tiles){var o=this._tiles[r];if(!(i[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>t+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var l=a;l.overscaledZ>t;)if(e[(l=l.scaledTo(l.overscaledZ-1)).key]){i[a.key]=a;break}}}},n.prototype.findLoadedParent=function(e,t){for(var n=e.overscaledZ-1;n>=t;n--){var i=e.scaledTo(n);if(!i)return;var r=String(i.key),o=this._tiles[r];if(o&&o.hasData())return o;if(this._cache.has(i))return this._cache.get(i)}},n.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),n=Math.floor(5*t),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(i)},n.prototype.handleWrapJump=function(e){var t=(e-(void 0===this._prevLng?e:this._prevLng))/360,n=Math.round(t);if(this._prevLng=e,n){var i={};for(var r in this._tiles){var o=this._tiles[r];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+n),i[o.tileID.key]=o}for(var a in this._tiles=i,this._timers)clearTimeout(this._timers[a]),delete this._timers[a];for(var s in this._tiles){var l=this._tiles[s];this._setTileReloadTimer(s,l)}}},n.prototype.update=function(t){var i=this;if(this.transform=t,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)})):(r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter((function(e){return i._source.hasTile(e)})))):r=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(r,o);if(Pe(this._source.type)){for(var u={},c={},g=0,d=Object.keys(l);g<d.length;g+=1){var h=d[g],p=l[h],A=this._tiles[h];if(A&&!(A.fadeEndTime&&A.fadeEndTime<=e.browser.now())){var f=this.findLoadedParent(p,a);f&&(this._addTile(f.tileID),u[f.tileID.key]=f.tileID),c[h]=p}}for(var C in this._retainLoadedChildren(c,o,s,l),u)l[C]||(this._coveredTiles[C]=!0,l[C]=u[C])}for(var I in l)this._tiles[I].clearFadeHold();for(var v=0,m=e.keysDifference(this._tiles,l);v<m.length;v+=1){var y=m[v],b=this._tiles[y];b.hasSymbolBuckets&&!b.holdingForFade()?b.setHoldDuration(this.map._fadeDuration):b.hasSymbolBuckets&&!b.symbolFadeFinished()||this._removeTile(y)}}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var i={},r={},o=Math.max(t-n.maxOverzooming,this._source.minzoom),a=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},l=0,u=e;l<u.length;l+=1){var c=u[l],g=this._addTile(c);i[c.key]=c,g.hasData()||t<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,t,a,i);for(var d=0,h=e;d<h.length;d+=1){var p=h[d],A=this._tiles[p.key];if(!A.hasData()){if(t+1>this._source.maxzoom){var f=p.children(this._source.maxzoom)[0],C=this.getTile(f);if(C&&C.hasData()){i[f.key]=f;continue}}else{var I=p.children(this._source.maxzoom);if(i[I[0].key]&&i[I[1].key]&&i[I[2].key]&&i[I[3].key])continue}for(var v=A.wasRequested(),m=p.overscaledZ-1;m>=o;--m){var y=p.scaledTo(m);if(r[y.key])break;if(r[y.key]=!0,!(A=this.getTile(y))&&v&&(A=this._addTile(y)),A&&(i[y.key]=y,v=A.wasRequested(),A.hasData()))break}}}return i},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;(n=this._cache.getAndRemove(t))&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var i=Boolean(n);return i||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,i||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var i=t.getExpiryTimeout();i&&(this._timers[e]=setTimeout((function(){n._reloadTile(e,"expired"),delete n._timers[e]}),i))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,i){var r=this,o=[],a=this.transform;if(!a)return o;for(var s=i?a.getCameraQueryGeometry(t):t,l=t.map((function(e){return a.pointCoordinate(e)})),u=s.map((function(e){return a.pointCoordinate(e)})),c=this.getIds(),g=1/0,d=1/0,h=-1/0,p=-1/0,A=0,f=u;A<f.length;A+=1){var C=f[A];g=Math.min(g,C.x),d=Math.min(d,C.y),h=Math.max(h,C.x),p=Math.max(p,C.y)}for(var I=function(t){var i=r._tiles[c[t]];if(!i.holdingForFade()){var s=i.tileID,A=Math.pow(2,a.zoom-i.tileID.overscaledZ),f=n*i.queryPadding*e.EXTENT/i.tileSize/A,C=[s.getTilePoint(new e.MercatorCoordinate(g,d)),s.getTilePoint(new e.MercatorCoordinate(h,p))];if(C[0].x-f<e.EXTENT&&C[0].y-f<e.EXTENT&&C[1].x+f>=0&&C[1].y+f>=0){var I=l.map((function(e){return s.getTilePoint(e)})),v=u.map((function(e){return s.getTilePoint(e)}));o.push({tile:i,tileID:s,queryGeometry:I,cameraQueryGeometry:v,scale:A})}}},v=0;v<c.length;v++)I(v);return o},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map((function(e){return t._tiles[e].tileID})),i=0,r=n;i<r.length;i+=1){var o=r[i];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Pe(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){e=e||"_geojsonTileLayer",this._state.updateState(e,t,n)},n.prototype.removeFeatureState=function(e,t,n){e=e||"_geojsonTileLayer",this._state.removeFeatureState(e,t,n)},n.prototype.getFeatureState=function(e,t){return e=e||"_geojsonTileLayer",this._state.getState(e,t)},n}(e.Evented);function Oe(e,t){return e%32-t%32||t-e}function Pe(e){return"raster"===e||"image"===e||"video"===e}function De(){return new e.window.Worker(tr.workerUrl)}Te.maxOverzooming=10,Te.maxUnderzooming=3;var je=function(){this.active={}};je.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<je.workerCount;)this.workers.push(new De);return this.active[e]=!0,this.workers.slice()},je.prototype.release=function(e){delete this.active[e],0===Object.keys(this.active).length&&(this.workers.forEach((function(e){e.terminate()})),this.workers=null)};var Me,Ne=Math.floor(e.browser.hardwareConcurrency/2);function ze(t,n){var i={};for(var r in t)"ref"!==r&&(i[r]=t[r]);return e.refProperties.forEach((function(e){e in n&&(i[e]=n[e])})),i}function Re(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var i=0;i<e.length;i++)"ref"in e[i]&&(e[i]=ze(e[i],t[e[i].ref]));return e}je.workerCount=Math.max(Math.min(Ne,6),1);var Fe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Le(e,t,n){n.push({command:Fe.addSource,args:[e,t[e]]})}function Be(e,t,n){t.push({command:Fe.removeSource,args:[e]}),n[e]=!0}function Ze(e,t,n,i){Be(e,n,i),Le(e,t,n)}function Ve(t,n,i){var r;for(r in t[i])if(t[i].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!e.deepEqual(t[i][r],n[i][r]))return!1;return!0}function Ue(t,n,i,r,o,a){var s;for(s in n=n||{},t=t||{})t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function We(e){return e.id}function Ge(e,t){return e[t.id]=t,e}function He(t,n){if(!t)return[{command:Fe.setStyle,args:[n]}];var i=[];try{if(!e.deepEqual(t.version,n.version))return[{command:Fe.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||i.push({command:Fe.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||i.push({command:Fe.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||i.push({command:Fe.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||i.push({command:Fe.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||i.push({command:Fe.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||i.push({command:Fe.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||i.push({command:Fe.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||i.push({command:Fe.setLight,args:[n.light]});var r={},o=[];!function(t,n,i,r){var o;for(o in n=n||{},t=t||{})t.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Be(o,i,r));for(o in n)n.hasOwnProperty(o)&&(t.hasOwnProperty(o)?e.deepEqual(t[o],n[o])||("geojson"===t[o].type&&"geojson"===n[o].type&&Ve(t,n,o)?i.push({command:Fe.setGeoJSONSourceData,args:[o,n[o].data]}):Ze(o,n,i,r)):Le(o,n,i))}(t.sources,n.sources,o,r);var a=[];t.layers&&t.layers.forEach((function(e){r[e.source]?i.push({command:Fe.removeLayer,args:[e.id]}):a.push(e)})),i=i.concat(o),function(t,n,i){n=n||[];var r,o,a,s,l,u,c,g=(t=t||[]).map(We),d=n.map(We),h=t.reduce(Ge,{}),p=n.reduce(Ge,{}),A=g.slice(),f=Object.create(null);for(r=0,o=0;r<g.length;r++)a=g[r],p.hasOwnProperty(a)?o++:(i.push({command:Fe.removeLayer,args:[a]}),A.splice(A.indexOf(a,o),1));for(r=0,o=0;r<d.length;r++)a=d[d.length-1-r],A[A.length-1-r]!==a&&(h.hasOwnProperty(a)?(i.push({command:Fe.removeLayer,args:[a]}),A.splice(A.lastIndexOf(a,A.length-o),1)):o++,u=A[A.length-r],i.push({command:Fe.addLayer,args:[p[a],u]}),A.splice(A.length-r,0,a),f[a]=!0);for(r=0;r<d.length;r++)if(s=h[a=d[r]],l=p[a],!f[a]&&!e.deepEqual(s,l))if(e.deepEqual(s.source,l.source)&&e.deepEqual(s["source-layer"],l["source-layer"])&&e.deepEqual(s.type,l.type)){for(c in Ue(s.layout,l.layout,i,a,null,Fe.setLayoutProperty),Ue(s.paint,l.paint,i,a,null,Fe.setPaintProperty),e.deepEqual(s.filter,l.filter)||i.push({command:Fe.setFilter,args:[a,l.filter]}),e.deepEqual(s.minzoom,l.minzoom)&&e.deepEqual(s.maxzoom,l.maxzoom)||i.push({command:Fe.setLayerZoomRange,args:[a,l.minzoom,l.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ue(s[c],l[c],i,a,c.slice(6),Fe.setPaintProperty):e.deepEqual(s[c],l[c])||i.push({command:Fe.setLayerProperty,args:[a,c,l[c]]}));for(c in l)l.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Ue(s[c],l[c],i,a,c.slice(6),Fe.setPaintProperty):e.deepEqual(s[c],l[c])||i.push({command:Fe.setLayerProperty,args:[a,c,l[c]]}))}else i.push({command:Fe.removeLayer,args:[a]}),u=A[A.lastIndexOf(a)+1],i.push({command:Fe.addLayer,args:[l,u]})}(a,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:Fe.setStyle,args:[n]}]}return i}var Ye=function(e,t,n){var i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};Ye.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ye.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Ye.prototype.insertCircle=function(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)},Ye.prototype._insertBoxCell=function(e,t,n,i,r,o){this.boxCells[r].push(o)},Ye.prototype._insertCircleCell=function(e,t,n,i,r,o){this.circleCells[r].push(o)},Ye.prototype._query=function(e,t,n,i,r,o){if(n<0||e>this.width||i<0||t>this.height)return!r&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var l=0;l<this.circleKeys.length;l++){var u=this.circles[3*l],c=this.circles[3*l+1],g=this.circles[3*l+2];a.push({key:this.circleKeys[l],x1:u-g,y1:c-g,x2:u+g,y2:c+g})}return o?a.filter(o):a}var d={hitTest:r,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,n,i,this._queryCell,a,d,o),r?a.length>0:a},Ye.prototype._queryCircle=function(e,t,n,i,r){var o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!i&&[];var u=[],c={hitTest:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(o,s,a,l,this._queryCellCircle,u,c,r),i?u.length>0:u},Ye.prototype.query=function(e,t,n,i,r){return this._query(e,t,n,i,!1,r)},Ye.prototype.hitTest=function(e,t,n,i,r){return this._query(e,t,n,i,!0,r)},Ye.prototype.hitTestCircle=function(e,t,n,i){return this._queryCircle(e,t,n,!0,i)},Ye.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=a.seenUids,u=this.boxCells[r];if(null!==u)for(var c=this.bboxes,g=0,d=u;g<d.length;g+=1){var h=d[g];if(!l.box[h]){l.box[h]=!0;var p=4*h;if(e<=c[p+2]&&t<=c[p+3]&&n>=c[p+0]&&i>=c[p+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[h],x1:c[p],y1:c[p+1],x2:c[p+2],y2:c[p+3]})}}}var A=this.circleCells[r];if(null!==A)for(var f=this.circles,C=0,I=A;C<I.length;C+=1){var v=I[C];if(!l.circle[v]){l.circle[v]=!0;var m=3*v;if(this._circleAndRectCollide(f[m],f[m+1],f[m+2],e,t,n,i)&&(!s||s(this.circleKeys[v]))){if(a.hitTest)return o.push(!0),!0;var y=f[m],b=f[m+1],x=f[m+2];o.push({key:this.circleKeys[v],x1:y-x,y1:b-x,x2:y+x,y2:b+x})}}}},Ye.prototype._queryCellCircle=function(e,t,n,i,r,o,a,s){var l=a.circle,u=a.seenUids,c=this.boxCells[r];if(null!==c)for(var g=this.bboxes,d=0,h=c;d<h.length;d+=1){var p=h[d];if(!u.box[p]){u.box[p]=!0;var A=4*p;if(this._circleAndRectCollide(l.x,l.y,l.radius,g[A+0],g[A+1],g[A+2],g[A+3])&&(!s||s(this.boxKeys[p])))return o.push(!0),!0}}var f=this.circleCells[r];if(null!==f)for(var C=this.circles,I=0,v=f;I<v.length;I+=1){var m=v[I];if(!u.circle[m]){u.circle[m]=!0;var y=3*m;if(this._circlesCollide(C[y],C[y+1],C[y+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[m])))return o.push(!0),!0}}},Ye.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),g=this._convertToYCellCoord(i),d=l;d<=c;d++)for(var h=u;h<=g;h++){var p=this.xCellCount*h+d;if(r.call(this,e,t,n,i,p,o,a,s))return}},Ye.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ye.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ye.prototype._circlesCollide=function(e,t,n,i,r,o){var a=i-e,s=r-t,l=n+o;return l*l>a*a+s*s},Ye.prototype._circleAndRectCollide=function(e,t,n,i,r,o,a){var s=(o-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;var u=(a-r)/2,c=Math.abs(t-(r+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var g=l-s,d=c-u;return g*g+d*d<=n*n};var qe=e.properties.layout;function Ke(t,n,i,r,o){var a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),i||e.rotateZ(a,a,r.angle)):e.multiply(a,r.labelPlaneMatrix,t),a}function Xe(t,n,i,r,o){if(n){var a=e.clone(t);return e.scale(a,a,[o,o,1]),i||e.rotateZ(a,a,-r.angle),a}return r.glCoordMatrix}function Qe(t,n){var i=[t.x,t.y,0,1];st(i,i,n);var r=i[3];return{point:new e.Point(i[0]/r,i[1]/r),signedDistanceFromCamera:r}}function Je(e,t){var n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function $e(t,n,i,r,o,a,s,l){var u=r?t.textSizeData:t.iconSizeData,c=e.evaluateSizeForZoom(u,i.transform.zoom,qe.properties[r?"text-size":"icon-size"]),g=[256/i.width*2+1,256/i.height*2+1],d=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;d.clear();for(var h=t.lineVertexArray,p=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,A=i.transform.width/i.transform.height,f=!1,C=0;C<p.length;C++){var I=p.get(C);if(I.hidden||I.writingMode===e.WritingMode.vertical&&!f)at(I.numGlyphs,d);else{f=!1;var v=[I.anchorX,I.anchorY,0,1];if(e.transformMat4(v,v,n),Je(v,g)){var m=.5+v[3]/i.transform.cameraToCenterDistance*.5,y=e.evaluateSizeForFeature(u,c,I),b=s?y*m:y/m,x=new e.Point(I.anchorX,I.anchorY),_=Qe(x,o).point,w={},k=nt(I,b,!1,l,n,o,a,t.glyphOffsetArray,h,d,_,x,w,A);f=k.useVertical,(k.notEnoughRoom||f||k.needsFlipping&&nt(I,b,!0,l,n,o,a,t.glyphOffsetArray,h,d,_,x,w,A).notEnoughRoom)&&at(I.numGlyphs,d)}else at(I.numGlyphs,d)}}r?t.text.dynamicLayoutVertexBuffer.updateData(d):t.icon.dynamicLayoutVertexBuffer.updateData(d)}function et(e,t,n,i,r,o,a,s,l,u,c,g){var d=s.glyphStartIndex+s.numGlyphs,h=s.lineStartIndex,p=s.lineStartIndex+s.lineLength,A=t.getoffsetX(s.glyphStartIndex),f=t.getoffsetX(d-1),C=rt(e*A,n,i,r,o,a,s.segment,h,p,l,u,c,g);if(!C)return null;var I=rt(e*f,n,i,r,o,a,s.segment,h,p,l,u,c,g);return I?{first:C,last:I}:null}function tt(t,n,i,r){return t===e.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function nt(t,n,i,r,o,a,s,l,u,c,g,d,h,p){var A,f=n/24,C=t.lineOffsetX*f,I=t.lineOffsetY*f;if(t.numGlyphs>1){var v=t.glyphStartIndex+t.numGlyphs,m=t.lineStartIndex,y=t.lineStartIndex+t.lineLength,b=et(f,l,C,I,i,g,d,t,u,a,h,!1);if(!b)return{notEnoughRoom:!0};var x=Qe(b.first.point,s).point,_=Qe(b.last.point,s).point;if(r&&!i){var w=tt(t.writingMode,x,_,p);if(w)return w}A=[b.first];for(var k=t.glyphStartIndex+1;k<v-1;k++)A.push(rt(f*l.getoffsetX(k),C,I,i,g,d,t.segment,m,y,u,a,h,!1));A.push(b.last)}else{if(r&&!i){var E=Qe(d,o).point,S=t.lineStartIndex+t.segment+1,T=new e.Point(u.getx(S),u.gety(S)),O=Qe(T,o),P=O.signedDistanceFromCamera>0?O.point:it(d,T,E,1,o),D=tt(t.writingMode,E,P,p);if(D)return D}var j=rt(f*l.getoffsetX(t.glyphStartIndex),C,I,i,g,d,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,h,!1);if(!j)return{notEnoughRoom:!0};A=[j]}for(var M=0,N=A;M<N.length;M+=1){var z=N[M];e.addDynamicAttributes(c,z.point,z.angle)}return{}}function it(e,t,n,i,r){var o=Qe(e.add(e.sub(t)._unit()),r).point,a=n.sub(o);return n.add(a._mult(i/a.mag()))}function rt(t,n,i,r,o,a,s,l,u,c,g,d,h){var p=r?t-n:t+n,A=p>0?1:-1,f=0;r&&(A*=-1,f=Math.PI),A<0&&(f+=Math.PI);for(var C=A>0?l+s:l+s+1,I=C,v=o,m=o,y=0,b=0,x=Math.abs(p);y+b<=x;){if((C+=A)<l||C>=u)return null;if(m=v,void 0===(v=d[C])){var _=new e.Point(c.getx(C),c.gety(C)),w=Qe(_,g);if(w.signedDistanceFromCamera>0)v=d[C]=w.point;else{var k=C-A;v=it(0===y?a:new e.Point(c.getx(k),c.gety(k)),_,m,x-y+1,g)}}y+=b,b=m.dist(v)}var E=(x-y)/b,S=v.sub(m),T=S.mult(E)._add(m);return T._add(S._unit()._perp()._mult(i*A)),{point:T,angle:f+Math.atan2(v.y-m.y,v.x-m.x),tileDistance:h?{prevTileDistance:C-A===I?0:c.gettileUnitDistanceFromAnchor(C-A),lastSegmentViewportDistance:x-y}:null}}var ot=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function at(e,t){for(var n=0;n<e;n++){var i=t.length;t.resize(i+4),t.float32.set(ot,3*i)}}function st(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}var lt=function(e,t,n){void 0===t&&(t=new Ye(e.width+200,e.height+200,25)),void 0===n&&(n=new Ye(e.width+200,e.height+200,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+100,this.screenBottomBoundary=e.height+100,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200};function ut(e,t,n){e[t+4]=n?1:0}function ct(t,n,i){return n*(e.EXTENT/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}lt.prototype.placeCollisionBox=function(e,t,n,i,r){var o=this.projectAndGetPerspectiveRatio(i,e.anchorPointX,e.anchorPointY),a=n*o.perspectiveRatio,s=e.x1*a+o.point.x,l=e.y1*a+o.point.y,u=e.x2*a+o.point.x,c=e.y2*a+o.point.y;return!this.isInsideGrid(s,l,u,c)||!t&&this.grid.hitTest(s,l,u,c,r)?{box:[],offscreen:!1}:{box:[s,l,u,c],offscreen:this.isOffscreen(s,l,u,c)}},lt.prototype.approximateTileDistance=function(e,t,n,i,r){var o=r?1:i/this.pitchfactor,a=e.lastSegmentViewportDistance*n;return e.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(t))},lt.prototype.placeCollisionCircles=function(t,n,i,r,o,a,s,l,u,c,g,d,h){var p=[],A=this.projectAnchor(u,o.anchorX,o.anchorY),f=l/24,C=o.lineOffsetX*l,I=o.lineOffsetY*l,v=new e.Point(o.anchorX,o.anchorY),m=et(f,s,C,I,!1,Qe(v,c).point,v,o,a,c,{},!0),y=!1,b=!1,x=!0,_=A.perspectiveRatio*r,w=1/(r*i),k=0,E=0;m&&(k=this.approximateTileDistance(m.first.tileDistance,m.first.angle,w,A.cameraDistance,d),E=this.approximateTileDistance(m.last.tileDistance,m.last.angle,w,A.cameraDistance,d));for(var S=0;S<t.length;S+=5){var T=t[S],O=t[S+1],P=t[S+2],D=t[S+3];if(!m||D<-k||D>E)ut(t,S,!1);else{var j=this.projectPoint(u,T,O),M=P*_;if(p.length>0){var N=j.x-p[p.length-4],z=j.y-p[p.length-3];if(M*M*2>N*N+z*z&&S+8<t.length){var R=t[S+8];if(R>-k&&R<E){ut(t,S,!1);continue}}}var F=S/5;p.push(j.x,j.y,M,F),ut(t,S,!0);var L=j.x-M,B=j.y-M,Z=j.x+M,V=j.y+M;if(x=x&&this.isOffscreen(L,B,Z,V),b=b||this.isInsideGrid(L,B,Z,V),!n&&this.grid.hitTestCircle(j.x,j.y,M,h)){if(!g)return{circles:[],offscreen:!1};y=!0}}}return{circles:y||!b?[]:p,offscreen:x}},lt.prototype.queryRenderedSymbols=function(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],i=1/0,r=1/0,o=-1/0,a=-1/0,s=0,l=t;s<l.length;s+=1){var u=l[s],c=new e.Point(u.x+100,u.y+100);i=Math.min(i,c.x),r=Math.min(r,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var g={},d={},h=0,p=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a));h<p.length;h+=1){var A=p[h],f=A.key;if(void 0===g[f.bucketInstanceId]&&(g[f.bucketInstanceId]={}),!g[f.bucketInstanceId][f.featureIndex]){var C=[new e.Point(A.x1,A.y1),new e.Point(A.x2,A.y1),new e.Point(A.x2,A.y2),new e.Point(A.x1,A.y2)];e.polygonIntersectsPolygon(n,C)&&(g[f.bucketInstanceId][f.featureIndex]=!0,void 0===d[f.bucketInstanceId]&&(d[f.bucketInstanceId]=[]),d[f.bucketInstanceId].push(f.featureIndex))}}return d},lt.prototype.insertCollisionBox=function(e,t,n,i,r){var o={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};(t?this.ignoredGrid:this.grid).insert(o,e[0],e[1],e[2],e[3])},lt.prototype.insertCollisionCircles=function(e,t,n,i,r){for(var o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r},s=0;s<e.length;s+=4)o.insertCircle(a,e[s],e[s+1],e[s+2])},lt.prototype.projectAnchor=function(e,t,n){var i=[t,n,0,1];return st(i,i,e),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5,cameraDistance:i[3]}},lt.prototype.projectPoint=function(t,n,i){var r=[n,i,0,1];return st(r,r,t),new e.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100)},lt.prototype.projectAndGetPerspectiveRatio=function(t,n,i){var r=[n,i,0,1];return st(r,r,t),{point:new e.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},lt.prototype.isOffscreen=function(e,t,n,i){return n<100||e>=this.screenRightBoundary||i<100||t>this.screenBottomBoundary},lt.prototype.isInsideGrid=function(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary};var gt=function(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n};gt.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var dt=function(e,t,n,i,r){this.text=new gt(e?e.text:null,t,n,r),this.icon=new gt(e?e.icon:null,t,i,r)};dt.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var ht=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},pt=function(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r},At=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};function ft(t,n,i,r,o){var a=e.getAnchorAlignment(t),s=-(a.horizontalAlign-.5)*n,l=-(a.verticalAlign-.5)*i,u=e.evaluateRadialOffset(t,r);return new e.Point(s+u[0]*o,l+u[1]*o)}At.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};var Ct=function(e,t,n,i){this.transform=e.clone(),this.collisionIndex=new lt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new At(n),this.prevPlacement=i,i&&(i.prevPlacement=void 0)};function It(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}Ct.prototype.placeLayerTile=function(t,n,i,r){var o=n.getBucket(t),a=n.latestFeatureIndex;if(o&&a&&t.id===o.layerIds[0]){var s=n.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),c=n.tileSize/e.EXTENT,g=this.transform.calculatePosMatrix(n.tileID.toUnwrapped()),d=Ke(g,"map"===l.get("text-pitch-alignment"),"map"===l.get("text-rotation-alignment"),this.transform,ct(n,1,this.transform.zoom)),h=Ke(g,"map"===l.get("icon-pitch-alignment"),"map"===l.get("icon-rotation-alignment"),this.transform,ct(n,1,this.transform.zoom));this.retainedQueryData[o.bucketInstanceId]=new pt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID),this.placeLayerBucket(o,g,d,h,u,c,i,n.holdingForFade(),r,s)}},Ct.prototype.attemptAnchorPlacement=function(t,n,i,r,o,a,s,l,u,c,g,d,h,p){var A,f=ft(t,i,r,o,a),C=this.collisionIndex.placeCollisionBox(function(t,n,i,r,o,a){var s=t.x1,l=t.x2,u=t.y1,c=t.y2,g=t.anchorPointX,d=t.anchorPointY,h=new e.Point(n,i);return r&&h._rotate(o?a:-a),{x1:s+h.x,y1:u+h.y,x2:l+h.x,y2:c+h.y,anchorPointX:g,anchorPointY:d}}(n,f.x,f.y,s,l,this.transform.angle),d,u,c,g.predicate);if(C.box.length>0)return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(A=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={radialOffset:o,width:i,height:r,anchor:t,textBoxScale:a,prevAnchor:A},this.markUsedJustification(p,t,h),C},Ct.prototype.placeLayerBucket=function(t,n,i,r,o,a,s,l,u,c){var g=t.layers[0].layout,d=e.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,e.properties.layout.properties["text-size"]),h=g.get("text-optional"),p=g.get("icon-optional"),A=g.get("text-allow-overlap"),f=g.get("icon-allow-overlap"),C=A&&(f||!t.hasIconData()||p),I=f&&(A||!t.hasTextData()||h),v=this.collisionGroups.get(t.sourceID),m="map"===g.get("text-rotation-alignment"),y="map"===g.get("text-pitch-alignment");!t.collisionArrays&&c&&t.deserializeCollisionBoxes(c);for(var b=0;b<t.symbolInstances.length;b++){var x=t.symbolInstances.get(b);if(!u[x.crossTileID]){if(l){this.placements[x.crossTileID]=new ht(!1,!1,!1);continue}var _=!1,w=!1,k=!0,E=null,S=null,T=null,O=0,P=0,D=t.collisionArrays[b];D.textFeatureIndex&&(O=D.textFeatureIndex);var j=D.textBox;if(j)if(g.get("text-variable-anchor")){var M=j.x2-j.x1,N=j.y2-j.y1,z=x.textBoxScale,R=g.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[x.crossTileID]){var F=this.prevPlacement.variableOffsets[x.crossTileID];R[0]!==F.anchor&&(R=R.filter((function(e){return e!==F.anchor}))).unshift(F.anchor)}for(var L=0,B=R;L<B.length;L+=1){var Z=B[L];if(E=this.attemptAnchorPlacement(Z,j,M,N,x.radialTextOffset,z,m,y,a,n,v,A,x,t)){_=!0;break}}if(!this.variableOffsets[x.crossTileID]&&this.prevPlacement){var V=this.prevPlacement.variableOffsets[x.crossTileID];V&&(this.variableOffsets[x.crossTileID]=V,this.markUsedJustification(t,V.anchor,x))}}else _=(E=this.collisionIndex.placeCollisionBox(j,g.get("text-allow-overlap"),a,n,v.predicate)).box.length>0;k=E&&E.offscreen;var U=D.textCircles;if(U){var W=t.text.placedSymbolArray.get(x.centerJustifiedTextSymbolIndex),G=e.evaluateSizeForFeature(t.textSizeData,d,W);S=this.collisionIndex.placeCollisionCircles(U,g.get("text-allow-overlap"),o,a,W,t.lineVertexArray,t.glyphOffsetArray,G,n,i,s,y,v.predicate),_=g.get("text-allow-overlap")||S.circles.length>0,k=k&&S.offscreen}D.iconFeatureIndex&&(P=D.iconFeatureIndex),D.iconBox&&(w=(T=this.collisionIndex.placeCollisionBox(D.iconBox,g.get("icon-allow-overlap"),a,n,v.predicate)).box.length>0,k=k&&T.offscreen);var H=h||0===x.numHorizontalGlyphVertices&&0===x.numVerticalGlyphVertices,Y=p||0===x.numIconVertices;H||Y?Y?H||(w=w&&_):_=w&&_:w=_=w&&_,_&&E&&this.collisionIndex.insertCollisionBox(E.box,g.get("text-ignore-placement"),t.bucketInstanceId,O,v.ID),w&&T&&this.collisionIndex.insertCollisionBox(T.box,g.get("icon-ignore-placement"),t.bucketInstanceId,P,v.ID),_&&S&&this.collisionIndex.insertCollisionCircles(S.circles,g.get("text-ignore-placement"),t.bucketInstanceId,O,v.ID),this.placements[x.crossTileID]=new ht(_||C,w||I,k||t.justReloaded),u[x.crossTileID]=!0}}t.justReloaded=!1},Ct.prototype.markUsedJustification=function(t,n,i){var r={left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex},o=r[e.getAnchorJustification(n)];for(var a in r){var s=r[a];s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=o>=0&&s!==o?0:i.crossTileID)}},Ct.prototype.commit=function(e){this.commitTime=e;var t=this.prevPlacement,n=!1,i=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,r=t?t.opacities:{},o=t?t.variableOffsets:{};for(var a in this.placements){var s=this.placements[a],l=r[a];l?(this.opacities[a]=new dt(l,i,s.text,s.icon),n=n||s.text!==l.text.placed||s.icon!==l.icon.placed):(this.opacities[a]=new dt(null,i,s.text,s.icon,s.skipFade),n=n||s.text||s.icon)}for(var u in r){var c=r[u];if(!this.opacities[u]){var g=new dt(c,i,!1,!1);g.isHidden()||(this.opacities[u]=g,n=n||c.text.placed||c.icon.placed)}}for(var d in o)this.variableOffsets[d]||!this.opacities[d]||this.opacities[d].isHidden()||(this.variableOffsets[d]=o[d]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Ct.prototype.updateLayerOpacities=function(e,t){for(var n={},i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.getBucket(e);a&&o.latestFeatureIndex&&e.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},Ct.prototype.updateBucketOpacities=function(t,n,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();var r=t.layers[0].layout,o=new dt(null,0,!1,!1,!0),a=r.get("text-allow-overlap"),s=r.get("icon-allow-overlap"),l=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),c="map"===r.get("text-pitch-alignment"),g=new dt(null,0,a&&(s||!t.hasIconData()||r.get("icon-optional")),s&&(a||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasCollisionBoxData()||t.hasCollisionCircleData())&&t.deserializeCollisionBoxes(i);for(var d=0;d<t.symbolInstances.length;d++){var h=t.symbolInstances.get(d),p=h.numHorizontalGlyphVertices,A=h.numVerticalGlyphVertices,f=h.crossTileID,C=n[f],I=this.opacities[f];C?I=o:I||(I=g,this.opacities[f]=I),n[f]=!0;var v=p>0||A>0,m=h.numIconVertices>0;if(v){for(var y=kt(I.text),b=(p+A)/4,x=0;x<b;x++)t.text.opacityVertexArray.emplaceBack(y);var _=I.text.isHidden()?1:0;[h.rightJustifiedTextSymbolIndex,h.centerJustifiedTextSymbolIndex,h.leftJustifiedTextSymbolIndex,h.verticalPlacedTextSymbolIndex].forEach((function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=_)}));var w=this.variableOffsets[h.crossTileID];w&&this.markUsedJustification(t,w.anchor,h)}if(m){for(var k=kt(I.icon),E=0;E<h.numIconVertices/4;E++)t.icon.opacityVertexArray.emplaceBack(k);t.icon.placedSymbolArray.get(d).hidden=I.icon.isHidden()}if(t.hasCollisionBoxData()||t.hasCollisionCircleData()){var S=t.collisionArrays[d];if(S){if(S.textBox){var T=new e.Point(0,0),O=!0;if(l){var P=this.variableOffsets[f];P?(T=ft(P.anchor,P.width,P.height,P.radialOffset,P.textBoxScale),u&&T._rotate(c?this.transform.angle:-this.transform.angle)):O=!1}It(t.collisionBox.collisionVertexArray,I.text.placed,!O,T.x,T.y)}S.iconBox&&It(t.collisionBox.collisionVertexArray,I.icon.placed,!1);var D=S.textCircles;if(D&&t.hasCollisionCircleData())for(var j=0;j<D.length;j+=5){var M=C||0===D[j+4];It(t.collisionCircle.collisionVertexArray,I.text.placed,M)}}}}t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},Ct.prototype.symbolFadeChange=function(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration},Ct.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Ct.prototype.stillRecent=function(e){return this.commitTime+this.fadeDuration>e},Ct.prototype.setStale=function(){this.stale=!0};var vt=Math.pow(2,25),mt=Math.pow(2,24),yt=Math.pow(2,17),bt=Math.pow(2,16),xt=Math.pow(2,9),_t=Math.pow(2,8),wt=Math.pow(2,1);function kt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*vt+t*mt+n*yt+t*bt+n*xt+t*_t+n*wt+t}var Et=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};Et.prototype.continuePlacement=function(e,t,n,i,r){for(;this._currentTileIndex<e.length;){var o=e[this._currentTileIndex];if(t.placeLayerTile(i,o,n,this._seenCrossTileIDs),this._currentTileIndex++,r())return!0}};var St=function(e,t,n,i,r,o,a){this.placement=new Ct(e,r,o,a),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1};St.prototype.isDone=function(){return this._done},St.prototype.continuePlacement=function(t,n,i){for(var r=this,o=e.browser.now(),a=function(){var t=e.browser.now()-o;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],l=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=l)&&(!s.maxzoom||s.maxzoom>l)){if(this._inProgressLayer||(this._inProgressLayer=new Et),this._inProgressLayer.continuePlacement(i[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},St.prototype.commit=function(e){return this.placement.commit(e),this.placement};var Tt=512/e.EXTENT/2,Ot=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0;i<t.length;i++){var r=t.get(i),o=r.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}};Ot.prototype.getScaledCoordinates=function(t,n){var i=n.canonical.z-this.tileID.canonical.z,r=Tt/Math.pow(2,i);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},Ot.prototype.findMatches=function(e,t,n){for(var i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z),r=0;r<e.length;r++){var o=e.get(r);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,t),l=0,u=a;l<u.length;l+=1){var c=u[l];if(Math.abs(c.coord.x-s.x)<=i&&Math.abs(c.coord.y-s.y)<=i&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Pt=function(){this.maxCrossTileID=0};Pt.prototype.generate=function(){return++this.maxCrossTileID};var Dt=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Dt.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(0!==t)for(var n in this.indexes){var i=this.indexes[n],r={};for(var o in i){var a=i[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+t),r[a.tileID.key]=a}this.indexes[n]=r}this.lng=e},Dt.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var i=0;i<t.symbolInstances.length;i++)t.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var r=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>e.overscaledZ)for(var s in a){var l=a[s];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,r)}else{var u=a[e.scaledTo(Number(o)).key];u&&u.findMatches(t.symbolInstances,e,r)}}for(var c=0;c<t.symbolInstances.length;c++){var g=t.symbolInstances.get(c);g.crossTileID||(g.crossTileID=n.generate(),r[g.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ot(e,t.symbolInstances,t.bucketInstanceId),!0},Dt.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var i=0,r=t.indexedSymbolInstances[n];i<r.length;i+=1){var o=r[i];delete this.usedCrossTileIDs[e][o.crossTileID]}},Dt.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var i=this.indexes[n];for(var r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t};var jt=function(){this.layerIndexes={},this.crossTileIDs=new Pt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};jt.prototype.addLayer=function(e,t,n){var i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new Dt);var r=!1,o={};i.handleWrapJump(n);for(var a=0,s=t;a<s.length;a+=1){var l=s[a],u=l.getBucket(e);u&&e.id===u.layerIds[0]&&(u.bucketInstanceId||(u.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(l.tileID,u,this.crossTileIDs)&&(r=!0),o[u.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(r=!0),r},jt.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach((function(e){t[e]=!0})),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var Mt=function(t,n){return e.emitValidationErrors(t,n&&n.filter((function(e){return"source.canvas"!==e.identifier})))},Nt=e.pick(Fe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),zt=e.pick(Fe,["setCenter","setZoom","setBearing","setPitch"]),Rt=function(t){function n(i,r){var o=this;void 0===r&&(r={}),t.call(this),this.map=i,this.dispatcher=new x((Me||(Me=new je),Me),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new I(i._transformRequest,r.localIdeographFontFamily),this.lineAtlas=new b(256,512),this.crossTileSymbolIndex=new jt,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginAvailability((function(e){for(var t in a.dispatcher.broadcast("loadRTLTextPlugin",e.pluginURL,e.completionCallback),a.sourceCaches)a.sourceCaches[t].reload()})),this.on("data",(function(e){if("source"===e.dataType&&"metadata"===e.sourceDataType){var t=o.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(n&&n.vectorLayerIds)for(var i in o._layers){var r=o._layers[i];r.source===n.id&&o._validateLayer(r)}}}}))}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadURL=function(t,n){var i=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=e.normalizeStyleURL(t,n.accessToken);var o=this.map._transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(o,(function(t,n){i._request=null,t?i.fire(new e.ErrorEvent(t)):n&&i._load(n,r)}))},n.prototype.loadJSON=function(t,n){var i=this;void 0===n&&(n={}),this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.browser.frame((function(){i._request=null,i._load(t,!1!==n.validate)}))},n.prototype._load=function(t,n){var i=this;if(!n||!Mt(this,e.validateStyle(t))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._spriteRequest=function(t,n,i){var r,o,a,s=e.browser.devicePixelRatio>1?"@2x":"",l=e.getJSON(n(e.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(function(e,t){l=null,a||(a=e,r=t,c())})),u=e.getImage(n(e.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(function(e,t){u=null,a||(a=e,o=t,c())}));function c(){if(a)i(a);else if(r&&o){var t=e.browser.getImageData(o),n={};for(var s in r){var l=r[s],u=l.width,c=l.height,g=l.x,d=l.y,h=l.sdf,p=l.pixelRatio,A=new e.RGBAImage({width:u,height:c});e.RGBAImage.copy(t,A,{x:g,y:d},{x:0,y:0},{width:u,height:c}),n[s]={data:A,pixelRatio:p,sdf:h}}i(null,n)}}return{cancel:function(){l&&(l.cancel(),l=null),u&&(u.cancel(),u=null)}}}(t.sprite,this.map._transformRequest,(function(t,n){if(i._spriteRequest=null,t)i.fire(new e.ErrorEvent(t));else if(n)for(var r in n)i.imageManager.addImage(r,n[r]);i.imageManager.setLoaded(!0),i.fire(new e.Event("data",{dataType:"style"}))})):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var o=Re(this.stylesheet.layers);this._order=o.map((function(e){return e.id})),this._layers={};for(var a=0,s=o;a<s.length;a+=1){var l=s[a];(l=e.createStyleLayer(l)).setEventedParent(this,{layer:{id:l.id}}),this._layers[l.id]=l}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new y(this.stylesheet.light),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var i=t.sourceLayer;if(i){var r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new e.ErrorEvent(new Error('Source layer "'+i+'" does not exist on source "'+r.id+'" as specified by style layer "'+t.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,i=e;n<i.length;n+=1){var r=i[n],o=this._layers[r];"custom"!==o.type&&t.push(o.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var i=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var o in(i.length||r.length)&&this._updateWorkerLayers(i,r),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var l in this.sourceCaches)this.sourceCaches[l].used=!1;for(var u=0,c=this._order;u<c.length;u+=1){var g=c[u],d=this._layers[g];d.recalculate(t),!d.isHidden(t.zoom)&&d.source&&(this.sourceCaches[d.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),Mt(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=Re(t.layers);var i=He(this.serialize(),t).filter((function(e){return!(e.command in zt)}));if(0===i.length)return!1;var r=i.filter((function(e){return!(e.command in Nt)}));if(r.length>0)throw new Error("Unimplemented: "+r.map((function(e){return e.command})).join(", ")+".");return i.forEach((function(e){"setTransition"!==e.command&&n[e.command].apply(n,e.args)})),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(t,n),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(t),this.fire(new e.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,i){var r=this;if(void 0===i&&(i={}),this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0)||!this._validate(e.validateStyle.source,"sources."+t,n,null,i)){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[t]=new Te(t,n,this.dispatcher);o.style=this,o.setEventedParent(this,(function(){return{isSourceLoaded:r.loaded(),source:o.serialize(),sourceId:t}})),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')));var i=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],i.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,i){void 0===i&&(i={}),this._checkLoaded();var r=t.id;if(this.getLayer(r))this.fire(new e.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else{var o;if("custom"===t.type){if(Mt(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateStyle.layer,"layers."+r,t,{arrayIndex:-1},i))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}})}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source&&"custom"!==o.type){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,this._layers[t]){if(t!==n){var i=this._order.indexOf(t);this._order.splice(i,1);var r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(n){n.setEventedParent(null);var i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.setLayerZoomRange=function(t,n,i){this._checkLoaded();var r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(t,n,i){void 0===i&&(i={}),this._checkLoaded();var r=this.getLayer(t);if(r){if(!e.deepEqual(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(e.validateStyle.filter,"layers."+r.id+".filter",n,null,i)||(r.filter=e.clone$1(n),this._updateLayer(r)))}else this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getLayoutProperty(n),i)||(o.setLayoutProperty(n,i,r),this._updateLayer(o)):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(t,n){var i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(t,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(t);o?e.deepEqual(o.getPaintProperty(n),i)||(o.setPaintProperty(n,i,r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var i=t.source,r=t.sourceLayer,o=this.sourceCaches[i],a=parseInt(t.id,10);if(void 0!==o){var s=o.getSource().type;"geojson"===s&&r?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==s||r?isNaN(a)||a<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative."))):o.setFeatureState(r,a,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var i=t.source,r=this.sourceCaches[i];if(void 0!==r){var o=r.getSource().type,a="vector"===o?t.sourceLayer:void 0,s=parseInt(t.id,10);"vector"!==o||a?void 0!==t.id&&isNaN(s)||s<0?this.fire(new e.ErrorEvent(new Error("The feature id parameter must be non-negative."))):n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):r.removeFeatureState(a,s,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,i=t.sourceLayer,r=this.sourceCaches[n],o=parseInt(t.id,10);if(void 0!==r)if("vector"!==r.getSource().type||i){if(!(isNaN(o)||o<0))return r.getFeatureState(i,o);this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided and non-negative.")))}else this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));else this.fire(new e.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(function(e){return e.serialize()})),layers:this._serializeLayers(this._order)},(function(e){return void 0!==e}))},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return"fill-extrusion"===t._layers[e].type},i={},r=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){i[a]=o;for(var s=0,l=e;s<l.length;s+=1){var u=l[s][a];if(u)for(var c=0,g=u;c<g.length;c+=1){var d=g[c];r.push(d)}}}}r.sort((function(e,t){return t.intersectionZ-e.intersectionZ}));for(var h=[],p=this._order.length-1;p>=0;p--){var A=this._order[p];if(n(A))for(var f=r.length-1;f>=0;f--){var C=r[f].feature;if(i[C.layer.id]<p)break;h.push(C),r.pop()}else for(var I=0,v=e;I<v.length;I+=1){var m=v[I][A];if(m)for(var y=0,b=m;y<b.length;y+=1){var x=b[y];h.push(x.feature)}}}return h},n.prototype.queryRenderedFeatures=function(t,n,i){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter);var r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],l=this._layers[s];if(!l)return this.fire(new e.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];r[l.source]=!0}}var u=[];for(var c in this.sourceCaches)n.layers&&!r[c]||u.push(z(this.sourceCaches[c],this._layers,t,n,i));return this.placement&&u.push(function(e,t,n,i,r,o){for(var a={},s=r.queryRenderedSymbols(n),l=[],u=0,c=Object.keys(s).map(Number);u<c.length;u+=1){var g=c[u];l.push(o[g])}l.sort(R);for(var d=function(){var t=p[h],n=t.featureIndex.lookupSymbolFeatures(s[t.bucketInstanceId],t.bucketIndex,t.sourceLayerIndex,i.filter,i.layers,e);for(var r in n){var o=a[r]=a[r]||[],l=n[r];l.sort((function(e,n){var i=t.featureSortOrder;if(i){var r=i.indexOf(e.featureIndex);return i.indexOf(n.featureIndex)-r}return n.featureIndex-e.featureIndex}));for(var u=0,c=l;u<c.length;u+=1){var g=c[u];o.push(g)}}},h=0,p=l;h<p.length;h+=1)d();var A=function(n){a[n].forEach((function(i){var r=i.feature,o=e[n],a=t[o.source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=a}))};for(var f in a)A(f);return a}(this._layers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(u)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter);var i=this.sourceCaches[t];return i?function(e,t){for(var n=e.getRenderableIds().map((function(t){return e.getTileByID(t)})),i=[],r={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(i,t))}return i}(i,n):[]},n.prototype.addSourceType=function(e,t,i){return n.getSourceType(e)?i(new Error('A source type called "'+e+'" already exists.')):(n.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},i):i(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){void 0===n&&(n={}),this._checkLoaded();var i=this.light.getLight(),r=!1;for(var o in t)if(!e.deepEqual(t[o],i[o])){r=!0;break}if(r){var a={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}},n.prototype._validate=function(t,n,i,r,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&Mt(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:i,styleSpec:e.styleSpec},r)))},n.prototype._remove=function(){for(var t in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginAvailable",this._rtlTextPluginCallback),this.sourceCaches)this.sourceCaches[t].clearTiles();this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,i,r){for(var o=!1,a=!1,s={},l=0,u=this._order;l<u.length;l+=1){var c=u[l],g=this._layers[c];if("symbol"===g.type){if(!s[g.source]){var d=this.sourceCaches[g.source];s[g.source]=d.getRenderableIds(!0).map((function(e){return d.getTileByID(e)})).sort((function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)}))}var h=this.crossTileSymbolIndex.addLayer(g,s[g.source],t.center.lng);o=o||h}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var p=this._layerOrderChanged||0===i;if((p||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now()))&&(this.pauseablePlacement=new St(t,this._order,p,n,i,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(var A=0,f=this._order;A<f.length;A+=1){var C=f[A],I=this._layers[C];"symbol"===I.type&&this.placement.updateLayerOpacities(I,s[I.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,i){return e.makeRequest(n,i)},n}(e.Evented);Rt.getSourceType=function(e){return j[e]},Rt.setSourceType=function(e,t){j[e]=t},Rt.registerForPluginAvailability=e.registerForPluginAvailability;var Ft=e.createLayout([{name:"a_pos",type:"Int16",components:2}]),Lt=gn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Bt=gn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Zt=gn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Vt=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvarying vec3 v_data;void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/DEVICE_PIXEL_RATIO/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ut=gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Wt=gn("#pragma mapbox: define highp float weight\nuniform highp float u_intensity;varying vec2 v_extrude;\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nuniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;const highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Gt=gn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Ht=gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),Yt=gn("uniform float u_overscale_factor;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {float alpha=0.5;vec4 color=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {color=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {color*=.2;}float extrude_scale_length=length(v_extrude_scale);float extrude_length=length(v_extrude)*extrude_scale_length;float stroke_width=15.0*extrude_scale_length/u_overscale_factor;float radius=v_radius*extrude_scale_length;float distance_to_edge=abs(extrude_length-radius);float opacity_t=smoothstep(-stroke_width,0.0,-distance_to_edge);gl_FragColor=opacity_t*color;}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;varying float v_radius;varying vec2 v_extrude;varying vec2 v_extrude_scale;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);highp float padding_factor=1.2;gl_Position.xy+=a_extrude*u_extrude_scale*padding_factor*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;v_radius=abs(a_extrude.y);v_extrude=a_extrude*padding_factor;v_extrude_scale=u_extrude_scale*u_camera_to_center_distance*collision_perspective_ratio;}"),qt=gn("uniform highp vec4 u_color;void main() {gl_FragColor=u_color;}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Kt=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),Xt=gn("#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_pos;void main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Qt=gn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),Jt=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec4 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),$t=gn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),en=gn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec4 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),tn=gn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;return (data.r+data.g*256.0+data.b*256.0*256.0)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),nn=gn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),rn=gn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),on=gn("#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nuniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;void main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define MAX_LINE_DISTANCE 32767.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\n#define scale 0.015873016\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),an=gn("uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec4 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float pixelRatio=u_scale.x;float tileZoomRatio=u_scale.y;float fromScale=u_scale.z;float toScale=u_scale.w;vec2 display_size_a=vec2((pattern_br_a.x-pattern_tl_a.x)/pixelRatio,(pattern_br_a.y-pattern_tl_a.y)/pixelRatio);vec2 display_size_b=vec2((pattern_br_b.x-pattern_tl_b.x)/pixelRatio,(pattern_br_b.y-pattern_tl_b.y)/pixelRatio);vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x,1.0);float x_b=mod(v_linesofar/pattern_size_b.x,1.0);float y_a=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_a.y+2.0)/2.0)/pattern_size_a.y);float y_b=0.5+(v_normal.y*clamp(v_width2.s,0.0,(pattern_size_b.y+2.0)/2.0)/pattern_size_b.y);vec2 pos_a=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,vec2(x_a,y_a));vec2 pos_b=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,vec2(x_b,y_b));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_gl_units_to_pixels;uniform mediump float u_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);}"),sn=gn("uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/DEVICE_PIXEL_RATIO)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\n#define ANTIALIASING 1.0/DEVICE_PIXEL_RATIO/2.0\nattribute vec4 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_gl_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nvec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=a_pos_normal.xy;mediump vec2 normal=a_pos_normal.zw;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_gl_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),ln=gn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),un=gn("uniform sampler2D u_texture;\n#pragma mapbox: define lowp float opacity\nvarying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;\n#pragma mapbox: define lowp float opacity\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;void main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),cn=gn("#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nuniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_gl_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;void main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size[0],a_size[1],u_size_t)/256.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size[0]/256.0;} else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {size=u_size;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_gl_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=vec2(tex.x,tex.y);v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}");function gn(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i={};return{fragmentSource:e=e.replace(n,(function(e,t,n,r,o){return i[o]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+n+" "+r+" "+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n"})),vertexSource:t=t.replace(n,(function(e,t,n,r,o){var a="float"===r?"vec2":"vec4",s=o.match(/color/)?"color":a;return i[o]?"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\nvarying "+n+" "+r+" "+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = a_"+o+";\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n":"define"===t?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+n+" "+a+" a_"+o+";\n#else\nuniform "+n+" "+r+" u_"+o+";\n#endif\n":"vec4"===s?"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+r+" "+o+" = a_"+o+";\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+n+" "+r+" "+o+" = unpack_mix_"+s+"(a_"+o+", a_"+o+"_t);\n#else\n    "+n+" "+r+" "+o+" = u_"+o+";\n#endif\n"}))}}var dn=Object.freeze({prelude:Lt,background:Bt,backgroundPattern:Zt,circle:Vt,clippingMask:Ut,heatmap:Wt,heatmapTexture:Gt,collisionBox:Ht,collisionCircle:Yt,debug:qt,fill:Kt,fillOutline:Xt,fillOutlinePattern:Qt,fillPattern:Jt,fillExtrusion:$t,fillExtrusionPattern:en,hillshadePrepare:tn,hillshade:nn,line:rn,lineGradient:on,linePattern:an,lineSDF:sn,raster:ln,symbolIcon:un,symbolSDF:cn}),hn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};hn.prototype.bind=function(e,t,n,i,r,o,a,s){this.context=e;for(var l=this.boundPaintVertexBuffers.length!==i.length,u=0;!l&&u<i.length;u++)this.boundPaintVertexBuffers[u]!==i[u]&&(l=!0);var c=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||c?this.freshBind(t,n,i,r,o,a,s):(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind())},hn.prototype.freshBind=function(e,t,n,i,r,o,a){var s,l=e.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var g=l;g<s;g++)c.disableVertexAttribArray(g)}t.enableAttributes(c,e);for(var d=0,h=n;d<h.length;d+=1)h[d].enableAttributes(c,e);o&&o.enableAttributes(c,e),a&&a.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(var p=0,A=n;p<A.length;p+=1){var f=A[p];f.bind(),f.setVertexAttribPointers(c,e,r)}o&&(o.bind(),o.setVertexAttribPointers(c,e,r)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,e,r)),u.currentNumAttributes=l},hn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var pn=function(t,n,i,r,o){var a=t.gl;this.program=a.createProgram();var s=i.defines().concat("#define DEVICE_PIXEL_RATIO "+e.browser.devicePixelRatio.toFixed(1));o&&s.push("#define OVERDRAW_INSPECTOR;");var l=s.concat(Lt.fragmentSource,n.fragmentSource).join("\n"),u=s.concat(Lt.vertexSource,n.vertexSource).join("\n"),c=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(c,l),a.compileShader(c),a.attachShader(this.program,c);var g=a.createShader(a.VERTEX_SHADER);a.shaderSource(g,u),a.compileShader(g),a.attachShader(this.program,g);for(var d=i.layoutAttributes||[],h=0;h<d.length;h++)a.bindAttribLocation(this.program,h,d[h].name);a.linkProgram(this.program),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var p={},A=0;A<this.numAttributes;A++){var f=a.getActiveAttrib(this.program,A);f&&(this.attributes[f.name]=a.getAttribLocation(this.program,f.name))}for(var C=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),I=0;I<C;I++){var v=a.getActiveUniform(this.program,I);v&&(p[v.name]=a.getUniformLocation(this.program,v.name))}this.fixedUniforms=r(t,p),this.binderUniforms=i.getUniforms(t,p)};function An(t,n,i){var r=1/ct(i,1,n.transform.tileZoom),o=Math.pow(2,i.tileID.overscaledZ),a=i.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(i.tileID.canonical.x+i.tileID.wrap*o),l=a*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[e.browser.devicePixelRatio,r,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}pn.prototype.draw=function(e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A){var f,C=e.gl;for(var I in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(o),this.fixedUniforms)this.fixedUniforms[I].set(a[I]);h&&h.setUniforms(e,this.binderUniforms,g,{zoom:d});for(var v=(f={},f[C.LINES]=2,f[C.TRIANGLES]=3,f[C.LINE_STRIP]=1,f)[t],m=0,y=c.get();m<y.length;m+=1){var b=y[m],x=b.vaos||(b.vaos={});(x[s]||(x[s]=new hn)).bind(e,this,l,h?h.getPaintVertexBuffers():[],u,b.vertexOffset,p,A),C.drawElements(t,b.primitiveLength*v,C.UNSIGNED_SHORT,b.primitiveOffset*v*2)}};var fn=function(t,n,i,r){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(l,-n.transform.angle),e.transformMat3(s,s,l);var u=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+i,u_opacity:r}},Cn=function(t,n,i,r,o,a,s){return e.extend(fn(t,n,i,r),An(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},In=function(e){return{u_matrix:e}},vn=function(t,n,i,r){return e.extend(In(t),An(i,n,r))},mn=function(e,t){return{u_matrix:e,u_world:t}},yn=function(t,n,i,r,o){return e.extend(vn(t,n,i,r),{u_world:o})},bn=function(e,t,n,i){var r,o,a=e.transform;if("map"===i.paint.get("circle-pitch-alignment")){var s=ct(n,1,a.zoom);r=!0,o=[s,s]}else r=!1,o=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+r,u_extrude_scale:o}},xn=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},_n=function(e,t,n){var i=ct(n,1,t.zoom),r=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[t.pixelsToGLUnits[0]/(i*r),t.pixelsToGLUnits[1]/(i*r)],u_overscale_factor:o}},wn=function(e,t){return{u_matrix:e,u_color:t}},kn=function(e){return{u_matrix:e}},En=function(e,t,n,i){return{u_matrix:e,u_extrude_scale:ct(t,1,n),u_intensity:i}},Sn=function(t,n,i,r){var o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);var a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:i,u_color_ramp:r,u_opacity:n.paint.get("heatmap-opacity")}},Tn=function(e,t,n){var i=n.paint.get("hillshade-shadow-color"),r=n.paint.get("hillshade-highlight-color"),o=n.paint.get("hillshade-accent-color"),a=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(a-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Pn(e,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),a],u_shadow:i,u_highlight:r,u_accent:o}},On=function(t,n){var i=t.dem.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.tileID.overscaledZ,u_maxzoom:n}};function Pn(t,n){var i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.MercatorCoordinate(0,r/i).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}var Dn=function(e,t,n){var i=e.transform;return{u_matrix:Rn(e,t,n),u_ratio:1/ct(t,1,i.zoom),u_gl_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},jn=function(t,n,i){return e.extend(Dn(t,n,i),{u_image:0})},Mn=function(t,n,i,r){var o=t.transform,a=zn(n,o);return{u_matrix:Rn(t,n,i),u_texsize:n.imageAtlasTexture.size,u_ratio:1/ct(n,1,o.zoom),u_image:0,u_scale:[e.browser.devicePixelRatio,a,r.fromScale,r.toScale],u_fade:r.t,u_gl_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},Nn=function(t,n,i,r,o){var a=t.transform,s=t.lineAtlas,l=zn(n,a),u="round"===i.layout.get("line-cap"),c=s.getDash(r.from,u),g=s.getDash(r.to,u),d=c.width*o.fromScale,h=g.width*o.toScale;return e.extend(Dn(t,n,i),{u_patternscale_a:[l/d,-c.height/2],u_patternscale_b:[l/h,-g.height/2],u_sdfgamma:s.width/(256*Math.min(d,h)*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:g.y,u_mix:o.t})};function zn(e,t){return 1/ct(e,1,t.tileZoom)}function Rn(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Fn=function(e,t,n,i,r){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Ln(r.paint.get("raster-hue-rotate"))};var o,a};function Ln(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}var Bn=function(e,t,n,i,r,o,a,s,l,u){var c=r.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_gl_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+i,u_texsize:u,u_texture:0}},Zn=function(t,n,i,r,o,a,s,l,u,c,g){var d=o.transform;return e.extend(Bn(t,n,i,r,o,a,s,l,u,c),{u_gamma_scale:r?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_is_halo:+g})},Vn=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Un=function(t,n,i,r,o,a){return e.extend(function(e,t,n,i){var r=n.imageManager.getPattern(e.from),o=n.imageManager.getPattern(e.to),a=n.imageManager.getPixelSize(),s=a.width,l=a.height,u=Math.pow(2,i.tileID.overscaledZ),c=i.tileSize*Math.pow(2,n.transform.tileZoom)/u,g=c*(i.tileID.canonical.x+i.tileID.wrap*u),d=c*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,l],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/ct(i,1,n.transform.tileZoom),u_pixel_coord_upper:[g>>16,d>>16],u_pixel_coord_lower:[65535&g,65535&d]}}(r,a,i,o),{u_matrix:t,u_opacity:n})},Wn={fillExtrusion:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fillExtrusionPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},fill:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},fillPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},fillOutline:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},fillOutlinePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},circle:function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},collisionBox:xn,collisionCircle:xn,debug:function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},clippingMask:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmap:function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},heatmapTexture:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},hillshade:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},hillshadePrepare:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_maxzoom:new e.Uniform1f(t,n.u_maxzoom)}},line:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels)}},lineGradient:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image)}},linePattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_image:new e.Uniform1i(t,n.u_image),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_scale:new e.Uniform4f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},lineSDF:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_gl_units_to_pixels:new e.Uniform2f(t,n.u_gl_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},raster:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},symbolIcon:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,n.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},symbolSDF:function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_gl_coord_matrix:new e.UniformMatrix4f(t,n.u_gl_coord_matrix),u_is_text:new e.Uniform1f(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_is_halo:new e.Uniform1f(t,n.u_is_halo)}},background:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},backgroundPattern:function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}}};function Gn(t,n){for(var i=t.sort((function(e,t){return e.tileID.isLessThan(t.tileID)?-1:t.tileID.isLessThan(e.tileID)?1:0})),r=0;r<i.length;r++){var o={},a=i[r],s=i.slice(r+1);Hn(a.tileID.wrapped(),a.tileID,s,new e.OverscaledTileID(0,a.tileID.wrap+1,0,0,0),o),a.setMask(o,n)}}function Hn(t,n,i,r,o){for(var a=0;a<i.length;a++){var s=i[a];if(r.isLessThan(s.tileID))break;if(n.key===s.tileID.key)return;if(s.tileID.isChildOf(n)){for(var l=n.children(1/0),u=0;u<l.length;u++)Hn(t,l[u],i.slice(a),r,o);return}}var c=n.overscaledZ-t.overscaledZ,g=new e.CanonicalTileID(c,n.canonical.x-(t.canonical.x<<c),n.canonical.y-(t.canonical.y<<c));o[g.key]=o[g.key]||g}function Yn(e,t,n,i,r){for(var o=e.context,a=o.gl,s=r?e.useProgram("collisionCircle"):e.useProgram("collisionBox"),l=0;l<i.length;l++){var u=i[l],c=t.getTile(u),g=c.getBucket(n);if(g){var d=r?g.collisionCircle:g.collisionBox;d&&s.draw(o,r?a.TRIANGLES:a.LINES,_e.disabled,we.disabled,e.colorModeForRenderPass(),Ee.disabled,_n(u.posMatrix,e.transform,c),n.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,null,e.transform.zoom,null,null,d.collisionVertexBuffer)}}}var qn=e.identity(new Float32Array(16)),Kn=e.properties.layout;function Xn(t,n,i,r,o,a){var s=e.getAnchorAlignment(t),l=-(s.horizontalAlign-.5)*n,u=-(s.verticalAlign-.5)*i,c=e.evaluateRadialOffset(t,r);return new e.Point((l/o+c[0])*a,(u/o+c[1])*a)}function Qn(t,n,i,r,o,a,s,l,u,c){var g=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray;d.clear();for(var h=0;h<g.length;h++){var p=g.get(h),A=!p.hidden&&p.crossTileID?r[p.crossTileID]:null;if(A){var f=new e.Point(p.anchorX,p.anchorY),C=Qe(f,i?l:s),I=.5+a.cameraToCenterDistance/C.signedDistanceFromCamera*.5,v=o.evaluateSizeForFeature(t.textSizeData,c,p)*I/e.ONE_EM;i&&(v*=t.tilePixelRatio/u);for(var m=A.width,y=A.height,b=A.radialOffset,x=A.textBoxScale,_=Xn(A.anchor,m,y,b,x,v),w=i?Qe(f.add(_),s).point:C.point.add(n?_.rotate(-a.angle):_),k=0;k<p.numGlyphs;k++)e.addDynamicAttributes(d,w,0)}else at(p.numGlyphs,d)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function Jn(t,n,i,r,o,a,s,l,u,c,g,d,h){for(var p,A,f=t.context,C=f.gl,I=t.transform,v="map"===l,m="map"===u,y=v&&"point"!==i.layout.get("symbol-placement"),b=v&&!m&&!y,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1),_=t.depthModeForSublayer(0,_e.ReadOnly),w=i.layout.get("text-variable-anchor"),k=[],E=0,S=r;E<S.length;E+=1){var T=S[E],O=n.getTile(T),P=O.getBucket(i);if(P){var D=o?P.text:P.icon;if(D&&D.segments.get().length){var j=D.programConfigurations.get(i.id),M=o||P.sdfIcons,N=o?P.textSizeData:P.iconSizeData;p||(p=t.useProgram(M?"symbolSDF":"symbolIcon",j),A=e.evaluateSizeForZoom(N,I.zoom,Kn.properties[o?"text-size":"icon-size"])),f.activeTexture.set(C.TEXTURE0);var z=void 0,R=void 0,F=void 0;if(o)R=O.glyphAtlasTexture,F=C.LINEAR,z=O.glyphAtlasTexture.size;else{var L=1!==i.layout.get("icon-size").constantOr(0)||P.iconsNeedLinear,B=m||0!==I.pitch;R=O.imageAtlasTexture,F=M||t.options.rotating||t.options.zooming||L||B?C.LINEAR:C.NEAREST,z=O.imageAtlasTexture.size}var Z=ct(O,1,t.transform.zoom),V=Ke(T.posMatrix,m,v,t.transform,Z),U=Xe(T.posMatrix,m,v,t.transform,Z);if(y)$e(P,T.posMatrix,t,o,V,U,m,c);else if(o&&A&&w){var W=Math.pow(2,I.zoom-O.tileID.overscaledZ);Qn(P,v,m,h,e.symbolSize,I,V,T.posMatrix,W,A)}var G=t.translatePosMatrix(T.posMatrix,O,a,s),H=y||o&&w?qn:V,Y=t.translatePosMatrix(U,O,a,s,!0),q=M&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),K={program:p,buffers:D,uniformValues:M?Zn(N.functionType,A,b,m,t,G,H,Y,o,z,!0):Bn(N.functionType,A,b,m,t,G,H,Y,o,z),atlasTexture:R,atlasInterpolation:F,isSDF:M,hasHalo:q};if(x)for(var X=0,Q=D.segments.get();X<Q.length;X+=1){var J=Q[X];k.push({segments:new e.SegmentVector([J]),sortKey:J.sortKey,state:K})}else k.push({segments:D.segments,sortKey:0,state:K})}}}x&&k.sort((function(e,t){return e.sortKey-t.sortKey}));for(var $=0,ee=k;$<ee.length;$+=1){var te=ee[$],ne=te.state;if(ne.atlasTexture.bind(ne.atlasInterpolation,C.CLAMP_TO_EDGE),ne.isSDF){var ie=ne.uniformValues;ne.hasHalo&&(ie.u_is_halo=1,$n(ne.buffers,te.segments,i,t,ne.program,_,g,d,ie)),ie.u_is_halo=0}$n(ne.buffers,te.segments,i,t,ne.program,_,g,d,ne.uniformValues)}}function $n(e,t,n,i,r,o,a,s,l){var u=i.context,c=u.gl;r.draw(u,c.TRIANGLES,o,a,s,Ee.disabled,l,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,i.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function ei(e,t,n,i,r,o,a){var s,l,u,c,g,d=e.context.gl,h=n.paint.get("fill-pattern"),p=h&&h.constantOr(1),A=n.getCrossfadeParameters();a?(l=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(l=p?"fillPattern":"fill",s=d.TRIANGLES);for(var f=0,C=i;f<C.length;f+=1){var I=C[f],v=t.getTile(I);if(!p||v.patternsLoaded()){var m=v.getBucket(n);if(m){var y=m.programConfigurations.get(n.id),b=e.useProgram(l,y);p&&(e.context.activeTexture.set(d.TEXTURE0),v.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),y.updatePatternPaintBuffers(A));var x=h.constantOr(null);if(x&&v.imageAtlas){var _=v.imageAtlas.patternPositions[x.to],w=v.imageAtlas.patternPositions[x.from];_&&w&&y.setConstantPatternPositions(_,w)}var k=e.translatePosMatrix(I.posMatrix,v,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=m.indexBuffer2,g=m.segments2;var E=[d.drawingBufferWidth,d.drawingBufferHeight];u="fillOutlinePattern"===l&&p?yn(k,e,A,v,E):mn(k,E)}else c=m.indexBuffer,g=m.segments,u=p?vn(k,e,A,v):In(k);b.draw(e.context,s,r,e.stencilModeForClipping(I),o,Ee.disabled,u,n.id,m.layoutVertexBuffer,c,g,n.paint,e.transform.zoom,y)}}}}function ti(e,t,n,i,r,o,a){for(var s=e.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),g=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),h=0,p=i;h<p.length;h+=1){var A=p[h],f=t.getTile(A),C=f.getBucket(n);if(C){var I=C.programConfigurations.get(n.id),v=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",I);c&&(e.context.activeTexture.set(l.TEXTURE0),f.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),I.updatePatternPaintBuffers(g));var m=u.constantOr(null);if(m&&f.imageAtlas){var y=f.imageAtlas.patternPositions[m.to],b=f.imageAtlas.patternPositions[m.from];y&&b&&I.setConstantPatternPositions(y,b)}var x=e.translatePosMatrix(A.posMatrix,f,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),_=n.paint.get("fill-extrusion-vertical-gradient"),w=c?Cn(x,e,_,d,A,g,f):fn(x,e,_,d);v.draw(s,s.gl.TRIANGLES,r,o,a,Ee.backCCW,w,n.id,C.layoutVertexBuffer,C.indexBuffer,C.segments,n.paint,e.transform.zoom,I)}}}function ni(e,t,n,i,r,o){var a=e.context,s=a.gl,l=t.fbo;if(l){var u=e.useProgram("hillshade");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,l.colorAttachment.get());var c=Tn(e,t,n);t.maskedBoundsBuffer&&t.maskedIndexBuffer&&t.segments?u.draw(a,s.TRIANGLES,i,r,o,Ee.disabled,c,n.id,t.maskedBoundsBuffer,t.maskedIndexBuffer,t.segments):u.draw(a,s.TRIANGLES,i,r,o,Ee.disabled,c,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function ii(t,n,i,r,o,a,s){var l=t.context,u=l.gl;if(n.dem&&n.dem.data){var c=n.dem.dim,g=n.dem.stride,d=n.dem.getPixels();if(l.activeTexture.set(u.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(g),n.demTexture){var h=n.demTexture;h.update(d,{premultiply:!1}),h.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(l,d,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);l.activeTexture.set(u.TEXTURE0);var p=n.fbo;if(!p){var A=new e.Texture(l,{width:c,height:c,data:null},u.RGBA);A.bind(u.LINEAR,u.CLAMP_TO_EDGE),(p=n.fbo=l.createFramebuffer(c,c)).colorAttachment.set(A.texture)}l.bindFramebuffer.set(p.framebuffer),l.viewport.set([0,0,c,c]),t.useProgram("hillshadePrepare").draw(l,u.TRIANGLES,o,a,s,Ee.disabled,On(n,r),i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ri(t,n,i,r,o){var a=r.paint.get("raster-fade-duration");if(a>0){var s=e.browser.now(),l=(s-t.timeAdded)/a,u=n?(s-n.timeAdded)/a:-1,c=i.getSource(),g=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-g)>Math.abs(t.tileID.overscaledZ-g),h=d&&t.refreshedUponExpiration?1:e.clamp(d?l:1-u,0,1);return t.refreshedUponExpiration&&l>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-h}:{opacity:h,mix:0}}return{opacity:1,mix:0}}function oi(t,n,i){var r=t.context,o=r.gl,a=i.posMatrix,s=t.useProgram("debug"),l=_e.disabled,u=we.disabled,c=t.colorModeForRenderPass(),g="$debug";s.draw(r,o.LINE_STRIP,l,u,c,Ee.disabled,wn(a,e.Color.red),g,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);for(var d=n.getTileByID(i.key).latestRawTileData,h=d&&d.byteLength||0,p=Math.floor(h/1024),A=function(e,t,n,i){i=i||1;var r,o,a,s,l,u,c,g,d=[];for(r=0,o=e.length;r<o;r++)if(l=ai[e[r]]){for(g=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?g=null:(u=t+l[1][a]*i,c=n-l[1][a+1]*i,g&&d.push(g.x,g.y,u,c),g={x:u,y:c});t+=l[0]*i}return d}(i.toString()+" "+p+"kb",50,200,5),f=new e.StructArrayLayout2i4,C=new e.StructArrayLayout2ui4,I=0;I<A.length;I+=2)f.emplaceBack(A[I],A[I+1]),C.emplaceBack(I,I+1);for(var v=r.createVertexBuffer(f,Ft.members),m=r.createIndexBuffer(C),y=e.SegmentVector.simpleSegment(0,0,f.length/2,f.length/2),b=n.getTile(i).tileSize,x=e.EXTENT/(Math.pow(2,t.transform.zoom-i.overscaledZ)*b),_=[[-1,-1],[-1,1],[1,-1],[1,1]],w=0;w<_.length;w++){var k=_[w];s.draw(r,o.LINES,l,u,c,Ee.disabled,wn(e.translate([],a,[x*k[0],x*k[1],0]),e.Color.white),g,v,m,y)}s.draw(r,o.LINES,l,u,c,Ee.disabled,wn(a,e.Color.black),g,v,m,y)}var ai={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]},si={symbol:function(e,t,n,i,r){if("translucent"===e.renderPass){var o=we.disabled,a=e.colorModeForRenderPass();0!==n.paint.get("icon-opacity").constantOr(1)&&Jn(e,t,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),o,a,r),0!==n.paint.get("text-opacity").constantOr(1)&&Jn(e,t,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),o,a,r),t.map.showCollisionBoxes&&function(e,t,n,i){Yn(e,t,n,i,!1),Yn(e,t,n,i,!0)}(e,t,n,i)}},circle:function(e,t,n,i){if("translucent"===e.renderPass){var r=n.paint.get("circle-opacity"),o=n.paint.get("circle-stroke-width"),a=n.paint.get("circle-stroke-opacity");if(0!==r.constantOr(1)||0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.context,l=s.gl,u=e.depthModeForSublayer(0,_e.ReadOnly),c=we.disabled,g=e.colorModeForRenderPass(),d=0;d<i.length;d++){var h=i[d],p=t.getTile(h),A=p.getBucket(n);if(A){var f=A.programConfigurations.get(n.id);e.useProgram("circle",f).draw(s,l.TRIANGLES,u,c,g,Ee.disabled,bn(e,h,p,n),n.id,A.layoutVertexBuffer,A.indexBuffer,A.segments,n.paint,e.transform.zoom,f)}}}},heatmap:function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,a=o.gl,s=t.depthModeForSublayer(0,_e.ReadOnly),l=we.disabled,u=new ke([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){var i=e.gl;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{var o=i.createTexture();i.bindTexture(i.TEXTURE_2D,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4),function e(t,n,i,r){var o=t.gl;o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n.width/4,n.height/4,0,o.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:o.UNSIGNED_BYTE,null),r.colorAttachment.set(i),t.extTextureHalfFloat&&o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,r.colorAttachment.setDirty(),e(t,n,i,r))}(e,t,o,r)}}(o,t,i),o.clear({color:e.Color.transparent});for(var c=0;c<r.length;c++){var g=r[c];if(!n.hasRenderableParent(g)){var d=n.getTile(g),h=d.getBucket(i);if(h){var p=h.programConfigurations.get(i.id),A=t.useProgram("heatmap",p),f=t.transform.zoom;A.draw(o,a.TRIANGLES,s,l,u,Ee.disabled,En(g.posMatrix,d,f,i.paint.get("heatmap-intensity")),i.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,i.paint,t.transform.zoom,p)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){var i=t.context,r=i.gl,o=n.heatmapFbo;if(o){i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,_e.disabled,we.disabled,t.colorModeForRenderPass(),Ee.disabled,Sn(t,n,0,1),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}(t,i))},line:function(t,n,i,r){if("translucent"===t.renderPass){var o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1)){var s=t.depthModeForSublayer(0,_e.ReadOnly),l=t.colorModeForRenderPass(),u=i.paint.get("line-dasharray"),c=i.paint.get("line-pattern"),g=c.constantOr(1),d=i.paint.get("line-gradient"),h=i.getCrossfadeParameters(),p=u?"lineSDF":g?"linePattern":d?"lineGradient":"line",A=t.context,f=A.gl,C=!0;if(d){A.activeTexture.set(f.TEXTURE0);var I=i.gradientTexture;if(!i.gradient)return;I||(I=i.gradientTexture=new e.Texture(A,i.gradient,f.RGBA)),I.bind(f.LINEAR,f.CLAMP_TO_EDGE)}for(var v=0,m=r;v<m.length;v+=1){var y=m[v],b=n.getTile(y);if(!g||b.patternsLoaded()){var x=b.getBucket(i);if(x){var _=x.programConfigurations.get(i.id),w=t.context.program.get(),k=t.useProgram(p,_),E=C||k.program!==w,S=c.constantOr(null);if(S&&b.imageAtlas){var T=b.imageAtlas.patternPositions[S.to],O=b.imageAtlas.patternPositions[S.from];T&&O&&_.setConstantPatternPositions(T,O)}var P=u?Nn(t,b,i,u,h):g?Mn(t,b,i,h):d?jn(t,b,i):Dn(t,b,i);u&&(E||t.lineAtlas.dirty)?(A.activeTexture.set(f.TEXTURE0),t.lineAtlas.bind(A)):g&&(A.activeTexture.set(f.TEXTURE0),b.imageAtlasTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE),_.updatePatternPaintBuffers(h)),k.draw(A,f.TRIANGLES,s,t.stencilModeForClipping(y),l,Ee.disabled,P,i.id,x.layoutVertexBuffer,x.indexBuffer,x.segments,i.paint,t.transform.zoom,_),C=!1}}}}}},fill:function(t,n,i,r){var o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){var c=t.depthModeForSublayer(1,"opaque"===t.renderPass?_e.ReadWrite:_e.ReadOnly);ei(t,n,i,r,c,s,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){var g=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,_e.ReadOnly);ei(t,n,i,r,g,s,!0)}}},"fill-extrusion":function(e,t,n,i){var r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===e.renderPass){var o=new _e(e.context.gl.LEQUAL,_e.ReadWrite,e.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))ti(e,t,n,i,o,we.disabled,ke.disabled),ti(e,t,n,i,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{var a=e.colorModeForRenderPass();ti(e,t,n,i,o,we.disabled,a)}}},hillshade:function(e,t,n,i){if("offscreen"===e.renderPass||"translucent"===e.renderPass){for(var r=e.context,o=t.getSource().maxzoom,a=e.depthModeForSublayer(0,_e.ReadOnly),s=we.disabled,l=e.colorModeForRenderPass(),u=0,c=i;u<c.length;u+=1){var g=c[u],d=t.getTile(g);d.needsHillshadePrepare&&"offscreen"===e.renderPass?ii(e,d,n,o,a,s,l):"translucent"===e.renderPass&&ni(e,d,n,a,s,l)}r.viewport.set([0,0,e.width,e.height])}},raster:function(e,t,n,i){if("translucent"===e.renderPass&&0!==n.paint.get("raster-opacity"))for(var r=e.context,o=r.gl,a=t.getSource(),s=e.useProgram("raster"),l=we.disabled,u=e.colorModeForRenderPass(),c=i.length&&i[0].overscaledZ,g=!e.options.moving,d=0,h=i;d<h.length;d+=1){var p=h[d],A=e.depthModeForSublayer(p.overscaledZ-c,1===n.paint.get("raster-opacity")?_e.ReadWrite:_e.ReadOnly,o.LESS),f=t.getTile(p),C=e.transform.calculatePosMatrix(p.toUnwrapped(),g);f.registerFadeDuration(n.paint.get("raster-fade-duration"));var I=t.findLoadedParent(p,0),v=ri(f,I,t,n,e.transform),m=void 0,y=void 0,b="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;r.activeTexture.set(o.TEXTURE0),f.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(o.TEXTURE1),I?(I.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),m=Math.pow(2,I.tileID.overscaledZ-f.tileID.overscaledZ),y=[f.tileID.canonical.x*m%1,f.tileID.canonical.y*m%1]):f.texture.bind(b,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var x=Fn(C,y||[0,0],m||1,v,n);a instanceof O?s.draw(r,o.TRIANGLES,A,l,u,Ee.disabled,x,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):f.maskedBoundsBuffer&&f.maskedIndexBuffer&&f.segments?s.draw(r,o.TRIANGLES,A,l,u,Ee.disabled,x,n.id,f.maskedBoundsBuffer,f.maskedIndexBuffer,f.segments,n.paint,e.transform.zoom):s.draw(r,o.TRIANGLES,A,l,u,Ee.disabled,x,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n){var i=n.paint.get("background-color"),r=n.paint.get("background-opacity");if(0!==r){var o=e.context,a=o.gl,s=e.transform,l=s.tileSize,u=n.paint.get("background-pattern");if(!e.isPatternMissing(u)){var c=u||1!==i.a||1!==r?"translucent":"opaque";if(e.renderPass===c){var g=we.disabled,d=e.depthModeForSublayer(0,"opaque"===c?_e.ReadWrite:_e.ReadOnly),h=e.colorModeForRenderPass(),p=e.useProgram(u?"backgroundPattern":"background"),A=s.coveringTiles({tileSize:l});u&&(o.activeTexture.set(a.TEXTURE0),e.imageManager.bind(e.context));for(var f=n.getCrossfadeParameters(),C=0,I=A;C<I.length;C+=1){var v=I[C],m=e.transform.calculatePosMatrix(v.toUnwrapped()),y=u?Un(m,r,e,u,{tileID:v,tileSize:l},f):Vn(m,r,i);p.draw(o,a.TRIANGLES,d,g,h,Ee.disabled,y,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}},debug:function(e,t,n){for(var i=0;i<n.length;i++)oi(e,t,n[i])},custom:function(e,t,n){var i=e.context,r=n.implementation;if("offscreen"===e.renderPass){var o=r.prerender;o&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),o.call(r,i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),i.setStencilMode(we.disabled);var a="3d"===r.renderingMode?new _e(e.context.gl.LEQUAL,_e.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,_e.ReadOnly);i.setDepthMode(a),r.render(i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState(),i.bindFramebuffer.set(null)}}},li=function(t,n){this.context=new Se(t),this.transform=n,this._tileTextures={},this.setup(),this.numSublayers=Te.maxUnderzooming+Te.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new e.ProgramConfiguration,this.crossTileSymbolIndex=new jt};function ui(e,t){if(e.y>t.y){var n=e;e=t,t=n}return{x0:e.x,y0:e.y,x1:t.x,y1:t.y,dx:t.x-e.x,dy:t.y-e.y}}function ci(e,t,n,i,r){var o=Math.max(n,Math.floor(t.y0)),a=Math.min(i,Math.ceil(t.y1));if(e.x0===t.x0&&e.y0===t.y0?e.x0+t.dy/e.dy*e.dx<t.x1:e.x1-t.dy/e.dy*e.dx<t.x0){var s=e;e=t,t=s}for(var l=e.dx/e.dy,u=t.dx/t.dy,c=e.dx>0,g=t.dx<0,d=o;d<a;d++){var h=l*Math.max(0,Math.min(e.dy,d+c-e.y0))+e.x0,p=u*Math.max(0,Math.min(t.dy,d+g-t.y0))+t.x0;r(Math.floor(p),Math.ceil(h),d)}}function gi(e,t,n,i,r,o){var a,s=ui(e,t),l=ui(t,n),u=ui(n,e);s.dy>l.dy&&(a=s,s=l,l=a),s.dy>u.dy&&(a=s,s=u,u=a),l.dy>u.dy&&(a=l,l=u,u=a),s.dy&&ci(u,s,i,r,o),l.dy&&ci(u,l,i,r,o)}li.prototype.resize=function(t,n){var i=this.context.gl;if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,o=this.style._order;r<o.length;r+=1){var a=o[r];this.style._layers[a].resize()}this.depthRbo&&(i.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},li.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,Ft.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(i,Ft.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var r=new e.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(e.EXTENT,0,e.EXTENT,0),r.emplaceBack(0,e.EXTENT,0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(r,e.rasterBoundsAttributes.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,Ft.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s);var l=this.context.gl;this.stencilClearMode=new we({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)},li.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var i=e.create();e.ortho(i,0,this.width,this.height,0,0,1),e.scale(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,_e.disabled,this.stencilClearMode,ke.disabled,Ee.disabled,kn(i),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},li.prototype._renderTileClippingMasks=function(e,t){if(this.currentStencilSource!==e.source&&e.isTileClipped()&&t&&t.length){this.currentStencilSource=e.source;var n=this.context,i=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(ke.disabled),n.setDepthMode(_e.disabled);var r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;r.draw(n,i.TRIANGLES,_e.disabled,new we({func:i.ALWAYS,mask:0},l,255,i.KEEP,i.KEEP,i.REPLACE),ke.disabled,Ee.disabled,kn(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},li.prototype.stencilModeFor3D=function(){this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new we({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},li.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new we({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},li.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new ke([t.CONSTANT_COLOR,t.ONE],new e.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?ke.unblended:ke.alphaBlended},li.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return _e.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new _e(n||this.context.gl.LEQUAL,t,[i,i])},li.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},li.prototype.render=function(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,r=this.style.sourceCaches;for(var o in r){var a=r[o];a.used&&a.prepare(this.context)}var s={},l={},u={};for(var c in r){var g=r[c];s[c]=g.getVisibleCoordinates(),l[c]=s[c].slice().reverse(),u[c]=g.getVisibleCoordinates(!0).reverse()}for(var d in r){var h=r[d],p=h.getSource();if("raster"===p.type||"raster-dem"===p.type){for(var A=[],f=0,C=s[d];f<C.length;f+=1){var I=C[f];A.push(h.getTile(I))}Gn(A,this.context)}}this.opaquePassCutoff=1/0;for(var v=0;v<i.length;v++){var m=i[v];if(this.style._layers[m].is3D()){this.opaquePassCutoff=v;break}}this.renderPass="offscreen",this.depthRboNeedsClear=!0;for(var y=0,b=i;y<b.length;y+=1){var x=b[y],_=this.style._layers[x];if(_.hasOffscreenPass()&&!_.isHidden(this.transform.zoom)){var w=l[_.source];("custom"===_.type||w.length)&&this.renderLayer(this,r[_.source],_,w)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var k=this.style._layers[i[this.currentLayer]],E=r[k.source],S=s[k.source];this._renderTileClippingMasks(k,S),this.renderLayer(this,E,k,S)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var T=this.style._layers[i[this.currentLayer]],O=r[T.source],P=("symbol"===T.type?u:l)[T.source];this._renderTileClippingMasks(T,s[T.source]),this.renderLayer(this,O,T,P)}if(this.options.showTileBoundaries)for(var D in r){si.debug(this,r[D],s[D]);break}this.setCustomLayerDefaults()},li.prototype.setupOffscreenDepthRenderbuffer=function(){var e=this.context;this.depthRbo||(this.depthRbo=e.createRenderbuffer(e.gl.DEPTH_COMPONENT16,this.width,this.height))},li.prototype.renderLayer=function(e,t,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||i.length)&&(this.id=n.id,si[n.type](e,t,n,i,this.style.placement.variableOffsets))},li.prototype.translatePosMatrix=function(t,n,i,r,o){if(!i[0]&&!i[1])return t;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var s=Math.sin(a),l=Math.cos(a);i=[i[0]*l-i[1]*s,i[0]*s+i[1]*l]}var u=[o?i[0]:ct(n,i[0],this.transform.zoom),o?i[1]:ct(n,i[1],this.transform.zoom),0],c=new Float32Array(16);return e.translate(c,t,u),c},li.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},li.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},li.prototype.isPatternMissing=function(e){if(!e)return!1;var t=this.imageManager.getPattern(e.from),n=this.imageManager.getPattern(e.to);return!t||!n},li.prototype.useProgram=function(e,t){void 0===t&&(t=this.emptyProgramConfiguration),this.cache=this.cache||{};var n=""+e+(t.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new pn(this.context,dn[e],t,Wn[e],this._showOverdrawInspector)),this.cache[n]},li.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},li.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)};var di=function(t,n,i){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===i||i,this._minZoom=t||0,this._maxZoom=n||22,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},hi={minZoom:{configurable:!0},maxZoom:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerPoint:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};di.prototype.clone=function(){var e=new di(this._minZoom,this._maxZoom,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._calcMatrices(),e},hi.minZoom.get=function(){return this._minZoom},hi.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},hi.maxZoom.get=function(){return this._maxZoom},hi.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},hi.renderWorldCopies.get=function(){return this._renderWorldCopies},hi.renderWorldCopies.set=function(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e},hi.worldSize.get=function(){return this.tileSize*this.scale},hi.centerPoint.get=function(){return this.size._div(2)},hi.size.get=function(){return new e.Point(this.width,this.height)},hi.bearing.get=function(){return-this.angle/Math.PI*180},hi.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},hi.pitch.get=function(){return this._pitch/Math.PI*180},hi.pitch.set=function(t){var n=e.clamp(t,0,60)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},hi.fov.get=function(){return this._fov/Math.PI*180},hi.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},hi.zoom.get=function(){return this._zoom},hi.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},hi.center.get=function(){return this._center},hi.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},di.prototype.coveringZoomLevel=function(e){return(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize))},di.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var i=this.pointCoordinate(new e.Point(0,0)),r=this.pointCoordinate(new e.Point(this.width,0)),o=this.pointCoordinate(new e.Point(this.width,this.height)),a=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),l=Math.floor(Math.max(i.x,r.x,o.x,a.x)),u=s-1;u<=l+1;u++)0!==u&&n.push(new e.UnwrappedTileID(u,t));return n},di.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),i=n;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);var r=e.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=new e.Point(o*r.x-.5,o*r.y-.5);return function(t,n,i,r){void 0===r&&(r=!0);var o=1<<t,a={};function s(n,s,l){var u,c,g,d;if(l>=0&&l<=o)for(u=n;u<s;u++)c=Math.floor(u/o),g=(u%o+o)%o,0!==c&&!0!==r||(d=new e.OverscaledTileID(i,c,t,g,l),a[d.key]=d)}var l=n.map((function(t){return new e.Point(t.x,t.y)._mult(o)}));return gi(l[0],l[1],l[2],0,o,s),gi(l[2],l[3],l[0],0,o,s),Object.keys(a).map((function(e){return a[e]}))}(n,[this.pointCoordinate(new e.Point(0,0)),this.pointCoordinate(new e.Point(this.width,0)),this.pointCoordinate(new e.Point(this.width,this.height)),this.pointCoordinate(new e.Point(0,this.height))],t.reparseOverscaled?i:n,this._renderWorldCopies).sort((function(e,t){return a.dist(e.canonical)-a.dist(t.canonical)}))},di.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},hi.unmodified.get=function(){return this._unmodified},di.prototype.zoomScale=function(e){return Math.pow(2,e)},di.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},di.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},di.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},hi.point.get=function(){return this.project(this.center)},di.prototype.setLocationAtPoint=function(t,n){var i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(i.x-r.x),o.y-(i.y-r.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},di.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},di.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},di.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},di.prototype.coordinateLocation=function(e){return e.toLngLat()},di.prototype.pointCoordinate=function(t){var n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.transformMat4(n,n,this.pixelMatrixInverse),e.transformMat4(i,i,this.pixelMatrixInverse);var r=n[3],o=i[3],a=n[0]/r,s=i[0]/o,l=n[1]/r,u=i[1]/o,c=n[2]/r,g=i[2]/o,d=c===g?0:(0-c)/(g-c);return new e.MercatorCoordinate(e.number(a,s,d)/this.worldSize,e.number(l,u,d)/this.worldSize)},di.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},di.prototype.getBounds=function(){return(new e.LngLatBounds).extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},di.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},di.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},di.prototype.calculatePosMatrix=function(t,n){void 0===n&&(n=!1);var i=t.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];var o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),r[i]=new Float32Array(l),r[i]},di.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},di.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,n,i,r,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var g=this.latRange;o=e.mercatorYfromLat(g[1])*this.worldSize,t=(a=e.mercatorYfromLat(g[0])*this.worldSize)-o<u.y?u.y/(a-o):0}if(this.lngRange){var d=this.lngRange;s=e.mercatorXfromLng(d[0])*this.worldSize,n=(l=e.mercatorXfromLng(d[1])*this.worldSize)-s<u.x?u.x/(l-s):0}var h=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.Point(n?(l+s)/2:h.x,t?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var A=h.y,f=u.y/2;A-f<o&&(r=o+f),A+f>a&&(r=a-f)}if(this.lngRange){var C=h.x,I=u.x/2;C-I<s&&(i=s+I),C+I>l&&(i=l-I)}void 0===i&&void 0===r||(this.center=this.unproject(new e.Point(void 0!==i?i:h.x,void 0!==r?r:h.y))),this._unmodified=c,this._constraining=!1}},di.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,n=Math.PI/2+this._pitch,i=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-n-t),r=this.point,o=r.x,a=r.y,s=1.01*(Math.cos(Math.PI/2-this._pitch)*i+this.cameraToCenterDistance),l=new Float64Array(16);e.perspective(l,this._fov,this.width/this.height,1,s),e.scale(l,l,[1,-1,1]),e.translate(l,l,[0,0,-this.cameraToCenterDistance]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle),e.translate(l,l,[-o,-a,0]),this.mercatorMatrix=e.scale([],l,[this.worldSize,this.worldSize,this.worldSize]),e.scale(l,l,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=l;var u=this.width%2/2,c=this.height%2/2,g=Math.cos(this.angle),d=Math.sin(this.angle),h=o-Math.round(o)+g*u+d*c,p=a-Math.round(a)+g*c+d*u,A=new Float64Array(l);if(e.translate(A,A,[h>.5?h-1:h,p>.5?p-1:p,0]),this.alignedProjMatrix=A,l=e.create(),e.scale(l,l,[this.width/2,-this.height/2,1]),e.translate(l,l,[1,-1,0]),this.labelPlaneMatrix=l,l=e.create(),e.scale(l,l,[1,-1,1]),e.translate(l,l,[-1,-1,0]),e.scale(l,l,[2/this.width,2/this.height,1]),this.glCoordMatrix=l,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(l=e.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=l,this._posMatrixCache={},this._alignedPosMatrixCache={}}},di.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},di.prototype.getCameraPoint=function(){var t=this._pitch,n=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,n))},di.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(1===t.length)return[t[0],n];for(var i=n.x,r=n.y,o=n.x,a=n.y,s=0,l=t;s<l.length;s+=1){var u=l[s];i=Math.min(i,u.x),r=Math.min(r,u.y),o=Math.max(o,u.x),a=Math.max(a,u.y)}return[new e.Point(i,r),new e.Point(o,r),new e.Point(o,a),new e.Point(i,a),new e.Point(i,r)]},Object.defineProperties(di.prototype,hi);var pi=function(){var t,n,i,r,o;e.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=(t=this._updateHashUnthrottled.bind(this),n=300,i=!1,r=0,o=function(){r=0,i&&(t(),r=setTimeout(o,n),i=!1)},function(){return i=!0,r||o(),r})};pi.prototype.addTo=function(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},pi.prototype.remove=function(){return e.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},pi.prototype.getHashString=function(e){var t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,i),o=Math.round(t.lng*r)/r,a=Math.round(t.lat*r)/r,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=e?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},pi.prototype._onHashChange=function(){var t=e.window.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},pi.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,"",t)}catch(e){}};var Ai=function(t){function i(i,r,o,a){void 0===a&&(a={});var s=n.mousePos(r.getCanvasContainer(),o),l=r.unproject(s);t.call(this,i,e.extend({point:s,lngLat:l,originalEvent:o},a)),this._defaultPrevented=!1,this.target=r}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(e.Event),fi=function(t){function i(i,r,o){var a=n.touchPos(r.getCanvasContainer(),o),s=a.map((function(e){return r.unproject(e)})),l=a.reduce((function(e,t,n,i){return e.add(t.div(i.length))}),new e.Point(0,0)),u=r.unproject(l);t.call(this,i,{points:a,point:l,lngLats:s,lngLat:u,originalEvent:o}),this._defaultPrevented=!1}t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(e.Event),Ci=function(e){function t(t,n,i){e.call(this,t,{originalEvent:i}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),Ii=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,e.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ii.prototype.isEnabled=function(){return!!this._enabled},Ii.prototype.isActive=function(){return!!this._active},Ii.prototype.isZooming=function(){return!!this._zooming},Ii.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)},Ii.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ii.prototype.onWheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY,i=e.browser.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this.isActive()||this._start(t)),t.preventDefault()}},Ii.prototype._onTimeout=function(e){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(e)},Ii.prototype._start=function(t){if(this._delta){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),this._active=!0,this._zooming=!0,this._map.fire(new e.Event("movestart",{originalEvent:t})),this._map.fire(new e.Event("zoomstart",{originalEvent:t})),this._finishTimeout&&clearTimeout(this._finishTimeout);var i=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame))}},Ii.prototype._onScrollFrame=function(){var t=this;if(this._frameId=null,this.isActive()){var n=this._map.transform;if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*r))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a="number"==typeof this._targetZoom?this._targetZoom:n.zoom,s=this._startZoom,l=this._easing,u=!1;if("wheel"===this._type&&s&&l){var c=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),g=l(c);n.zoom=e.number(s,a,g),c<1?this._frameId||(this._frameId=this._map._requestRenderFrame(this._onScrollFrame)):u=!0}else n.zoom=a,u=!0;n.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire(new e.Event("move",{originalEvent:this._lastWheelEvent})),this._map.fire(new e.Event("zoom",{originalEvent:this._lastWheelEvent})),u&&(this._active=!1,this._finishTimeout=setTimeout((function(){t._zooming=!1,t._map.fire(new e.Event("zoomend",{originalEvent:t._lastWheelEvent})),t._map.fire(new e.Event("moveend",{originalEvent:t._lastWheelEvent})),delete t._targetZoom}),200))}},Ii.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var i=this._prevEase,r=(e.browser.now()-i.start)/i.duration,o=i.easing(r+.01)-i.easing(r),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=e.bezier(a,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n};var vi=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=n.clickTolerance||1,e.bindAll(["_onMouseMove","_onMouseUp","_onKeyDown"],this)};vi.prototype.isEnabled=function(){return!!this._enabled},vi.prototype.isActive=function(){return!!this._active},vi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},vi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},vi.prototype.onMouseDown=function(t){this.isEnabled()&&t.shiftKey&&0===t.button&&(e.window.document.addEventListener("mousemove",this._onMouseMove,!1),e.window.document.addEventListener("keydown",this._onKeyDown,!1),e.window.document.addEventListener("mouseup",this._onMouseUp,!1),n.disableDrag(),this._startPos=this._lastPos=n.mousePos(this._el,t),this._active=!0)},vi.prototype._onMouseMove=function(e){var t=n.mousePos(this._el,e);if(!(this._lastPos.equals(t)||!this._box&&t.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=t,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));var r=Math.min(i.x,t.x),o=Math.max(i.x,t.x),a=Math.min(i.y,t.y),s=Math.max(i.y,t.y);n.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=o-r+"px",this._box.style.height=s-a+"px"}},vi.prototype._onMouseUp=function(t){if(0===t.button){var i=this._startPos,r=n.mousePos(this._el,t);this._finish(),n.suppressClick(),i.x===r.x&&i.y===r.y?this._fireEvent("boxzoomcancel",t):this._map.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!0}).fire(new e.Event("boxzoomend",{originalEvent:t}))}},vi.prototype._onKeyDown=function(e){27===e.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",e))},vi.prototype._finish=function(){this._active=!1,e.window.document.removeEventListener("mousemove",this._onMouseMove,!1),e.window.document.removeEventListener("keydown",this._onKeyDown,!1),e.window.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},vi.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};var mi=e.bezier(0,0,.25,1),yi=function(t,n){this._map=t,this._el=n.element||t.getCanvasContainer(),this._state="disabled",this._button=n.button||"right",this._bearingSnap=n.bearingSnap||0,this._pitchWithRotate=!1!==n.pitchWithRotate,e.bindAll(["onMouseDown","_onMouseMove","_onMouseUp","_onBlur","_onDragFrame"],this)};yi.prototype.isEnabled=function(){return"disabled"!==this._state},yi.prototype.isActive=function(){return"active"===this._state},yi.prototype.enable=function(){this.isEnabled()||(this._state="enabled")},yi.prototype.disable=function(){if(this.isEnabled())switch(this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend"),this._pitchWithRotate&&this._fireEvent("pitchend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},yi.prototype.onMouseDown=function(t){if("enabled"===this._state){if("right"===this._button){if(this._eventButton=n.mouseButton(t),this._eventButton!==(t.ctrlKey?0:2))return}else{if(t.ctrlKey||0!==n.mouseButton(t))return;this._eventButton=0}n.disableDrag(),e.window.document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.addEventListener("mouseup",this._onMouseUp),e.window.addEventListener("blur",this._onBlur),this._state="pending",this._inertia=[[e.browser.now(),this._map.getBearing()]],this._startPos=this._lastPos=n.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},yi.prototype._onMouseMove=function(e){var t=n.mousePos(this._el,e);this._lastPos.equals(t)||(this._lastMoveEvent=e,this._lastPos=t,"pending"===this._state&&(this._state="active",this._fireEvent("rotatestart",e),this._fireEvent("movestart",e),this._pitchWithRotate&&this._fireEvent("pitchstart",e)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},yi.prototype._onDragFrame=function(){this._frameId=null;var t=this._lastMoveEvent;if(t){var n=this._map.transform,i=this._startPos,r=this._lastPos,o=.8*(i.x-r.x),a=-.5*(i.y-r.y),s=n.bearing-o,l=n.pitch-a,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([e.browser.now(),this._map._normalizeBearing(s,c[1])]),n.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",t),n.pitch=l),this._fireEvent("rotate",t),this._fireEvent("move",t),delete this._lastMoveEvent,this._startPos=this._lastPos}},yi.prototype._onMouseUp=function(e){if(n.mouseButton(e)===this._eventButton)switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialRotate(e);break;case"pending":this._state="enabled",this._unbind()}},yi.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("rotateend",e),this._pitchWithRotate&&this._fireEvent("pitchend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},yi.prototype._unbind=function(){e.window.document.removeEventListener("mousemove",this._onMouseMove,{capture:!0}),e.window.document.removeEventListener("mouseup",this._onMouseUp),e.window.removeEventListener("blur",this._onBlur),n.enableDrag()},yi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._lastPos},yi.prototype._inertialRotate=function(e){var t=this;this._fireEvent("rotateend",e),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),r=this._inertia,o=function(){Math.abs(i)<t._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:e}):t._fireEvent("moveend",e),t._pitchWithRotate&&t._fireEvent("pitchend",e)};if(r.length<2)o();else{var a=r[0],s=r[r.length-1],l=r[r.length-2],u=n._normalizeBearing(i,l[1]),c=s[1]-a[1],g=c<0?-1:1,d=(s[0]-a[0])/1e3;if(0!==c&&0!==d){var h=Math.abs(c*(.25/d));h>180&&(h=180);var p=h/180;u+=g*h*(p/2),Math.abs(n._normalizeBearing(u,0))<this._bearingSnap&&(u=n._normalizeBearing(0,u)),n.rotateTo(u,{duration:1e3*p,easing:mi,noMoveStart:!0},{originalEvent:e})}else o()}},yi.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},yi.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>0&&n-t[0][0]>160;)t.shift()};var bi=e.bezier(0,0,.3,1),xi=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._state="disabled",this._clickTolerance=n.clickTolerance||1,e.bindAll(["_onMove","_onMouseUp","_onTouchEnd","_onBlur","_onDragFrame"],this)};xi.prototype.isEnabled=function(){return"disabled"!==this._state},xi.prototype.isActive=function(){return"active"===this._state},xi.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._state="enabled")},xi.prototype.disable=function(){if(this.isEnabled())switch(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._state){case"active":this._state="disabled",this._unbind(),this._deactivate(),this._fireEvent("dragend"),this._fireEvent("moveend");break;case"pending":this._state="disabled",this._unbind();break;default:this._state="disabled"}},xi.prototype.onMouseDown=function(t){"enabled"===this._state&&(t.ctrlKey||0!==n.mouseButton(t)||(n.addEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),n.addEventListener(e.window.document,"mouseup",this._onMouseUp),this._start(t)))},xi.prototype.onTouchStart=function(t){"enabled"===this._state&&(t.touches.length>1||(n.addEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.addEventListener(e.window.document,"touchend",this._onTouchEnd),this._start(t)))},xi.prototype._start=function(t){e.window.addEventListener("blur",this._onBlur),this._state="pending",this._startPos=this._mouseDownPos=this._lastPos=n.mousePos(this._el,t),this._inertia=[[e.browser.now(),this._startPos]]},xi.prototype._onMove=function(t){t.preventDefault();var i=n.mousePos(this._el,t);this._lastPos.equals(i)||"pending"===this._state&&i.dist(this._mouseDownPos)<this._clickTolerance||(this._lastMoveEvent=t,this._lastPos=i,this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),this._lastPos]),"pending"===this._state&&(this._state="active",this._fireEvent("dragstart",t),this._fireEvent("movestart",t)),this._frameId||(this._frameId=this._map._requestRenderFrame(this._onDragFrame)))},xi.prototype._onDragFrame=function(){this._frameId=null;var e=this._lastMoveEvent;if(e){var t=this._map.transform;t.setLocationAtPoint(t.pointLocation(this._startPos),this._lastPos),this._fireEvent("drag",e),this._fireEvent("move",e),this._startPos=this._lastPos,delete this._lastMoveEvent}},xi.prototype._onMouseUp=function(e){if(0===n.mouseButton(e))switch(this._state){case"active":this._state="enabled",n.suppressClick(),this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xi.prototype._onTouchEnd=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._inertialPan(e);break;case"pending":this._state="enabled",this._unbind()}},xi.prototype._onBlur=function(e){switch(this._state){case"active":this._state="enabled",this._unbind(),this._deactivate(),this._fireEvent("dragend",e),this._fireEvent("moveend",e);break;case"pending":this._state="enabled",this._unbind()}},xi.prototype._unbind=function(){n.removeEventListener(e.window.document,"touchmove",this._onMove,{capture:!0,passive:!1}),n.removeEventListener(e.window.document,"touchend",this._onTouchEnd),n.removeEventListener(e.window.document,"mousemove",this._onMove,{capture:!0}),n.removeEventListener(e.window.document,"mouseup",this._onMouseUp),n.removeEventListener(e.window,"blur",this._onBlur)},xi.prototype._deactivate=function(){this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._lastMoveEvent,delete this._startPos,delete this._mouseDownPos,delete this._lastPos},xi.prototype._inertialPan=function(e){this._fireEvent("dragend",e),this._drainInertiaBuffer();var t=this._inertia;if(t.length<2)this._fireEvent("moveend",e);else{var n=t[t.length-1],i=t[0],r=n[1].sub(i[1]),o=(n[0]-i[0])/1e3;if(0===o||n[1].equals(i[1]))this._fireEvent("moveend",e);else{var a=r.mult(.3/o),s=a.mag();s>1400&&(s=1400,a._unit()._mult(s));var l=s/750,u=a.mult(-l/2);this._map.panBy(u,{duration:1e3*l,easing:bi,noMoveStart:!0},{originalEvent:e})}}},xi.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},xi.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>0&&n-t[0][0]>160;)t.shift()};var _i=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onKeyDown"],this)};function wi(e){return e*(2-e)}_i.prototype.isEnabled=function(){return!!this._enabled},_i.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},_i.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},_i.prototype._onKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=0,n=0,i=0,r=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(o=1,e.preventDefault());break;default:return}var a=this._map,s=a.getZoom(),l={duration:300,delayEndEvents:500,easing:wi,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+15*n,pitch:a.getPitch()+10*i,offset:[100*-r,100*-o],center:a.getCenter()};a.easeTo(l,{originalEvent:e})}};var ki=function(t){this._map=t,e.bindAll(["_onDblClick","_onZoomEnd"],this)};ki.prototype.isEnabled=function(){return!!this._enabled},ki.prototype.isActive=function(){return!!this._active},ki.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ki.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ki.prototype.onTouchStart=function(e){var t=this;this.isEnabled()&&(e.points.length>1||(this._tapped?(clearTimeout(this._tapped),this._tapped=null,this._zoom(e)):this._tapped=setTimeout((function(){t._tapped=null}),300)))},ki.prototype.onDblClick=function(e){this.isEnabled()&&(e.originalEvent.preventDefault(),this._zoom(e))},ki.prototype._zoom=function(e){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(e.originalEvent.shiftKey?-1:1),{around:e.lngLat},e)},ki.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)};var Ei=e.bezier(0,0,.15,1),Si=function(t){this._map=t,this._el=t.getCanvasContainer(),e.bindAll(["_onMove","_onEnd","_onTouchFrame"],this)};Si.prototype.isEnabled=function(){return!!this._enabled},Si.prototype.enable=function(e){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)},Si.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._enabled=!1)},Si.prototype.disableRotation=function(){this._rotationDisabled=!0},Si.prototype.enableRotation=function(){this._rotationDisabled=!1},Si.prototype.onStart=function(t){if(this.isEnabled()&&2===t.touches.length){var i=n.mousePos(this._el,t.touches[0]),r=n.mousePos(this._el,t.touches[1]),o=i.add(r).div(2);this._startVec=i.sub(r),this._startAround=this._map.transform.pointLocation(o),this._gestureIntent=void 0,this._inertia=[],n.addEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),n.addEventListener(e.window.document,"touchend",this._onEnd)}},Si.prototype._getTouchEventData=function(e){var t=n.mousePos(this._el,e.touches[0]),i=n.mousePos(this._el,e.touches[1]),r=t.sub(i);return{vec:r,center:t.add(i).div(2),scale:r.mag()/this._startVec.mag(),bearing:this._rotationDisabled?0:180*r.angleWith(this._startVec)/Math.PI}},Si.prototype._onMove=function(t){if(2===t.touches.length){var n=this._getTouchEventData(t),i=n.vec,r=n.scale,o=n.bearing;if(!this._gestureIntent){var a=this._rotationDisabled&&1!==r||Math.abs(1-r)>.15;Math.abs(o)>10?this._gestureIntent="rotate":a&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._map.fire(new e.Event(this._gestureIntent+"start",{originalEvent:t})),this._map.fire(new e.Event("movestart",{originalEvent:t})),this._startVec=i)}this._lastTouchEvent=t,this._frameId||(this._frameId=this._map._requestRenderFrame(this._onTouchFrame)),t.preventDefault()}},Si.prototype._onTouchFrame=function(){this._frameId=null;var t=this._gestureIntent;if(t){var n=this._map.transform;this._startScale||(this._startScale=n.scale,this._startBearing=n.bearing);var i=this._getTouchEventData(this._lastTouchEvent),r=i.center,o=i.bearing,a=i.scale,s=n.pointLocation(r),l=n.locationPoint(s);"rotate"===t&&(n.bearing=this._startBearing+o),n.zoom=n.scaleZoom(this._startScale*a),n.setLocationAtPoint(this._startAround,l),this._map.fire(new e.Event(t,{originalEvent:this._lastTouchEvent})),this._map.fire(new e.Event("move",{originalEvent:this._lastTouchEvent})),this._drainInertiaBuffer(),this._inertia.push([e.browser.now(),a,r])}},Si.prototype._onEnd=function(t){n.removeEventListener(e.window.document,"touchmove",this._onMove,{passive:!1}),n.removeEventListener(e.window.document,"touchend",this._onEnd);var i=this._gestureIntent,r=this._startScale;if(this._frameId&&(this._map._cancelRenderFrame(this._frameId),this._frameId=null),delete this._gestureIntent,delete this._startScale,delete this._startBearing,delete this._lastTouchEvent,i){this._map.fire(new e.Event(i+"end",{originalEvent:t})),this._drainInertiaBuffer();var o=this._inertia,a=this._map;if(o.length<2)a.snapToNorth({},{originalEvent:t});else{var s=o[o.length-1],l=o[0],u=a.transform.scaleZoom(r*s[1]),c=a.transform.scaleZoom(r*l[1]),g=u-c,d=(s[0]-l[0])/1e3,h=s[2];if(0!==d&&u!==c){var p=.15*g/d;Math.abs(p)>2.5&&(p=p>0?2.5:-2.5);var A=1e3*Math.abs(p/(12*.15)),f=u+p*A/2e3;f<0&&(f=0),a.easeTo({zoom:f,duration:A,easing:Ei,around:this._aroundCenter?a.getCenter():a.unproject(h),noMoveStart:!0},{originalEvent:t})}else a.snapToNorth({},{originalEvent:t})}}},Si.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,n=e.browser.now();t.length>2&&n-t[0][0]>160;)t.shift()};var Ti={scrollZoom:Ii,boxZoom:vi,dragRotate:yi,dragPan:xi,keyboard:_i,doubleClickZoom:ki,touchZoomRotate:Si},Oi=function(t){function n(n,i){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=i.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,i){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),i)},n.prototype.panTo=function(t,n,i){return this.easeTo(e.extend({center:t},n),i)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,i){return this.easeTo(e.extend({zoom:t},n),i)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.rotateTo=function(t,n,i){return this.easeTo(e.extend({bearing:t},n),i)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(t,n,i,r){if("number"==typeof(r=e.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var o=r.padding;r.padding={top:o,bottom:o,right:o,left:o}}if(e.deepEqual(Object.keys(r.padding).sort((function(e,t){return e<t?-1:e>t?1:0})),["bottom","left","right","top"])){var a=this.transform,s=a.project(e.LngLat.convert(t)),l=a.project(e.LngLat.convert(n)),u=s.rotate(-i*Math.PI/180),c=l.rotate(-i*Math.PI/180),g=new e.Point(Math.max(u.x,c.x),Math.max(u.y,c.y)),d=new e.Point(Math.min(u.x,c.x),Math.min(u.y,c.y)),h=g.sub(d),p=(a.width-r.padding.left-r.padding.right)/h.x,A=(a.height-r.padding.top-r.padding.bottom)/h.y;if(!(A<0||p<0)){var f=Math.min(a.scaleZoom(a.scale*Math.min(p,A)),r.maxZoom),C=e.Point.convert(r.offset),I=(r.padding.left-r.padding.right)/2,v=(r.padding.top-r.padding.bottom)/2,m=new e.Point(C.x+I,C.y+v).mult(a.scale/a.zoomScale(f));return{center:a.unproject(s.add(l).div(2).sub(m)),zoom:f,bearing:i}}e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}else e.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'")},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,i,r,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),i,r),r,o)},n.prototype._fitInternal=function(t,n,i){return t?(n=e.extend(t,n)).linear?this.easeTo(n,i):this.flyTo(n,i):this},n.prototype.jumpTo=function(t,n){this.stop();var i=this.transform,r=!1,o=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.LngLat.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),r&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))},n.prototype.easeTo=function(t,n){var i=this;this.stop(),!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate&&(t.duration=0);var r=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?+t.zoom:o,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,g=r.centerPoint.add(e.Point.convert(t.offset)),d=r.pointLocation(g),h=e.LngLat.convert(t.center||d);this._normalizeCenter(h);var p,A,f=r.project(d),C=r.project(h).sub(f),I=r.zoomScale(l-o);return t.around&&(p=e.LngLat.convert(t.around),A=r.locationPoint(p)),this._zooming=l!==o,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,t.noMoveStart),clearTimeout(this._easeEndTimeoutID),this._ease((function(t){if(i._zooming&&(r.zoom=e.number(o,l,t)),i._rotating&&(r.bearing=e.number(a,u,t)),i._pitching&&(r.pitch=e.number(s,c,t)),p)r.setLocationAtPoint(p,A);else{var d=r.zoomScale(r.zoom-o),h=l>o?Math.min(2,I):Math.max(.5,I),v=Math.pow(h,1-t),m=r.unproject(f.add(C.mult(t*v)).mult(d));r.setLocationAtPoint(r.renderWorldCopies?m.wrap():m,g)}i._fireMoveEvents(n)}),(function(){t.delayEndEvents?i._easeEndTimeoutID=setTimeout((function(){return i._afterEase(n)}),t.delayEndEvents):i._afterEase(n)}),t),this},n.prototype._prepareEase=function(t,n){this._moving=!0,n||this.fire(new e.Event("movestart",t)),this._zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&this.fire(new e.Event("pitchstart",t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))},n.prototype._afterEase=function(t){var n=this._zooming,i=this._rotating,r=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),r&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))},n.prototype.flyTo=function(t,n){var i=this;this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var r=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),l="zoom"in t?e.clamp(+t.zoom,r.minZoom,r.maxZoom):o,u="bearing"in t?this._normalizeBearing(t.bearing,a):a,c="pitch"in t?+t.pitch:s,g=r.zoomScale(l-o),d=r.centerPoint.add(e.Point.convert(t.offset)),h=r.pointLocation(d),p=e.LngLat.convert(t.center||h);this._normalizeCenter(p);var A=r.project(h),f=r.project(p).sub(A),C=t.curve,I=Math.max(r.width,r.height),v=I/g,m=f.mag();if("minZoom"in t){var y=e.clamp(Math.min(t.minZoom,o,l),r.minZoom,r.maxZoom),b=I/r.zoomScale(y-o);C=Math.sqrt(b/m*2)}var x=C*C;function _(e){var t=(v*v-I*I+(e?-1:1)*x*x*m*m)/(2*(e?v:I)*x*m);return Math.log(Math.sqrt(t*t+1)-t)}function w(e){return(Math.exp(e)-Math.exp(-e))/2}function k(e){return(Math.exp(e)+Math.exp(-e))/2}var E=_(0),S=function(e){return k(E)/k(E+C*e)},T=function(e){return I*((k(E)*(w(t=E+C*e)/k(t))-w(E))/x)/m;var t},O=(_(1)-E)/C;if(Math.abs(m)<1e-6||!isFinite(O)){if(Math.abs(I-v)<1e-6)return this.easeTo(t,n);var P=v<I?-1:1;O=Math.abs(Math.log(v/I))/C,T=function(){return 0},S=function(e){return Math.exp(P*C*e)}}if("duration"in t)t.duration=+t.duration;else{var D="screenSpeed"in t?+t.screenSpeed/C:+t.speed;t.duration=1e3*O/D}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=a!==u,this._pitching=c!==s,this._prepareEase(n,!1),this._ease((function(t){var g=t*O,h=1/S(g);r.zoom=1===t?l:o+r.scaleZoom(h),i._rotating&&(r.bearing=e.number(a,u,t)),i._pitching&&(r.pitch=e.number(s,c,t));var C=1===t?p:r.unproject(A.add(f.mult(T(g))).mult(h));r.setLocationAtPoint(r.renderWorldCopies?C.wrap():C,d),i._fireMoveEvents(n)}),(function(){return i._afterEase(n)}),t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var e=this._onEaseEnd;delete this._onEaseEnd,e.call(this)}return this},n.prototype._ease=function(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(t.renderWorldCopies&&!t.lngRange){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),Pi=function(t){void 0===t&&(t={}),this.options=t,e.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Pi.prototype.getDefaultPosition=function(){return"bottom-right"},Pi.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Pi.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},Pi.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:e.config.ACCESS_TOKEN}];if(t){var i=n.reduce((function(e,t,i){return t.value&&(e+=t.key+"="+t.value+(i<n.length-1?"&":"")),e}),"?");t.href=e.config.FEEDBACK_URL+"/"+i+(this._map._hash?this._map._hash.getHashString(!0):""),t.rel="noopener"}},Pi.prototype._updateData=function(e){!e||"metadata"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())},Pi.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((function(e){return"string"!=typeof e?"":e}))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var i in n){var r=n[i];if(r.used){var o=r.getSource();o.attribution&&e.indexOf(o.attribution)<0&&e.push(o.attribution)}}e.sort((function(e,t){return e.length-t.length})),(e=e.filter((function(t,n){for(var i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0}))).length?(this._innerContainer.innerHTML=e.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},Pi.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var Di=function(){e.bindAll(["_updateLogo"],this),e.bindAll(["_updateCompact"],this)};Di.prototype.onAdd=function(e){this._map=e,this._container=n.create("div","mapboxgl-ctrl");var t=n.create("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener",t.href="https://www.mapbox.com/",t.setAttribute("aria-label","Mapbox logo"),t.setAttribute("rel","noopener"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},Di.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},Di.prototype.getDefaultPosition=function(){return"bottom-left"},Di.prototype._updateLogo=function(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},Di.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},Di.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}};var ji=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ji.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},ji.prototype.remove=function(e){for(var t=this._currentlyRunning,n=0,i=t?this._queue.concat(t):this._queue;n<i.length;n+=1){var r=i[n];if(r.id===e)return void(r.cancelled=!0)}},ji.prototype.run=function(){var e=this._currentlyRunning=this._queue;this._queue=[];for(var t=0,n=e;t<n.length;t+=1){var i=n[t];if(!i.cancelled&&(i.callback(),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ji.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Mi=e.window.HTMLImageElement,Ni=e.window.HTMLElement,zi={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,clickTolerance:3,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},Ri=function(i){function r(t){var r=this;if(null!=(t=e.extend({},zi,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than minZoom");var o=new di(t.minZoom,t.maxZoom,t.renderWorldCopies);i.call(this,o,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new ji,this._controls=[],this._mapId=e.uniqueId();var a=t.transformRequest;if(this._transformRequest=a?function(e,t){return a(e,t)||{url:e}}:function(e){return{url:e}},"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error("Container '"+t.container+"' not found.")}else{if(!(t.container instanceof Ni))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(function(){return r._update(!1)})),this.on("moveend",(function(){return r._update(!1)})),this.on("zoom",(function(){return r._update(!0)})),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1)),function(e,t){var i=e.getCanvasContainer(),r=null,o=!1,a=null;for(var s in Ti)e[s]=new Ti[s](e,t),t.interactive&&t[s]&&e[s].enable(t[s]);n.addEventListener(i,"mouseout",(function(t){e.fire(new Ai("mouseout",e,t))})),n.addEventListener(i,"mousedown",(function(r){o=!0,a=n.mousePos(i,r);var s=new Ai("mousedown",e,r);e.fire(s),s.defaultPrevented||(t.interactive&&!e.doubleClickZoom.isActive()&&e.stop(),e.boxZoom.onMouseDown(r),e.boxZoom.isActive()||e.dragPan.isActive()||e.dragRotate.onMouseDown(r),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onMouseDown(r))})),n.addEventListener(i,"mouseup",(function(t){var n=e.dragRotate.isActive();r&&!n&&e.fire(new Ai("contextmenu",e,r)),r=null,o=!1,e.fire(new Ai("mouseup",e,t))})),n.addEventListener(i,"mousemove",(function(t){if(!e.dragPan.isActive()&&!e.dragRotate.isActive()){for(var n=t.target;n&&n!==i;)n=n.parentNode;n===i&&e.fire(new Ai("mousemove",e,t))}})),n.addEventListener(i,"mouseover",(function(t){for(var n=t.target;n&&n!==i;)n=n.parentNode;n===i&&e.fire(new Ai("mouseover",e,t))})),n.addEventListener(i,"touchstart",(function(n){var i=new fi("touchstart",e,n);e.fire(i),i.defaultPrevented||(t.interactive&&e.stop(),e.boxZoom.isActive()||e.dragRotate.isActive()||e.dragPan.onTouchStart(n),e.touchZoomRotate.onStart(n),e.doubleClickZoom.onTouchStart(i))}),{passive:!1}),n.addEventListener(i,"touchmove",(function(t){e.fire(new fi("touchmove",e,t))}),{passive:!1}),n.addEventListener(i,"touchend",(function(t){e.fire(new fi("touchend",e,t))})),n.addEventListener(i,"touchcancel",(function(t){e.fire(new fi("touchcancel",e,t))})),n.addEventListener(i,"click",(function(r){var o=n.mousePos(i,r);(o.equals(a)||o.dist(a)<t.clickTolerance)&&e.fire(new Ai("click",e,r))})),n.addEventListener(i,"dblclick",(function(t){var n=new Ai("dblclick",e,t);e.fire(n),n.defaultPrevented||e.doubleClickZoom.onDblClick(n)})),n.addEventListener(i,"contextmenu",(function(t){var n=e.dragRotate.isActive();o||n?o&&(r=t):e.fire(new Ai("contextmenu",e,t)),(e.dragRotate.isEnabled()||e.listens("contextmenu"))&&t.preventDefault()})),n.addEventListener(i,"wheel",(function(n){t.interactive&&e.stop();var i=new Ci("wheel",e,n);e.fire(i),i.defaultPrevented||e.scrollZoom.onWheel(n)}),{passive:!1})}(this,t),this._hash=t.hash&&(new pi).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new Pi({customAttribution:t.customAttribution})),this.addControl(new Di,t.logoPosition),this.on("style.load",(function(){r.transform.unmodified&&r.jumpTo(r.style.stylesheet)})),this.on("data",(function(t){r._update("style"===t.dataType),r.fire(new e.Event(t.dataType+"data",t))})),this.on("dataloading",(function(t){r.fire(new e.Event(t.dataType+"dataloading",t))}))}i&&(r.__proto__=i),r.prototype=Object.create(i&&i.prototype),r.prototype.constructor=r;var o={showTileBoundaries:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(t,n){if(void 0===n&&t.getDefaultPosition&&(n=t.getDefaultPosition()),void 0===n&&(n="top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var i=t.onAdd(this);this._controls.push(t);var r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this},r.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},r.prototype.resize=function(t){var n=this._containerDimensions(),i=n[0],r=n[1];return this._resizeCanvas(i,r),this.transform.resize(i,r),this.painter.resize(i,r),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)).fire(new e.Event("resize",t)).fire(new e.Event("moveend",t)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},r.prototype.setMinZoom=function(e){if((e=null==e?0:e)>=0&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},r.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},r.prototype.isMoving=function(){return this._moving||this.dragPan.isActive()||this.dragRotate.isActive()||this.scrollZoom.isActive()},r.prototype.isZooming=function(){return this._zooming||this.scrollZoom.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.dragRotate.isActive()},r.prototype.on=function(e,t,n){var r=this;if(void 0===n)return i.prototype.on.call(this,e,t);var o=function(){var i;if("mouseenter"===e||"mouseover"===e){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(i){var a=r.getLayer(t)?r.queryRenderedFeatures(i.point,{layers:[t]}):[];a.length?o||(o=!0,n.call(r,new Ai(e,r,i.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(i){(r.getLayer(t)?r.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Ai(e,r,i.originalEvent)))},mouseout:function(t){a&&(a=!1,n.call(r,new Ai(e,r,t.originalEvent)))}}}}return{layer:t,listener:n,delegates:(i={},i[e]=function(e){var i=r.getLayer(t)?r.queryRenderedFeatures(e.point,{layers:[t]}):[];i.length&&(e.features=i,n.call(r,e),delete e.features)},i)}}();for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(o),o.delegates)this.on(a,o.delegates[a]);return this},r.prototype.off=function(e,t,n){if(void 0===n)return i.prototype.off.call(this,e,t);if(this._delegatedListeners&&this._delegatedListeners[e])for(var r=this._delegatedListeners[e],o=0;o<r.length;o++){var a=r[o];if(a.layer===t&&a.listener===n){for(var s in a.delegates)this.off(s,a.delegates[s]);return r.splice(o,1),this}}return this},r.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];var i;if(void 0!==n||void 0===t||t instanceof e.Point||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.Point||"number"==typeof t[0])i=[e.Point.convert(t)];else{var r=e.Point.convert(t[0]),o=e.Point.convert(t[1]);i=[r,new e.Point(o.x,r.y),o,new e.Point(r.x,o.y),r]}return this.style.queryRenderedFeatures(i,n,this.transform)},r.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},r.prototype.setStyle=function(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:zi.localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},r.prototype._updateStyle=function(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new Rt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)},r.prototype._diffStyle=function(t,n){var i=this;if("string"==typeof t){var r=e.normalizeStyleURL(t),o=this._transformRequest(r,e.ResourceType.Style);e.getJSON(o,(function(t,r){t?i.fire(new e.ErrorEvent(t)):r&&i._updateDiff(r,n)}))}else"object"==typeof t&&this._updateDiff(t,n)},r.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(i){e.warnOnce("Unable to perform style diff: "+(i.message||i.error||i)+".  Rebuilding the style from scratch."),this._updateStyle(t,n)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(e,t){return this.style.addSource(e,t),this._update(!0)},r.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error("There is no source with ID '"+t+"'")))},r.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var i in n){var r=n[i];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},r.prototype.addSourceType=function(e,t,n){return this.style.addSourceType(e,t,n)},r.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},r.prototype.getSource=function(e){return this.style.getSource(e)},r.prototype.addImage=function(t,n,i){void 0===i&&(i={});var r=i.pixelRatio;void 0===r&&(r=1);var o=i.sdf;if(void 0===o&&(o=!1),n instanceof Mi){var a=e.browser.getImageData(n),s=a.width,l=a.height,u=a.data;this.style.addImage(t,{data:new e.RGBAImage({width:s,height:l},u),pixelRatio:r,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n.width,g=n.height,d=n.data,h=n;this.style.addImage(t,{data:new e.RGBAImage({width:c,height:g},new Uint8Array(d)),pixelRatio:r,sdf:o,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}},r.prototype.updateImage=function(t,n){var i=this.style.getImage(t);if(!i)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=n instanceof Mi?e.browser.getImageData(n):n,o=r.width,a=r.height,s=r.data;if(void 0===o||void 0===a)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==i.data.width||a!==i.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var l=!(n instanceof Mi);i.data.replace(s,l),this.style.updateImage(t,i)},r.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(e){this.style.removeImage(e)},r.prototype.loadImage=function(t,n){e.getImage(this._transformRequest(t,e.ResourceType.Image),n)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(e,t){return this.style.addLayer(e,t),this._update(!0)},r.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},r.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},r.prototype.getLayer=function(e){return this.style.getLayer(e)},r.prototype.setFilter=function(e,t,n){return void 0===n&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},r.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},r.prototype.getFilter=function(e){return this.style.getFilter(e)},r.prototype.setPaintProperty=function(e,t,n,i){return void 0===i&&(i={}),this.style.setPaintProperty(e,t,n,i),this._update(!0)},r.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},r.prototype.setLayoutProperty=function(e,t,n,i){return void 0===i&&(i={}),this.style.setLayoutProperty(e,t,n,i),this._update(!0)},r.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},r.prototype.setLight=function(e,t){return void 0===t&&(t={}),this.style.setLight(e,t),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},r.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},r.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();var t=this._canvasContainer=n.create("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",t),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var r=this._controlContainer=n.create("div","mapboxgl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((function(e){o[e]=n.create("div","mapboxgl-ctrl-"+e,r)}))},r.prototype._resizeCanvas=function(t,n){var i=e.window.devicePixelRatio||1;this._canvas.width=i*t,this._canvas.height=i*n,this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"},r.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(this.painter=new li(i,this.transform),e.webpSupported.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))},r.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},r.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},r.prototype._render=function(){this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var n=this.transform.zoom,i=e.browser.now();this.style.zoomHistory.update(n,i);var r=new e.EvaluationParameters(n,{now:i,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),o=r.crossFadingFactor();1===o&&o===this._crossFadingFactor||(t=!0,this._crossFadingFactor=o),this.style.update(r)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),this},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),Fi(this._canvasContainer),Fi(this._controlContainer),Fi(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this.fire(new e.Event("remove"))},r.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame((function(){t._frame=null,t._render()})))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(){this._trackResize&&this.resize()._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(e){this._vertices=e,this._update()},Object.defineProperties(r.prototype,o),r}(Oi);function Fi(e){e.parentNode&&e.parentNode.removeChild(e)}var Li={showCompass:!0,showZoom:!0},Bi=function(t){var i=this;this.options=e.extend({},Li,t),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this.options.showZoom&&(e.bindAll(["_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom in",(function(){return i._map.zoomIn()})),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom out",(function(){return i._map.zoomOut()}))),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset bearing to north",(function(){return i._map.resetNorth()})),this._compassArrow=n.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};function Zi(t,n,i){if(t=new e.LngLat(t.lng,t.lat),n){var r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=i.locationPoint(t).distSqr(n);i.locationPoint(r).distSqr(n)<a?t=r:i.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){var s=i.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}Bi.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMaxZoom()),this._zoomOutButton.classList.toggle("mapboxgl-ctrl-icon-disabled",e===this._map.getMinZoom())},Bi.prototype._rotateCompassArrow=function(){var e="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=e},Bi.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new yi(e,{button:"left",element:this._compass}),n.addEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.enable()),this._container},Bi.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),n.removeEventListener(this._compass,"mousedown",this._handler.onMouseDown),this._handler.disable(),delete this._handler),delete this._map},Bi.prototype._createButton=function(e,t,i){var r=n.create("button",e,this._container);return r.type="button",r.title=t,r.setAttribute("aria-label",t),r.addEventListener("click",i),r};var Vi={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ui(e,t,n){var i=e.classList;for(var r in Vi)i.remove("mapboxgl-"+n+"-anchor-"+r);i.add("mapboxgl-"+n+"-anchor-"+t)}var Wi,Gi=function(t){function i(i,r){if(t.call(this),(i instanceof e.window.HTMLElement||r)&&(i=e.extend({element:i},r)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._draggable=i&&i.draggable||!1,this._state="inactive",i&&i.element)this._element=i.element,this._offset=e.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");for(var u=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];u<c.length;u+=1){var g=c[u],d=n.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",g.rx),d.setAttributeNS(null,"ry",g.ry),l.appendChild(d)}var h=n.createNS("http://www.w3.org/2000/svg","g");h.setAttributeNS(null,"fill",this._color);var p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),h.appendChild(p);var A=n.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"opacity","0.25"),A.setAttributeNS(null,"fill","#000000");var f=n.createNS("http://www.w3.org/2000/svg","path");f.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),A.appendChild(f);var C=n.createNS("http://www.w3.org/2000/svg","g");C.setAttributeNS(null,"transform","translate(6.0, 7.0)"),C.setAttributeNS(null,"fill","#FFFFFF");var I=n.createNS("http://www.w3.org/2000/svg","g");I.setAttributeNS(null,"transform","translate(8.0, 8.0)");var v=n.createNS("http://www.w3.org/2000/svg","circle");v.setAttributeNS(null,"fill","#000000"),v.setAttributeNS(null,"opacity","0.25"),v.setAttributeNS(null,"cx","5.5"),v.setAttributeNS(null,"cy","5.5"),v.setAttributeNS(null,"r","5.4999962");var m=n.createNS("http://www.w3.org/2000/svg","circle");m.setAttributeNS(null,"fill","#FFFFFF"),m.setAttributeNS(null,"cx","5.5"),m.setAttributeNS(null,"cy","5.5"),m.setAttributeNS(null,"r","5.4999962"),I.appendChild(v),I.appendChild(m),s.appendChild(l),s.appendChild(h),s.appendChild(A),s.appendChild(C),s.appendChild(I),o.appendChild(s),this._element.appendChild(o),this._offset=e.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",(function(e){e.preventDefault()})),Ui(this._element,this._anchor,"marker"),this._popup=null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null),e){if(!("offset"in e.options)){var t=Math.sqrt(Math.pow(13.5,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[t,-1*(24.6+t)],"bottom-right":[-t,-1*(24.6+t)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat)}return this},i.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this},i.prototype._update=function(e){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=Zi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,Vi[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px)"))},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},i.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i}(e.Evented),Hi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},Yi=function(t){function i(n){t.call(this),this.options=e.extend({},Hi,n),e.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.onAdd=function(t){var i;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Wi?i(Wi):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then((function(e){Wi="denied"!==e.state,i(Wi)})):(Wi=!!e.window.navigator.geolocation,i(Wi)),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),n.remove(this._container),this._map=void 0},i.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()},i.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})},i.prototype._updateMarker=function(e){e?this._userLocationDotMarker.setLngLat([e.coords.longitude,e.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},i.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(t){var i=this;!1!==t?(this._container.addEventListener("contextmenu",(function(e){return e.preventDefault()})),this._geolocateButton=n.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Gi(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(function(t){t.geolocateSource||"ACTIVE_LOCK"!==i._watchState||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new e.Event("trackuserlocationend")))}))):e.warnOnce("Geolocation support is not available, the GeolocateControl will not be visible.")},i.prototype.trigger=function(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(e.Evented),qi={maxWidth:100,unit:"metric"},Ki=function(t){this.options=e.extend({},qi,t),e.bindAll(["_onMove","setUnit"],this)};function Xi(e,t,n){var i,r,o,a,s,l,u=n&&n.maxWidth||100,c=e._container.clientHeight/2,g=(i=e.unproject([0,c]),r=e.unproject([u,c]),o=Math.PI/180,a=i.lat*o,s=r.lat*o,l=Math.sin(a)*Math.sin(s)+Math.cos(a)*Math.cos(s)*Math.cos((r.lng-i.lng)*o),6371e3*Math.acos(Math.min(l,1)));if(n&&"imperial"===n.unit){var d=3.2808*g;d>5280?Qi(t,u,d/5280,"mi"):Qi(t,u,d,"ft")}else n&&"nautical"===n.unit?Qi(t,u,g/1852,"nm"):Qi(t,u,g,"m")}function Qi(e,t,n,i){var r,o,a,s=(a=(a=(r=n)/(o=Math.pow(10,(""+Math.floor(r)).length-1)))>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(e){var t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(a),o*a),l=s/n;"m"===i&&s>=1e3&&(s/=1e3,i="km"),e.style.width=t*l+"px",e.innerHTML=s+i}Ki.prototype.getDefaultPosition=function(){return"bottom-left"},Ki.prototype._onMove=function(){Xi(this._map,this._container,this.options)},Ki.prototype.onAdd=function(e){return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Ki.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Ki.prototype.setUnit=function(e){this.options.unit=e,Xi(this._map,this._container,this.options)};var Ji=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in e.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in e.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in e.window.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};Ji.prototype.onAdd=function(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ji.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ji.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Ji.prototype._setupUI=function(){(this._fullscreenButton=n.create("button",this._className+"-icon "+this._className+"-fullscreen",this._controlContainer)).type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ji.prototype._updateTitle=function(){var e=this._isFullscreen()?"Exit fullscreen":"Enter fullscreen";this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e},Ji.prototype._isFullscreen=function(){return this._fullscreen},Ji.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"),this._updateTitle())},Ji.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var $i={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},er=function(t){function i(n){t.call(this),this.options=e.extend(Object.create($i),n),e.bindAll(["_update","_onClickClose","remove"],this)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._map.on("remove",this.remove),this._update(),this.fire(new e.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),this._map.off("remove",this.remove),delete this._map),this.fire(new e.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._update(),this},i.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},i.prototype.setHTML=function(t){var n,i=e.window.document.createDocumentFragment(),r=e.window.document.createElement("body");for(r.innerHTML=t;n=r.firstChild;)i.appendChild(n);return this.setDOMContent(i)},i.prototype.getMaxWidth=function(){return this._container.style.maxWidth},i.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},i.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},i.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},i.prototype._update=function(){var t=this;if(this._map&&this._lngLat&&this._content){this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((function(e){return t._container.classList.add(e)}))),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&(this._lngLat=Zi(this._lngLat,this._pos,this._map.transform));var i=this._pos=this._map.project(this._lngLat),r=this.options.anchor,o=function t(n){if(n){if("number"==typeof n){var i=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new e.Point(0,0),top:new e.Point(0,n),"top-left":new e.Point(i,i),"top-right":new e.Point(-i,i),bottom:new e.Point(0,-n),"bottom-left":new e.Point(i,-i),"bottom-right":new e.Point(-i,-i),left:new e.Point(n,0),right:new e.Point(-n,0)}}if(n instanceof e.Point||Array.isArray(n)){var r=e.Point.convert(n);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:e.Point.convert(n.center||[0,0]),top:e.Point.convert(n.top||[0,0]),"top-left":e.Point.convert(n["top-left"]||[0,0]),"top-right":e.Point.convert(n["top-right"]||[0,0]),bottom:e.Point.convert(n.bottom||[0,0]),"bottom-left":e.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":e.Point.convert(n["bottom-right"]||[0,0]),left:e.Point.convert(n.left||[0,0]),right:e.Point.convert(n.right||[0,0])}}return t(new e.Point(0,0))}(this.options.offset);if(!r){var a,s=this._container.offsetWidth,l=this._container.offsetHeight;a=i.y+o.bottom.y<l?["top"]:i.y>this._map.transform.height-l?["bottom"]:[],i.x<s/2?a.push("left"):i.x>this._map.transform.width-s/2&&a.push("right"),r=0===a.length?"bottom":a.join("-")}var u=i.add(o[r]).round();n.setTransform(this._container,Vi[r]+" translate("+u.x+"px,"+u.y+"px)"),Ui(this._container,r,"popup")}},i.prototype._onClickClose=function(){this.remove()},i}(e.Evented),tr={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,Map:Ri,NavigationControl:Bi,GeolocateControl:Yi,AttributionControl:Pi,ScaleControl:Ki,FullscreenControl:Ji,Popup:er,Marker:Gi,Style:Rt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return je.workerCount},set workerCount(e){je.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},workerUrl:""};return tr})),n}()},1725:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var c=0;c<a.length;c++)i.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}},6151:(e,t,n)=>{var i=n(2878);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=d;var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,i=[],o=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=r.exec(e));){var g=n[0],d=n[1],h=n.index;if(s+=e.slice(a,h),a=h+g.length,d)s+=d[1];else{var p=e[a],A=n[2],f=n[3],C=n[4],I=n[5],v=n[6],m=n[7];s&&(i.push(s),s="");var y=null!=A&&null!=p&&p!==A,b="+"===v||"*"===v,x="?"===v||"*"===v,_=n[2]||c,w=C||I;i.push({name:f||o++,prefix:A||"",delimiter:_,optional:x,repeat:b,partial:y,asterisk:!!m,pattern:w?u(w):m?".*":"[^"+l(_)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&i.push(s),i}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",g(t)));return function(t,r){for(var o="",s=t||{},l=(r||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!==typeof c){var g,d=s[c.name];if(null==d){if(c.optional){c.partial&&(o+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(i(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(g=l(d[h]),!n[u].test(g))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(g)+"`");o+=(0===h?c.prefix:c.delimiter)+g}}else{if(g=c.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(d),!n[u].test(g))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+g+'"');o+=c.prefix+g}}else o+=c}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function g(e){return e&&e.sensitive?"":"i"}function d(e,t,n){i(t)||(n=t||n,t=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"===typeof u)a+=l(u);else{var d=l(u.prefix),h="(?:"+u.pattern+")";t.push(u),u.repeat&&(h+="(?:"+d+h+")*"),a+=h=u.optional?u.partial?d+"("+h+")?":"(?:"+d+"("+h+"))?":d+"("+h+")"}}var p=l(n.delimiter||"/"),A=a.slice(-p.length)===p;return r||(a=(A?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":r&&A?"":"(?="+p+"|$)",c(new RegExp("^"+a,g(n)),t)}function h(e,t,n){return i(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):i(e)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(h(e[r],t,n).source);return c(new RegExp("(?:"+i.join("|")+")",g(n)),t)}(e,t,n):function(e,t,n){return d(o(e,n),t,n)}(e,t,n)}},2878:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:(e,t,n)=>{"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:(e,t,n)=>{e.exports=n(888)()},9047:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7808:(e,t,n)=>{"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var r=a(n(9702)),o=a(n(1725));function a(e){return e&&e.__esModule?e:{default:e}}var s="undefined"===typeof document||"undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_HOST_URL:"http://localhost:8000",REACT_APP_APP:"trade",REACT_APP_DEBUG:"true",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w"}&&!1,l={},u=void 0;function c(){return u&&!u.headersSent}function g(e,t){var n=s?l:r.default.parse(document.cookie),i=n&&n[e];if("undefined"===typeof t&&(t=!i||"{"!==i[0]&&"["!==i[0]),!t)try{i=JSON.parse(i)}catch(o){}return i}function d(e){var t=s?l:r.default.parse(document.cookie);if("undefined"===typeof e&&(e=!t||"{"!==t[0]&&"["!==t[0]),!e)try{t=JSON.parse(t)}catch(n){}return t}function h(e){var t=s?l:r.default.parse(document.cookie);return t?e?Object.keys(t).reduce((function(n,i){if(!e.test(i))return n;var r={};return r[i]=t[i],(0,o.default)({},n,r)}),{}):t:{}}function p(e,t,n){l[e]=t,"object"===("undefined"===typeof t?"undefined":i(t))&&(l[e]=JSON.stringify(t)),s||(document.cookie=r.default.serialize(e,l[e],n)),c()&&u.cookie&&u.cookie(e,t,n)}function A(e,t){delete l[e],t="undefined"===typeof t?{}:"string"===typeof t?{path:t}:(0,o.default)({},t),"undefined"!==typeof document&&(t.expires=new Date(1970,1,1,0,0,1),t.maxAge=0,document.cookie=r.default.serialize(e,"",t)),c()&&u.clearCookie&&u.clearCookie(e,t)}function f(e){l=e?r.default.parse(e):{}}function C(e,t){return e.cookie?l=e.cookie:e.cookies?l=e.cookies:e.headers&&e.headers.cookie?f(e.headers.cookie):l={},u=t,function(){u=null,l={}}}t.ZP={setRawCookie:f,load:g,loadAll:d,select:h,save:p,remove:A,plugToRequest:C}},6109:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ariaLabelsShape=void 0;var i,r=(i=n(2007))&&i.__esModule?i:{default:i};var o=r.default.shape({dateInput:r.default.objectOf(r.default.shape({startDate:r.default.string,endDate:r.default.string})),monthPicker:r.default.string,yearPicker:r.default.string,prevButton:r.default.string,nextButton:r.default.string});t.ariaLabelsShape=o},6138:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=M(n(2007)),a=n(2126),s=M(n(8198)),l=M(n(3242)),u=n(7484),c=M(n(1694)),g=M(n(4988)),d=n(5496),h=M(n(9333)),p=M(n(1056)),A=M(n(3154)),f=M(n(5375)),C=M(n(9040)),I=M(n(4888)),v=M(n(5719)),m=M(n(5951)),y=M(n(2363)),b=M(n(5617)),x=M(n(5105)),_=M(n(4690)),w=M(n(4565)),k=M(n(3629)),E=M(n(9365)),S=M(n(1951)),T=M(n(8030)),O=M(n(1104)),P=M(n(6704)),D=M(n(9498)),j=n(6109);function M(e){return e&&e.__esModule?e:{default:e}}function N(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z.apply(this,arguments)}function R(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function V(e,t){return V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},V(e,t)}function U(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return W(e)}(this,n)}}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(a,e);var t,n,i,o=U(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),H(W(n=o.call(this,e,t)),"focusToDate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.scroll.enabled){var r=(0,m.default)(e,t.minDate,n.dateOptions),o=n.list.getVisibleRange();i&&o.includes(r)||(n.isFirstRender=!0,n.list.scrollTo(r),n.setState({focusedDate:e}))}else{if(i&&t.preventSnapRefocus){var a=(0,m.default)(e,n.state.focusedDate),s="forwards"===t.calendarFocus&&a>=0,l="backwards"===t.calendarFocus&&a<=0;if((s||l)&&Math.abs(a)<t.months)return}n.setState({focusedDate:e})}})),H(W(n),"updateShownDate",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props,t=e.scroll.enabled?B(B({},e),{},{months:n.list.getVisibleRange().length}):e,i=(0,u.calcFocusDate)(n.state.focusedDate,t);n.focusToDate(i,t)})),H(W(n),"updatePreview",(function(e){if(e){var t={startDate:e,endDate:e,color:n.props.color};n.setState({preview:t})}else n.setState({preview:null})})),H(W(n),"changeShownDate",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set",i=n.state.focusedDate,r=n.props,o=r.onShownDateChange,a=r.minDate,s=r.maxDate,l={monthOffset:function(){return(0,O.default)(i,e)},setMonth:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return(0,y.default)(i,e)})),setYear:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return(0,b.default)(i,e)})),set:function(){return e}},u=(0,p.default)([(0,h.default)([l[t](),a]),s]);n.focusToDate(u,n.props,!1),o&&o(u)})),H(W(n),"handleRangeFocusChange",(function(e,t){n.props.onRangeFocusChange&&n.props.onRangeFocusChange([e,t])})),H(W(n),"handleScroll",(function(){var e=n.props,t=e.onShownDateChange,i=e.minDate,r=n.state.focusedDate,o=W(n).isFirstRender,a=n.list.getVisibleRange();if(void 0!==a[0]){var s=(0,O.default)(i,a[0]||0);!(0,f.default)(s,r)&&!o&&(n.setState({focusedDate:s}),t&&t(s)),n.isFirstRender=!1}})),H(W(n),"renderMonthAndYear",(function(e,t,i){var o=i.showMonthArrow,s=i.minDate,l=i.maxDate,u=i.showMonthAndYearPickers,g=i.ariaLabels,d=(l||a.defaultProps.maxDate).getFullYear(),h=(s||a.defaultProps.minDate).getFullYear(),p=n.styles;return r.default.createElement("div",{onMouseUp:function(e){return e.stopPropagation()},className:p.monthAndYearWrapper},o?r.default.createElement("button",{type:"button",className:(0,c.default)(p.nextPrevButton,p.prevButton),onClick:function(){return t(-1,"monthOffset")},"aria-label":g.prevButton},r.default.createElement("i",null)):null,u?r.default.createElement("span",{className:p.monthAndYearPickers},r.default.createElement("span",{className:p.monthPicker},r.default.createElement("select",{value:e.getMonth(),onChange:function(e){return t(e.target.value,"setMonth")},"aria-label":g.monthPicker},n.state.monthNames.map((function(e,t){return r.default.createElement("option",{key:t,value:t},e)})))),r.default.createElement("span",{className:p.monthAndYearDivider}),r.default.createElement("span",{className:p.yearPicker},r.default.createElement("select",{value:e.getFullYear(),onChange:function(e){return t(e.target.value,"setYear")},"aria-label":g.yearPicker},new Array(d-h+1).fill(d).map((function(e,t){var n=e-t;return r.default.createElement("option",{key:n,value:n},n)}))))):r.default.createElement("span",{className:p.monthAndYearPickers},n.state.monthNames[e.getMonth()]," ",e.getFullYear()),o?r.default.createElement("button",{type:"button",className:(0,c.default)(p.nextPrevButton,p.nextButton),onClick:function(){return t(1,"monthOffset")},"aria-label":g.nextButton},r.default.createElement("i",null)):null)})),H(W(n),"renderDateDisplay",(function(){var e=n.props,t=e.focusedRange,i=e.color,o=e.ranges,a=e.rangeColors,s=e.dateDisplayFormat,u=e.editableDateInputs,g=e.startDatePlaceholder,d=e.endDatePlaceholder,h=e.ariaLabels,p=a[t[0]]||i,A=n.styles;return r.default.createElement("div",{className:A.dateDisplayWrapper},o.map((function(e,i){return!1===e.showDateDisplay||e.disabled&&!e.showDateDisplay?null:r.default.createElement("div",{className:A.dateDisplay,key:i,style:{color:e.color||p}},r.default.createElement(l.default,{className:(0,c.default)(A.dateDisplayItem,H({},A.dateDisplayItemActive,t[0]===i&&0===t[1])),readOnly:!u,disabled:e.disabled,value:e.startDate,placeholder:g,dateOptions:n.dateOptions,dateDisplayFormat:s,ariaLabel:h.dateInput&&h.dateInput[e.key]&&h.dateInput[e.key].startDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(i,0)}}),r.default.createElement(l.default,{className:(0,c.default)(A.dateDisplayItem,H({},A.dateDisplayItemActive,t[0]===i&&1===t[1])),readOnly:!u,disabled:e.disabled,value:e.endDate,placeholder:d,dateOptions:n.dateOptions,dateDisplayFormat:s,ariaLabel:h.dateInput&&h.dateInput[e.key]&&h.dateInput[e.key].endDate,onChange:n.onDragSelectionEnd,onFocus:function(){return n.handleRangeFocusChange(i,1)}}))})))})),H(W(n),"onDragSelectionStart",(function(e){var t=n.props,i=t.onChange;t.dragSelectionEnabled?n.setState({drag:{status:!0,range:{startDate:e,endDate:e},disablePreview:!0}}):i&&i(e)})),H(W(n),"onDragSelectionEnd",(function(e){var t=n.props,i=t.updateRange,r=t.displayMode,o=t.onChange;if(t.dragSelectionEnabled)if("date"!==r&&n.state.drag.status){var a={startDate:n.state.drag.range.startDate,endDate:e};"dateRange"!==r||(0,_.default)(a.startDate,e)?n.setState({drag:{status:!1,range:{}}},(function(){return o&&o(e)})):n.setState({drag:{status:!1,range:{}}},(function(){i&&i(a)}))}else o&&o(e)})),H(W(n),"onDragSelectionMove",(function(e){var t=n.state.drag;t.status&&n.props.dragSelectionEnabled&&n.setState({drag:{status:t.status,range:{startDate:t.range.startDate,endDate:e},disablePreview:!0}})})),H(W(n),"estimateMonthSize",(function(e,t){var i=n.props,r=i.direction,o=i.minDate,a=n.state.scrollArea;if(t&&(n.listSizeCache=t,t[e]))return t[e];if("horizontal"===r)return a.monthWidth;var s=(0,O.default)(o,e),l=(0,u.getMonthDisplayRange)(s,n.dateOptions),c=l.start,g=l.end;return(0,A.default)(g,c,n.dateOptions)+1>35?a.longMonthHeight:a.monthHeight})),n.dateOptions={locale:e.locale},void 0!==e.weekStartsOn&&(n.dateOptions.weekStartsOn=e.weekStartsOn),n.styles=(0,u.generateStyles)([D.default,e.classNames]),n.listSizeCache={},n.isFirstRender=!0,n.state={monthNames:n.getMonthNames(),focusedDate:(0,u.calcFocusDate)(null,e),drag:{status:!1,range:{startDate:null,endDate:null},disablePreview:!1},scrollArea:n.calcScrollArea(e)},n}return t=a,(n=[{key:"getMonthNames",value:function(){var e=this;return R(Array(12).keys()).map((function(t){return e.props.locale.localize.month(t)}))}},{key:"calcScrollArea",value:function(e){var t=e.direction,n=e.months,i=e.scroll;if(!i.enabled)return{enabled:!1};var r=i.longMonthHeight||i.monthHeight;return"vertical"===t?{enabled:!0,monthHeight:i.monthHeight||220,longMonthHeight:r||260,calendarWidth:"auto",calendarHeight:(i.calendarHeight||r||240)*n}:{enabled:!0,monthWidth:i.monthWidth||332,calendarWidth:(i.calendarWidth||i.monthWidth||332)*n,monthHeight:r||300,calendarHeight:r||300}}},{key:"componentDidMount",value:function(){var e=this;this.props.scroll.enabled&&setTimeout((function(){return e.focusToDate(e.state.focusedDate)}))}},{key:"componentDidUpdate",value:function(e){var t={dateRange:"ranges",date:"date"}[this.props.displayMode];this.props[t]!==e[t]&&this.updateShownDate(this.props),e.locale===this.props.locale&&e.weekStartsOn===this.props.weekStartsOn||(this.dateOptions={locale:this.props.locale},void 0!==this.props.weekStartsOn&&(this.dateOptions.weekStartsOn=this.props.weekStartsOn),this.setState({monthNames:this.getMonthNames()})),(0,d.shallowEqualObjects)(e.scroll,this.props.scroll)||this.setState({scrollArea:this.calcScrollArea(this.props)})}},{key:"renderWeekdays",value:function(){var e=this,t=new Date;return r.default.createElement("div",{className:this.styles.weekDays},(0,E.default)({start:(0,k.default)(t,this.dateOptions),end:(0,w.default)(t,this.dateOptions)}).map((function(t,n){return r.default.createElement("span",{className:e.styles.weekDay,key:n},(0,S.default)(t,e.props.weekdayDisplayFormat,e.dateOptions))})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showDateDisplay,i=t.onPreviewChange,o=t.scroll,a=t.direction,l=t.disabledDates,u=t.disabledDay,d=t.maxDate,h=t.minDate,p=t.rangeColors,A=t.color,f=t.navigatorRenderer,y=t.className,b=t.preview,x=this.state,_=x.scrollArea,w=x.focusedDate,k="vertical"===a,E=f||this.renderMonthAndYear,S=this.props.ranges.map((function(e,t){return B(B({},e),{},{color:e.color||p[t]||A})}));return r.default.createElement("div",{className:(0,c.default)(this.styles.calendarWrapper,y),onMouseUp:function(){return e.setState({drag:{status:!1,range:{}}})},onMouseLeave:function(){e.setState({drag:{status:!1,range:{}}})}},n&&this.renderDateDisplay(),E(w,this.changeShownDate,this.props),o.enabled?r.default.createElement("div",null,k&&this.renderWeekdays(this.dateOptions),r.default.createElement("div",{className:(0,c.default)(this.styles.infiniteMonths,k?this.styles.monthsVertical:this.styles.monthsHorizontal),onMouseLeave:function(){return i&&i()},style:{width:_.calendarWidth+11,height:_.calendarHeight+11},onScroll:this.handleScroll},r.default.createElement(g.default,{length:(0,m.default)((0,I.default)(d),(0,C.default)((0,v.default)(h),-1),this.dateOptions),treshold:500,type:"variable",ref:function(t){return e.list=t},itemSizeEstimator:this.estimateMonthSize,axis:k?"y":"x",itemRenderer:function(t,n){var o=(0,O.default)(h,t);return r.default.createElement(s.default,z({},e.props,{onPreviewChange:i||e.updatePreview,preview:b||e.state.preview,ranges:S,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:u,month:o,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return i&&i()},styles:e.styles,style:k?{height:e.estimateMonthSize(t)}:{height:_.monthHeight,width:e.estimateMonthSize(t)},showMonthName:!0,showWeekDays:!k}))}}))):r.default.createElement("div",{className:(0,c.default)(this.styles.months,k?this.styles.monthsVertical:this.styles.monthsHorizontal)},new Array(this.props.months).fill(null).map((function(t,n){var o=(0,O.default)(e.state.focusedDate,n);return"backwards"===e.props.calendarFocus&&(o=(0,T.default)(e.state.focusedDate,e.props.months-1-n)),r.default.createElement(s.default,z({},e.props,{onPreviewChange:i||e.updatePreview,preview:b||e.state.preview,ranges:S,key:n,drag:e.state.drag,dateOptions:e.dateOptions,disabledDates:l,disabledDay:u,month:o,onDragSelectionStart:e.onDragSelectionStart,onDragSelectionEnd:e.onDragSelectionEnd,onDragSelectionMove:e.onDragSelectionMove,onMouseLeave:function(){return i&&i()},styles:e.styles,showWeekDays:!k||0===n,showMonthName:!k||n>0}))}))))}}])&&Z(t.prototype,n),i&&Z(t,i),a}(r.PureComponent);Y.defaultProps={showMonthArrow:!0,showMonthAndYearPickers:!0,disabledDates:[],disabledDay:function(){},classNames:{},locale:P.default,ranges:[],focusedRange:[0,0],dateDisplayFormat:"MMM d, yyyy",monthDisplayFormat:"MMM yyyy",weekdayDisplayFormat:"E",dayDisplayFormat:"d",showDateDisplay:!0,showPreview:!0,displayMode:"date",months:1,color:"#3d91ff",scroll:{enabled:!1},direction:"vertical",maxDate:(0,x.default)(new Date,20),minDate:(0,x.default)(new Date,-100),rangeColors:["#3d91ff","#3ecf8e","#fed14c"],startDatePlaceholder:"Early",endDatePlaceholder:"Continuous",editableDateInputs:!1,dragSelectionEnabled:!0,fixedHeight:!1,calendarFocus:"forwards",preventSnapRefocus:!1,ariaLabels:{}},Y.propTypes={showMonthArrow:o.default.bool,showMonthAndYearPickers:o.default.bool,disabledDates:o.default.array,disabledDay:o.default.func,minDate:o.default.object,maxDate:o.default.object,date:o.default.object,onChange:o.default.func,onPreviewChange:o.default.func,onRangeFocusChange:o.default.func,classNames:o.default.object,locale:o.default.object,shownDate:o.default.object,onShownDateChange:o.default.func,ranges:o.default.arrayOf(a.rangeShape),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string}),dateDisplayFormat:o.default.string,monthDisplayFormat:o.default.string,weekdayDisplayFormat:o.default.string,weekStartsOn:o.default.number,dayDisplayFormat:o.default.string,focusedRange:o.default.arrayOf(o.default.number),initialFocusedRange:o.default.arrayOf(o.default.number),months:o.default.number,className:o.default.string,showDateDisplay:o.default.bool,showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),color:o.default.string,updateRange:o.default.func,scroll:o.default.shape({enabled:o.default.bool,monthHeight:o.default.number,longMonthHeight:o.default.number,monthWidth:o.default.number,calendarWidth:o.default.number,calendarHeight:o.default.number}),direction:o.default.oneOf(["vertical","horizontal"]),startDatePlaceholder:o.default.string,endDatePlaceholder:o.default.string,navigatorRenderer:o.default.func,rangeColors:o.default.arrayOf(o.default.string),editableDateInputs:o.default.bool,dragSelectionEnabled:o.default.bool,fixedHeight:o.default.bool,calendarFocus:o.default.string,preventSnapRefocus:o.default.bool,ariaLabels:j.ariaLabelsShape};var q=Y;t.default=q},3242:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=g(n(2007)),a=g(n(1694)),s=g(n(7508)),l=g(n(811)),u=g(n(7420)),c=g(n(1951));function g(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,e);var t,n,i,o=A(g);function g(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),I(f(n=o.call(this,e,t)),"onKeyDown",(function(e){var t=n.state.value;"Enter"===e.key&&n.update(t)})),I(f(n),"onChange",(function(e){n.setState({value:e.target.value,changed:!0,invalid:!1})})),I(f(n),"onBlur",(function(){var e=n.state.value;n.update(e)})),n.state={invalid:!1,changed:!1,value:n.formatDate(e)},n}return t=g,(n=[{key:"componentDidUpdate",value:function(e){var t=e.value;(0,s.default)(t,this.props.value)||this.setState({value:this.formatDate(this.props)})}},{key:"formatDate",value:function(e){var t=e.value,n=e.dateDisplayFormat,i=e.dateOptions;return t&&(0,l.default)(t)?(0,c.default)(t,n,i):""}},{key:"update",value:function(e){var t=this.state,n=t.invalid,i=t.changed;if(!n&&i&&e){var r=this.props,o=r.onChange,a=r.dateDisplayFormat,s=r.dateOptions,c=(0,u.default)(e,a,new Date,s);(0,l.default)(c)?this.setState({changed:!1},(function(){return o(c)})):this.setState({invalid:!0})}}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.readOnly,i=e.placeholder,o=e.ariaLabel,s=e.disabled,l=e.onFocus,u=this.state,c=u.value,g=u.invalid;return r.default.createElement("span",{className:(0,a.default)("rdrDateInput",t)},r.default.createElement("input",{readOnly:n,disabled:s,value:c,placeholder:i,"aria-label":o,onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,onFocus:l}),g&&r.default.createElement("span",{className:"rdrWarning"},"\u26a0"))}}])&&h(t.prototype,n),i&&h(t,i),g}(r.PureComponent);v.propTypes={value:o.default.object,placeholder:o.default.string,disabled:o.default.bool,readOnly:o.default.bool,dateOptions:o.default.object,dateDisplayFormat:o.default.string,ariaLabel:o.default.string,className:o.default.string,onFocus:o.default.func.isRequired,onChange:o.default.func.isRequired},v.defaultProps={readOnly:!0,disabled:!1,dateDisplayFormat:"MMM D, YYYY"};var m=v;t.default=m},6949:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=g(n(2007)),a=g(n(7820)),s=g(n(5736)),l=n(7484),u=g(n(1694)),c=g(n(9498));function g(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f.apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(g,e);var t,n,i,o=v(g);function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=o.call(this,e)).state={focusedRange:[(0,l.findNextRangeIndex)(e.ranges),0]},t.styles=(0,l.generateStyles)([c.default,e.classNames]),t}return t=g,(n=[{key:"render",value:function(){var e=this,t=this.state.focusedRange;return r.default.createElement("div",{className:(0,u.default)(this.styles.dateRangePickerWrapper,this.props.className)},r.default.createElement(s.default,f({focusedRange:t,onPreviewChange:function(t){return e.dateRange.updatePreview(t?e.dateRange.calcNewSelection(t,"string"===typeof t):null)}},this.props,{range:this.props.ranges[t[0]],className:void 0})),r.default.createElement(a.default,f({onRangeFocusChange:function(t){return e.setState({focusedRange:t})},focusedRange:t},this.props,{ref:function(t){return e.dateRange=t},className:void 0})))}}])&&C(t.prototype,n),i&&C(t,i),g}(r.Component);y.defaultProps={},y.propTypes=p(p(p({},a.default.propTypes),s.default.propTypes),{},{className:o.default.string});var b=y;t.default=b},7820:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=C(n(2007)),a=C(n(6138)),s=n(2126),l=n(7484),u=C(n(9333)),c=C(n(7262)),g=C(n(1056)),d=C(n(9040)),h=C(n(9759)),p=C(n(9579)),A=C(n(1694)),f=C(n(9498));function C(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function x(e,t){return x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},x(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return w(e)}(this,n)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(s,e);var t,n,i,o=_(s);function s(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),E(w(n=o.call(this,e,t)),"calcNewSelection",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=n.props.focusedRange||n.state.focusedRange,r=n.props,o=r.ranges,a=r.onChange,s=r.maxDate,A=r.moveRangeOnFirstSelection,f=r.retainEndDateOnFirstSelection,C=r.disabledDates,I=o[i[0]];if(!I||!a)return{};var v,m=I.startDate,y=I.endDate,b=new Date;if(t)if(0===i[1]){var x=(0,h.default)(y||b,m);m=e,y=A?(0,d.default)(e,x):f?!y||(0,p.default)(e,y)?y:e:e||b,s&&(y=(0,g.default)([y,s])),v=[i[0],1]}else y=e;else m=e.startDate,y=e.endDate;var _=0===i[1];if((0,p.default)(y,m)){_=!_;var w=[y,m];m=w[0],y=w[1]}var k=C.filter((function(e){return(0,c.default)(e,{start:m,end:y})}));(k.length>0&&(_?m=(0,d.default)((0,u.default)(k),1):y=(0,d.default)((0,g.default)(k),-1)),v)||(v=[(0,l.findNextRangeIndex)(n.props.ranges,i[0]),0]);return{wasValid:!(k.length>0),range:{startDate:m,endDate:y},nextFocusRange:v}})),E(w(n),"setSelection",(function(e,t){var i=n.props,r=i.onChange,o=i.ranges,a=i.onRangeFocusChange,s=(n.props.focusedRange||n.state.focusedRange)[0],l=o[s];if(l){var u=n.calcNewSelection(e,t);r(E({},l.key||"range".concat(s+1),y(y({},l),u.range))),n.setState({focusedRange:u.nextFocusRange,preview:null}),a&&a(u.nextFocusRange)}})),E(w(n),"handleRangeFocusChange",(function(e){n.setState({focusedRange:e}),n.props.onRangeFocusChange&&n.props.onRangeFocusChange(e)})),E(w(n),"updatePreview",(function(e){var t;if(e){var i=n.props,r=i.rangeColors,o=i.ranges,a=n.props.focusedRange||n.state.focusedRange,s=(null===(t=o[a[0]])||void 0===t?void 0:t.color)||r[a[0]]||s;n.setState({preview:y(y({},e.range),{},{color:s})})}else n.setState({preview:null})})),n.state={focusedRange:e.initialFocusedRange||[(0,l.findNextRangeIndex)(e.ranges),0],preview:null},n.styles=(0,l.generateStyles)([f.default,e.classNames]),n}return t=s,(n=[{key:"render",value:function(){var e=this;return r.default.createElement(a.default,v({focusedRange:this.state.focusedRange,onRangeFocusChange:this.handleRangeFocusChange,preview:this.state.preview,onPreviewChange:function(t){e.updatePreview(t?e.calcNewSelection(t):null)}},this.props,{displayMode:"dateRange",className:(0,A.default)(this.styles.dateRangeWrapper,this.props.className),onChange:this.setSelection,updateRange:function(t){return e.setSelection(t,!1)},ref:function(t){e.calendar=t}}))}}])&&b(t.prototype,n),i&&b(t,i),s}(r.Component);S.defaultProps={classNames:{},ranges:[],moveRangeOnFirstSelection:!1,retainEndDateOnFirstSelection:!1,rangeColors:["#3d91ff","#3ecf8e","#fed14c"],disabledDates:[]},S.propTypes=y(y({},a.default.propTypes),{},{onChange:o.default.func,onRangeFocusChange:o.default.func,className:o.default.string,ranges:o.default.arrayOf(s.rangeShape),moveRangeOnFirstSelection:o.default.bool,retainEndDateOnFirstSelection:o.default.bool});var T=S;t.default=T},2126:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.rangeShape=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=h(n(2007)),a=h(n(1694)),s=h(n(786)),l=h(n(9579)),u=h(n(9420)),c=h(n(4690)),g=h(n(1951)),d=h(n(8347));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},A.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return x(e)}(this,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(h,e);var t,n,i,o=b(h);function h(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),w(x(n=o.call(this,e,t)),"handleKeyEvent",(function(e){var t=n.props,i=t.day,r=t.onMouseDown,o=t.onMouseUp;[13,32].includes(e.keyCode)&&("keydown"===e.type?r(i):o(i))})),w(x(n),"handleMouseEvent",(function(e){var t=n.props,i=t.day,r=t.disabled,o=t.onPreviewChange,a=t.onMouseEnter,s=t.onMouseDown,l=t.onMouseUp,u={};if(r)o();else{switch(e.type){case"mouseenter":a(i),o(i),u.hover=!0;break;case"blur":case"mouseleave":u.hover=!1;break;case"mousedown":u.active=!0,s(i);break;case"mouseup":e.stopPropagation(),u.active=!1,l(i);break;case"focus":o(i)}Object.keys(u).length&&n.setState(u)}})),w(x(n),"getClassNames",(function(){var e,t=n.props,i=t.isPassive,r=t.isToday,o=t.isWeekend,s=t.isStartOfWeek,l=t.isEndOfWeek,u=t.isStartOfMonth,c=t.isEndOfMonth,g=t.disabled,d=t.styles;return(0,a.default)(d.day,(w(e={},d.dayPassive,i),w(e,d.dayDisabled,g),w(e,d.dayToday,r),w(e,d.dayWeekend,o),w(e,d.dayStartOfWeek,s),w(e,d.dayEndOfWeek,l),w(e,d.dayStartOfMonth,u),w(e,d.dayEndOfMonth,c),w(e,d.dayHovered,n.state.hover),w(e,d.dayActive,n.state.active),e))})),w(x(n),"renderPreviewPlaceholder",(function(){var e,t=n.props,i=t.preview,o=t.day,g=t.styles;if(!i)return null;var h=i.startDate?(0,s.default)(i.startDate):null,p=i.endDate?(0,d.default)(i.endDate):null,A=(!h||(0,u.default)(o,h))&&(!p||(0,l.default)(o,p)),f=!A&&(0,c.default)(o,h),C=!A&&(0,c.default)(o,p);return r.default.createElement("span",{className:(0,a.default)((e={},w(e,g.dayStartPreview,f),w(e,g.dayInPreview,A),w(e,g.dayEndPreview,C),e)),style:{color:i.color}})})),w(x(n),"renderSelectionPlaceholders",(function(){var e=n.props,t=e.styles,i=e.ranges,o=e.day;return"date"===n.props.displayMode?(0,c.default)(n.props.day,n.props.date)?r.default.createElement("span",{className:t.selected,style:{color:n.props.color}}):null:i.reduce((function(e,t){var n=t.startDate,i=t.endDate;if(n&&i&&(0,l.default)(i,n)){var r=[i,n];n=r[0],i=r[1]}n=n?(0,s.default)(n):null,i=i?(0,d.default)(i):null;var a=(!n||(0,u.default)(o,n))&&(!i||(0,l.default)(o,i)),g=!a&&(0,c.default)(o,n),h=!a&&(0,c.default)(o,i);return a||g||h?[].concat(I(e),[C({isStartEdge:g,isEndEdge:h,isInRange:a},t)]):e}),[]).map((function(e,i){var o;return r.default.createElement("span",{key:i,className:(0,a.default)((o={},w(o,t.startEdge,e.isStartEdge),w(o,t.endEdge,e.isEndEdge),w(o,t.inRange,e.isInRange),o)),style:{color:e.color||n.props.color}})}))})),n.state={hover:!1,active:!1},n}return t=h,(n=[{key:"render",value:function(){var e=this.props.dayContentRenderer;return r.default.createElement("button",A({type:"button",onMouseEnter:this.handleMouseEvent,onMouseLeave:this.handleMouseEvent,onFocus:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,onMouseUp:this.handleMouseEvent,onBlur:this.handleMouseEvent,onPauseCapture:this.handleMouseEvent,onKeyDown:this.handleKeyEvent,onKeyUp:this.handleKeyEvent,className:this.getClassNames(this.props.styles)},this.props.disabled||this.props.isPassive?{tabIndex:-1}:{},{style:{color:this.props.color}}),this.renderSelectionPlaceholders(),this.renderPreviewPlaceholder(),r.default.createElement("span",{className:this.props.styles.dayNumber},(null===e||void 0===e?void 0:e(this.props.day))||r.default.createElement("span",null,(0,g.default)(this.props.day,this.props.dayDisplayFormat))))}}])&&m(t.prototype,n),i&&m(t,i),h}(r.Component);k.defaultProps={};var E=o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string,key:o.default.string,autoFocus:o.default.bool,disabled:o.default.bool,showDateDisplay:o.default.bool});t.rangeShape=E,k.propTypes={day:o.default.object.isRequired,dayDisplayFormat:o.default.string,date:o.default.object,ranges:o.default.arrayOf(E),preview:o.default.shape({startDate:o.default.object,endDate:o.default.object,color:o.default.string}),onPreviewChange:o.default.func,previewColor:o.default.string,disabled:o.default.bool,isPassive:o.default.bool,isToday:o.default.bool,isWeekend:o.default.bool,isStartOfWeek:o.default.bool,isEndOfWeek:o.default.bool,isStartOfMonth:o.default.bool,isEndOfMonth:o.default.bool,color:o.default.string,displayMode:o.default.oneOf(["dateRange","date"]),styles:o.default.object,onMouseDown:o.default.func,onMouseUp:o.default.func,onMouseEnter:o.default.func,dayContentRenderer:o.default.func};var S=k;t.default=S},5736:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),o=g(n(2007)),a=g(n(9498)),s=n(2837),l=n(2126),u=g(n(8490)),c=g(n(1694));function g(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return I(e)}(this,n)}}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,i,o=C(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),m(I(t=o.call(this,e)),"handleRangeChange",(function(e){var n=t.props,i=n.onChange,r=n.ranges,o=n.focusedRange,a=r[o[0]];i&&a&&i(m({},a.key||"range".concat(o[0]+1),p(p({},a),e)))})),t.state={rangeOffset:0,focusedInput:-1},t}return t=s,(n=[{key:"getRangeOptionValue",value:function(e){var t=this.props,n=t.ranges,i=void 0===n?[]:n,r=t.focusedRange,o=void 0===r?[]:r;if("function"!==typeof e.getCurrentValue)return"";var a=i[o[0]]||{};return e.getCurrentValue(a)||""}},{key:"getSelectedRange",value:function(e,t){var n=e.findIndex((function(e){return!(!e.startDate||!e.endDate||e.disabled)&&t.isSelected(e)}));return{selectedRange:e[n],focusedRangeIndex:n}}},{key:"render",value:function(){var e=this,t=this.props,n=t.headerContent,i=t.footerContent,o=t.onPreviewChange,s=t.inputRanges,l=t.staticRanges,g=t.ranges,d=t.renderStaticRangeLabel,h=t.rangeColors,p=t.className;return r.default.createElement("div",{className:(0,c.default)(a.default.definedRangesWrapper,p)},n,r.default.createElement("div",{className:a.default.staticRanges},l.map((function(t,n){var i,s=e.getSelectedRange(g,t),l=s.selectedRange,u=s.focusedRangeIndex;return i=t.hasCustomRendering?d(t):t.label,r.default.createElement("button",{type:"button",className:(0,c.default)(a.default.staticRange,m({},a.default.staticRangeSelected,Boolean(l))),style:{color:l?l.color||h[u]:null},key:n,onClick:function(){return e.handleRangeChange(t.range(e.props))},onFocus:function(){return o&&o(t.range(e.props))},onMouseOver:function(){return o&&o(t.range(e.props))},onMouseLeave:function(){o&&o()}},r.default.createElement("span",{tabIndex:-1,className:a.default.staticRangeLabel},i))}))),r.default.createElement("div",{className:a.default.inputRanges},s.map((function(t,n){return r.default.createElement(u.default,{key:n,styles:a.default,label:t.label,onFocus:function(){return e.setState({focusedInput:n,rangeOffset:0})},onBlur:function(){return e.setState({rangeOffset:0})},onChange:function(n){return e.handleRangeChange(t.range(n,e.props))},value:e.getRangeOptionValue(t)})}))),i)}}])&&A(t.prototype,n),i&&A(t,i),s}(r.Component);y.propTypes={inputRanges:o.default.array,staticRanges:o.default.array,ranges:o.default.arrayOf(l.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onPreviewChange:o.default.func,onChange:o.default.func,footerContent:o.default.any,headerContent:o.default.any,rangeColors:o.default.arrayOf(o.default.string),className:o.default.string,renderStaticRangeLabel:o.default.func},y.defaultProps={inputRanges:s.defaultInputRanges,staticRanges:s.defaultStaticRanges,ranges:[],rangeColors:["#3d91ff","#3ecf8e","#fed14c"],focusedRange:[0,0]};var b=y;t.default=b},8490:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(r,a,l):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2791)),a=(r=n(2007))&&r.__esModule?r:{default:r};function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return g(e)}(this,n)}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(a,e);var t,n,i,r=c(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(g(n=r.call(this,e,t)),"onChange",(function(e){var t=n.props.onChange,i=parseInt(e.target.value,10);t(i=isNaN(i)?0:Math.max(Math.min(99999,i),0))})),n}return t=a,(n=[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.value,i=t.label,r=t.placeholder;return n!==e.value||i!==e.label||r!==e.placeholder}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.placeholder,i=e.value,r=e.styles,a=e.onBlur,s=e.onFocus;return o.default.createElement("div",{className:r.inputRange},o.default.createElement("input",{className:r.inputRangeInput,placeholder:n,value:i,min:0,max:99999,onChange:this.onChange,onFocus:s,onBlur:a}),o.default.createElement("span",{className:r.inputRangeLabel},t))}}])&&l(t.prototype,n),i&&l(t,i),a}(o.Component);h.propTypes={value:a.default.oneOfType([a.default.string,a.default.number]),label:a.default.oneOfType([a.default.element,a.default.node]).isRequired,placeholder:a.default.string,styles:a.default.shape({inputRange:a.default.string,inputRangeInput:a.default.string,inputRangeLabel:a.default.string}).isRequired,onBlur:a.default.func.isRequired,onFocus:a.default.func.isRequired,onChange:a.default.func.isRequired},h.defaultProps={value:"",placeholder:"-"};var p=h;t.default=p},8198:(e,t,n)=>{"use strict";function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(2791)),o=v(n(2007)),a=y(n(2126)),s=v(n(9365)),l=v(n(7262)),u=v(n(2680)),c=v(n(9420)),g=v(n(4690)),d=v(n(9579)),h=v(n(4565)),p=v(n(3629)),A=v(n(786)),f=v(n(8347)),C=v(n(1951)),I=n(7484);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b.apply(this,arguments)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e,t){return E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},E(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(v,e);var t,n,i,o=S(v);function v(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),o.apply(this,arguments)}return t=v,(n=[{key:"render",value:function(){var e=this,t=new Date,n=this.props,i=n.displayMode,o=n.focusedRange,v=n.drag,m=n.styles,y=n.disabledDates,x=n.disabledDay,w=this.props.minDate&&(0,f.default)(this.props.minDate),k=this.props.maxDate&&(0,A.default)(this.props.maxDate),E=(0,I.getMonthDisplayRange)(this.props.month,this.props.dateOptions,this.props.fixedHeight),S=this.props.ranges;if("dateRange"===i&&v.status){var T=v.range,O=T.startDate,P=T.endDate;S=S.map((function(e,t){return t!==o[0]?e:_(_({},e),{},{startDate:O,endDate:P})}))}var D=this.props.showPreview&&!v.disablePreview;return r.default.createElement("div",{className:m.month,style:this.props.style},this.props.showMonthName?r.default.createElement("div",{className:m.monthName},(0,C.default)(this.props.month,this.props.monthDisplayFormat,this.props.dateOptions)):null,this.props.showWeekDays&&function(e,t,n){var i=new Date;return r.default.createElement("div",{className:e.weekDays},(0,s.default)({start:(0,p.default)(i,t),end:(0,h.default)(i,t)}).map((function(i,o){return r.default.createElement("span",{className:e.weekDay,key:o},(0,C.default)(i,n,t))})))}(m,this.props.dateOptions,this.props.weekdayDisplayFormat),r.default.createElement("div",{className:m.days,onMouseLeave:this.props.onMouseLeave},(0,s.default)({start:E.start,end:E.end}).map((function(n,i){var o=(0,g.default)(n,E.startDateOfMonth),s=(0,g.default)(n,E.endDateOfMonth),A=w&&(0,d.default)(n,w)||k&&(0,c.default)(n,k),f=y.some((function(e){return(0,g.default)(e,n)})),C=x(n);return r.default.createElement(a.default,b({},e.props,{ranges:S,day:n,preview:D?e.props.preview:null,isWeekend:(0,u.default)(n,e.props.dateOptions),isToday:(0,g.default)(n,t),isStartOfWeek:(0,g.default)(n,(0,p.default)(n,e.props.dateOptions)),isEndOfWeek:(0,g.default)(n,(0,h.default)(n,e.props.dateOptions)),isStartOfMonth:o,isEndOfMonth:s,key:i,disabled:A||f||C,isPassive:!(0,l.default)(n,{start:E.startDateOfMonth,end:E.endDateOfMonth}),styles:m,onMouseDown:e.props.onDragSelectionStart,onMouseUp:e.props.onDragSelectionEnd,onMouseEnter:e.props.onDragSelectionMove,dragRange:v.range,drag:v.status}))}))))}}])&&k(t.prototype,n),i&&k(t,i),v}(r.PureComponent);O.defaultProps={},O.propTypes={style:o.default.object,styles:o.default.object,month:o.default.object,drag:o.default.object,dateOptions:o.default.object,disabledDates:o.default.array,disabledDay:o.default.func,preview:o.default.shape({startDate:o.default.object,endDate:o.default.object}),showPreview:o.default.bool,displayMode:o.default.oneOf(["dateRange","date"]),minDate:o.default.object,maxDate:o.default.object,ranges:o.default.arrayOf(a.rangeShape),focusedRange:o.default.arrayOf(o.default.number),onDragSelectionStart:o.default.func,onDragSelectionEnd:o.default.func,onDragSelectionMove:o.default.func,onMouseLeave:o.default.func,monthDisplayFormat:o.default.string,weekdayDisplayFormat:o.default.string,dayDisplayFormat:o.default.string,showWeekDays:o.default.bool,showMonthName:o.default.bool,fixedHeight:o.default.bool};var P=O;t.default=P},2837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStaticRanges=v,t.defaultInputRanges=t.defaultStaticRanges=void 0;var i=h(n(9759)),r=h(n(4690)),o=h(n(4565)),a=h(n(3629)),s=h(n(1104)),l=h(n(4888)),u=h(n(5719)),c=h(n(8347)),g=h(n(786)),d=h(n(9040));function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={startOfWeek:(0,a.default)(new Date),endOfWeek:(0,o.default)(new Date),startOfLastWeek:(0,a.default)((0,d.default)(new Date,-7)),endOfLastWeek:(0,o.default)((0,d.default)(new Date,-7)),startOfToday:(0,c.default)(new Date),endOfToday:(0,g.default)(new Date),startOfYesterday:(0,c.default)((0,d.default)(new Date,-1)),endOfYesterday:(0,g.default)((0,d.default)(new Date,-1)),startOfMonth:(0,u.default)(new Date),endOfMonth:(0,l.default)(new Date),startOfLastMonth:(0,u.default)((0,s.default)(new Date,-1)),endOfLastMonth:(0,l.default)((0,s.default)(new Date,-1))},I={range:{},isSelected:function(e){var t=this.range();return(0,r.default)(e.startDate,t.startDate)&&(0,r.default)(e.endDate,t.endDate)}};function v(e){return e.map((function(e){return A(A({},I),e)}))}var m=v([{label:"Today",range:function(){return{startDate:C.startOfToday,endDate:C.endOfToday}}},{label:"Yesterday",range:function(){return{startDate:C.startOfYesterday,endDate:C.endOfYesterday}}},{label:"This Week",range:function(){return{startDate:C.startOfWeek,endDate:C.endOfWeek}}},{label:"Last Week",range:function(){return{startDate:C.startOfLastWeek,endDate:C.endOfLastWeek}}},{label:"This Month",range:function(){return{startDate:C.startOfMonth,endDate:C.endOfMonth}}},{label:"Last Month",range:function(){return{startDate:C.startOfLastMonth,endDate:C.endOfLastMonth}}}]);t.defaultStaticRanges=m;var y=[{label:"days up to today",range:function(e){return{startDate:(0,d.default)(C.startOfToday,-1*(Math.max(Number(e),1)-1)),endDate:C.endOfToday}},getCurrentValue:function(e){return(0,r.default)(e.endDate,C.endOfToday)?e.startDate?(0,i.default)(C.endOfToday,e.startDate)+1:"\u221e":"-"}},{label:"days starting today",range:function(e){var t=new Date;return{startDate:t,endDate:(0,d.default)(t,Math.max(Number(e),1)-1)}},getCurrentValue:function(e){return(0,r.default)(e.startDate,C.startOfToday)?e.endDate?(0,i.default)(e.endDate,C.startOfToday)+1:"\u221e":"-"}}];t.defaultInputRanges=y},7161:(e,t,n)=>{"use strict";Object.defineProperty(t,"C0",{enumerable:!0,get:function(){return i.default}});var i=l(n(7820)),r=l(n(6138)),o=l(n(6949)),a=l(n(5736)),s=n(2837);function l(e){return e&&e.__esModule?e:{default:e}}},9498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={dateRangeWrapper:"rdrDateRangeWrapper",calendarWrapper:"rdrCalendarWrapper",dateDisplay:"rdrDateDisplay",dateDisplayItem:"rdrDateDisplayItem",dateDisplayItemActive:"rdrDateDisplayItemActive",monthAndYearWrapper:"rdrMonthAndYearWrapper",monthAndYearPickers:"rdrMonthAndYearPickers",nextPrevButton:"rdrNextPrevButton",month:"rdrMonth",weekDays:"rdrWeekDays",weekDay:"rdrWeekDay",days:"rdrDays",day:"rdrDay",dayNumber:"rdrDayNumber",dayPassive:"rdrDayPassive",dayToday:"rdrDayToday",dayStartOfWeek:"rdrDayStartOfWeek",dayEndOfWeek:"rdrDayEndOfWeek",daySelected:"rdrDaySelected",dayDisabled:"rdrDayDisabled",dayStartOfMonth:"rdrDayStartOfMonth",dayEndOfMonth:"rdrDayEndOfMonth",dayWeekend:"rdrDayWeekend",dayStartPreview:"rdrDayStartPreview",dayInPreview:"rdrDayInPreview",dayEndPreview:"rdrDayEndPreview",dayHovered:"rdrDayHovered",dayActive:"rdrDayActive",inRange:"rdrInRange",endEdge:"rdrEndEdge",startEdge:"rdrStartEdge",prevButton:"rdrPprevButton",nextButton:"rdrNextButton",selected:"rdrSelected",months:"rdrMonths",monthPicker:"rdrMonthPicker",yearPicker:"rdrYearPicker",dateDisplayWrapper:"rdrDateDisplayWrapper",definedRangesWrapper:"rdrDefinedRangesWrapper",staticRanges:"rdrStaticRanges",staticRange:"rdrStaticRange",inputRanges:"rdrInputRanges",inputRange:"rdrInputRange",inputRangeInput:"rdrInputRangeInput",dateRangePickerWrapper:"rdrDateRangePickerWrapper",staticRangeLabel:"rdrStaticRangeLabel",staticRangeSelected:"rdrStaticRangeSelected",monthName:"rdrMonthName",infiniteMonths:"rdrInfiniteMonths",monthsVertical:"rdrMonthsVertical",monthsHorizontal:"rdrMonthsHorizontal"}},7484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcFocusDate=function(e,t){var n,i=t.shownDate,r=t.date,a=t.months,s=t.ranges,l=t.focusedRange;if("dateRange"===t.displayMode){var g=s[l[0]]||{};n={start:g.startDate,end:g.endDate}}else n={start:r,end:r};n.start=(0,c.default)(n.start||new Date),n.end=(0,u.default)(n.end||n.start);var d=n.start||n.end||i||new Date;if(!e)return i||d;if((0,o.default)(n.start,n.end)>a)return e;return d},t.findNextRangeIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.findIndex((function(e,n){return n>t&&!1!==e.autoFocus&&!e.disabled}));return-1!==n?n:e.findIndex((function(e){return!1!==e.autoFocus&&!e.disabled}))},t.getMonthDisplayRange=function(e,t,n){var i=(0,c.default)(e,t),o=(0,u.default)(e,t),g=(0,l.default)(i,t),d=(0,s.default)(o,t);n&&(0,a.default)(d,g)<=34&&(d=(0,r.default)(d,7));return{start:g,end:d,startDateOfMonth:i,endDateOfMonth:o}},t.generateStyles=function(e){return e.length?e.filter((function(e){return Boolean(e)})).reduce((function(e,t){return Object.keys(t).forEach((function(n){e[n]=(0,i.default)(e[n],t[n])})),e}),{}):{}};var i=g(n(1694)),r=g(n(9040)),o=g(n(5951)),a=g(n(9759)),s=g(n(4565)),l=g(n(3629)),u=g(n(4888)),c=g(n(5719));function g(e){return e&&e.__esModule?e:{default:e}}},4463:(e,t,n)=>{"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),g=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function A(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var C=/[\-:]([a-z])/g;function I(e){return e[1].toUpperCase()}function v(e,t,n,i){var r=f.hasOwnProperty(t)?f[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!g.call(p,e)||!g.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(C,I);f[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(C,I);f[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(C,I);f[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var m=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var z,R=Object.assign;function F(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var L=!1;function B(e,t){if(!e||L)return"";L=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{L=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function Z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case b:return"Portal";case w:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,ge=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function Ae(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=Ae(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var Ce=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Ce[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var me=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,xe=null,_e=null;function we(e){if(e=vr(e)){if("function"!==typeof be)throw Error(o(280));var t=e.stateNode;t&&(t=yr(t),be(e.stateNode,e.type,t))}}function ke(e){xe?_e?_e.push(e):_e=[e]:xe=e}function Ee(){if(xe){var e=xe,t=_e;if(_e=xe=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Se(e,t){return e(t)}function Te(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Se(e,t,n)}finally{Oe=!1,(null!==xe||null!==_e)&&(Te(),Ee())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var i=yr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){je=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){je=!1}function Ne(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var ze=!1,Re=null,Fe=!1,Le=null,Be={onError:function(e){ze=!0,Re=e}};function Ze(e,t,n,i,r,o,a,s,l){ze=!1,Re=null,Ne.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return We(r),e;if(a===i)return We(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,qe=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Qe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function gt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=gt(s):0!==(o&=a)&&(i=gt(o))}else 0!==(a=n&~r)?i=gt(a):0!==o&&(i=gt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function At(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ct(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function It(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var vt=0;function mt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,bt,xt,_t,wt,kt=!1,Et=[],St=null,Tt=null,Ot=null,Pt=new Map,Dt=new Map,jt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function zt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&bt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Rt(e){var t=Ir(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void wt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&bt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);me=i,n.target.dispatchEvent(i),me=null,t.shift()}return!0}function Lt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){kt=!1,null!==St&&Ft(St)&&(St=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ot&&Ft(Ot)&&(Ot=null),Pt.forEach(Lt),Dt.forEach(Lt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Zt(t,e)}if(0<Et.length){Zt(Et[0],e);for(var n=1;n<Et.length;n++){var i=Et[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==St&&Zt(St,e),null!==Tt&&Zt(Tt,e),null!==Ot&&Zt(Ot,e),Pt.forEach(t),Dt.forEach(t),n=0;n<jt.length;n++)(i=jt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Rt(n),null===n.blockedOn&&jt.shift()}var Ut=m.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,i){var r=vt,o=Ut.transition;Ut.transition=null;try{vt=1,Yt(e,t,n,i)}finally{vt=r,Ut.transition=o}}function Ht(e,t,n,i){var r=vt,o=Ut.transition;Ut.transition=null;try{vt=4,Yt(e,t,n,i)}finally{vt=r,Ut.transition=o}}function Yt(e,t,n,i){if(Wt){var r=Kt(e,t,n,i);if(null===r)Wi(e,t,i,qt,n),Nt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return St=zt(St,e,t,n,i,r),!0;case"dragenter":return Tt=zt(Tt,e,t,n,i,r),!0;case"mouseover":return Ot=zt(Ot,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Pt.set(o,zt(Pt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Dt.set(o,zt(Dt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Nt(e,i),4&t&&-1<Mt.indexOf(e)){for(;null!==r;){var o=vr(r);if(null!==o&&yt(o),null===(o=Kt(e,t,n,i))&&Wi(e,t,i,qt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var qt=null;function Kt(e,t,n,i){if(qt=null,null!==(e=Ir(e=ye(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),gn=R({},un,{view:0,detail:0}),dn=on(gn),hn=R({},gn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),An=on(R({},hn,{dataTransfer:0})),fn=on(R({},gn,{relatedTarget:0})),Cn=on(R({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),In=R({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(In),mn=on(R({},un,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function wn(){return _n}var kn=R({},gn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(kn),Sn=on(R({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(R({},gn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),On=on(R({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=R({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=on(Pn),jn=[9,13,27,32],Mn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var zn=c&&"TextEvent"in window&&!Nn,Rn=c&&(!Mn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Ln=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Gn(e,t,n,i){ke(i),0<(t=Hi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Hn=null,Yn=null;function qn(e){Fi(e,0)}function Kn(e){if(Y(mr(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Hn&&(Hn.detachEvent("onpropertychange",ni),Yn=Hn=null)}function ni(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Gn(t,Yn,e,ye(e)),Pe(qn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Hn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function oi(e,t){if("click"===e)return Kn(t)}function ai(e,t){if("input"===e||"change"===e)return Kn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!g.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function gi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gi(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var a=ci(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ai=c&&"documentMode"in document&&11>=document.documentMode,fi=null,Ci=null,Ii=null,vi=!1;function mi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vi||null==fi||fi!==q(i)||("selectionStart"in(i=fi)&&hi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ii&&li(Ii,i)||(Ii=i,0<(i=Hi(Ci,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fi)))}function yi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var bi={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},xi={},_i={};function wi(e){if(xi[e])return xi[e];if(!bi[e])return e;var t,n=bi[e];for(t in n)if(n.hasOwnProperty(t)&&t in _i)return xi[e]=n[t];return e}c&&(_i=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);var ki=wi("animationend"),Ei=wi("animationiteration"),Si=wi("animationstart"),Ti=wi("transitionend"),Oi=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(e,t){Oi.set(e,t),l(t,[e])}for(var ji=0;ji<Pi.length;ji++){var Mi=Pi[ji];Di(Mi.toLowerCase(),"on"+(Mi[0].toUpperCase()+Mi.slice(1)))}Di(ki,"onAnimationEnd"),Di(Ei,"onAnimationIteration"),Di(Si,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(Ti,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function Ri(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,u){if(Ze.apply(this,arguments),ze){if(!ze)throw Error(o(198));var c=Re;ze=!1,Re=null,Fe||(Fe=!0,Le=c)}}(i,t,void 0,e),e.currentTarget=null}function Fi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Ri(r,s,u),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Ri(r,s,u),o=l}}}if(Fe)throw e=Le,Fe=!1,Le=null,e}function Li(e,t){var n=t[Ar];void 0===n&&(n=t[Ar]=new Set);var i=e+"__bubble";n.has(i)||(Ui(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Ui(n,e,i,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Zi]){e[Zi]=!0,a.forEach((function(t){"selectionchange"!==t&&(zi.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zi]||(t[Zi]=!0,Bi("selectionchange",!1,t))}}function Ui(e,t,n,i){switch(Xt(t)){case 1:var r=Gt;break;case 4:r=Ht;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=Ir(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Pe((function(){var i=o,r=ye(n),a=[];e:{var s=Oi.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=fn;break;case"focusout":u="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=An;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case ki:case Ei:case Si:l=Cn;break;case Ti:l=On;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var c=0!==(4&t),g=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=i;null!==p;){var A=(h=p).stateNode;if(5===h.tag&&null!==A&&(h=A,null!==d&&(null!=(A=De(p,d))&&c.push(Gi(p,A,h)))),g)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===me||!(u=n.relatedTarget||n.fromElement)||!Ir(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?Ir(u):null)&&(u!==(g=Ve(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,A="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,A="onPointerLeave",d="onPointerEnter",p="pointer"),g=null==l?s:mr(l),h=null==u?s:mr(u),(s=new c(A,p+"leave",l,n,r)).target=g,s.relatedTarget=h,A=null,Ir(r)===i&&((c=new c(d,p+"enter",u,n,r)).target=h,c.relatedTarget=g,A=c),g=A,l&&u)e:{for(d=u,p=0,h=c=l;h;h=Yi(h))p++;for(h=0,A=d;A;A=Yi(A))h++;for(;0<p-h;)c=Yi(c),p--;for(;0<h-p;)d=Yi(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Yi(c),d=Yi(d)}c=null}else c=null;null!==l&&qi(a,s,l,c,!1),null!==u&&null!==g&&qi(a,g,u,c,!0)}if("select"===(l=(s=i?mr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var f=Xn;else if(Wn(s))if(Qn)f=ai;else{f=ri;var C=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(f=oi);switch(f&&(f=f(e,i))?Gn(a,f,n,r):(C&&C(e,s,i),"focusout"===e&&(C=s._wrapperState)&&C.controlled&&"number"===s.type&&ee(s,"number",s.value)),C=i?mr(i):window,e){case"focusin":(Wn(C)||"true"===C.contentEditable)&&(fi=C,Ci=i,Ii=null);break;case"focusout":Ii=Ci=fi=null;break;case"mousedown":vi=!0;break;case"contextmenu":case"mouseup":case"dragend":vi=!1,mi(a,n,r);break;case"selectionchange":if(Ai)break;case"keydown":case"keyup":mi(a,n,r)}var I;if(Mn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Rn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(I=en()):(Jt="value"in(Qt=r)?Qt.value:Qt.textContent,Vn=!0)),0<(C=Hi(i,v)).length&&(v=new mn(v,e,null,n,r),a.push({event:v,listeners:C}),I?v.data=I:null!==(I=Zn(n))&&(v.data=I))),(I=zn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Fn);case"textInput":return(e=t.data)===Fn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),$t=Jt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Hi(i,"onBeforeInput")).length&&(r=new mn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=I))}Fi(a,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=De(e,n))&&i.unshift(Gi(e,o,r)),null!=(o=De(e,t))&&i.push(Gi(e,o,r))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=De(n,o))&&a.unshift(Gi(n,l,s)):r||null!=(l=De(n,o))&&a.push(Gi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Ki=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Xi,"")}function Ji(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(o(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var gr=Math.random().toString(36).slice(2),dr="__reactFiber$"+gr,hr="__reactProps$"+gr,pr="__reactContainer$"+gr,Ar="__reactEvents$"+gr,fr="__reactListeners$"+gr,Cr="__reactHandles$"+gr;function Ir(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[dr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function yr(e){return e[hr]||null}var br=[],xr=-1;function _r(e){return{current:e}}function wr(e){0>xr||(e.current=br[xr],br[xr]=null,xr--)}function kr(e,t){xr++,br[xr]=e.current,e.current=t}var Er={},Sr=_r(Er),Tr=_r(!1),Or=Er;function Pr(e,t){var n=e.type.contextTypes;if(!n)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jr(){wr(Tr),wr(Sr)}function Mr(e,t,n){if(Sr.current!==Er)throw Error(o(168));kr(Sr,t),kr(Tr,n)}function Nr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,U(e)||"Unknown",r));return R({},n,i)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Or=Sr.current,kr(Sr,e),kr(Tr,Tr.current),!0}function Rr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=Nr(e,t,Or),i.__reactInternalMemoizedMergedChildContext=e,wr(Tr),wr(Sr),kr(Sr,e)):wr(Tr),kr(Tr,n)}var Fr=null,Lr=!1,Br=!1;function Zr(e){null===Fr?Fr=[e]:Fr.push(e)}function Vr(){if(!Br&&null!==Fr){Br=!0;var e=0,t=vt;try{var n=Fr;for(vt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Fr=null,Lr=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Ye($e,Vr),r}finally{vt=t,Br=!1}}return null}var Ur=[],Wr=0,Gr=null,Hr=0,Yr=[],qr=0,Kr=null,Xr=1,Qr="";function Jr(e,t){Ur[Wr++]=Hr,Ur[Wr++]=Gr,Gr=e,Hr=t}function $r(e,t,n){Yr[qr++]=Xr,Yr[qr++]=Qr,Yr[qr++]=Kr,Kr=e;var i=Xr;e=Qr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Xr=1<<32-at(t)+r|n<<r|i,Qr=o+e}else Xr=1<<o|n<<r|i,Qr=e}function eo(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function to(e){for(;e===Gr;)Gr=Ur[--Wr],Ur[Wr]=null,Hr=Ur[--Wr],Ur[Wr]=null;for(;e===Kr;)Kr=Yr[--qr],Yr[qr]=null,Qr=Yr[--qr],Yr[qr]=null,Xr=Yr[--qr],Yr[qr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=Du(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Xr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Du(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ur(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function go(e){if(e!==no)return!1;if(!ro)return co(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ur(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?ur(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=io;e;)e=ur(e.nextSibling)}function po(){io=no=null,ro=!1}function Ao(e){null===oo?oo=[e]:oo.push(e)}var fo=m.ReactCurrentBatchConfig;function Co(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Io=_r(null),vo=null,mo=null,yo=null;function bo(){yo=mo=vo=null}function xo(e){var t=Io.current;wr(Io),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function wo(e,t){vo=e,yo=mo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(yo!==e)if(e={context:e,memoizedValue:t,next:null},null===mo){if(null===vo)throw Error(o(308));mo=e,vo.dependencies={lanes:0,firstContext:e}}else mo=mo.next=e;return t}var Eo=null;function So(e){null===Eo?Eo=[e]:Eo.push(e)}function To(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,So(t)):(n.next=r.next,r.next=n),t.interleaved=n,Oo(e,i)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Oo(e,n)}return null===(r=i.interleaved)?(t.next=t,So(i)):(t.next=r.next,r.next=t),i.interleaved=t,Oo(e,n)}function zo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,It(e,n)}}function Ro(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,i){var r=e.updateQueue;Po=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var g=r.baseState;for(a=0,c=u=l=null,s=o;;){var d=s.lane,h=s.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,A=s;switch(d=t,h=n,A.tag){case 1:if("function"===typeof(p=A.payload)){g=p.call(h,g,d);break e}g=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=A.payload)?p.call(h,g,d):p)||void 0===d)break e;g=R({},g,d);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=g):c=c.next=h,a|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=g),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Rl|=a,e.lanes=a,e.memoizedState=g}}function Lo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Bo=(new i.Component).refs;function Zo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tu(),r=nu(e),o=Mo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,r))&&(iu(t,e,r,i),zo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tu(),r=nu(e),o=Mo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,r))&&(iu(t,e,r,i),zo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),i=nu(e),r=Mo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=No(e,r,i))&&(iu(t,e,i,n),zo(t,e,i))}};function Uo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function Wo(e,t,n){var i=!1,r=Er,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(r=Dr(t)?Or:Sr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Pr(e,r):Er),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Bo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=ko(o):(o=Dr(t)?Or:Sr.current,r.context=Pr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vo.enqueueReplaceState(r,r.state,null),Fo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Bo&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Fu(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===x?g(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Ko(o)===t.type)?((i=r(t,n.props)).ref=Yo(e,t,n),i.return=e,i):((i=Nu(n.type,n.key,n.props,null,e.mode,i)).ref=Yo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function g(e,t,n,i,o){return null===t||7!==t.tag?((t=zu(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=Yo(e,null,t),n.return=e,n;case b:return(t=Lu(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=zu(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===r?u(e,t,n,i):null;case b:return n.key===r?c(e,t,n,i):null;case D:return h(e,t,(r=n._init)(n._payload),i)}if(te(n)||N(n))return null!==r?null:g(e,t,n,i,null);qo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case y:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case b:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case D:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||N(i))return g(t,e=e.get(n)||null,i,r,null);qo(t,i)}return null}function A(r,o,s,l){for(var u=null,c=null,g=o,A=o=0,f=null;null!==g&&A<s.length;A++){g.index>A?(f=g,g=null):f=g.sibling;var C=h(r,g,s[A],l);if(null===C){null===g&&(g=f);break}e&&g&&null===C.alternate&&t(r,g),o=a(C,o,A),null===c?u=C:c.sibling=C,c=C,g=f}if(A===s.length)return n(r,g),ro&&Jr(r,A),u;if(null===g){for(;A<s.length;A++)null!==(g=d(r,s[A],l))&&(o=a(g,o,A),null===c?u=g:c.sibling=g,c=g);return ro&&Jr(r,A),u}for(g=i(r,g);A<s.length;A++)null!==(f=p(g,r,A,s[A],l))&&(e&&null!==f.alternate&&g.delete(null===f.key?A:f.key),o=a(f,o,A),null===c?u=f:c.sibling=f,c=f);return e&&g.forEach((function(e){return t(r,e)})),ro&&Jr(r,A),u}function f(r,s,l,u){var c=N(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var g=c=null,A=s,f=s=0,C=null,I=l.next();null!==A&&!I.done;f++,I=l.next()){A.index>f?(C=A,A=null):C=A.sibling;var v=h(r,A,I.value,u);if(null===v){null===A&&(A=C);break}e&&A&&null===v.alternate&&t(r,A),s=a(v,s,f),null===g?c=v:g.sibling=v,g=v,A=C}if(I.done)return n(r,A),ro&&Jr(r,f),c;if(null===A){for(;!I.done;f++,I=l.next())null!==(I=d(r,I.value,u))&&(s=a(I,s,f),null===g?c=I:g.sibling=I,g=I);return ro&&Jr(r,f),c}for(A=i(r,A);!I.done;f++,I=l.next())null!==(I=p(A,r,f,I.value,u))&&(e&&null!==I.alternate&&A.delete(null===I.key?f:I.key),s=a(I,s,f),null===g?c=I:g.sibling=I,g=I);return e&&A.forEach((function(e){return t(r,e)})),ro&&Jr(r,f),c}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===x){if(7===c.tag){n(i,c.sibling),(o=r(c,a.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===D&&Ko(u)===c.type){n(i,c.sibling),(o=r(c,a.props)).ref=Yo(i,c,a),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}a.type===x?((o=zu(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Nu(a.type,a.key,a.props,null,i.mode,l)).ref=Yo(i,o,a),l.return=i,i=l)}return s(i);case b:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Lu(a,i.mode,l)).return=i,i=o}return s(i);case D:return e(i,o,(c=a._init)(a._payload),l)}if(te(a))return A(i,o,a,l);if(N(a))return f(i,o,a,l);qo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Fu(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Qo=Xo(!0),Jo=Xo(!1),$o={},ea=_r($o),ta=_r($o),na=_r($o);function ia(e){if(e===$o)throw Error(o(174));return e}function ra(e,t){switch(kr(na,t),kr(ta,e),kr(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wr(ea),kr(ea,t)}function oa(){wr(ea),wr(ta),wr(na)}function aa(e){ia(na.current);var t=ia(ea.current),n=le(t,e.type);t!==n&&(kr(ta,e),kr(ea,n))}function sa(e){ta.current===e&&(wr(ea),wr(ta))}var la=_r(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ga(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=m.ReactCurrentDispatcher,ha=m.ReactCurrentBatchConfig,pa=0,Aa=null,fa=null,Ca=null,Ia=!1,va=!1,ma=0,ya=0;function ba(){throw Error(o(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function _a(e,t,n,i,r,a){if(pa=a,Aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:ls,e=n(i,r),va){a=0;do{if(va=!1,ma=0,25<=a)throw Error(o(301));a+=1,Ca=fa=null,t.updateQueue=null,da.current=us,e=n(i,r)}while(va)}if(da.current=as,t=null!==fa&&null!==fa.next,pa=0,Ca=fa=Aa=null,Ia=!1,t)throw Error(o(300));return e}function wa(){var e=0!==ma;return ma=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ca?Aa.memoizedState=Ca=e:Ca=Ca.next=e,Ca}function Ea(){if(null===fa){var e=Aa.alternate;e=null!==e?e.memoizedState:null}else e=fa.next;var t=null===Ca?Aa.memoizedState:Ca.next;if(null!==t)Ca=t,fa=e;else{if(null===e)throw Error(o(310));e={memoizedState:(fa=e).memoizedState,baseState:fa.baseState,baseQueue:fa.baseQueue,queue:fa.queue,next:null},null===Ca?Aa.memoizedState=Ca=e:Ca=Ca.next=e}return Ca}function Sa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=fa,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,u=null,c=a;do{var g=c.lane;if((pa&g)===g)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:g,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=i):u=u.next=d,Aa.lanes|=g,Rl|=g}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,si(i,t.memoizedState)||(ms=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,Aa.lanes|=a,Rl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Ea(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pa(){}function Da(e,t){var n=Aa,i=Ea(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,ms=!0),i=i.queue,Wa(Na.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==Ca&&1&Ca.memoizedState.tag){if(n.flags|=2048,La(9,Ma.bind(null,n,i,r,t),void 0,null),null===Ol)throw Error(o(349));0!==(30&pa)||ja(n,t,r)}return r}function ja(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Aa.updateQueue)?(t={lastEffect:null,stores:null},Aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ma(e,t,n,i){t.value=n,t.getSnapshot=i,za(t)&&Ra(e)}function Na(e,t,n){return n((function(){za(t)&&Ra(e)}))}function za(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Ra(e){var t=Oo(e,1);null!==t&&iu(t,e,1,-1)}function Fa(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,Aa,e),[t.memoizedState,e]}function La(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Aa.updateQueue)?(t={lastEffect:null,stores:null},Aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ba(){return Ea().memoizedState}function Za(e,t,n,i){var r=ka();Aa.flags|=e,r.memoizedState=La(1|t,n,void 0,void 0===i?null:i)}function Va(e,t,n,i){var r=Ea();i=void 0===i?null:i;var o=void 0;if(null!==fa){var a=fa.memoizedState;if(o=a.destroy,null!==i&&xa(i,a.deps))return void(r.memoizedState=La(t,n,o,i))}Aa.flags|=e,r.memoizedState=La(1|t,n,o,i)}function Ua(e,t){return Za(8390656,8,e,t)}function Wa(e,t){return Va(2048,8,e,t)}function Ga(e,t){return Va(4,2,e,t)}function Ha(e,t){return Va(4,4,e,t)}function Ya(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ya.bind(null,t,e),n)}function Ka(){}function Xa(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&xa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Ea();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&xa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(si(n,t)||(n=At(),Aa.lanes|=n,Rl|=n,e.baseState=!0),t)}function $a(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var i=ha.transition;ha.transition={};try{e(!1),t()}finally{vt=n,ha.transition=i}}function es(){return Ea().memoizedState}function ts(e,t,n){var i=nu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))rs(t,n);else if(null!==(n=To(e,t,n,i))){iu(n,e,i,tu()),os(n,t,i)}}function ns(e,t,n){var i=nu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))rs(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,So(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=To(e,t,r,i))&&(iu(n,e,i,r=tu()),os(n,t,i))}}function is(e){var t=e.alternate;return e===Aa||null!==t&&t===Aa}function rs(e,t){va=Ia=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,It(e,n)}}var as={readContext:ko,useCallback:ba,useContext:ba,useEffect:ba,useImperativeHandle:ba,useInsertionEffect:ba,useLayoutEffect:ba,useMemo:ba,useReducer:ba,useRef:ba,useState:ba,useDebugValue:ba,useDeferredValue:ba,useTransition:ba,useMutableSource:ba,useSyncExternalStore:ba,useId:ba,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Za(4194308,4,Ya.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ka();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=ts.bind(null,Aa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=$a.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Aa,r=ka();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ol)throw Error(o(349));0!==(30&pa)||ja(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ua(Na.bind(null,i,a,e),[e]),i.flags|=2048,La(9,Ma.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ol.identifierPrefix;if(ro){var n=Qr;t=":"+t+"R"+(n=(Xr&~(1<<32-at(Xr)-1)).toString(32)+n),0<(n=ma++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ya++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Wa,useImperativeHandle:qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Qa,useReducer:Ta,useRef:Ba,useState:function(){return Ta(Sa)},useDebugValue:Ka,useDeferredValue:function(e){return Ja(Ea(),fa.memoizedState,e)},useTransition:function(){return[Ta(Sa)[0],Ea().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Xa,useContext:ko,useEffect:Wa,useImperativeHandle:qa,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Qa,useReducer:Oa,useRef:Ba,useState:function(){return Oa(Sa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ea();return null===fa?t.memoizedState=e:Ja(t,fa.memoizedState,e)},useTransition:function(){return[Oa(Sa)[0],Ea().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Da,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",i=t;do{n+=Z(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function gs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=i),ds(0,t)},n}function As(e,t,n){(n=Mo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof i&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new hs;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function Cs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Is(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,No(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=m.ReactCurrentOwner,ms=!1;function ys(e,t,n,i){t.child=null===e?Jo(t,null,n,i):Qo(t,e.child,n,i)}function bs(e,t,n,i,r){n=n.render;var o=t.ref;return wo(t,r),i=_a(e,t,n,i,o,r),n=wa(),null===e||ms?(ro&&n&&eo(t),t.flags|=1,ys(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function xs(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||ju(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Gs(e,t,r)}return t.flags|=1,(e=Mu(o,i)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(ms=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Gs(e,t,r);0!==(131072&e.flags)&&(ms=!0)}}return Es(e,t,n,i,r)}function ws(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kr(Ml,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kr(Ml,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,kr(Ml,jl),jl|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,kr(Ml,jl),jl|=i;return ys(e,t,r,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,i,r){var o=Dr(n)?Or:Sr.current;return o=Pr(t,o),wo(t,r),n=_a(e,t,n,i,o,r),i=wa(),null===e||ms?(ro&&i&&eo(t),t.flags|=1,ys(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gs(e,t,r))}function Ss(e,t,n,i,r){if(Dr(n)){var o=!0;zr(t)}else o=!1;if(wo(t,r),null===t.stateNode)Ws(e,t),Wo(t,n,i),Ho(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ko(u):u=Pr(t,u=Dr(n)?Or:Sr.current);var c=n.getDerivedStateFromProps,g="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;g||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&Go(t,a,i,u),Po=!1;var d=t.memoizedState;a.state=d,Fo(t,i,a,r),l=t.memoizedState,s!==i||d!==l||Tr.current||Po?("function"===typeof c&&(Zo(t,n,c,i),l=t.memoizedState),(s=Po||Uo(t,n,s,i,d,l,u))?(g||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,jo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Co(t.type,s),a.props=u,g=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ko(l):l=Pr(t,l=Dr(n)?Or:Sr.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==g||d!==l)&&Go(t,a,i,l),Po=!1,d=t.memoizedState,a.state=d,Fo(t,i,a,r);var p=t.memoizedState;s!==g||d!==p||Tr.current||Po?("function"===typeof h&&(Zo(t,n,h,i),p=t.memoizedState),(u=Po||Uo(t,n,u,i,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ts(e,t,n,i,o,r)}function Ts(e,t,n,i,r,o){ks(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Rr(t,n,!1),Gs(e,t,o);i=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):ys(e,t,s,o),t.memoizedState=i.state,r&&Rr(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Mr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mr(0,t.context,!1),ra(e,t.containerInfo)}function Ps(e,t,n,i,r){return po(),Ao(r),t.flags|=256,ys(e,t,n,i),t.child}var Ds,js,Ms,Ns,zs={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var i,r=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),kr(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Ru(l,r,0,null),e=zu(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=zs,e):Ls(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,i=gs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Ru({mode:"visible",children:i.children},r,0,null),(a=zu(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=zs,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Bs(e,t,s,i=gs(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),ms||l){if(null!==(i=Ol)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Oo(e,r),iu(i,e,r,-1))}return fu(),Bs(e,t,s,i=gs(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=ur(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Yr[qr++]=Xr,Yr[qr++]=Qr,Yr[qr++]=Kr,Xr=e.id,Qr=e.overflow,Kr=t),t=Ls(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Mu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Mu(i,s):(s=zu(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=zs,r}return e=(s=e.child).sibling,r=Mu(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ls(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,i){return null!==i&&Ao(i),Qo(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zs(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),_o(e.return,t,n)}function Vs(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Us(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(ys(e,t,i.children,n),0!==(2&(i=la.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n,t);else if(19===e.tag)Zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(kr(la,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ua(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function qs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Dr(t.type)&&jr(),Ys(t),null;case 3:return i=t.stateNode,oa(),wr(Tr),wr(Sr),ga(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(go(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),js(e,t),Ys(t),null;case 5:sa(t);var r=ia(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=ia(ea.current),go(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[dr]=t,i[hr]=a,e=0!==(1&t.mode),n){case"dialog":Li("cancel",i),Li("close",i);break;case"iframe":case"object":case"embed":Li("load",i);break;case"video":case"audio":for(r=0;r<Ni.length;r++)Li(Ni[r],i);break;case"source":Li("error",i);break;case"img":case"image":case"link":Li("error",i),Li("load",i);break;case"details":Li("toggle",i);break;case"input":X(i,a),Li("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Li("invalid",i);break;case"textarea":re(i,a),Li("invalid",i)}for(var l in Ie(n,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Li("scroll",i)}switch(n){case"input":H(i),$(i,a,!0);break;case"textarea":H(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[hr]=i,Ds(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":Li("cancel",e),Li("close",e),r=i;break;case"iframe":case"object":case"embed":Li("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ni.length;r++)Li(Ni[r],e);r=i;break;case"source":Li("error",e),r=i;break;case"img":case"image":case"link":Li("error",e),Li("load",e),r=i;break;case"details":Li("toggle",e),r=i;break;case"input":X(e,i),r=K(e,i),Li("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=R({},i,{value:void 0}),Li("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Li("invalid",e)}for(a in Ie(n,r),u=r)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?fe(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&ge(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Li("scroll",e):null!=c&&v(e,a,c,l))}switch(n){case"input":H(e),$(e,i,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=ia(na.current),ia(ea.current),go(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ys(t),null;case 13:if(wr(la),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=go(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[dr]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Nl&&(Nl=3):fu())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return oa(),js(e,t),null===e&&Vi(t.stateNode.containerInfo),Ys(t),null;case 10:return xo(t.type._context),Ys(t),null;case 19:if(wr(la),null===(a=t.memoizedState))return Ys(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Hs(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Hs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kr(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Ul&&(t.flags|=128,i=!0,Hs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ua(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Ys(t),null}else 2*Qe()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,i=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=la.current,kr(la,i?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return du(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&jl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Dr(t.type)&&jr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),wr(Tr),wr(Sr),ga(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(wr(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wr(la),null;case 4:return oa(),null;case 10:return xo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ds=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},js=function(){},Ms=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,ia(ea.current);var o,a=null;switch(n){case"input":r=K(e,r),i=K(e,i),a=[];break;case"select":r=R({},r,{value:void 0}),i=R({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(c in Ie(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Li("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xs=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,$s=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){wu(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){wu(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[hr],delete t[Ar],delete t[fr],delete t[Cr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var gl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Qs||el(n,t);case 6:var i=gl,r=dl;gl=null,hl(e,t,n),dl=r,null!==(gl=i)&&(dl?(e=gl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):gl.removeChild(n.stateNode));break;case 18:null!==gl&&(dl?(e=gl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Vt(e)):lr(gl,n.stateNode));break;case 4:i=gl,r=dl,gl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),gl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Qs&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){wu(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(i=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=i):hl(e,t,n);break;default:hl(e,t,n)}}function Al(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var i=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:gl=l.stateNode,dl=!1;break e;case 3:case 4:gl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===gl)throw Error(o(160));pl(a,s,r),gl=null,dl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){wu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Cl(t,e),t=t.sibling}function Cl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),Il(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(f){wu(e,e.return,f)}try{il(5,e,e.return)}catch(f){wu(e,e.return,f)}}break;case 1:fl(t,e),Il(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(fl(t,e),Il(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(f){wu(e,e.return,f)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(r,a),ve(l,s);var c=ve(l,a);for(s=0;s<u.length;s+=2){var g=u[s],d=u[s+1];"style"===g?fe(r,d):"dangerouslySetInnerHTML"===g?ge(r,d):"children"===g?de(r,d):v(r,g,d,c)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[hr]=a}catch(f){wu(e,e.return,f)}}break;case 6:if(fl(t,e),Il(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(f){wu(e,e.return,f)}}break;case 3:if(fl(t,e),Il(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(f){wu(e,e.return,f)}break;case 4:default:fl(t,e),Il(e);break;case 13:fl(t,e),Il(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Qe())),4&i&&Al(e);break;case 22:if(g=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||g,fl(t,e),Qs=c):fl(t,e),Il(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!g&&0!==(1&e.mode))for($s=e,g=e.child;null!==g;){for(d=$s=g;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:il(4,h,h.return);break;case 1:el(h,h.return);var A=h.stateNode;if("function"===typeof A.componentWillUnmount){i=h,n=h.return;try{t=i,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(f){wu(i,n,f)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){bl(d);continue}}null!==p?(p.return=h,$s=p):bl(d)}g=g.sibling}e:for(g=null,d=e;;){if(5===d.tag){if(null===g){g=d;try{r=d.stateNode,c?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=Ae("display",s))}catch(f){wu(e,e.return,f)}}}else if(6===d.tag){if(null===g)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(f){wu(e,e.return,f)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fl(t,e),Il(e),4&i&&Al(e);case 21:}}function Il(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),cl(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){wu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$s=e,ml(e,t,n)}function ml(e,t,n){for(var i=0!==(1&e.mode);null!==$s;){var r=$s,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Xs;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Xs;var u=Qs;if(Xs=a,(Qs=l)&&!u)for($s=r;null!==$s;)l=(a=$s).child,22===a.tag&&null!==a.memoizedState?xl(r):null!==l?(l.return=a,$s=l):xl(r);for(;null!==o;)$s=o,ml(o,t,n),o=o.sibling;$s=r,Xs=s,Qs=u}yl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,$s=o):yl(e)}}function yl(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:Co(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Lo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Lo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var g=c.memoizedState;if(null!==g){var d=g.dehydrated;null!==d&&Vt(d)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&ol(t)}catch(h){wu(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function bl(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function xl(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){wu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){wu(t,r,l)}}var o=t.return;try{ol(t)}catch(l){wu(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){wu(t,a,l)}}}catch(l){wu(t,t.return,l)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var _l,wl=Math.ceil,kl=m.ReactCurrentDispatcher,El=m.ReactCurrentOwner,Sl=m.ReactCurrentBatchConfig,Tl=0,Ol=null,Pl=null,Dl=0,jl=0,Ml=_r(0),Nl=0,zl=null,Rl=0,Fl=0,Ll=0,Bl=null,Zl=null,Vl=0,Ul=1/0,Wl=null,Gl=!1,Hl=null,Yl=null,ql=!1,Kl=null,Xl=0,Ql=0,Jl=null,$l=-1,eu=0;function tu(){return 0!==(6&Tl)?Qe():-1!==$l?$l:$l=Qe()}function nu(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Dl?Dl&-Dl:null!==fo.transition?(0===eu&&(eu=At()),eu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function iu(e,t,n,i){if(50<Ql)throw Ql=0,Jl=null,Error(o(185));Ct(e,n,i),0!==(2&Tl)&&e===Ol||(e===Ol&&(0===(2&Tl)&&(Fl|=n),4===Nl&&lu(e,Dl)),ru(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(Ul=Qe()+500,Lr&&Vr()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=dt(e,e===Ol?Dl:0);if(0===i)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Lr=!0,Zr(e)}(uu.bind(null,e)):Zr(uu.bind(null,e)),ar((function(){0===(6&Tl)&&Vr()})),n=null;else{switch(mt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ou(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if($l=-1,eu=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=dt(e,e===Ol?Dl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=Cu(e,i);else{t=i;var r=Tl;Tl|=2;var a=Au();for(Ol===e&&Dl===t||(Wl=null,Ul=Qe()+500,hu(e,t));;)try{vu();break}catch(l){pu(e,l)}bo(),kl.current=a,Tl=r,null!==Pl?t=0:(Ol=null,Dl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=au(e,r))),1===t)throw n=zl,hu(e,0),lu(e,i),ru(e,Qe()),n;if(6===t)lu(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=Cu(e,i))&&(0!==(a=pt(e))&&(i=a,t=au(e,a))),1===t))throw n=zl,hu(e,0),lu(e,i),ru(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:bu(e,Zl,Wl);break;case 3:if(lu(e,i),(130023424&i)===i&&10<(t=Vl+500-Qe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(bu.bind(null,e,Zl,Wl),t);break}bu(e,Zl,Wl);break;case 4:if(lu(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*wl(i/1960))-i)){e.timeoutHandle=ir(bu.bind(null,e,Zl,Wl),i);break}bu(e,Zl,Wl);break;default:throw Error(o(329))}}}return ru(e,Qe()),e.callbackNode===n?ou.bind(null,e):null}function au(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=Cu(e,t))&&(t=Zl,Zl=n,null!==t&&su(t)),e}function su(e){null===Zl?Zl=e:Zl.push.apply(Zl,e)}function lu(e,t){for(t&=~Ll,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function uu(e){if(0!==(6&Tl))throw Error(o(327));xu();var t=dt(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=Cu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=au(e,i))}if(1===n)throw n=zl,hu(e,0),lu(e,t),ru(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bu(e,Zl,Wl),ru(e,Qe()),null}function cu(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Ul=Qe()+500,Lr&&Vr())}}function gu(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&xu();var t=Tl;Tl|=1;var n=Sl.transition,i=vt;try{if(Sl.transition=null,vt=1,e)return e()}finally{vt=i,Sl.transition=n,0===(6&(Tl=t))&&Vr()}}function du(){jl=Ml.current,wr(Ml)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Pl)for(n=Pl.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&jr();break;case 3:oa(),wr(Tr),wr(Sr),ga();break;case 5:sa(i);break;case 4:oa();break;case 13:case 19:wr(la);break;case 10:xo(i.type._context);break;case 22:case 23:du()}n=n.return}if(Ol=e,Pl=e=Mu(e.current,null),Dl=jl=t,Nl=0,zl=null,Ll=Fl=Rl=0,Zl=Bl=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(i=(n=Eo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}Eo=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(bo(),da.current=as,Ia){for(var i=Aa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}Ia=!1}if(pa=0,Ca=fa=Aa=null,va=!1,ma=0,El.current=null,null===n||null===n.return){Nl=1,zl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Dl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,g=l,d=g.tag;if(0===(1&g.mode)&&(0===d||11===d||15===d)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var p=Cs(s);if(null!==p){p.flags&=-257,Is(p,s,l,0,t),1&p.mode&&fs(a,c,t),u=c;var A=(t=p).updateQueue;if(null===A){var f=new Set;f.add(u),t.updateQueue=f}else A.add(u);break e}if(0===(1&t)){fs(a,c,t),fu();break e}u=Error(o(426))}else if(ro&&1&l.mode){var C=Cs(s);if(null!==C){0===(65536&C.flags)&&(C.flags|=256),Is(C,s,l,0,t),Ao(cs(u,l));break e}}a=u=cs(u,l),4!==Nl&&(Nl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ro(a,ps(0,u,t));break e;case 1:l=u;var I=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof I.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yl||!Yl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Ro(a,As(a,l,t));break e}}a=a.return}while(null!==a)}yu(n)}catch(m){t=m,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function Au(){var e=kl.current;return kl.current=as,null===e?as:e}function fu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ol||0===(268435455&Rl)&&0===(268435455&Fl)||lu(Ol,Dl)}function Cu(e,t){var n=Tl;Tl|=2;var i=Au();for(Ol===e&&Dl===t||(Wl=null,hu(e,t));;)try{Iu();break}catch(r){pu(e,r)}if(bo(),Tl=n,kl.current=i,null!==Pl)throw Error(o(261));return Ol=null,Dl=0,Nl}function Iu(){for(;null!==Pl;)mu(Pl)}function vu(){for(;null!==Pl&&!Ke();)mu(Pl)}function mu(e){var t=_l(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?yu(e):Pl=t,El.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,jl)))return void(Pl=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function bu(e,t,n){var i=vt,r=Sl.transition;try{Sl.transition=null,vt=1,function(e,t,n,i){do{xu()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Ol&&(Pl=Ol=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ou(tt,(function(){return xu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Sl.transition,Sl.transition=null;var s=vt;vt=1;var l=Tl;Tl|=4,El.current=null,function(e,t){if(er=Wt,hi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(y){n=null;break e}var s=0,l=-1,u=-1,c=0,g=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=s+r),d!==a||0!==i&&3!==d.nodeType||(u=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===r&&(l=s),h===a&&++g===i&&(u=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var A=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==A){var f=A.memoizedProps,C=A.memoizedState,I=t.stateNode,v=I.getSnapshotBeforeUpdate(t.elementType===t.type?f:Co(t.type,f),C);I.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var m=t.stateNode.containerInfo;1===m.nodeType?m.textContent="":9===m.nodeType&&m.documentElement&&m.removeChild(m.documentElement);break;default:throw Error(o(163))}}catch(y){wu(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}A=nl,nl=!1}(e,n),Cl(n,e),pi(tr),Wt=!!er,tr=er=null,e.current=n,vl(n,e,r),Xe(),Tl=l,vt=s,Sl.transition=a}else e.current=n;if(ql&&(ql=!1,Kl=e,Xl=r),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;0!==(1&Xl)&&0!==e.tag&&xu(),a=e.pendingLanes,0!==(1&a)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Vr()}(e,t,n,i)}finally{Sl.transition=r,vt=i}return null}function xu(){if(null!==Kl){var e=mt(Xl),t=Sl.transition,n=vt;try{if(Sl.transition=null,vt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Tl))throw Error(o(331));var r=Tl;for(Tl|=4,$s=e.current;null!==$s;){var a=$s,s=a.child;if(0!==(16&$s.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for($s=c;null!==$s;){var g=$s;switch(g.tag){case 0:case 11:case 15:il(8,g,a)}var d=g.child;if(null!==d)d.return=g,$s=d;else for(;null!==$s;){var h=(g=$s).sibling,p=g.return;if(al(g),g===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var A=a.alternate;if(null!==A){var f=A.child;if(null!==f){A.child=null;do{var C=f.sibling;f.sibling=null,f=C}while(null!==f)}}$s=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,$s=s;else e:for(;null!==$s;){if(0!==(2048&(a=$s).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var I=a.sibling;if(null!==I){I.return=a.return,$s=I;break e}$s=a.return}}var v=e.current;for($s=v;null!==$s;){var m=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==m)m.return=s,$s=m;else e:for(s=v;null!==$s;){if(0!==(2048&(l=$s).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(b){wu(l,l.return,b)}if(l===s){$s=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,$s=y;break e}$s=l.return}}if(Tl=r,Vr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(b){}i=!0}return i}finally{vt=n,Sl.transition=t}}return!1}function _u(e,t,n){e=No(e,t=ps(0,t=cs(n,t),1),1),t=tu(),null!==e&&(Ct(e,1,t),ru(e,t))}function wu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Yl||!Yl.has(i))){t=No(t,e=As(t,e=cs(n,e),1),1),e=tu(),null!==t&&(Ct(t,1,e),ru(t,e));break}}t=t.return}}function ku(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Dl&n)===n&&(4===Nl||3===Nl&&(130023424&Dl)===Dl&&500>Qe()-Vl?hu(e,0):Ll|=n),ru(e,t)}function Eu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Oo(e,t))&&(Ct(e,t,n),ru(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Eu(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Eu(e,n)}function Ou(e,t){return Ye(e,t)}function Pu(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Du(e,t,n,i){return new Pu(e,t,n,i)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Du(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)ju(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return zu(n.children,r,a,t);case _:s=8,r|=8;break;case w:return(e=Du(12,n,t,2|r)).elementType=w,e.lanes=a,e;case T:return(e=Du(13,n,t,r)).elementType=T,e.lanes=a,e;case O:return(e=Du(19,n,t,r)).elementType=O,e.lanes=a,e;case j:return Ru(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case E:s=9;break e;case S:s=11;break e;case P:s=14;break e;case D:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Du(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function zu(e,t,n,i){return(e=Du(7,e,i,t)).lanes=n,e}function Ru(e,t,n,i){return(e=Du(22,e,i,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Du(6,e,null,t)).lanes=n,e}function Lu(e,t,n){return(t=Du(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,i,r,o,a,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Du(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Vu(e){if(!e)return Er;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Dr(n))return Nr(e,n,t)}return t}function Uu(e,t,n,i,r,o,a,s,l){return(e=Zu(n,i,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=Mo(i=tu(),r=nu(n))).callback=void 0!==t&&null!==t?t:null,No(n,o,r),e.current.lanes=r,Ct(e,r,i),ru(e,i),e}function Wu(e,t,n,i){var r=t.current,o=tu(),a=nu(r);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=No(r,t,a))&&(iu(e,r,a,o),zo(e,r,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tr.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:aa(t);break;case 1:Dr(t.type)&&zr(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;kr(Io,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(kr(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(kr(la,1&la.current),null!==(e=Gs(e,t,n))?e.sibling:null);kr(la,1&la.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Us(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),kr(la,la.current),i)break;return null;case 22:case 23:return t.lanes=0,ws(e,t,n)}return Gs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ro&&0!==(1048576&t.flags)&&$r(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ws(e,t),e=t.pendingProps;var r=Pr(t,Sr.current);wo(t,n),r=_a(null,t,i,e,r,n);var a=wa();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(i)?(a=!0,zr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Do(t),r.updater=Vo,t.stateNode=r,r._reactInternals=t,Ho(t,i,e,n),t=Ts(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),ys(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===P)return 14}return 2}(i),e=Co(i,e),r){case 0:t=Es(null,t,i,e,n);break e;case 1:t=Ss(null,t,i,e,n);break e;case 11:t=bs(null,t,i,e,n);break e;case 14:t=xs(null,t,i,Co(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Es(e,t,i,r=t.elementType===i?r:Co(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ss(e,t,i,r=t.elementType===i?r:Co(i,r),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,jo(e,t),Fo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,i,n,r=cs(Error(o(423)),t));break e}if(i!==r){t=Ps(e,t,i,n,r=cs(Error(o(424)),t));break e}for(io=ur(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Jo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){t=Gs(e,t,n);break e}ys(e,t,i,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),ks(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Fs(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Qo(t,null,i,n):ys(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,bs(e,t,i,r=t.elementType===i?r:Co(i,r),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,kr(Io,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Tr.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=Mo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var g=(c=c.shared).pending;null===g?u.next=u:(u.next=g.next,g.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),_o(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_o(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ys(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,wo(t,n),i=i(r=ko(r)),t.flags|=1,ys(e,t,i,n),t.child;case 14:return r=Co(i=t.type,t.pendingProps),xs(e,t,i,r=Co(i.type,r),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Co(i,r),Ws(e,t),t.tag=1,Dr(i)?(e=!0,zr(t)):e=!1,wo(t,n),Wo(t,i,r),Ho(t,i,r,n),Ts(null,t,i,!0,e,n);case 19:return Us(e,t,n);case 22:return ws(e,t,n)}throw Error(o(156,t.tag))};var qu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Xu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $u(){}function ec(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Gu(a);s.call(e)}}Wu(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Gu(a);o.call(e)}}var a=Uu(t,i,e,0,null,!1,0,"",$u);return e._reactRootContainer=a,e[pr]=a.current,Vi(8===e.nodeType?e.parentNode:e),gu(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Gu(l);s.call(e)}}var l=Zu(e,0,!1,null,0,!1,0,"",$u);return e._reactRootContainer=l,e[pr]=l.current,Vi(8===e.nodeType?e.parentNode:e),gu((function(){Wu(t,l,n,i)})),l}(n,t,e,r,i);return Gu(a)}Xu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wu(e,t,null,null)},Xu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gu((function(){Wu(null,e,null,null)})),t[pr]=null}},Xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Rt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gt(t.pendingLanes);0!==n&&(It(t,1|n),ru(t,Qe()),0===(6&Tl)&&(Ul=Qe()+500,Vr()))}break;case 13:gu((function(){var t=Oo(e,1);if(null!==t){var n=tu();iu(t,e,1,n)}})),Yu(e,1)}},bt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)iu(t,e,134217728,tu());Yu(e,134217728)}},xt=function(e){if(13===e.tag){var t=nu(e),n=Oo(e,t);if(null!==n)iu(n,e,t,tu());Yu(e,t)}},_t=function(){return vt},wt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=yr(i);if(!r)throw Error(o(90));Y(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cu,Te=gu;var tc={usingClientEntryPoint:!1,Events:[vr,mr,yr,ke,Ee,cu]},nc={findFiberByHostInstance:Ir,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:m.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{rt=rc.inject(ic),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(o(299));var n=!1,i="",r=qu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Zu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Vi(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return gu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=qu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,r,0,a,s),e[pr]=t.current,Vi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(gu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var i=n(4164);t.s=i.createRoot,i.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,g=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,A=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,m=n?Symbol.for("react.scope"):60119;function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case g:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case u:case d:case f:case A:case l:return e;default:return t}}case r:return t}}}function b(e){return y(e)===g}t.AsyncMode=c,t.ConcurrentMode=g,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=f,t.Memo=A,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return b(e)||y(e)===c},t.isConcurrentMode=b,t.isContextConsumer=function(e){return y(e)===u},t.isContextProvider=function(e){return y(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return y(e)===d},t.isFragment=function(e){return y(e)===o},t.isLazy=function(e){return y(e)===f},t.isMemo=function(e){return y(e)===A},t.isPortal=function(e){return y(e)===r},t.isProfiler=function(e){return y(e)===s},t.isStrictMode=function(e){return y(e)===a},t.isSuspense=function(e){return y(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===g||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===A||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===I||e.$$typeof===v||e.$$typeof===m||e.$$typeof===C)},t.typeOf=y},7441:(e,t,n)=>{"use strict";e.exports=n(1372)},4988:function(e,t,n){var i,r,o;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,r=[n(2007),n(2791)],i=function(t,n){"use strict";var i,r;function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=i?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function g(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=C();return function(){var n,i=I(e);if(t){var r=I(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=s(t),n=a(n);var b={x:"clientWidth",y:"clientHeight"},x={x:"clientTop",y:"clientLeft"},_={x:"innerWidth",y:"innerHeight"},w={x:"offsetWidth",y:"offsetHeight"},k={x:"offsetLeft",y:"offsetTop"},E={x:"overflowX",y:"overflowY"},S={x:"scrollWidth",y:"scrollHeight"},T={x:"scrollLeft",y:"scrollTop"},O={x:"width",y:"height"},P=function(){},D=!!function(){if("undefined"===typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",P,{get passive(){return e=!0,!1}})}catch(t){}return e}()&&{passive:!0},j="ReactList failed to reach a stable state.",M=40,N=function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0},z=function(e){for(var t=e.props.axis,n=e.getEl(),i=E[t];n=n.parentElement;)switch(window.getComputedStyle(n)[i]){case"auto":case"scroll":case"overlay":return n}return window},R=function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[_[t]]:n[b[t]]},F=function(e,t){var n=e.length,i=e.minSize,r=e.type,o=t.from,a=t.size,s=t.itemsPerRow,l=(a=Math.max(a,i))%s;return l&&(a+=s-l),a>n&&(a=n),(l=(o="simple"!==r&&o?Math.max(Math.min(o,n-a),0):0)%s)&&(o-=l,a+=l),o===t.from&&a==t.size?t:m(m({},t),{},{from:o,size:a})};e.exports=(r=i=function(e){d(i,e);var t=p(i);function i(e){var n;return u(this,i),(n=t.call(this,e)).state=F(e,{itemsPerRow:1,from:e.initialIndex,size:0}),n.cache={},n.cachedScrollPosition=null,n.prevPrevState={},n.unstable=!1,n.updateCounter=0,n}return g(i,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=F(e,t);return n===t?null:n}}]),g(i,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>M)return this.unstable=!0,console.error(j);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout((function(){t.updateCounter=0,delete t.updateCounterTimeoutId}),0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(N(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.removeEventListener("mousewheel",P,D)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[x[t]]||0,i=k[t];do{n+=e[i]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"===typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,n=T[t],i=e===window?document.body[n]||document.documentElement[n]:e[n],r=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),o=Math.max(0,Math.min(i,r)),a=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+o-this.getOffset(a),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[T[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,i=t.documentElement,r=S[this.props.axis];return e===window?Math.max(n[r],i[r]):e[r]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=Math.max(0,t-e),i=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(i=Math.min(i,this.getSpaceBefore(this.props.length))),{start:n,end:i}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,i=this.state,r=i.itemSize,o=i.itemsPerRow;if(n&&r&&o)return{itemSize:r,itemsPerRow:o};var a=this.items.children;if(!a.length)return{};var s=a[0],l=s[w[t]],u=Math.abs(l-r);if((isNaN(u)||u>=1)&&(r=l),!r)return{};for(var c=k[t],g=s[c],d=a[o=1];d&&d[c]===g;d=a[o])++o;return{itemSize:r,itemsPerRow:o}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=P),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",P)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,D),this.scrollParent.addEventListener("mousewheel",P,D))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,i=0;if(n.length){var r=this.props.axis,o=n[0],a=n[n.length-1];i=this.getOffset(a)+a[w[r]]-this.getOffset(o)}if(i>t)return e();var s=this.props,l=s.pageSize,u=s.length,c=Math.min(this.state.size+l,u);this.maybeSetState({size:c},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,i=t.end,r=this.props,o=r.length,a=r.pageSize,s=0,l=0,u=0,c=o-1;l<c;){var g=this.getSizeOfItem(l);if(null==g||s+g>n)break;s+=g,++l}for(var d=o-l;u<d&&s<i;){var h=this.getSizeOfItem(l+u);if(null==h){u=Math.min(u+a,d);break}s+=h,++u}this.maybeSetState(F(this.props,{from:l,itemsPerRow:1,size:u}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,i=t.itemsPerRow;if(!n||!i)return e();var r=this.getStartAndEnd(),o=r.start,a=r.end,s=F(this.props,{from:Math.floor(o/n)*i,size:(Math.ceil((a-o)/n)+1)*i,itemsPerRow:i}),l=s.from,u=s.size;return this.maybeSetState({itemsPerRow:i,from:l,itemSize:n,size:u},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,i=n.itemSize,r=n.itemsPerRow;if(i)return t[e]=Math.floor(e/r)*i;for(var o=e;o>0&&null==t[--o];);for(var a=t[o]||0,s=o;s<e;++s){t[s]=a;var l=this.getSizeOfItem(s);if(null==l)break;a+=l}return t[e]=a}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,i=w[this.props.axis],r=0,o=n.length;r<o;++r)e[t+r]=n[r][i]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,i=this.props,r=i.axis,o=i.itemSizeGetter,a=i.itemSizeEstimator,s=i.type,l=this.state,u=l.from,c=l.itemSize,g=l.size;if(c)return c;if(o)return o(e);if(e in t)return t[e];if("simple"===s&&e>=u&&e<u+g&&n){var d=n.children[e-u];if(d)return d[w[r]]}return a?a(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),i=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),r=Math.min(i,n),o=Math.max(i,n);return t<=r?this.setScroll(r):t>o?this.setScroll(o):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,i=n.from,r=n.size,o=this.getStartAndEnd(0),a=o.start,s=o.end,l={},u=i;u<i+r;++u){var c=this.getSpaceBefore(u,l),g=c+this.getSizeOfItem(u);null==e&&g>a&&(e=u),null!=e&&c<s&&(t=u)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,i=t.itemsRenderer,r=this.state,o=r.from,a=r.size,s=[],l=0;l<a;++l)s.push(n(o+l,l));return i(s,(function(t){return e.items=t}))}},{key:"render",value:function(){var e=this,t=this.props,i=t.axis,r=t.length,o=t.type,a=t.useTranslate3d,s=this.state,l=s.from,u=s.itemsPerRow,c=this.renderItems();if("simple"===o)return c;var g={position:"relative"},d={},h=Math.ceil(r/u)*u,p=this.getSpaceBefore(h,d);p&&(g[O[i]]=p,"x"===i&&(g.overflowX="hidden"));var A=this.getSpaceBefore(l,d),f="x"===i?A:0,C="y"===i?A:0,I=a?"translate3d(".concat(f,"px, ").concat(C,"px, 0)"):"translate(".concat(f,"px, ").concat(C,"px)"),v={msTransform:I,WebkitTransform:I,transform:I};return n.default.createElement("div",{style:g,ref:function(t){return e.el=t}},n.default.createElement("div",{style:v},c))}}]),i}(n.Component),y(i,"displayName","ReactList"),y(i,"propTypes",{axis:t.default.oneOf(["x","y"]),initialIndex:t.default.number,itemRenderer:t.default.func,itemSizeEstimator:t.default.func,itemSizeGetter:t.default.func,itemsRenderer:t.default.func,length:t.default.number,minSize:t.default.number,pageSize:t.default.number,scrollParentGetter:t.default.func,scrollParentViewportSizeGetter:t.default.func,threshold:t.default.number,type:t.default.oneOf(["simple","variable","uniform"]),useStaticSize:t.default.bool,useTranslate3d:t.default.bool}),y(i,"defaultProps",{axis:"y",itemRenderer:function(e,t){return n.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return n.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:z,scrollParentViewportSizeGetter:R,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),r)},void 0===(o="function"===typeof i?i.apply(t,r):i)||(e.exports=o)},6374:(e,t,n)=>{"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,f={};function C(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}function I(){}function v(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},I.prototype=C.prototype;var m=v.prototype=new I;m.constructor=v,A(m,C.prototype),m.isPureReactComponent=!0;var y=Array.isArray,b=Object.prototype.hasOwnProperty,x={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)b.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+S(l,0):o,y(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),T(a,t,r,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",y(e))for(var u=0;u<e.length;u++){var c=o+S(s=e[u],u);l+=T(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,r,c=o+S(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var i=[],r=0;return T(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},j={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:j,ReactCurrentOwner:x};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=C,t.Fragment=r,t.Profiler=a,t.PureComponent=v,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=A({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)b.call(t,u)&&!_.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],g=1,d=null,h=3,p=!1,A=!1,f=!1,C="function"===typeof setTimeout?setTimeout:null,I="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function m(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function y(e){if(f=!1,m(e),!A)if(null!==i(u))A=!0,j(b);else{var t=i(c);null!==t&&M(y,t.startTime-e)}}function b(e,n){A=!1,f&&(f=!1,I(k),k=-1),p=!0;var o=h;try{for(m(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===i(u)&&r(u),m(n)}else r(u);d=i(u)}if(null!==d)var l=!0;else{var g=i(c);null!==g&&M(y,g.startTime-n),l=!1}return l}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,_=!1,w=null,k=-1,E=5,S=-1;function T(){return!(t.unstable_now()-S<E)}function O(){if(null!==w){var e=t.unstable_now();S=e;var n=!0;try{n=w(!0,e)}finally{n?x():(_=!1,w=null)}}else _=!1}if("function"===typeof v)x=function(){v(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=O,x=function(){D.postMessage(null)}}else x=function(){C(O,0)};function j(e){w=e,_||(_=!0,x())}function M(e,n){k=C((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||p||(A=!0,j(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:g++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(f?(I(k),k=-1):f=!0,M(y,o-a))):(e.sortIndex=s,n(u,e),A||p||(A=!0,j(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},5496:(e,t,n)=>{"use strict";function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),i=Object.keys(t),r=n.length;if(i.length!==r)return!1;for(var o=0;o<r;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}n.r(t),n.d(t,{shallowEqualArrays:()=>r,shallowEqualObjects:()=>i})},7780:(e,t)=>{"use strict";function n(e,t){var n=new Set;return e.forEach((function(e){t.has(e)&&n.add(e)})),n.size}function i(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n.size}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var o=e=e||{},a=o.alpha,s=void 0===a?1:a,l=o.beta,u=void 0===l?1:l,c=o.symmetric,g=void 0!==c&&c;if(s<0||u<0)throw Error("talisman/metrics/distance/tversky: alpha & beta parameters should be >= 0.");return t=new Set(t),r=new Set(r),g?function(e,t,r,o){var a=n(e,t),s=i(e,t),l=i(t,e),u=Math.min(s,l),c=Math.max(s,l);return a/(a+o*(r*u+Math.pow(r-1,c)))}(t,r,s,u):function(e,t,r,o){var a=n(e,t);return a/(a+r*i(e,t)+o*i(t,e))}(t,r,s,u)},e.exports=t.default},2391:e=>{"use strict";var t=function(){};e.exports=t},907:(e,t,n)=>{"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:()=>i})},7326:(e,t,n)=>{"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>i})},5671:(e,t,n)=>{"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>i})},3144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(9142);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.Z)(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4062:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(1120);var r=n(2963);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,r.Z)(this,n)}}},4942:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9142);function r(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1120:(e,t,n)=>{"use strict";function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}n.d(t,{Z:()=>i})},136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(9611);function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,i.Z)(e,t)}},2963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(1002),r=n(7326);function o(e,t){if(t&&("object"===(0,i.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,r.Z)(e)}},9611:(e,t,n)=>{"use strict";function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}n.d(t,{Z:()=>i})},9142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(1002);function r(e){var t=function(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,i.Z)(t)?t:String(t)}},1002:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})},181:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(907);function r(e,t){if(e){if("string"===typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(o,a),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e=n(2791),t=n.t(e,2),i=n(1250),r=n(9611);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}var a=n(2007),s=n.n(a);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function c(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}const g=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&u(e),a=t&&u(t),s=o||a;if(e&&u(e)?r=i:i.length&&(r.pop(),r=r.concat(i)),!r.length)return"/";if(r.length){var l=r[r.length-1];n="."===l||".."===l||""===l}else n=!1;for(var g=0,d=r.length;d>=0;d--){var h=r[d];"."===h?c(r,d):".."===h?(c(r,d),g++):g&&(c(r,d),g--)}if(!s)for(;g--;g)r.unshift("..");!s||""===r[0]||r[0]&&u(r[0])||r.unshift("");var p=r.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function d(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const h=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,i){return e(t,n[i])}));if("object"===typeof t||"object"===typeof n){var i=d(t),r=d(n);return i!==t||r!==n?e(i,r):Object.keys(Object.assign({},t,n)).every((function(i){return e(t[i],n[i])}))}return!1};var p=!0,A="Invariant failed";function f(e,t){if(!e){if(p)throw new Error(A);var n="function"===typeof t?t():t,i=n?"".concat(A,": ").concat(n):A;throw new Error(i)}}function C(e){return"/"===e.charAt(0)?e:"/"+e}function I(e){return"/"===e.charAt(0)?e.substr(1):e}function v(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function m(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function y(e){var t=e.pathname,n=e.search,i=e.hash,r=t||"/";return n&&"?"!==n&&(r+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(r+="#"===i.charAt(0)?i:"#"+i),r}function b(e,t,n,i){var r;"string"===typeof e?(r=function(e){var t=e||"/",n="",i="",r=t.indexOf("#");-1!==r&&(i=t.substr(r),t=t.substr(0,r));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===i?"":i}}(e),r.state=t):(void 0===(r=l({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(r.key=n),i?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=g(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function x(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,i,r){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof i?i(o,r):r(!0):r(!1!==o)}else r(!0)},appendListener:function(e){var n=!0;function i(){n&&e.apply(void 0,arguments)}return t.push(i),function(){n=!1,t=t.filter((function(e){return e!==i}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.forEach((function(e){return e.apply(void 0,n)}))}}}var _=!("undefined"===typeof window||!window.document||!window.document.createElement);function w(e,t){t(window.confirm(e))}var k="popstate",E="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),_||f(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,o=r.forceRefresh,a=void 0!==o&&o,s=r.getUserConfirmation,u=void 0===s?w:s,c=r.keyLength,g=void 0===c?6:c,d=e.basename?m(C(e.basename)):"";function h(e){var t=e||{},n=t.key,i=t.state,r=window.location,o=r.pathname+r.search+r.hash;return d&&(o=v(o,d)),b(o,i,n)}function p(){return Math.random().toString(36).substr(2,g)}var A=x();function I(e){l(B,e),B.length=t.length,A.notifyListeners(B.location,B.action)}function T(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||D(h(e.state))}function O(){D(h(S()))}var P=!1;function D(e){if(P)P=!1,I();else{A.confirmTransitionTo(e,"POP",u,(function(t){t?I({action:"POP",location:e}):function(e){var t=B.location,n=M.indexOf(t.key);-1===n&&(n=0);var i=M.indexOf(e.key);-1===i&&(i=0);var r=n-i;r&&(P=!0,z(r))}(e)}))}}var j=h(S()),M=[j.key];function N(e){return d+y(e)}function z(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?(window.addEventListener(k,T),i&&window.addEventListener(E,O)):0===R&&(window.removeEventListener(k,T),i&&window.removeEventListener(E,O))}var L=!1;var B={length:t.length,action:"POP",location:j,createHref:N,push:function(e,i){var r="PUSH",o=b(e,i,p(),B.location);A.confirmTransitionTo(o,r,u,(function(e){if(e){var i=N(o),s=o.key,l=o.state;if(n)if(t.pushState({key:s,state:l},null,i),a)window.location.href=i;else{var u=M.indexOf(B.location.key),c=M.slice(0,u+1);c.push(o.key),M=c,I({action:r,location:o})}else window.location.href=i}}))},replace:function(e,i){var r="REPLACE",o=b(e,i,p(),B.location);A.confirmTransitionTo(o,r,u,(function(e){if(e){var i=N(o),s=o.key,l=o.state;if(n)if(t.replaceState({key:s,state:l},null,i),a)window.location.replace(i);else{var u=M.indexOf(B.location.key);-1!==u&&(M[u]=o.key),I({action:r,location:o})}else window.location.replace(i)}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&(e=!1);var t=A.setPrompt(e);return L||(F(1),L=!0),function(){return L&&(L=!1,F(-1)),t()}},listen:function(e){var t=A.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var O="hashchange",P={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+I(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:I,decodePath:C},slash:{encodePath:C,decodePath:C}};function D(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function j(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function M(e){window.location.replace(D(window.location.href)+"#"+e)}function N(e){void 0===e&&{},_||f(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,r=void 0===i?w:i,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?m(C(e.basename)):"",u=P[a],c=u.encodePath,g=u.decodePath;function d(){var e=g(j());return s&&v(e,s),b(e)}var h=x();function p(e){l(B,e),B.length=t.length,h.notifyListeners(B.location,B.action)}var A=!1,I=null;function k(){var e,t,n=j(),i=c(n);if(n!==i)M(i);else{var o=d(),a=B.location;if(!A&&(o,a.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(I===y(o))return;null,function(e){if(A)!1,p();else{var t="POP";h.confirmTransitionTo(e,t,r,(function(n){n?p({action:t,location:e}):function(e){var t=B.location,n=N.lastIndexOf(y(t));-1===n&&0;var i=N.lastIndexOf(y(e));-1===i&&0;var r=n-i;r&&(!0,z(r))}(e)}))}}(o)}}var E=j(),S=c(E);E!==S&&M(S);var T=d(),N=[y(T)];function z(e){t.go(e)}var R=0;function F(e){1===(R+=e)&&1===e?window.addEventListener(O,k):0===R&&window.removeEventListener(O,k)}var L=!1;var B={length:t.length,action:"POP",location:T,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&D(window.location.href),n+"#"+c(s+y(e))},push:function(e,t){var n="PUSH",i=b(e,void 0,void 0,B.location);h.confirmTransitionTo(i,n,r,(function(e){if(e){var t=y(i),r=c(s+t);if(j()!==r){t,function(e){window.location.hash=e}(r);var o=N.lastIndexOf(y(B.location)),a=N.slice(0,o+1);a.push(t),a,p({action:n,location:i})}else p()}}))},replace:function(e,t){var n="REPLACE",i=b(e,void 0,void 0,B.location);h.confirmTransitionTo(i,n,r,(function(e){if(e){var t=y(i),r=c(s+t);j()!==r&&(t,M(r));var o=N.indexOf(y(B.location));-1!==o&&(N[o]=t),p({action:n,location:i})}}))},go:z,goBack:function(){z(-1)},goForward:function(){z(1)},block:function(e){void 0===e&&!1;var t=h.setPrompt(e);return L||(F(1),!0),function(){return L&&(!1,F(-1)),t()}},listen:function(e){var t=h.appendListener(e);return F(1),function(){F(-1),t()}}};return B}function z(e,t,n){return Math.min(Math.max(e,t),n)}var R=n(6151),F=n.n(R);n(7441);function L(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n(2110);var B=1073741823,Z="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var V=e.createContext||function(t,n){var i,r,a="__create-react-context-"+function(){var e="__global_unique_id__";return Z[e]=(Z[e]||0)+1}()+"__",l=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,i){e=n,t.forEach((function(t){return t(e,i)}))}}}(t.props.value),t}o(t,e);var i=t.prototype;return i.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},i.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,i=this.props.value,r=e.value;((o=i)===(a=r)?0!==o||1/o===1/a:o!==o&&a!==a)?t=0:(t="function"===typeof n?n(i,r):B,0!==(t|=0)&&this.emitter.set(e.value,t))}var o,a},i.render=function(){return this.props.children},t}(e.Component);l.childContextTypes=((i={})[a]=s().object.isRequired,i);var u=function(e){function n(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).observedBits=void 0,t.state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}o(n,e);var i=n.prototype;return i.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?B:t},i.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?B:e},i.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},i.getValue=function(){return this.context[a]?this.context[a].get():t},i.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return u.contextTypes=((r={})[a]=s().object,r),{Provider:l,Consumer:u}},U=function(e){var t=V();return t.displayName=e,t},W=U("Router-History"),G=U("Router"),H=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._pendingLocation=e}))),n}o(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var i=n.prototype;return i.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return e.createElement(G.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(W.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;var Y=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(e.Component);var q={},K=1e4,X=0;function Q(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(q[e])return q[e];var t=F().compile(e);return X<K&&(q[e]=t,X++),t}(e)(t,{pretty:!0})}function J(t){var n=t.computedMatch,i=t.to,r=t.push,o=void 0!==r&&r;return e.createElement(G.Consumer,null,(function(t){t||f(!1);var r=t.history,a=t.staticContext,s=o?r.push:r.replace,u=b(n?"string"===typeof i?Q(i,n.params):l({},i,{pathname:Q(i.pathname,n.params)}):i);return a?(s(u),null):e.createElement(Y,{onMount:function(){s(u)},onUpdate:function(e,t){var n,i,r=b(t.to);n=r,i=l({},u,{key:r.key}),n.pathname===i.pathname&&n.search===i.search&&n.hash===i.hash&&n.key===i.key&&h(n.state,i.state)||s(u)},to:i})}))}var $={},ee=1e4,te=0;function ne(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,i=n.path,r=n.exact,o=void 0!==r&&r,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(i).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var i=function(e,t){var n=""+t.end+t.strict+t.sensitive,i=$[n]||($[n]={});if(i[e])return i[e];var r=[],o={regexp:F()(e,r,t),keys:r};return te<ee&&(i[e]=o,te++),o}(n,{end:o,strict:s,sensitive:u}),r=i.regexp,a=i.keys,l=r.exec(e);if(!l)return null;var c=l[0],g=l.slice(1),d=e===c;return o&&!d?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=g[n],e}),{})}}),null)}var ie=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this;return e.createElement(G.Consumer,null,(function(n){n||f(!1);var i=t.props.location||n.location,r=l({},n,{location:i,match:t.props.computedMatch?t.props.computedMatch:t.props.path?ne(i.pathname,t.props):n.match}),o=t.props,a=o.children,s=o.component,u=o.render;return Array.isArray(a)&&function(t){return 0===e.Children.count(t)}(a)&&(a=null),e.createElement(G.Provider,{value:r},r.match?a?"function"===typeof a?a(r):a:s?e.createElement(s,r):u?u(r):null:"function"===typeof a?a(r):null)}))},n}(e.Component);function re(e){return"/"===e.charAt(0)?e:"/"+e}function oe(e,t){if(!e)return t;var n=re(e);return 0!==t.pathname.indexOf(n)?t:l({},t,{pathname:t.pathname.substr(n.length)})}function ae(e){return"string"===typeof e?e:y(e)}function se(e){return function(){f(!1)}}function le(){}e.Component;var ue=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.render=function(){var t=this;return e.createElement(G.Consumer,null,(function(n){n||f(!1);var i,r,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==r&&e.isValidElement(t)){i=t;var a=t.props.path||t.props.from;r=a?ne(o.pathname,l({},t.props,{path:a})):n.match}})),r?e.cloneElement(i,{location:o,computedMatch:r}):null}))},n}(e.Component);var ce=e.useContext;function ge(){var e=ce(G).match;return e?e.params:{}}var de=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).history=T(e.props),e}return o(n,t),n.prototype.render=function(){return e.createElement(H,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var he=function(e,t){return"function"===typeof e?e(t):e},pe=function(e,t){return"string"===typeof e?b(e,null,null,t):e},Ae=function(e){return e},fe=e.forwardRef;"undefined"===typeof fe&&(fe=Ae);var Ce=fe((function(t,n){var i=t.innerRef,r=t.navigate,o=t.onClick,a=L(t,["innerRef","navigate","onClick"]),s=a.target,u=l({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=Ae!==fe&&n||i,e.createElement("a",u)}));var Ie=fe((function(t,n){var i=t.component,r=void 0===i?Ce:i,o=t.replace,a=t.to,s=t.innerRef,u=L(t,["component","replace","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||f(!1);var i=t.history,c=pe(he(a,t.location),t.location),g=c?i.createHref(c):"",d=l({},u,{href:g,navigate:function(){var e=he(a,t.location),n=y(t.location)===y(pe(e));(o||n?i.replace:i.push)(e)}});return Ae!==fe?d.ref=n||s:d.innerRef=s,e.createElement(r,d)}))})),ve=function(e){return e},me=e.forwardRef;"undefined"===typeof me&&(me=ve);me((function(t,n){var i=t["aria-current"],r=void 0===i?"page":i,o=t.activeClassName,a=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,g=t.isActive,d=t.location,h=t.sensitive,p=t.strict,A=t.style,C=t.to,I=t.innerRef,v=L(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(G.Consumer,null,(function(t){t||f(!1);var i=d||t.location,o=pe(he(C,i),i),m=o.pathname,y=m&&m.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=y?ne(i.pathname,{path:y,exact:c,sensitive:h,strict:p}):null,x=!!(g?g(b,i):b),_="function"===typeof u?u(x):u,w="function"===typeof A?A(x):A;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,a),w=l({},w,s));var k=l({"aria-current":x&&r||null,className:_,style:w,to:o},v);return ve!==me?k.ref=n||I:k.innerRef=I,e.createElement(Ie,k)}))}));var ye=n(184);const be=(0,e.createContext)({alerts:[],pendingTasks:[],pendingTasksMeta:void 0,addAlert:()=>{},addSuccessAlert:()=>{},addErrorAlert:()=>{},addPendingTask:()=>{},setPendingTasksMeta:()=>{},removePendingTask:()=>{}}),xe=t=>{const[n,i]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[a,s]=(0,e.useState)(void 0);return(0,ye.jsx)(be.Provider,{value:{alerts:n,pendingTasks:r,pendingTasksMeta:a,addAlert:(e,t)=>{i((n=>[...n,{variant:e,message:t,on:(new Date).valueOf()}]))},addSuccessAlert:e=>{i((t=>[...t,{variant:"success",message:e,on:(new Date).valueOf()}]))},addErrorAlert:e=>{i((t=>[...t,{variant:"danger",message:e,on:(new Date).valueOf()}]))},addPendingTask:e=>{o((t=>[...t,e]))},setPendingTasksMeta:s,removePendingTask:e=>{o((t=>[...t.filter((t=>t!==e))]))}},children:t.children})},_e=(0,e.createContext)({filters:[],addFilter:()=>{},removeFilter:()=>{}}),we=t=>{const[n,i]=(0,e.useState)([]);return(0,ye.jsx)(_e.Provider,{value:{filters:n,addFilter:(e,t)=>{i((n=>[...n.filter((t=>(null===t||void 0===t?void 0:t.field)!==e)),{field:e,params:t}]))},removeFilter:e=>{i((t=>[...t.filter((t=>(null===t||void 0===t?void 0:t.field)!==e))]))}},children:t.children})};var ke=n(763);const Ee=e=>void 0===e||null==e||e.length<=0,Se=(e,t)=>"-"===e[0]?[e.substring(1),"desc"]:[e,"asc"],Te=e=>{var t;return null===e||void 0===e||null===(t=e.map((e=>parseFloat(e))))||void 0===t?void 0:t.reduce(((e,t)=>e+t),0)},Oe=e=>{const t=new Set(e.map((e=>JSON.stringify(e))));return Array.from(t).map((e=>JSON.parse(e)))},Pe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===t)return e;if(Array.isArray(t)){const n=t.map((e=>Se(e))),i=n.map((e=>e[0])),r=n.map((e=>e[1]));return(0,ke.orderBy)(e,i,r)}return"-"===t[0]&&(t=t.substring(1),n=!0),n?e.sort(((e,n)=>n[t]-e[t])):e.sort(((e,n)=>e[t]-n[t]))};Pe.propTypes={arr:a.PropTypes.arrayOf([a.PropTypes.object]),key:a.PropTypes.oneOfType([a.PropTypes.string,a.PropTypes.arrayOf([a.PropTypes.string])]),asc:a.PropTypes.boolean};const De=(e,t,n,i)=>{if("function"===typeof t)return t(e,i);if(!Ee(e)){for(var r=t.split(".");r.length&&(e=e[r.shift()]););if(!Ee(e)){if("string"!==typeof e&&!0!==n)try{return JSON.stringify(e)}catch(o){return console.log("Error",o),String(e)}return e}}},je=e=>{const t=Object.fromEntries(Object.entries(e).map(((e,t)=>{let[n,i]=e;return[n,"object"===typeof i?void 0===i.length?i.id:i.map((e=>e.id)).join(","):i]})));return new URLSearchParams(t).toString()},Me=e=>{if(""===e||void 0===e)return[!0,null];return Boolean(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))?[!0,null]:[!1,"Email not valid"]},Ne=e=>void 0===e?[!0,null]:"string"!=typeof e?[!1,"Must be a number"]:isNaN(e)||isNaN(parseFloat(e))?""===e?[!0,null]:[!1,"Must be a number"]:[!0,null],ze=(e,t)=>{"Enter"===e.key&&(e.preventDefault(),t())},Re=(e,t)=>{let n=!0,i={};return e.forEach((e=>{let t=!0;var r;e.notNull&&(r=e.value,Ee(r))?(i[[e.field]]={valid:!1,message:"Please Provide a Value"},n=!1,t=!1):(e.validators||[]).forEach((r=>{const[o,a]=r(e.value);o||(i[[e.field]]={valid:!1,message:a},n=!1,t=!1)})),t&&(i[[e.field]]={valid:!0})})),t({formValid:n,formErrors:i}),n},Fe={formValid:!1,formErrors:{}};var Le=n(7780);n.n(Le)().bind(null,{symmetric:!1,alpha:.1,beta:.9});var Be=n(7808);const Ze=()=>{const e=Be.ZP.load("csrftoken");return void 0!==e?{method:"GET",headers:{"content-type":"application/json","x-csrftoken":e},credentials:"include"}:{method:"GET",headers:{"content-type":"application/json"}}},Ve=e=>(e=e.replace(/^\//g,""),"".concat("http://localhost:8000","/").concat(e)),Ue=async e=>{if(e.ok)return 204===e.status?{}:e.json();{let t={};e.status<=500&&(t=await e.json());let n=new Error("Request Error",{cause:{data:t,status:e.status}});n.response=e,n.status=e.status,401===n.status&&window.location.reload(!1);try{const t=JSON.stringify({bodyUsed:e.bodyUsed,headers:e.headers,ok:e.ok,redirected:e.redirected,status:e.status,statusText:e.statusText,type:e.type,url:e.url});window.LogzioLogger.log({message:"error ".concat(n," response=").concat(t),log_level:"ERROR"})}catch{console.log("unable to submit")}throw n}},We=(e,t,n)=>{fetch(Ve(e),Ze()).then((e=>Ue(e))).then((e=>t(e))).catch((function(e){if(void 0!==n)return n(e);console.log(e)}))},Ge=(e,t,n,i)=>{fetch(Ve(e),(e=>{const t=Be.ZP.load("csrftoken");return void 0!==t?{method:"POST",headers:{"content-type":"application/json","x-csrftoken":t},body:JSON.stringify(e),credentials:"include"}:{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}})(t)).then((e=>Ue(e))).then((e=>n(e))).catch((function(e){if(void 0!==i)return i(e);console.log(e)}))},He=(e,t,n,i)=>{fetch(Ve(e),(e=>{const t=Be.ZP.load("csrftoken");return void 0!==t?{method:"PUT",headers:{"content-type":"application/json","x-csrftoken":t},body:JSON.stringify(e),credentials:"include"}:{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(e)}})(t)).then((e=>Ue(e))).then((e=>n(e))).catch((function(e){if(void 0!==i)return i(e);console.log(e)}))},Ye=(e,t,n)=>{fetch(Ve(e),(()=>{const e=Be.ZP.load("csrftoken");return void 0!==e?{method:"DELETE",headers:{"content-type":"application/json","x-csrftoken":e},credentials:"include"}:{method:"DELETE",headers:{"content-type":"application/json"}}})()).then((e=>Ue(e))).then((e=>t(e))).catch((function(e){if(void 0!==n)return n(e);console.log(e)}))},qe=e=>{var t,n;const i=null===e||void 0===e||null===(t=e.cause)||void 0===t?void 0:t.status,r=null===e||void 0===e||null===(n=e.cause)||void 0===n?void 0:n.data;return 400===i||404===i?Object.keys(r).map((e=>null===r||void 0===r?void 0:r[e])).join(","):"Unknown Error"},Ke=e=>Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return!Ee(n)||void 0!==(null===n||void 0===n?void 0:n.id)})).map((e=>{let[t,n]=e;return"object"===typeof n?[t,null===n||void 0===n?void 0:n.id]:[t,n]}))),Xe=(e,t)=>{void 0===t&&(t=500),setTimeout((()=>e(!1)),t)},Qe=e=>e instanceof Date?new Date(e.getTime()).setHours(0,0,0,0):e,Je=(e,t,n)=>{void 0===t&&(t=new Date);let i=new Date(t);if(i=new Date(i.setDate(i.getDate()+e)),!0===n){let e=i.getDate().toString().padStart(2,0),t=(i.getMonth()+1).toString().padStart(2,0),n=i.getFullYear().toString();return"".concat(n,"-").concat(t,"-").concat(e)}return i},$e=(e,t,n)=>{void 0===t&&(t=new Date);const i=new Date(t);for(;e>0;)i.setDate(i.getDate()+1),0!==(r=i).getDay()&&6!==r.getDay()&&e--;var r;if(!0===n){let e=i.getDate().toString().padStart(2,0),t=(i.getMonth()+1).toString().padStart(2,0),n=i.getFullYear().toString();return"".concat(n,"-").concat(t,"-").concat(e)}return i},et=e=>e.toISOString().slice(0,10),tt=e=>{void 0===e&&(e=2);var t=new Date,n=t.getDay();if(n<=e){var i=new Date(t);i.setDate(t.getDate()-n);var r=new Date(i);return r.setDate(i.getDate()+6),{start_date:et(i),end_date:et(r)}}var o=new Date(t);o.setDate(t.getDate()+(8-n));var a=new Date(o);return a.setDate(o.getDate()+6),{start_date:et(o),end_date:et(a)}},nt=(e,t)=>e.filter((e=>Object.keys(t).map((n=>((e,t,n)=>{if(t.endsWith("__in")){var i;const r=null===t||void 0===t?void 0:t.slice(0,-4),o=n[t];return null===(i=De(e,r))||void 0===i?void 0:i.toLowerCase().includes(null===o||void 0===o?void 0:o.toLowerCase())}if(t.endsWith("__notnull")){const i=null===t||void 0===t?void 0:t.slice(0,-9);return n[t]?!Ee(De(e,i)):Ee(De(e,i))}if(t.endsWith("__gtabs")){const i=null===t||void 0===t?void 0:t.slice(0,-7),r=parseFloat(n[t]);return Math.abs(parseFloat(De(e,i)))>r}return De(e,t)===n[t]})(e,n,t))).every(Boolean))),it=e=>e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),rt=(e,t)=>{navigator.clipboard.writeText(e),void 0!==t&&t()},ot=e=>Ee(e)?{}:{longitude:(Math.min(...null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e[0])))+Math.max(...null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e[0]))))/2,latitude:(Math.min(...null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e[1])))+Math.max(...null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e[1]))))/2},at=[{id:1,label:"Version 1"}],st="ib",lt="ob",ut="direct",ct="carry",gt="static",dt="perc",ht="perc_orig",pt="perc_dest",At=[{id:gt,label:"Static Number Qty"},{id:dt,label:"Percentage Qty"},{id:ht,label:"Percentage Orig Qty"},{id:pt,label:"Percentage Dest Qty"},{id:"perc_dest_rem",label:"Percentage Dest Qty Remaining"}],ft=[dt,ht,pt],Ct=[st,lt,ct,"transfer","transload"],It="grain",vt=[{id:It,label:"Grain"},{id:"office",label:"Office"}],mt="planned",yt="available",bt="both",xt=(e,t)=>e.filter((e=>null===t||void 0===t?void 0:t.includes(e.id))),_t=(e,t)=>{var n,i;return void 0===(null===t||void 0===t?void 0:t.id)?null===(i=e.filter((e=>t===e.id)))||void 0===i?void 0:i[0]:null===(n=e.filter((e=>(null===t||void 0===t?void 0:t.id)===e.id)))||void 0===n?void 0:n[0]},wt="p_o",kt="s_b",Et="inv",St=[{id:wt,label:"Purchase Offer"},{id:kt,label:"Sale Bid"}],Tt=St.map((e=>null===e||void 0===e?void 0:e.id)),Ot=[Et,"p",wt],Pt=[Et,"s",kt],Dt=["p","s"],jt="carry",Mt="orig",Nt="sale",zt="flow",Rt="internal",Ft="external",Lt="managed",Bt="multiple",Zt="phone",Vt="text",Ut="email",Wt="other",Gt=[{id:!0,label:"Yes"},{id:!1,label:"No"}],Ht={booleanOptions:Gt,debug:"true"==="true".toLowerCase(),QtyUnits:At},Yt=e=>(e=(e=e||"").replace(/^\//g,""),"".concat("/t/app/").concat(e)),qt=(0,e.createContext)({filters:{market_zone_in:[],commodity_in:[],facility_in:[]},flowVersionID:void 0,flowVersion:void 0,flowSchedule:{},flowItem:void 0,flowToHighlight:void 0,flowFromHighlight:void 0,setFlowVersionID:()=>{},setFlowVersion:()=>{},setFilters:()=>{},setSchedule:()=>{},setFlowItem:()=>{},setFlowToHighlight:()=>{},setFlowFromHighlight:()=>{}}),Kt=t=>{const[n,i]=(0,e.useState)({market_zone_in:[],commodity_in:[],facility_in:[]}),[r,o]=(0,e.useState)(void 0),[a,s]=(0,e.useState)(void 0),[l,u]=(0,e.useState)({}),[c,g]=(0,e.useState)(void 0),[d,h]=(0,e.useState)(void 0),[p,A]=(0,e.useState)(void 0),f=(0,e.useCallback)(((e,t)=>{void 0!==e?We("/api/v1/tr/comm-flow-v/".concat(e,"/"),(e=>s(e))):(s(void 0),u({}))}),[]);(0,e.useEffect)((()=>{void 0!==r?f(r,n):f(void 0)}),[r,f]);return(0,ye.jsx)(qt.Provider,{value:{filters:n,flowVersionID:r,flowVersion:a,flowSchedule:l,flowItem:c,flowToHighlight:d,flowFromHighlight:p,setFilters:(e,t)=>{i((n=>({...n,[e]:t})))},setFlowVersionID:e=>{o(e)},setFlowVersion:f,setSchedule:()=>{We("/api/v1/tr/schedule/".concat(r,"/").concat((e=>{var t;return 0===(null===(t=e=Object.entries(e).filter((e=>{var t;return(null===(t=e[1])||void 0===t?void 0:t.length)>0})))||void 0===t?void 0:t.length)?"":"?".concat(e.map((e=>{return"".concat(e[0],"=").concat((void 0===n&&(n=","),null===(t=e[1].map((e=>e.id)))||void 0===t?void 0:t.join(n)));var t,n})).join("&"))})(n)),(e=>u(e)))},setFlowItem:e=>{g(e)},setFlowToHighlight:e=>{h(e)},setFlowFromHighlight:e=>{A(e)}},children:t.children})},Xt={commodity_ids:[{id:2,label:"Corn"}],facility_ids:[{id:6,label:"ES"}],allocated_only:!1},Qt=(0,e.createContext)({editNode:void 0,filters:Xt,facilityFlows:[],flowFacilityDest:void 0,flowFacilityOrig:void 0,flowNodeDetail:void 0,flowVersionID:void 0,flowVersion:void 0,inventoryFlows:[],loading:!1,srcDisplayType:mt,setEditNode:()=>{},setFacilityFlows:()=>{},setFlowFacilityDest:()=>{},setFlowFacilityOrig:()=>{},setFlowNodeDetail:()=>{},setFlowVersionID:()=>{},setFlowVersion:()=>{},setFilters:()=>{},setInventoryFlows:()=>{},setLoading:()=>{},setSrcDisplayType:()=>{}}),Jt=t=>{const{addErrorAlert:n}=(0,e.useContext)(be),[i,r]=(0,e.useState)(void 0),[o,a]=(0,e.useState)(Xt),[s,l]=(0,e.useState)(void 0),[u,c]=(0,e.useState)(void 0),[g,d]=(0,e.useState)([]),[h,p]=(0,e.useState)([]),[A,f]=(0,e.useState)(void 0),[C,I]=(0,e.useState)(void 0),[v,m]=(0,e.useState)(void 0),[y,b]=(0,e.useState)(mt),[x,_]=(0,e.useState)(!1),w=(0,e.useCallback)((e=>{void 0!==e?(_(!0),We("/api/v1/tr/comm-flow-v/".concat(e,"/"),(e=>{c(e),_(!1)}),(()=>{n("Failed to Fetch Flow Version")}))):(c(void 0),d([]))}),[n]);(0,e.useEffect)((()=>{w(void 0!==s?s:void 0)}),[s,w]);return(0,ye.jsx)(Qt.Provider,{value:{editNode:i,filters:o,facilityFlows:g,flowFacilityDest:A,flowFacilityOrig:C,flowNodeDetail:v,flowVersionID:s,flowVersion:u,inventoryFlows:h,loading:x,srcDisplayType:y,setEditNode:r,setFilters:(e,t)=>{a((n=>({...n,[e]:t})))},setFacilityFlows:()=>{if(void 0!==s&&!x){_(!0);const e=je(o);We("/api/v1/tr/facility-view/".concat(s,"/?").concat(e),(e=>{d(e),_(!1)}),(()=>{n("Failed to Fetch Flow Facility View")}))}},setFlowFacilityDest:e=>{f(e),I(void 0)},setFlowFacilityOrig:e=>{I(e),f(void 0)},setFlowNodeDetail:m,setFlowVersionID:e=>{l(e)},setFlowVersion:w,setInventoryFlows:()=>{if(void 0!==s&&!x){_(!0);const e=je(o);We("/api/v1/tr/inventory-view/".concat(s,"/?").concat(e),(e=>{p(e),_(!1)}),(()=>{n("Failed to Fetch Flow Inventory View")}))}},setLoading:_,setSrcDisplayType:e=>{b(e)}},children:t.children})},$t=(0,e.createContext)({item:{},selectItem:()=>{},deSelectItem:()=>{}}),en=t=>{const[n,i]=(0,e.useState)(void 0);return(0,ye.jsx)($t.Provider,{value:{item:n,selectItem:e=>{i(e)},deSelectItem:()=>{i(void 0)}},children:t.children})},tn=(0,e.createContext)({commodities:[],currentUser:{},freightTerms:[],internalFacilities:[],marketZoneTypes:[],mktZones:[],operationalMetricTypes:[],periods:[],shipModes:[],storageTypes:[],tractors:[],tradingPartnerTypes:[],users:[],...Ht,resetOptions:()=>{}}),nn=t=>{const[n,i]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[a,s]=(0,e.useState)([]),[l,u]=(0,e.useState)([]),[c,g]=(0,e.useState)([]),[d,h]=(0,e.useState)([]),[p,A]=(0,e.useState)([]),[f,C]=(0,e.useState)([]),[I,v]=(0,e.useState)([]),[m,y]=(0,e.useState)([]),[b,x]=(0,e.useState)([]),[_,w]=(0,e.useState)({}),[k,E]=(0,e.useState)([]),S=(0,e.useCallback)((()=>{We("api/v1/comm/app-context/",(e=>{i(e.freight_terms),o(e.ship_modes),A(null===e||void 0===e?void 0:e.tractors),s(e.market_zone_types),u(e.periods),g(e.market_zones),h(e.commodities),C(e.internal_facilities),v(e.trading_partner_types),y(e.storage_types),x(e.operational_metric_types),w(e.current_user),E(e.users)}))}),[]);(0,e.useEffect)((()=>{S()}),[]);return(0,ye.jsx)(tn.Provider,{value:{commodities:d,currentUser:_,freightTerms:n,internalFacilities:f,marketZoneTypes:a,mktZones:c,operationalMetricTypes:b,periods:l,shipModes:r,storageTypes:m,tractors:p,tradingPartnerTypes:I,users:k,...Ht,resetOptions:()=>{S()}},children:t.children})},rn=(0,e.createContext)({loading:!1,marketZone:void 0,marketZones:[],searchCounties:[],refreshMarketZone:()=>{},refreshMarketZones:()=>{},setMarketZone:()=>{},setMarketZones:()=>{},setSearchCounties:()=>{}}),on=t=>{const[n,i]=(0,e.useState)(!1),[r,o]=(0,e.useState)(void 0),[a,s]=(0,e.useState)([]),[l,u]=(0,e.useState)([]),c=e=>{s(e)},g=()=>{i(!0),We("api/v1/comm/mz/?page_size=50",(e=>{c(e.results),i(!1)}))};(0,e.useEffect)((()=>{g()}),[]);return(0,ye.jsx)(rn.Provider,{value:{loading:n,marketZone:r,marketZones:a,searchCounties:l,refreshMarketZone:()=>{void 0!==(null===r||void 0===r?void 0:r.id)&&We("api/v1/comm/mz/".concat(null===r||void 0===r?void 0:r.id,"/"),(e=>{o(e)}))},refreshMarketZones:()=>{g()},setMarketZone:e=>{o(e)},setMarketZones:c,setSearchCounties:u},children:t.children})},an={assigned_to_me:!0,market_zone:null,commodity:null,trading_partner:void 0},sn=(0,e.createContext)({completedTasks:[],filters:an,loading:!1,queuedTasks:[],skipPayload:void 0,taskPayload:void 0,tradingPartner:void 0,deSelectSkipTask:()=>{},deSelectTask:()=>{},deSelectTradingPartner:()=>{},fetchTasks:()=>{},updateFilters:e=>{},selectSkipTask:e=>{},selectTask:(e,t)=>{},selectTradingPartner:e=>{},skipTask:(e,t)=>{},submitTask:(e,t)=>{}}),ln=t=>{const[n,i]=(0,e.useState)([]),[r,o]=(0,e.useState)(void 0),[a,s]=(0,e.useState)(void 0),[l,u]=(0,e.useState)([]),[c,g]=(0,e.useState)(void 0),[d,h]=(0,e.useState)(an),[p,A]=(0,e.useState)(!1),f=(0,e.useCallback)((()=>{A(!0);const e=new URLSearchParams({assigned_to_me:!0,active:!0,page_size:10,...Ke(d)}).toString();We("api/v1/cust/tp-task/?".concat(e),(e=>u(e.results)));const t=new URLSearchParams({assigned_to_me:!0,stage__in:"completed",page_size:10,...Ke(d)}).toString();We("api/v1/cust/tp-task/?".concat(t),(e=>{i(e.results),Xe(A)}))}),[d]);(0,e.useEffect)((()=>{f()}),[]);const C=()=>{s(void 0)};return(0,ye.jsx)(sn.Provider,{value:{completedTasks:n,filters:d,loading:p,queuedTasks:l,skipPayload:c,taskPayload:a,tradingPartner:r,deSelectSkipTask:()=>g(void 0),deSelectTask:C,deSelectTradingPartner:()=>{o(void 0)},fetchTasks:f,updateFilters:e=>(e=>{h((t=>({...t,...e})))})(e),selectTask:(e,t)=>{s({medium:e,task:t})},selectSkipTask:e=>g(e),selectTradingPartner:e=>{o(e)},skipTask:(e,t)=>{A(!0);const n="api/v1/cust/tp-task/".concat(null===e||void 0===e?void 0:e.id,"/skip-queued/");He(n,{skip_till:t},(t=>{Ee(t.completed_on)||i((e=>[t,...e])),u((t=>t.filter((t=>t.id!==e.id)))),g(void 0),Xe(A)}))},submitTask:(e,t)=>{A(!0);const n="api/v1/cust/tp-task/".concat(null===e||void 0===e?void 0:e.id,"/submit-queued/");He(n,t,(t=>{i((e=>[t,...e])),u((t=>t.filter((t=>t.id!==e.id)))),C(),Xe(A)}))}},children:t.children})};var un=n(9040);const cn={startDate:new Date,endDate:(0,un.default)(new Date,7),key:"selection"},gn=(0,e.createContext)({dateRangeDefault:cn,loading:!1,releases:[],showReleaseForm:!1,setShowReleaseForm:()=>{},setDateRangeDefault:()=>{},submitCreateRelease:()=>{},submitUpdateRelease:()=>{}}),dn=t=>{const[n,i]=(0,e.useState)([]),[r,o]=(0,e.useState)(cn),[a,s]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1),c=(0,e.useCallback)((()=>{u(!0),We("api/v1/tr/release/",(e=>{i(e.results),Xe(u)}))}),[]);(0,e.useEffect)((()=>{c()}),[]);return(0,ye.jsx)(gn.Provider,{value:{dateRangeDefault:r,loading:l,releases:n,showReleaseForm:a,setDateRangeDefault:o,setShowReleaseForm:s,submitCreateRelease:(e,t)=>{u(!0);Ge("api/v1/tr/release/",e,(e=>{i((t=>[e,...t])),s(),Xe(u),void 0!==t&&t()}))},submitUpdateRelease:(e,t,n)=>{u(!0);const r="api/v1/tr/release/".concat(t,"/");He(r,e,(e=>{i((t=>[e,...t])),Xe(u),void 0!==n&&n()}))}},children:t.children})},hn=(0,e.createContext)({tradingPartner:{},setTradingPartner:()=>{}}),pn=t=>{const[n,i]=(0,e.useState)({});return(0,ye.jsx)(hn.Provider,{value:{tradingPartner:n,setTradingPartner:e=>{i(e)}},children:t.children})},An=t=>{const[n,i]=(0,e.useState)(!0);return setTimeout((()=>i(!1)),5e3),(0,ye.jsx)(e.Fragment,{children:n&&(0,ye.jsxs)("div",{className:"alert alert-".concat(t.variant," alert-dismissible fade show"),role:"alert",children:[t.message,(0,ye.jsx)("button",{type:"button",className:"close text-sm opacity-10","data-bs-dismiss":"alert","aria-label":"Close",onClick:()=>i(!1),children:(0,ye.jsx)("i",{className:"fas fa-times"})})]})})};var fn=n(1694),Cn=n.n(fn);const In=["as","disabled"];function vn(e){let{tagName:t,disabled:n,href:i,target:r,rel:o,role:a,onClick:s,tabIndex:l=0,type:u}=e;t||(t=null!=i||null!=r||null!=o?"a":"button");const c={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},c];const g=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(i))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(i||(i="#"),n&&(i=void 0)),[{role:null!=a?a:"button",disabled:void 0,tabIndex:n?void 0:l,href:i,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:g,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),g(e))}},c]}const mn=e.forwardRef(((e,t)=>{let{as:n,disabled:i}=e,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,In);const[o,{tagName:a}]=vn(Object.assign({tagName:n,disabled:i},r));return(0,ye.jsx)(a,Object.assign({},r,o,{ref:t}))}));mn.displayName="Button";const yn=["xxl","xl","lg","md","sm","xs"],bn="xs",xn=e.createContext({prefixes:{},breakpoints:yn,minBreakpoint:bn}),{Consumer:_n,Provider:wn}=xn;function kn(t,n){const{prefixes:i}=(0,e.useContext)(xn);return t||i[n]||n}function En(){const{dir:t}=(0,e.useContext)(xn);return"rtl"===t}const Sn=e.forwardRef(((e,t)=>{let{as:n,bsPrefix:i,variant:r="primary",size:o,active:a=!1,disabled:s=!1,className:l,...u}=e;const c=kn(i,"btn"),[g,{tagName:d}]=vn({tagName:n,disabled:s,...u}),h=d;return(0,ye.jsx)(h,{...g,...u,ref:t,disabled:s,className:Cn()(l,c,a&&"active",r&&"".concat(c,"-").concat(r),o&&"".concat(c,"-").concat(o),u.href&&s&&"disabled")})}));Sn.displayName="Button";const Tn=Sn,On=e=>{const{fill:t,outline:n,simple:i,pullLeft:r,pullRight:o,block:a,gradient:s,wd:l,round:u,icon:c,small:g,large:d,floatLeft:h,floatRight:p,floatStart:A,floatEnd:f,className:C,...I}=e,v=Cn()({"btn-fill":t,"btn-outline":n,"btn-simple":i,"pull-left":r,"pull-right":o,"btn-block":a,"bg-gradient-primary":s,"btn-wd":l,"btn-round":u,"btn-icon":c,"btn-sm":g,"btn-lg":d,"float-left":h,"float-right":p,"float-start":A,"float-end":f,[C]:C});return(0,ye.jsx)(Tn,{className:v,...I})},Pn=e=>{let{onClick:t,loading:n,muted:i,className:r,style:o}=e;const a=Cn()({"fas fa-sync":!0,"fa-spin":n,"text-muted":i,clickable:t,[r]:r});return(0,ye.jsx)("i",{className:a,style:o,onClick:t})},Dn=t=>{const{buttonType:n,className:i,isLoading:r}=t,o=Cn()({btn:!0,[n]:n,[i]:i,loading:r}),[a,s]=(0,e.useState)(0),[l,u]=(0,e.useState)(0),c=(0,e.useRef)(null);return(0,e.useEffect)((()=>{c.current&&c.current.getBoundingClientRect().width&&s(c.current.getBoundingClientRect().width),c.current&&c.current.getBoundingClientRect().height&&u(c.current.getBoundingClientRect().height)}),[t.children]),(0,ye.jsx)("button",{className:o,ref:c,style:a&&l?{width:"".concat(a,"px"),height:"".concat(l,"px"),...t.style}:{...t.style},onClick:t.onClick,children:r?(0,ye.jsx)(Pn,{}):t.Text})},jn=e=>{const{compressed:t,className:n,onClick:i,...r}=e,o=Cn()({"card-body":!0,compressed:t,[n]:n});return(0,ye.jsx)("div",{className:o,onClick:i,...r,children:e.children})},Mn=e=>{const{className:t,compressed:n,light:i,onClick:r}=e,o=Cn()({"card-footer":!0,light:i,compressed:n,[t]:t});return(0,ye.jsx)("div",{className:o,onClick:r,children:e.children})},Nn=e=>{const{compressed:t,shadow:n,className:i,hover:r,style:o,onClick:a}=e,s=Cn()({card:!0,compressed:t,"hover-shadow":r,"card-shadow":n,[i]:i});return(0,ye.jsx)("div",{className:s,style:o,onClick:a,children:e.children})},zn=t=>{const{compressed:n,elementType:i,helpText:r,id:o,label:a}=t;let s=null;const l=Cn()({"form-control":!0,"form-control-sm":n,"is-valid":t.valid,"is-invalid":!1===t.valid,[t.className]:t.className}),u=Cn()({"is-valid":t.valid,"is-invalid":!1===t.valid,[t.className]:t.className});switch(i){case"input":case"number":case"date":s=(0,ye.jsx)("input",{className:l,value:t.value,placeholder:t.placeholder,type:i,...t.inputProps&&t.inputProps,onChange:e=>t.onChange(e.target.value)});break;case"textarea":s=(0,ye.jsx)("textarea",{className:l,value:t.value,placeholder:t.placeholder,type:i,rows:void 0!==t.rows?t.rows:"3",...t.inputProps&&t.inputProps,onChange:e=>t.onChange(e.target.value)});break;case"select":s=(0,ye.jsx)("select",{className:l,value:t.value,placeholder:t.placeholder,onChange:t.onChange,children:void 0!==t.elementConfig.options&&t.elementConfig.options.map((e=>(0,ye.jsx)("option",{value:e.id,children:e.label},e.id)))});break;default:s=(0,ye.jsx)("input",{className:l,value:t.value,placeholder:t.placeholder,type:"text",...t.inputProps&&t.inputProps,onChange:e=>t.onChange(e.target.value)})}return(0,ye.jsxs)(e.Fragment,{children:[void 0!==a&&(0,ye.jsx)("label",{className:u,htmlFor:o,children:a}),s,!1===t.valid&&void 0!==t.inputInvalidText&&(0,ye.jsx)("div",{className:"invalid-feedback",children:t.inputInvalidText}),void 0!==r&&(0,ye.jsx)("small",{id:"hint_".concat(o),className:"form-text text-muted",children:r})]})},Rn=e=>e.toString().replace(/[^0-9]/g,""),Fn=t=>{const{compressed:n,elementType:i,helpText:r,id:o,label:a,onChange:s,value:l}=t,[u,c]=(0,e.useState)("");(0,e.useEffect)((()=>{c(Rn(l).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))}),[l]);const g=Cn()({"form-control":!0,"form-control-sm":n,"is-valid":t.valid,"is-invalid":!1===t.valid,[t.className]:t.className}),d=Cn()({"is-valid":t.valid,"is-invalid":!1===t.valid,[t.className]:t.className});return(0,ye.jsxs)(e.Fragment,{children:[void 0!==a&&(0,ye.jsx)("label",{className:d,htmlFor:o,children:a}),(0,ye.jsx)("input",{className:g,value:u,placeholder:t.placeholder,type:i,...t.inputProps&&t.inputProps,onChange:e=>s(Rn(e.target.value))}),!1===t.valid&&(0,ye.jsx)("div",{className:"invalid-feedback",children:t.inputInvalidText}),void 0!==r&&(0,ye.jsx)("small",{id:"hint_".concat(o),className:"form-text text-muted",children:r})]})},Ln=e=>{let t="";return void 0!==e.className&&(t=" ".concat(e.className)),(0,ye.jsx)("div",{className:"form-row".concat(t),style:e.style,children:e.children})},Bn=e=>{let t="";return void 0!==e.className&&(t="".concat(e.className," ")),(0,ye.jsx)("div",{className:"form-group ".concat(t,"col-md-").concat(e.colSize," mb-0"),style:e.style,children:e.children})},Zn=e=>{const{className:t,inline:n}=e,i=Cn()({"form-group":!0,"form-inline":n,"form-group-sm":!0,[t]:t});return(0,ye.jsx)("div",{className:i,children:e.children})},Vn=e=>{const{className:t,compressed:n,htmlFor:i}=e,r=Cn()({"form-control-compressed":n,[t]:t});return(0,ye.jsx)("label",{className:r,htmlFor:i,children:e.children})},Un=e=>{const{className:t,center:n}=e,i=Cn()({row:!0,"justify-content-center":n,[t]:t});return(0,ye.jsx)("div",{className:i,onClick:e.onClick,style:e.style,children:e.children})},Wn=e=>{const{colSize:t,className:n,center:i}=e,r=Cn()({col:!0,"justify-content-center":i,["col-".concat(t)]:t,[n]:n}),o=i?{display:"flex"}:{};return(0,ye.jsx)("div",{className:r,style:{...e.style,...o},onClick:e.onClick,children:e.children})},Gn=e=>{let{onClick:t,number:n,large:i}=e;const r=Cn()({"badge badge-pill badge-secondary":!0,"ml-1":!0,clickable:!0,"badge-pill-lg":i});return(0,ye.jsxs)("span",{className:r,onClick:t,children:[n>0?"+":"-",Math.abs(n)]})};var Hn=n(4942);function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){(0,Hn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kn=n(5671),Xn=n(3144),Qn=n(136),Jn=n(4062),$n=n(907);var ei=n(181);function ti(e){return function(e){if(Array.isArray(e))return(0,$n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,ei.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ni=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ii=Math.abs,ri=String.fromCharCode,oi=Object.assign;function ai(e){return e.trim()}function si(e,t,n){return e.replace(t,n)}function li(e,t){return e.indexOf(t)}function ui(e,t){return 0|e.charCodeAt(t)}function ci(e,t,n){return e.slice(t,n)}function gi(e){return e.length}function di(e){return e.length}function hi(e,t){return t.push(e),e}var pi=1,Ai=1,fi=0,Ci=0,Ii=0,vi="";function mi(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:pi,column:Ai,length:a,return:""}}function yi(e,t){return oi(mi("",null,null,"",null,null,0),e,{length:-e.length},t)}function bi(){return Ii=Ci>0?ui(vi,--Ci):0,Ai--,10===Ii&&(Ai=1,pi--),Ii}function xi(){return Ii=Ci<fi?ui(vi,Ci++):0,Ai++,10===Ii&&(Ai=1,pi++),Ii}function _i(){return ui(vi,Ci)}function wi(){return Ci}function ki(e,t){return ci(vi,e,t)}function Ei(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Si(e){return pi=Ai=1,fi=gi(vi=e),Ci=0,[]}function Ti(e){return vi="",e}function Oi(e){return ai(ki(Ci-1,ji(91===e?e+2:40===e?e+1:e)))}function Pi(e){for(;(Ii=_i())&&Ii<33;)xi();return Ei(e)>2||Ei(Ii)>3?"":" "}function Di(e,t){for(;--t&&xi()&&!(Ii<48||Ii>102||Ii>57&&Ii<65||Ii>70&&Ii<97););return ki(e,wi()+(t<6&&32==_i()&&32==xi()))}function ji(e){for(;xi();)switch(Ii){case e:return Ci;case 34:case 39:34!==e&&39!==e&&ji(Ii);break;case 40:41===e&&ji(e);break;case 92:xi()}return Ci}function Mi(e,t){for(;xi()&&e+Ii!==57&&(e+Ii!==84||47!==_i()););return"/*"+ki(t,Ci-1)+"*"+ri(47===e?e:xi())}function Ni(e){for(;!Ei(_i());)xi();return ki(e,Ci)}var zi="-ms-",Ri="-moz-",Fi="-webkit-",Li="comm",Bi="rule",Zi="decl",Vi="@keyframes";function Ui(e,t){for(var n="",i=di(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function Wi(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Zi:return e.return=e.return||e.value;case Li:return"";case Vi:return e.return=e.value+"{"+Ui(e.children,i)+"}";case Bi:e.value=e.props.join(",")}return gi(n=Ui(e.children,i))?e.return=e.value+"{"+n+"}":""}function Gi(e){return Ti(Hi("",null,null,null,[""],e=Si(e),0,[0],e))}function Hi(e,t,n,i,r,o,a,s,l){for(var u=0,c=0,g=a,d=0,h=0,p=0,A=1,f=1,C=1,I=0,v="",m=r,y=o,b=i,x=v;f;)switch(p=I,I=xi()){case 40:if(108!=p&&58==ui(x,g-1)){-1!=li(x+=si(Oi(I),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:x+=Oi(I);break;case 9:case 10:case 13:case 32:x+=Pi(p);break;case 92:x+=Di(wi()-1,7);continue;case 47:switch(_i()){case 42:case 47:hi(qi(Mi(xi(),wi()),t,n),l);break;default:x+="/"}break;case 123*A:s[u++]=gi(x)*C;case 125*A:case 59:case 0:switch(I){case 0:case 125:f=0;case 59+c:-1==C&&(x=si(x,/\f/g,"")),h>0&&gi(x)-g&&hi(h>32?Ki(x+";",i,n,g-1):Ki(si(x," ","")+";",i,n,g-2),l);break;case 59:x+=";";default:if(hi(b=Yi(x,t,n,u,c,r,s,v,m=[],y=[],g),o),123===I)if(0===c)Hi(x,t,b,b,m,o,g,s,y);else switch(99===d&&110===ui(x,3)?100:d){case 100:case 108:case 109:case 115:Hi(e,b,b,i&&hi(Yi(e,b,b,0,0,r,s,v,r,m=[],g),y),r,y,g,s,i?m:y);break;default:Hi(x,b,b,b,[""],y,0,s,y)}}u=c=h=0,A=C=1,v=x="",g=a;break;case 58:g=1+gi(x),h=p;default:if(A<1)if(123==I)--A;else if(125==I&&0==A++&&125==bi())continue;switch(x+=ri(I),I*A){case 38:C=c>0?1:(x+="\f",-1);break;case 44:s[u++]=(gi(x)-1)*C,C=1;break;case 64:45===_i()&&(x+=Oi(xi())),d=_i(),c=g=gi(v=x+=Ni(wi())),I++;break;case 45:45===p&&2==gi(x)&&(A=0)}}return o}function Yi(e,t,n,i,r,o,a,s,l,u,c){for(var g=r-1,d=0===r?o:[""],h=di(d),p=0,A=0,f=0;p<i;++p)for(var C=0,I=ci(e,g+1,g=ii(A=a[p])),v=e;C<h;++C)(v=ai(A>0?d[C]+" "+I:si(I,/&\f/g,d[C])))&&(l[f++]=v);return mi(e,t,n,0===r?Bi:s,l,u,c)}function qi(e,t,n){return mi(e,t,n,Li,ri(Ii),ci(e,2,-2),0)}function Ki(e,t,n,i){return mi(e,t,n,Zi,ci(e,0,i),ci(e,i+1,-1),i)}var Xi=function(e,t,n){for(var i=0,r=0;i=r,r=_i(),38===i&&12===r&&(t[n]=1),!Ei(r);)xi();return ki(e,Ci)},Qi=function(e,t){return Ti(function(e,t){var n=-1,i=44;do{switch(Ei(i)){case 0:38===i&&12===_i()&&(t[n]=1),e[n]+=Xi(Ci-1,t,n);break;case 2:e[n]+=Oi(i);break;case 4:if(44===i){e[++n]=58===_i()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ri(i)}}while(i=xi());return e}(Si(e),t))},Ji=new WeakMap,$i=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Ji.get(n))&&!i){Ji.set(e,!0);for(var r=[],o=Qi(t,r),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},er=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function tr(e,t){switch(function(e,t){return 45^ui(e,0)?(((t<<2^ui(e,0))<<2^ui(e,1))<<2^ui(e,2))<<2^ui(e,3):0}(e,t)){case 5103:return Fi+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Fi+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Fi+e+Ri+e+zi+e+e;case 6828:case 4268:return Fi+e+zi+e+e;case 6165:return Fi+e+zi+"flex-"+e+e;case 5187:return Fi+e+si(e,/(\w+).+(:[^]+)/,Fi+"box-$1$2"+zi+"flex-$1$2")+e;case 5443:return Fi+e+zi+"flex-item-"+si(e,/flex-|-self/,"")+e;case 4675:return Fi+e+zi+"flex-line-pack"+si(e,/align-content|flex-|-self/,"")+e;case 5548:return Fi+e+zi+si(e,"shrink","negative")+e;case 5292:return Fi+e+zi+si(e,"basis","preferred-size")+e;case 6060:return Fi+"box-"+si(e,"-grow","")+Fi+e+zi+si(e,"grow","positive")+e;case 4554:return Fi+si(e,/([^-])(transform)/g,"$1"+Fi+"$2")+e;case 6187:return si(si(si(e,/(zoom-|grab)/,Fi+"$1"),/(image-set)/,Fi+"$1"),e,"")+e;case 5495:case 3959:return si(e,/(image-set\([^]*)/,Fi+"$1$`$1");case 4968:return si(si(e,/(.+:)(flex-)?(.*)/,Fi+"box-pack:$3"+zi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Fi+e+e;case 4095:case 3583:case 4068:case 2532:return si(e,/(.+)-inline(.+)/,Fi+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(e)-1-t>6)switch(ui(e,t+1)){case 109:if(45!==ui(e,t+4))break;case 102:return si(e,/(.+:)(.+)-([^]+)/,"$1"+Fi+"$2-$3$1"+Ri+(108==ui(e,t+3)?"$3":"$2-$3"))+e;case 115:return~li(e,"stretch")?tr(si(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ui(e,t+1))break;case 6444:switch(ui(e,gi(e)-3-(~li(e,"!important")&&10))){case 107:return si(e,":",":"+Fi)+e;case 101:return si(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Fi+(45===ui(e,14)?"inline-":"")+"box$3$1"+Fi+"$2$3$1"+zi+"$2box$3")+e}break;case 5936:switch(ui(e,t+11)){case 114:return Fi+e+zi+si(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Fi+e+zi+si(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Fi+e+zi+si(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Fi+e+zi+e+e}return e}var nr=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Zi:e.return=tr(e.value,e.length);break;case Vi:return Ui([yi(e,{value:si(e.value,"@","@"+Fi)})],i);case Bi:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ui([yi(e,{props:[si(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return Ui([yi(e,{props:[si(t,/:(plac\w+)/,":"+Fi+"input-$1")]}),yi(e,{props:[si(t,/:(plac\w+)/,":-moz-$1")]}),yi(e,{props:[si(t,/:(plac\w+)/,zi+"input-$1")]})],i)}return""}))}}],ir=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||nr;var r,o,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var l,u,c=[Wi,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],g=function(e){var t=di(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}([$i,er].concat(i,c));o=function(e,t,n,i){l=n,function(e){Ui(Gi(e),g)}(e?e+"{"+t.styles+"}":t.styles),i&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new ni({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d};var rr=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};var or={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function ar(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var sr=/[A-Z]|^ms/g,lr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ur=function(e){return 45===e.charCodeAt(1)},cr=function(e){return null!=e&&"boolean"!==typeof e},gr=ar((function(e){return ur(e)?e:e.replace(sr,"-$&").toLowerCase()})),dr=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(lr,(function(e,t,n){return pr={name:t,styles:n,next:pr},t}))}return 1===or[e]||ur(e)||"number"!==typeof t||0===t?t:t+"px"};function hr(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return pr={name:n.name,styles:n.styles,next:pr},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)pr={name:i.name,styles:i.styles,next:pr},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=hr(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":cr(a)&&(i+=gr(o)+":"+dr(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=hr(e,t,a);switch(o){case"animation":case"animationName":i+=gr(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)cr(a[l])&&(i+=gr(o)+":"+dr(o,a[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=pr,o=n(e);return pr=r,hr(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var pr,Ar=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var fr=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";pr=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=hr(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++)r+=hr(n,t,e[a]),i&&(r+=o[a]);Ar.lastIndex=0;for(var s,l="";null!==(s=Ar.exec(r));)l+="-"+s[1];var u=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:pr}},Cr=!!t.useInsertionEffect&&t.useInsertionEffect,Ir=Cr||function(e){return e()},vr=(Cr||e.useLayoutEffect,{}.hasOwnProperty),mr=e.createContext("undefined"!==typeof HTMLElement?ir({key:"css"}):null);mr.Provider;var yr=function(t){return(0,e.forwardRef)((function(n,i){var r=(0,e.useContext)(mr);return t(n,r,i)}))};var br=e.createContext({});var xr="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",_r=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return rr(t,n,i),Ir((function(){return function(e,t,n){rr(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)})),null},wr=yr((function(t,n,i){var r=t.css;"string"===typeof r&&void 0!==n.registered[r]&&(r=n.registered[r]);var o=t[xr],a=[r],s="";"string"===typeof t.className?s=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(n.registered,a,t.className):null!=t.className&&(s=t.className+" ");var l=fr(a,void 0,e.useContext(br));s+=n.key+"-"+l.name;var u={};for(var c in t)vr.call(t,c)&&"css"!==c&&c!==xr&&(u[c]=t[c]);return u.ref=i,u.className=s,e.createElement(e.Fragment,null,e.createElement(_r,{cache:n,serialized:l,isStringTag:"string"===typeof o}),e.createElement(o,u))}));var kr=wr,Er=function(t,n){var i=arguments;if(null==n||!vr.call(n,"css"))return e.createElement.apply(void 0,i);var r=i.length,o=new Array(r);o[0]=kr,o[1]=function(e,t){var n={};for(var i in t)vr.call(t,i)&&(n[i]=t[i]);return n[xr]=e,n}(t,n);for(var a=2;a<r;a++)o[a]=i[a];return e.createElement.apply(null,o)};function Sr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fr(t)}function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||(0,ei.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Or(e,t){if(null==e)return{};var n,i,r=L(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Pr=n(1002);var Dr=n(4164);const jr=Math.min,Mr=Math.max,Nr=Math.round,zr=Math.floor,Rr=e=>({x:e,y:e});function Fr(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Lr(e){return Vr(e)?(e.nodeName||"").toLowerCase():"#document"}function Br(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Zr(e){var t;return null==(t=(Vr(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Vr(e){return e instanceof Node||e instanceof Br(e).Node}function Ur(e){return e instanceof Element||e instanceof Br(e).Element}function Wr(e){return e instanceof HTMLElement||e instanceof Br(e).HTMLElement}function Gr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Br(e).ShadowRoot)}function Hr(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=Kr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function Yr(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function qr(e){return["html","body","#document"].includes(Lr(e))}function Kr(e){return Br(e).getComputedStyle(e)}function Xr(e){if("html"===Lr(e))return e;const t=e.assignedSlot||e.parentNode||Gr(e)&&e.host||Zr(e);return Gr(t)?t.host:t}function Qr(e){const t=Xr(e);return qr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wr(t)&&Hr(t)?t:Qr(t)}function Jr(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=Qr(e),o=r===(null==(i=e.ownerDocument)?void 0:i.body),a=Br(r);return o?t.concat(a,a.visualViewport||[],Hr(r)?r:[],a.frameElement&&n?Jr(a.frameElement):[]):t.concat(r,Jr(r,[],n))}function $r(e){const t=Kr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=Wr(e),o=r?e.offsetWidth:n,a=r?e.offsetHeight:i,s=Nr(n)!==o||Nr(i)!==a;return s&&(n=o,i=a),{width:n,height:i,$:s}}function eo(e){return Ur(e)?e:e.contextElement}function to(e){const t=eo(e);if(!Wr(t))return Rr(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:o}=$r(t);let a=(o?Nr(n.width):n.width)/i,s=(o?Nr(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const no=Rr(0);function io(e){const t=Br(e);return Yr()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:no}function ro(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),o=eo(e);let a=Rr(1);t&&(i?Ur(i)&&(a=to(i)):a=to(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Br(e))&&t}(o,n,i)?io(o):Rr(0);let l=(r.left+s.x)/a.x,u=(r.top+s.y)/a.y,c=r.width/a.x,g=r.height/a.y;if(o){const e=Br(o),t=i&&Ur(i)?Br(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=to(n),t=n.getBoundingClientRect(),i=Kr(n),r=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,o=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,u*=e.y,c*=e.x,g*=e.y,l+=r,u+=o,n=Br(n).frameElement}}return Fr({width:c,height:g,x:l,y:u})}function oo(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:s="function"===typeof IntersectionObserver,animationFrame:l=!1}=i,u=eo(e),c=r||o?[...u?Jr(u):[],...Jr(t)]:[];c.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const g=u&&s?function(e,t){let n,i=null;const r=Zr(e);function o(){clearTimeout(n),i&&i.disconnect(),i=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const{left:u,top:c,width:g,height:d}=e.getBoundingClientRect();if(s||t(),!g||!d)return;const h={rootMargin:-zr(c)+"px "+-zr(r.clientWidth-(u+g))+"px "+-zr(r.clientHeight-(c+d))+"px "+-zr(u)+"px",threshold:Mr(0,jr(1,l))||1};let p=!0;function A(e){const t=e[0].intersectionRatio;if(t!==l){if(!p)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}p=!1}try{i=new IntersectionObserver(A,{...h,root:r.ownerDocument})}catch(f){i=new IntersectionObserver(A,h)}i.observe(e)}(!0),o}(u,n):null;let d,h=-1,p=null;a&&(p=new ResizeObserver((e=>{let[i]=e;i&&i.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{p&&p.observe(t)}))),n()})),u&&!l&&p.observe(u),p.observe(t));let A=l?ro(e):null;return l&&function t(){const i=ro(e);!A||i.x===A.x&&i.y===A.y&&i.width===A.width&&i.height===A.height||n();A=i,d=requestAnimationFrame(t)}(),n(),()=>{c.forEach((e=>{r&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),g&&g(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(d)}}const ao=e.useLayoutEffect;var so=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],lo=function(){};function uo(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function co(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=[].concat(i);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(uo(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var go=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,Pr.Z)(e)&&null!==e?[e]:[];var t},ho=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,qn({},Or(e,so))},po=function(e,t,n){var i=e.cx,r=e.getStyles,o=e.getClassNames,a=e.className;return{css:r(t,e),className:i(null!==n&&void 0!==n?n:{},o(t,e),a)}};function Ao(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function fo(e){return Ao(e)?window.pageYOffset:e.scrollTop}function Co(e,t){Ao(e)?window.scrollTo(0,t):e.scrollTop=t}function Io(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:lo,r=fo(e),o=t-r,a=0;!function t(){var s=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}(a+=10,r,o,n);Co(e,s),a<n?window.requestAnimationFrame(t):i(e)}()}function vo(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?Co(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&Co(e,Math.max(t.offsetTop-r,0))}function mo(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var yo=!1,bo={get passive(){return yo=!0}},xo="undefined"!==typeof window?window:{};xo.addEventListener&&xo.removeEventListener&&(xo.addEventListener("p",lo,bo),xo.removeEventListener("p",lo,!1));var _o=yo;function wo(e){return null!=e}function ko(e,t,n){return e?t:n}var Eo=["children","innerProps"],So=["children","innerProps"];function To(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c,g=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),h=d.bottom,p=d.height,A=d.top,f=n.offsetParent.getBoundingClientRect().top,C=a?window.innerHeight:Ao(c=l)?window.innerHeight:c.clientHeight,I=fo(l),v=parseInt(getComputedStyle(n).marginBottom,10),m=parseInt(getComputedStyle(n).marginTop,10),y=f-m,b=C-A,x=y+I,_=g-I-A,w=h-C+I+v,k=I+A-m,E=160;switch(r){case"auto":case"bottom":if(b>=p)return{placement:"bottom",maxHeight:t};if(_>=p&&!a)return o&&Io(l,w,E),{placement:"bottom",maxHeight:t};if(!a&&_>=i||a&&b>=i)return o&&Io(l,w,E),{placement:"bottom",maxHeight:a?b-v:_-v};if("auto"===r||a){var S=t,T=a?y:x;return T>=i&&(S=Math.min(T-v-s,t)),{placement:"top",maxHeight:S}}if("bottom"===r)return o&&Co(l,w),{placement:"bottom",maxHeight:t};break;case"top":if(y>=p)return{placement:"top",maxHeight:t};if(x>=p&&!a)return o&&Io(l,k,E),{placement:"top",maxHeight:t};if(!a&&x>=i||a&&y>=i){var O=t;return(!a&&x>=i||a&&y>=i)&&(O=a?y-m:x-m),o&&Io(l,k,E),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return u}var Oo,Po=function(e){return"auto"===e?"bottom":e},Do=(0,e.createContext)(null),jo=function(t){var n=t.children,i=t.minMenuHeight,r=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,u=((0,e.useContext)(Do)||{}).setPortalPlacement,c=(0,e.useRef)(null),g=Tr((0,e.useState)(r),2),d=g[0],h=g[1],p=Tr((0,e.useState)(null),2),A=p[0],f=p[1],C=l.spacing.controlHeight;return ao((function(){var e=c.current;if(e){var t="fixed"===a,n=To({maxHeight:r,menuEl:e,minHeight:i,placement:o,shouldScroll:s&&!t,isFixedPosition:t,controlHeight:C});h(n.maxHeight),f(n.placement),null===u||void 0===u||u(n.placement)}}),[r,o,a,s,i,u,C]),n({ref:c,placerProps:qn(qn({},t),{},{placement:A||Po(o),maxHeight:d})})},Mo=function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return Er("div",l({},po(e,"menu",{menu:!0}),{ref:n},i),t)},No=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return qn({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},zo=No,Ro=No,Fo=["size"],Lo=["innerProps","isRtl","size"];var Bo,Zo,Vo={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Uo=function(e){var t=e.size,n=Or(e,Fo);return Er("svg",l({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Vo},n))},Wo=function(e){return Er(Uo,l({size:20},e),Er("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Go=function(e){return Er(Uo,l({size:20},e),Er("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ho=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return qn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r,":hover":{color:n?o.neutral80:o.neutral40}})},Yo=Ho,qo=Ho,Ko=function(){var e=Sr.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Oo||(Bo=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Zo||(Zo=Bo.slice(0)),Oo=Object.freeze(Object.defineProperties(Bo,{raw:{value:Object.freeze(Zo)}})))),Xo=function(e){var t=e.delay,n=e.offset;return Er("span",{css:Sr({animation:"".concat(Ko," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Qo=function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Er("div",l({ref:r},po(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":a}),o,{"aria-disabled":n||void 0}),t)},Jo=["data"],$o=function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,o=e.Heading,a=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,g=e.selectProps;return Er("div",l({},po(e,"group",{group:!0}),s),Er(o,l({},a,{selectProps:g,theme:c,getStyles:i,getClassNames:r,cx:n}),u),Er("div",null,t))},ea=["innerRef","isDisabled","isHidden","inputClassName"],ta={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},na={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":qn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ta)},ia=function(e){return qn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ta)},ra=function(e){var t=e.children,n=e.innerProps;return Er("div",n,t)};var oa=function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,o=e.isDisabled,a=e.removeProps,s=e.selectProps,l=n.Container,u=n.Label,c=n.Remove;return Er(l,{data:i,innerProps:qn(qn({},po(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),r),selectProps:s},Er(u,{data:i,innerProps:qn({},po(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),Er(c,{data:i,innerProps:qn(qn({},po(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:s}))},aa={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Er("div",l({},po(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Er(Wo,null))},Control:Qo,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Er("div",l({},po(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Er(Go,null))},DownChevron:Go,CrossIcon:Wo,Group:$o,GroupHeading:function(e){var t=ho(e);t.data;var n=Or(t,Jo);return Er("div",l({},po(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Er("div",l({},po(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Er("span",l({},t,po(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,i=ho(e),r=i.innerRef,o=i.isDisabled,a=i.isHidden,s=i.inputClassName,u=Or(i,ea);return Er("div",l({},po(e,"input",{"input-container":!0}),{"data-value":n||""}),Er("input",l({className:t({input:!0},s),ref:r,style:ia(a),disabled:o},u)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,i=e.size,r=void 0===i?4:i,o=Or(e,Lo);return Er("div",l({},po(qn(qn({},o),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Er(Xo,{delay:0,offset:n}),Er(Xo,{delay:160,offset:!0}),Er(Xo,{delay:320,offset:!n}))},Menu:Mo,MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return Er("div",l({},po(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(t){var n=t.appendTo,i=t.children,r=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,u=(0,e.useRef)(null),c=(0,e.useRef)(null),g=Tr((0,e.useState)(Po(a)),2),d=g[0],h=g[1],p=(0,e.useMemo)((function(){return{setPortalPlacement:h}}),[]),A=Tr((0,e.useState)(null),2),f=A[0],C=A[1],I=(0,e.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===s?0:window.pageYOffset,n=e[d]+t;n===(null===f||void 0===f?void 0:f.offset)&&e.left===(null===f||void 0===f?void 0:f.rect.left)&&e.width===(null===f||void 0===f?void 0:f.rect.width)||C({offset:n,rect:e})}}),[r,s,d,null===f||void 0===f?void 0:f.offset,null===f||void 0===f?void 0:f.rect.left,null===f||void 0===f?void 0:f.rect.width]);ao((function(){I()}),[I]);var v=(0,e.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),r&&u.current&&(c.current=oo(r,u.current,I,{elementResize:"ResizeObserver"in window}))}),[r,I]);ao((function(){v()}),[v]);var m=(0,e.useCallback)((function(e){u.current=e,v()}),[v]);if(!n&&"fixed"!==s||!f)return null;var y=Er("div",l({ref:m},po(qn(qn({},t),{},{offset:f.offset,position:s,rect:f.rect}),"menuPortal",{"menu-portal":!0}),o),i);return Er(Do.Provider,{value:p},n?(0,Dr.createPortal)(y,n):y)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,i=e.innerProps,r=Or(e,So);return Er("div",l({},po(qn(qn({},r),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,i=e.innerProps,r=Or(e,Eo);return Er("div",l({},po(qn(qn({},r),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},MultiValue:oa,MultiValueContainer:ra,MultiValueLabel:ra,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Er("div",l({role:"button"},n),t||Er(Wo,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.innerRef,a=e.innerProps;return Er("div",l({},po(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Er("div",l({},po(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return Er("div",l({},po(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return Er("div",l({},po(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return Er("div",l({},po(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},sa=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function la(e,t){return e===t||!(!sa(e)||!sa(t))}function ua(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}for(var ca={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ga=function(e){return Er("span",l({css:ca},e))},da={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,r=e.context,o=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,o=void 0===r?"":r,a=e.selectValue,s=e.isDisabled,l=e.isSelected,u=e.isAppleDevice,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(c(a,n),".");if("menu"===t&&u){var g=s?" disabled":"",d="".concat(l?" selected":"").concat(g);return"".concat(o).concat(d,", ").concat(c(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},ha=function(t){var n=t.ariaSelection,i=t.focusedOption,r=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,u=t.id,c=t.isAppleDevice,g=l.ariaLiveMessages,d=l.getOptionLabel,h=l.inputValue,p=l.isMulti,A=l.isOptionDisabled,f=l.isSearchable,C=l.menuIsOpen,I=l.options,v=l.screenReaderStatus,m=l.tabSelectsValue,y=l.isLoading,b=l["aria-label"],x=l["aria-live"],_=(0,e.useMemo)((function(){return qn(qn({},da),g||{})}),[g]),w=(0,e.useMemo)((function(){var e,t="";if(n&&_.onChange){var i=n.option,r=n.options,o=n.removedValue,a=n.removedValues,l=n.value,u=o||i||(e=l,Array.isArray(e)?null:e),c=u?d(u):"",g=r||a||void 0,h=g?g.map(d):[],p=qn({isDisabled:u&&A(u,s),label:c,labels:h},n);t=_.onChange(p)}return t}),[n,_,A,s,d]),k=(0,e.useMemo)((function(){var e="",t=i||r,n=!!(i&&s&&s.includes(i));if(t&&_.onFocus){var a={focused:t,label:d(t),isDisabled:A(t,s),isSelected:n,options:o,context:t===i?"menu":"value",selectValue:s,isAppleDevice:c};e=_.onFocus(a)}return e}),[i,r,d,A,_,o,s,c]),E=(0,e.useMemo)((function(){var e="";if(C&&I.length&&!y&&_.onFilter){var t=v({count:o.length});e=_.onFilter({inputValue:h,resultsMessage:t})}return e}),[o,h,C,_,I,v,y]),S="initial-input-focus"===(null===n||void 0===n?void 0:n.action),T=(0,e.useMemo)((function(){var e="";if(_.guidance){var t=r?"value":C?"menu":"input";e=_.guidance({"aria-label":b,context:t,isDisabled:i&&A(i,s),isMulti:p,isSearchable:f,tabSelectsValue:m,isInitialFocus:S})}return e}),[b,i,r,p,A,f,C,_,s,m,S]),O=Er(e.Fragment,null,Er("span",{id:"aria-selection"},w),Er("span",{id:"aria-focused"},k),Er("span",{id:"aria-results"},E),Er("span",{id:"aria-guidance"},T));return Er(e.Fragment,null,Er(ga,{id:u},S&&O),Er(ga,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!S&&O))},pa=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Aa=new RegExp("["+pa.map((function(e){return e.letters})).join("")+"]","g"),fa={},Ca=0;Ca<pa.length;Ca++)for(var Ia=pa[Ca],va=0;va<Ia.letters.length;va++)fa[Ia.letters[va]]=Ia.base;var ma=function(e){return e.replace(Aa,(function(e){return fa[e]}))},ya=function(e,t){void 0===t&&(t=ua);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return i.clear=function(){n=null},i}(ma),ba=function(e){return e.replace(/^\s+|\s+$/g,"")},xa=function(e){return"".concat(e.label," ").concat(e.value)},_a=["innerRef"];function wa(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter((function(e){var t=Tr(e,1)[0];return!n.includes(t)}));return r.reduce((function(e,t){var n=Tr(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})}(Or(e,_a),"onExited","in","enter","exit","appear");return Er("input",l({ref:t},n,{css:Sr({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ka=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var Ea=["boxSizing","height","overflow","paddingRight","position"],Sa={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Ta(e){e.preventDefault()}function Oa(e){e.stopPropagation()}function Pa(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Da(){return"ontouchstart"in window||navigator.maxTouchPoints}var ja=!("undefined"===typeof window||!window.document||!window.document.createElement),Ma=0,Na={capture:!1,passive:!1};var za=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Ra={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Fa(t){var n=t.children,i=t.lockEnabled,r=t.captureEnabled,o=function(t){var n=t.isEnabled,i=t.onBottomArrive,r=t.onBottomLeave,o=t.onTopArrive,a=t.onTopLeave,s=(0,e.useRef)(!1),l=(0,e.useRef)(!1),u=(0,e.useRef)(0),c=(0,e.useRef)(null),g=(0,e.useCallback)((function(e,t){if(null!==c.current){var n=c.current,u=n.scrollTop,g=n.scrollHeight,d=n.clientHeight,h=c.current,p=t>0,A=g-d-u,f=!1;A>t&&s.current&&(r&&r(e),s.current=!1),p&&l.current&&(a&&a(e),l.current=!1),p&&t>A?(i&&!s.current&&i(e),h.scrollTop=g,f=!0,s.current=!0):!p&&-t>u&&(o&&!l.current&&o(e),h.scrollTop=0,f=!0,l.current=!0),f&&ka(e)}}),[i,r,o,a]),d=(0,e.useCallback)((function(e){g(e,e.deltaY)}),[g]),h=(0,e.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),p=(0,e.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;g(e,t)}),[g]),A=(0,e.useCallback)((function(e){if(e){var t=!!_o&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",p,t)}}),[p,h,d]),f=(0,e.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",p,!1))}),[p,h,d]);return(0,e.useEffect)((function(){if(n){var e=c.current;return A(e),function(){f(e)}}}),[n,A,f]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),a=function(t){var n=t.isEnabled,i=t.accountForScrollbars,r=void 0===i||i,o=(0,e.useRef)({}),a=(0,e.useRef)(null),s=(0,e.useCallback)((function(e){if(ja){var t=document.body,n=t&&t.style;if(r&&Ea.forEach((function(e){var t=n&&n[e];o.current[e]=t})),r&&Ma<1){var i=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+i||0;Object.keys(Sa).forEach((function(e){var t=Sa[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Da()&&(t.addEventListener("touchmove",Ta,Na),e&&(e.addEventListener("touchstart",Pa,Na),e.addEventListener("touchmove",Oa,Na))),Ma+=1}}),[r]),l=(0,e.useCallback)((function(e){if(ja){var t=document.body,n=t&&t.style;Ma=Math.max(Ma-1,0),r&&Ma<1&&Ea.forEach((function(e){var t=o.current[e];n&&(n[e]=t)})),t&&Da()&&(t.removeEventListener("touchmove",Ta,Na),e&&(e.removeEventListener("touchstart",Pa,Na),e.removeEventListener("touchmove",Oa,Na)))}}),[r]);return(0,e.useEffect)((function(){if(n){var e=a.current;return s(e),function(){l(e)}}}),[n,s,l]),function(e){a.current=e}}({isEnabled:i});return Er(e.Fragment,null,i&&Er("div",{onClick:za,css:Ra}),n((function(e){o(e),a(e)})))}var La={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Ba=function(e){var t=e.name,n=e.onFocus;return Er("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:La,value:"",onChange:function(){}})};function Za(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Va(){return Za(/^Mac/i)}function Ua(){return Za(/^iPhone/i)||Za(/^iPad/i)||Va()&&navigator.maxTouchPoints>1}var Wa={clearIndicator:qo,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,o=r.colors,a=r.borderRadius;return qn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:i?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},dropdownIndicator:Yo,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return qn({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,o=i.colors;return qn({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,o=r.spacing,a=r.colors;return qn(qn({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},na),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,o=r.colors,a=r.spacing.baseUnit;return qn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:Ro,menu:function(e,t){var n,i=e.placement,r=e.theme,o=r.borderRadius,a=r.spacing,s=r.colors;return qn((n={label:"menu"},(0,Hn.Z)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),(0,Hn.Z)(n,"position","absolute"),(0,Hn.Z)(n,"width","100%"),(0,Hn.Z)(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return qn({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors;return qn({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,o=e.cropWithEllipsis;return qn({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,o=n.colors,a=e.isFocused;return qn({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:zo,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,o=e.theme,a=o.spacing,s=o.colors;return qn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?s.primary:i?s.primary25:"transparent",color:n?s.neutral20:r?s.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return qn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,o=i.colors;return qn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,o=e.selectProps.controlShouldRenderValue;return qn({alignItems:"center",display:i&&r&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Ga={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Ha={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:mo(),captureMenuScroll:!mo(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var i=qn({ignoreCase:!0,ignoreAccents:!0,stringify:xa,trim:!0,matchFrom:"any"},e),r=i.ignoreCase,o=i.ignoreAccents,a=i.stringify,s=i.trim,l=i.matchFrom,u=s?ba(n):n,c=s?ba(a(t)):a(t);return r&&(u=u.toLowerCase(),c=c.toLowerCase()),o&&(u=ya(u),c=ma(c)),"start"===l?c.substr(0,u.length)===u:c.indexOf(u)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ya(e,t,n,i){return{type:"option",data:t,isDisabled:ts(e,t,n),isSelected:ns(e,t,n),label:$a(e,t),value:es(e,t),index:i}}function qa(e,t){return e.options.map((function(n,i){if("options"in n){var r=n.options.map((function(n,i){return Ya(e,n,t,i)})).filter((function(t){return Qa(e,t)}));return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var o=Ya(e,n,t,i);return Qa(e,o)?o:void 0})).filter(wo)}function Ka(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,ti(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Xa(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,ti(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function Qa(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,o=t.isSelected,a=t.label,s=t.value;return(!rs(e)||!o)&&is(e,{label:a,value:s,data:r},i)}var Ja=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},$a=function(e,t){return e.getOptionLabel(t)},es=function(e,t){return e.getOptionValue(t)};function ts(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ns(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=es(e,t);return n.some((function(t){return es(e,t)===i}))}function is(e,t,n){return!e.filterOption||e.filterOption(t,n)}var rs=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},os=1,as=function(t){(0,Qn.Z)(i,t);var n=(0,Jn.Z)(i);function i(e){var t;if((0,Kn.Z)(this,i),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=Va()||Ua(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var i=t.props,r=i.onChange,o=i.name;n.name=o,t.ariaOnChange(e,n),r(e,n)},t.setValue=function(e,n,i){var r=t.props,o=r.closeMenuOnSelect,a=r.isMulti,s=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:i})},t.selectOption=function(e){var n=t.props,i=n.blurInputOnSelect,r=n.isMulti,o=n.name,a=t.state.selectValue,s=r&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(s){var u=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==u})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});r?t.setValue([].concat(ti(a),[e]),"select-option",e):t.setValue(e,"select-option")}i&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,i=t.state.selectValue,r=t.getOptionValue(e),o=i.filter((function(e){return t.getOptionValue(e)!==r})),a=ko(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(ko(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,i=n[n.length-1],r=n.slice(0,n.length-1),o=ko(e,r,r[0]||null);t.onChange(o,{action:"pop-value",removedValue:i})},t.getFocusedOptionId=function(e){return Ja(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return Xa(qa(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return co.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return $a(t.props,e)},t.getOptionValue=function(e){return es(t.props,e)},t.getStyles=function(e,n){var i=t.props.unstyled,r=Wa[e](n,i);r.boxSizing="border-box";var o=t.props.styles[e];return o?o(r,n):r},t.getClassNames=function(e,n){var i,r;return null===(i=(r=t.props.classNames)[e])||void 0===i?void 0:i.call(r,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,qn(qn({},aa),e.components);var e},t.buildCategorizedOptions=function(){return qa(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return Ka(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:qn({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,i=n.isMulti,r=n.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Ao(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,i=n&&n.item(0);i&&(t.initialTouchX=i.clientX,t.initialTouchY=i.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,i=n&&n.item(0);if(i){var r=Math.abs(i.clientX-t.initialTouchX),o=Math.abs(i.clientY-t.initialTouchY);t.userIsDragging=r>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,i=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(i,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return rs(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,i=n.isMulti,r=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,l=n.isDisabled,u=n.menuIsOpen,c=n.onKeyDown,g=n.tabSelectsValue,d=n.openMenuOnFocus,h=t.state,p=h.focusedOption,A=h.focusedValue,f=h.selectValue;if(!l&&("function"!==typeof c||(c(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||a)return;t.focusValue("previous");break;case"ArrowRight":if(!i||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(A)t.removeValue(A);else{if(!r)return;i?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!u||!g||!p||d&&t.isOptionSelected(p,f))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(u){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":u?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&o&&t.clearValue();break;case" ":if(a)return;if(!u){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":u?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":u?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!u)return;t.focusOption("pageup");break;case"PageDown":if(!u)return;t.focusOption("pagedown");break;case"Home":if(!u)return;t.focusOption("first");break;case"End":if(!u)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++os),t.state.selectValue=go(e.value),e.menuIsOpen&&t.state.selectValue.length){var r=t.getFocusableOptionsWithIds(),o=t.buildFocusableOptions(),a=o.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=r,t.state.focusedOption=o[a],t.state.focusedOptionId=Ja(r,o[a])}return t}return(0,Xn.Z)(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&vo(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(vo(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(i[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a],focusedOptionId:this.getFocusedOptionId(o[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===r?0:-1===r?o:r-1;break;case"next":r>-1&&r<o&&(a=r+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,o=i.indexOf(n);n||(o=-1),"up"===e?r=o>0?o-1:i.length-1:"down"===e?r=(o+1)%i.length:"pageup"===e?(r=o-t)<0&&(r=0):"pagedown"===e?(r=o+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null,focusedOptionId:this.getFocusedOptionId(i[r])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Ga):qn(qn({},Ga),this.props.theme):Ga}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,l=s.isMulti,u=s.isRtl,c=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return ts(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ns(this.props,e,t)}},{key:"filterOption",value:function(e,t){return is(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,i=t.isSearchable,r=t.inputId,o=t.inputValue,a=t.tabIndex,s=t.form,u=t.menuIsOpen,c=t.required,g=this.getComponents().Input,d=this.state,h=d.inputIsHidden,p=d.ariaSelection,A=this.commonProps,f=r||this.getElementId("input"),C=qn(qn(qn({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},u&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===p||void 0===p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?e.createElement(g,l({},A,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:f,innerRef:this.getInputRef,isDisabled:n,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},C)):e.createElement(wa,l({id:f,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:lo,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:s,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.getComponents(),i=n.MultiValue,r=n.MultiValueContainer,o=n.MultiValueLabel,a=n.MultiValueRemove,s=n.SingleValue,u=n.Placeholder,c=this.commonProps,g=this.props,d=g.controlShouldRenderValue,h=g.isDisabled,p=g.isMulti,A=g.inputValue,f=g.placeholder,C=this.state,I=C.selectValue,v=C.focusedValue,m=C.isFocused;if(!this.hasValue()||!d)return A?null:e.createElement(u,l({},c,{key:"placeholder",isDisabled:h,isFocused:m,innerProps:{id:this.getElementId("placeholder")}}),f);if(p)return I.map((function(n,s){var u=n===v,g="".concat(t.getOptionLabel(n),"-").concat(t.getOptionValue(n));return e.createElement(i,l({},c,{components:{Container:r,Label:o,Remove:a},isFocused:u,isDisabled:h,key:g,index:s,removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),t.formatOptionLabel(n,"value"))}));if(A)return null;var y=I[0];return e.createElement(s,l({},c,{data:y,isDisabled:h}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,a=this.state.isFocused;if(!this.isClearable()||!t||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,l({},n,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,o=i.isLoading,a=this.state.isFocused;if(!t||!o)return null;return e.createElement(t,l({},n,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),n=t.DropdownIndicator,i=t.IndicatorSeparator;if(!n||!i)return null;var r=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return e.createElement(i,l({},r,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var n=this.commonProps,i=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,l({},n,{innerProps:o,isDisabled:i,isFocused:r}))}},{key:"renderMenu",value:function(){var t=this,n=this.getComponents(),i=n.Group,r=n.GroupHeading,o=n.Menu,a=n.MenuList,s=n.MenuPortal,u=n.LoadingMessage,c=n.NoOptionsMessage,g=n.Option,d=this.commonProps,h=this.state.focusedOption,p=this.props,A=p.captureMenuScroll,f=p.inputValue,C=p.isLoading,I=p.loadingMessage,v=p.minMenuHeight,m=p.maxMenuHeight,y=p.menuIsOpen,b=p.menuPlacement,x=p.menuPosition,_=p.menuPortalTarget,w=p.menuShouldBlockScroll,k=p.menuShouldScrollIntoView,E=p.noOptionsMessage,S=p.onMenuScrollToTop,T=p.onMenuScrollToBottom;if(!y)return null;var O,P=function(n,i){var r=n.type,o=n.data,a=n.isDisabled,s=n.isSelected,u=n.label,c=n.value,p=h===o,A=a?void 0:function(){return t.onOptionHover(o)},f=a?void 0:function(){return t.selectOption(o)},C="".concat(t.getElementId("option"),"-").concat(i),I={id:C,onClick:f,onMouseMove:A,onMouseOver:A,tabIndex:-1,role:"option","aria-selected":t.isAppleDevice?void 0:s};return e.createElement(g,l({},d,{innerProps:I,data:o,isDisabled:a,isSelected:s,key:C,label:u,type:r,value:c,isFocused:p,innerRef:p?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())O=this.getCategorizedOptions().map((function(n){if("group"===n.type){var o=n.data,a=n.options,s=n.index,u="".concat(t.getElementId("group"),"-").concat(s),c="".concat(u,"-heading");return e.createElement(i,l({},d,{key:u,data:o,options:a,Heading:r,headingProps:{id:c,data:n.data},label:t.formatGroupLabel(n.data)}),n.options.map((function(e){return P(e,"".concat(s,"-").concat(e.index))})))}if("option"===n.type)return P(n,"".concat(n.index))}));else if(C){var D=I({inputValue:f});if(null===D)return null;O=e.createElement(u,d,D)}else{var j=E({inputValue:f});if(null===j)return null;O=e.createElement(c,d,j)}var M={minMenuHeight:v,maxMenuHeight:m,menuPlacement:b,menuPosition:x,menuShouldScrollIntoView:k},N=e.createElement(jo,l({},d,M),(function(n){var i=n.ref,r=n.placerProps,s=r.placement,u=r.maxHeight;return e.createElement(o,l({},d,M,{innerRef:i,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:C,placement:s}),e.createElement(Fa,{captureEnabled:A,onTopArrive:S,onBottomArrive:T,lockEnabled:w},(function(n){return e.createElement(a,l({},d,{innerRef:function(e){t.getMenuListRef(e),n(e)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:t.getElementId("listbox")},isLoading:C,maxHeight:u,focusedOption:h}),O)})))}));return _||"fixed"===x?e.createElement(s,l({},d,{appendTo:_,controlElement:this.controlRef,menuPlacement:b,menuPosition:x}),N):N}},{key:"renderFormField",value:function(){var t=this,n=this.props,i=n.delimiter,r=n.isDisabled,o=n.isMulti,a=n.name,s=n.required,l=this.state.selectValue;if(s&&!this.hasValue()&&!r)return e.createElement(Ba,{name:a,onFocus:this.onValueInputFocus});if(a&&!r){if(o){if(i){var u=l.map((function(e){return t.getOptionValue(e)})).join(i);return e.createElement("input",{name:a,type:"hidden",value:u})}var c=l.length>0?l.map((function(n,i){return e.createElement("input",{key:"i-".concat(i),name:a,type:"hidden",value:t.getOptionValue(n)})})):e.createElement("input",{name:a,type:"hidden",value:""});return e.createElement("div",null,c)}var g=l[0]?this.getOptionValue(l[0]):"";return e.createElement("input",{name:a,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,n=this.state,i=n.ariaSelection,r=n.focusedOption,o=n.focusedValue,a=n.isFocused,s=n.selectValue,u=this.getFocusableOptions();return e.createElement(ha,l({},t,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:r,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:u,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),n=t.Control,i=t.IndicatorsContainer,r=t.SelectContainer,o=t.ValueContainer,a=this.props,s=a.className,u=a.id,c=a.isDisabled,g=a.menuIsOpen,d=this.state.isFocused,h=this.commonProps=this.getCommonProps();return e.createElement(r,l({},h,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),e.createElement(n,l({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:g}),e.createElement(o,l({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(i,l({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,u=e.options,c=e.value,g=e.menuIsOpen,d=e.inputValue,h=e.isMulti,p=go(c),A={};if(n&&(c!==n.value||u!==n.options||g!==n.menuIsOpen||d!==n.inputValue)){var f=g?function(e,t){return Ka(qa(e,t))}(e,p):[],C=g?Xa(qa(e,p),"".concat(l,"-option")):[],I=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,p):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,f);A={selectValue:p,focusedOption:v,focusedOptionId:Ja(C,v),focusableOptionsWithIds:C,focusedValue:I,clearFocusValueOnUpdate:!1}}var m=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},y=o,b=a&&s;return a&&!b&&(y={value:ko(h,p,p[0]||null),options:p,action:"initial-input-focus"},b=!s),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(y=null),qn(qn(qn({},A),m),{},{prevProps:e,ariaSelection:y,prevWasFocused:b})}}]),i}(e.Component);as.defaultProps=Ha;var ss=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function ls(t){var n=t.defaultInputValue,i=void 0===n?"":n,r=t.defaultMenuIsOpen,o=void 0!==r&&r,a=t.defaultValue,s=void 0===a?null:a,l=t.inputValue,u=t.menuIsOpen,c=t.onChange,g=t.onInputChange,d=t.onMenuClose,h=t.onMenuOpen,p=t.value,A=Or(t,ss),f=Tr((0,e.useState)(void 0!==l?l:i),2),C=f[0],I=f[1],v=Tr((0,e.useState)(void 0!==u?u:o),2),m=v[0],y=v[1],b=Tr((0,e.useState)(void 0!==p?p:s),2),x=b[0],_=b[1],w=(0,e.useCallback)((function(e,t){"function"===typeof c&&c(e,t),_(e)}),[c]),k=(0,e.useCallback)((function(e,t){var n;"function"===typeof g&&(n=g(e,t)),I(void 0!==n?n:e)}),[g]),E=(0,e.useCallback)((function(){"function"===typeof h&&h(),y(!0)}),[h]),S=(0,e.useCallback)((function(){"function"===typeof d&&d(),y(!1)}),[d]),T=void 0!==l?l:C,O=void 0!==u?u:m,P=void 0!==p?p:x;return qn(qn({},A),{},{inputValue:T,menuIsOpen:O,onChange:w,onInputChange:k,onMenuClose:S,onMenuOpen:E,value:P})}var us=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];var cs=(0,e.forwardRef)((function(t,n){var i=function(t){var n=t.defaultOptions,i=void 0!==n&&n,r=t.cacheOptions,o=void 0!==r&&r,a=t.loadOptions;t.options;var s=t.isLoading,l=void 0!==s&&s,u=t.onInputChange,c=t.filterOption,g=void 0===c?null:c,d=Or(t,us),h=d.inputValue,p=(0,e.useRef)(void 0),A=(0,e.useRef)(!1),f=Tr((0,e.useState)(Array.isArray(i)?i:void 0),2),C=f[0],I=f[1],v=Tr((0,e.useState)("undefined"!==typeof h?h:""),2),m=v[0],y=v[1],b=Tr((0,e.useState)(!0===i),2),x=b[0],_=b[1],w=Tr((0,e.useState)(void 0),2),k=w[0],E=w[1],S=Tr((0,e.useState)([]),2),T=S[0],O=S[1],P=Tr((0,e.useState)(!1),2),D=P[0],j=P[1],M=Tr((0,e.useState)({}),2),N=M[0],z=M[1],R=Tr((0,e.useState)(void 0),2),F=R[0],L=R[1],B=Tr((0,e.useState)(void 0),2),Z=B[0],V=B[1];o!==Z&&(z({}),V(o)),i!==F&&(I(Array.isArray(i)?i:void 0),L(i)),(0,e.useEffect)((function(){return A.current=!0,function(){A.current=!1}}),[]);var U=(0,e.useCallback)((function(e,t){if(!a)return t();var n=a(e,t);n&&"function"===typeof n.then&&n.then(t,(function(){return t()}))}),[a]);(0,e.useEffect)((function(){!0===i&&U(m,(function(e){A.current&&(I(e||[]),_(!!p.current))}))}),[]);var W=(0,e.useCallback)((function(e,t){var n=function(e,t,n){if(n){var i=n(e,t);if("string"===typeof i)return i}return e}(e,t,u);if(!n)return p.current=void 0,y(""),E(""),O([]),_(!1),void j(!1);if(o&&N[n])y(n),E(n),O(N[n]),_(!1),j(!1);else{var i=p.current={};y(n),_(!0),j(!k),U(n,(function(e){A&&i===p.current&&(p.current=void 0,_(!1),E(n),O(e||[]),j(!1),z(e?qn(qn({},N),{},(0,Hn.Z)({},n,e)):N))}))}}),[o,U,k,N,u]),G=D?[]:m&&k?T:C||[];return qn(qn({},d),{},{options:G,isLoading:x||l,onInputChange:W,filterOption:g})}(t),r=ls(i);return e.createElement(as,l({ref:n},r))})),gs=cs,ds=n(5095),hs=n.n(ds);const ps={control:(e,t)=>({...e,boxShadow:t.isFocused?"0 0 0 0.2rem rgb(0 123 255 / 25%)":e.boxShadow,borderRadius:"0.45rem"})},As={control:e=>({...e,minHeight:"25px",borderRadius:"0.45rem"}),clearIndicator:(e,t)=>({...e,padding:"1px 3px"}),dropdownIndicator:(e,t)=>({display:"flex",justifyContent:"center",padding:"1px 3px"}),indicatorSeparator:(e,t)=>({...e,lineHeight:"1",marginBottom:".5rem",marginTop:".5rem"}),input:(e,t)=>({...e,fontSize:"small",height:"fit-content"}),menu:(e,t)=>({...e,fontSize:"small",marginBottom:"4px",marginTop:"4px"}),noOptionsMessage:(e,t)=>({...e,padding:"4px 6px"}),option:(e,t)=>({...e,fontSize:"small",height:"fit-content",padding:"4px 8px"}),valueContainer:e=>({...e,fontSize:"small",height:"fit-content",lineHeight:"1.25",padding:"3px 8px"})},fs={control:(e,t)=>({...e,borderColor:"#dc3545"}),indicatorSeparator:(e,t)=>({...e,color:"#dc3545"})},Cs=t=>{const{className:n,compressed:i,inputProps:r,label:o,placeholder:a}=t,s=Cn()({"form-control":!0,"form-control-sm":i,[n]:n}),l=Cn()({"form-control-sm":i,[n]:n});return(0,ye.jsxs)(e.Fragment,{children:[void 0!==o&&(0,ye.jsx)("label",{className:l,htmlFor:t.id,children:o}),(0,ye.jsx)("input",{className:s,value:t.value,placeholder:a,type:"tel",...r&&r,onChange:e=>{t.onChange((e=>{const t=e.replace(/\D/g,"").substring(0,10),n=t.substring(0,3),i=t.substring(3,6),r=t.substring(6,10);return t.length>6?"".concat(n," - ").concat(i," - ").concat(r):t.length>3?"".concat(n," - ").concat(i):t.length>0?"".concat(n):""})(e.target.value))}})]})},Is=t=>{const{compressed:n,className:i,defaultInputValue:r,extraName:o,searchParam:a,defaultParams:s,label:l,isMulti:u,url:c,valid:g,inputInvalidText:d,requestResults:h}=t,[p,A]=(0,e.useState)(void 0),f=Cn()({"geo-input":!0,[i]:i}),C=t.labelName||"label";(0,e.useEffect)((()=>{void 0!==r&&I(r,A)}),[r]);const I=hs()(((e,t)=>{const n=new URLSearchParams({[a||"q"]:e,...s}),i="".concat(c,"?").concat(n.toString());We(i,(e=>t((()=>{var t;return h?null===e||void 0===e||null===(t=e.results)||void 0===t?void 0:t.map((e=>({label:e[C],id:e.id,extra:null===e||void 0===e?void 0:e[o]}))):null===e||void 0===e?void 0:e.map((e=>({label:e[C],id:e.id,extra:null===e||void 0===e?void 0:e[o]})))}))))}),250);return(0,ye.jsxs)("div",{className:f,children:[l&&(0,ye.jsx)(Vn,{compressed:n,htmlFor:t.id,children:l}),(0,ye.jsx)(gs,{inputProps:{id:t.id},value:t.value,defaultInputValue:r,className:!1===g&&"is-invalid",classNamePrefix:t.className,isClearable:!0,isMulti:u,autoFocus:t.autoFocus,placeholder:t.placeholder,loadOptions:I,defaultOptions:p,getOptionLabel:e=>e.label,getOptionValue:e=>e.id,isDisabled:t.disabled,onChange:e=>{t.onChange(e)},styles:!1===g?fs:t.compressed?As:ps}),!1===g&&(0,ye.jsx)("div",{className:"invalid-feedback",children:d})]})};var vs=(0,e.forwardRef)((function(t,n){var i=ls(t);return e.createElement(as,l({ref:n},i))}));const ms={display:"flex",alignItems:"center",justifyContent:"space-between"},ys={backgroundColor:"#EBECF0",borderRadius:"2em",color:"#172B4D",display:"inline-block",fontSize:12,fontWeight:"normal",lineHeight:"1",minWidth:1,padding:"0.16666666666667em 0.5em",textAlign:"center"},bs=e=>(0,ye.jsxs)("div",{style:ms,children:[(0,ye.jsx)("span",{children:e.label}),(0,ye.jsx)("span",{style:ys,children:e.options.length})]}),xs=t=>{const{id:n,className:i,compressed:r,disabled:o,label:a,valid:s,placeholder:l,inputInvalidText:u,onChange:c,options:g,optionGroups:d,required:h,value:p}=t,A=Cn()({"is-valid":void 0!==s&&s,"is-invalid":!(void 0!==s&&s),[i]:i});return(0,ye.jsxs)(e.Fragment,{children:[a&&(0,ye.jsxs)(Vn,{compressed:t.compressed,className:i,htmlFor:n,children:[" ",a," "]}),(0,ye.jsx)(vs,{className:A,inputProps:{id:n},value:void 0!==p&&p,options:g,formatGroupLabel:d&&bs,required:h,isDisabled:o,isClearable:!0,placeholder:l,getOptionLabel:e=>e.label,getOptionValue:e=>e.id,onChange:e=>{c(e)},styles:r?As:ps}),!1===s&&(0,ye.jsx)("div",{className:"invalid-feedback",children:u})]})},_s=e=>{const{className:t,compressed:n,label:i,placeholder:r}=e,o=Cn()({[t]:t});return(0,ye.jsxs)("div",{className:o,children:[i&&(0,ye.jsx)(Vn,{compressed:n,htmlFor:e.id,children:i}),(0,ye.jsx)(vs,{inputProps:{id:e.id},isMulti:!0,closeMenuOnSelect:!1,value:void 0!==e.value&&e.value,options:e.options,placeholder:r,getOptionLabel:e=>e.label,getOptionValue:e=>e.id,onChange:t=>{e.onChange(t)},styles:n?As:ps})]})},ws=e=>{const{id:t,checked:n,className:i,onChange:r,label:o}=e,a=Cn()({"form-check form-switch":!0,[i]:i});return(0,ye.jsxs)("div",{className:a,children:[(0,ye.jsx)("input",{className:"form-check-input",type:"checkbox",id:t,checked:n,onChange:r}),(0,ye.jsx)("label",{className:"form-check-label",htmlFor:t,children:o})]})},ks=e=>{let{id:t,name:n,checked:i,onChange:r,optionLabels:o,small:a,disabled:s}=e;return(0,ye.jsxs)("div",{className:"toggle-switch"+(a?" small-switch":""),children:[(0,ye.jsx)("input",{type:"checkbox",name:n,className:"toggle-switch-checkbox",id:t,checked:i,onChange:e=>r(e.target.checked),disabled:s}),t?(0,ye.jsxs)("label",{className:"toggle-switch-label",htmlFor:t,tabIndex:s?-1:1,onKeyDown:e=>{!function(e){32===e.keyCode&&(e.preventDefault(),r(!i))}(e)},children:[(0,ye.jsx)("span",{className:s?"toggle-switch-inner toggle-switch-disabled":"toggle-switch-inner","data-yes":o[0],"data-no":o[1],tabIndex:-1}),(0,ye.jsx)("span",{className:s?"toggle-switch-switch toggle-switch-disabled":"toggle-switch-switch",tabIndex:-1})]}):null]})};ks.defaultProps={optionLabels:["Yes","No"]};const Es=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ss=!1,Ts=!1;try{var Os={get passive(){return Ss=!0},get once(){return Ts=Ss=!0}};Es&&(window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,!0))}catch(N$){}const Ps=function(e,t,n,i){if(i&&"boolean"!==typeof i&&!Ts){var r=i.once,o=i.capture,a=n;!Ts&&r&&(a=n.__once||function e(i){this.removeEventListener(t,e,o),n.call(this,i)},n.__once=a),e.addEventListener(t,a,Ss?i:o)}e.addEventListener(t,n,i)};function Ds(e){return e&&e.ownerDocument||document}const js=function(e,t,n,i){var r=i&&"boolean"!==typeof i?i.capture:i;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};var Ms;function Ns(e){if((!Ms&&0!==Ms||e)&&Es){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Ms=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Ms}function zs(){return(0,e.useState)(null)}const Rs=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function Fs(t){const n=Rs(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ls=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Bs=function(t,n){return(0,e.useMemo)((()=>function(e,t){const n=Ls(e),i=Ls(t);return e=>{n&&n(e),i&&i(e)}}(t,n)),[t,n])};function Zs(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}function Vs(e,t){return function(e){var t=Ds(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Us=/([A-Z])/g;var Ws=/^ms-/;function Gs(e){return function(e){return e.replace(Us,"-$1").toLowerCase()}(e).replace(Ws,"-ms-")}var Hs=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Ys=function(e,t){var n="",i="";if("string"===typeof t)return e.style.getPropertyValue(Gs(t))||Vs(e).getPropertyValue(Gs(t));Object.keys(t).forEach((function(r){var o=t[r];o||0===o?!function(e){return!(!e||!Hs.test(e))}(r)?n+=Gs(r)+": "+o+";":i+=r+"("+o+") ":e.style.removeProperty(Gs(r))})),i&&(n+="transform: "+i+";"),e.style.cssText+=";"+n};const qs=function(e,t,n,i){return Ps(e,t,n,i),function(){js(e,t,n,i)}};function Ks(e,t,n){void 0===n&&(n=5);var i=!1,r=setTimeout((function(){i||function(e,t,n,i){if(void 0===n&&(n=!1),void 0===i&&(i=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,i),e.dispatchEvent(r)}}(e,"transitionend",!0)}),t+n),o=qs(e,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(r),o()}}function Xs(e,t,n,i){null==n&&(n=function(e){var t=Ys(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=Ks(e,n,i),o=qs(e,"transitionend",t);return function(){r(),o()}}function Qs(e){void 0===e&&(e=Ds());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(N$){return e.body}}function Js(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function $s(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}const el=(tl="modal-open","".concat("data-rr-ui-").concat(tl));var tl;const nl=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[n]:i.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Ys(i,n)||"0",10)+e.scrollBarWidth,"px")),i.setAttribute(el,""),Ys(i,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(el),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},il=(0,e.createContext)(Es?window:void 0);il.Provider;function rl(){return(0,e.useContext)(il)}const ol=(e,t)=>Es?null==e?(t||Ds()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function al(t,n){const i=rl(),[r,o]=(0,e.useState)((()=>ol(t,null==i?void 0:i.document)));if(!r){const e=ol(t);e&&o(e)}return(0,e.useEffect)((()=>{n&&r&&n(r)}),[n,r]),(0,e.useEffect)((()=>{const e=ol(t);e!==r&&o(e)}),[t,r]),r}const sl="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ll="undefined"!==typeof document||sl?e.useLayoutEffect:e.useEffect;const ul=function(t){let{children:n,in:i,onExited:r,mountOnEnter:o,unmountOnExit:a}=t;const s=(0,e.useRef)(null),l=(0,e.useRef)(i),u=Fs(r);(0,e.useEffect)((()=>{i?l.current=!0:u(s.current)}),[i,u]);const c=Bs(s,n.ref),g=(0,e.cloneElement)(n,{ref:c});return i?g:a||!l.current&&o?null:g};function cl(t){let{children:n,in:i,onExited:r,onEntered:o,transition:a}=t;const[s,l]=(0,e.useState)(!i);i&&s&&l(!1);const u=function(t){let{in:n,onTransition:i}=t;const r=(0,e.useRef)(null),o=(0,e.useRef)(!0),a=Fs(i);return ll((()=>{if(!r.current)return;let e=!1;return a({in:n,element:r.current,initial:o.current,isStale:()=>e}),()=>{e=!0}}),[n,a]),ll((()=>(o.current=!1,()=>{o.current=!0})),[]),r}({in:!!i,onTransition:e=>{Promise.resolve(a(e)).then((()=>{e.isStale()||(e.in?null==o||o(e.element,e.initial):(l(!0),null==r||r(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),c=Bs(u,n.ref);return s&&!i?null:(0,e.cloneElement)(n,{ref:c})}function gl(e,t,n){return e?(0,ye.jsx)(e,Object.assign({},n)):t?(0,ye.jsx)(cl,Object.assign({},n,{transition:t})):(0,ye.jsx)(ul,Object.assign({},n))}function dl(e){return"Escape"===e.code||27===e.keyCode}const hl=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let pl;function Al(t){const n=rl(),i=t||function(e){return pl||(pl=new nl({ownerDocument:null==e?void 0:e.document})),pl}(n),r=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>i.add(r.current),remove:()=>i.remove(r.current),isTopModal:()=>i.isTopModal(r.current),setDialogRef:(0,e.useCallback)((e=>{r.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((e=>{r.current.backdrop=e}),[])})}const fl=(0,e.forwardRef)(((t,n)=>{let{show:i=!1,role:r="dialog",className:o,style:a,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:g,transition:d,runTransition:h,backdropTransition:p,runBackdropTransition:A,autoFocus:f=!0,enforceFocus:C=!0,restoreFocus:I=!0,restoreFocusOptions:v,renderDialog:m,renderBackdrop:y=(e=>(0,ye.jsx)("div",Object.assign({},e))),manager:b,container:x,onShow:_,onHide:w=(()=>{}),onExit:k,onExited:E,onExiting:S,onEnter:T,onEntering:O,onEntered:P}=t,D=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,hl);const j=rl(),M=al(x),N=Al(b),z=$s(),R=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}(i),[F,L]=(0,e.useState)(!i),B=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>N),[N]),Es&&!R&&i&&(B.current=Qs(null==j?void 0:j.document)),i&&F&&L(!1);const Z=Fs((()=>{if(N.add(),Y.current=qs(document,"keydown",G),H.current=qs(document,"focus",(()=>setTimeout(U)),!0),_&&_(),f){var e,t;const n=Qs(null!=(e=null==(t=N.dialog)?void 0:t.ownerDocument)?e:null==j?void 0:j.document);N.dialog&&n&&!Js(N.dialog,n)&&(B.current=n,N.dialog.focus())}})),V=Fs((()=>{var e;(N.remove(),null==Y.current||Y.current(),null==H.current||H.current(),I)&&(null==(e=B.current)||null==e.focus||e.focus(v),B.current=null)}));(0,e.useEffect)((()=>{i&&M&&Z()}),[i,M,Z]),(0,e.useEffect)((()=>{F&&V()}),[F,V]),Zs((()=>{V()}));const U=Fs((()=>{if(!C||!z()||!N.isTopModal())return;const e=Qs(null==j?void 0:j.document);N.dialog&&e&&!Js(N.dialog,e)&&N.dialog.focus()})),W=Fs((e=>{e.target===e.currentTarget&&(null==c||c(e),!0===l&&w())})),G=Fs((e=>{u&&dl(e)&&N.isTopModal()&&(null==g||g(e),e.defaultPrevented||w())})),H=(0,e.useRef)(),Y=(0,e.useRef)();if(!M)return null;const q=Object.assign({role:r,ref:N.setDialogRef,"aria-modal":"dialog"===r||void 0},D,{style:a,className:o,tabIndex:-1});let K=m?m(q):(0,ye.jsx)("div",Object.assign({},q,{children:e.cloneElement(s,{role:"document"})}));K=gl(d,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!i,onExit:k,onExiting:S,onExited:function(){L(!0),null==E||E(...arguments)},onEnter:T,onEntering:O,onEntered:P,children:K});let X=null;return l&&(X=y({ref:N.setBackdropRef,onClick:W}),X=gl(p,A,{in:!!i,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,ye.jsx)(ye.Fragment,{children:Dr.createPortal((0,ye.jsxs)(ye.Fragment,{children:[X,K]}),M)})}));fl.displayName="Modal";const Cl=Object.assign(fl,{Manager:nl});function Il(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}var vl=Function.prototype.bind.call(Function.prototype.call,[].slice);function ml(e,t){return vl(e.querySelectorAll(t))}function yl(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const bl=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xl=".sticky-top",_l=".navbar-toggler";class wl extends nl{adjustAndStore(e,t,n){const i=t.style[e];t.dataset[e]=i,Ys(t,{[e]:"".concat(parseFloat(Ys(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Ys(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,i;if(i="modal-open",(n=t).classList?n.classList.add(i):Il(n,i)||("string"===typeof n.className?n.className=n.className+" "+i:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+i)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ml(t,bl).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth))),ml(t,xl).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),ml(t,_l).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,i;i="modal-open",(n=t).classList?n.classList.remove(i):"string"===typeof n.className?n.className=yl(n.className,i):n.setAttribute("class",yl(n.className&&n.className.baseVal||"",i));const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";ml(t,bl).forEach((e=>this.restore(r,e))),ml(t,xl).forEach((e=>this.restore(o,e))),ml(t,_l).forEach((e=>this.restore(o,e)))}}let kl;const El=!1,Sl=e.createContext(null);var Tl="unmounted",Ol="exited",Pl="entering",Dl="entered",jl="exiting",Ml=function(t){function n(e,n){var i;i=t.call(this,e,n)||this;var r,o=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?o?(r=Ol,i.appearStatus=Pl):r=Dl:r=e.unmountOnExit||e.mountOnEnter?Tl:Ol,i.state={status:r},i.nextCallback=null,i}o(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Tl?{status:Ol}:null};var i=n.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pl&&n!==Dl&&(t=Pl):n!==Pl&&n!==Dl||(t=jl)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Pl){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Dr.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ol&&this.setState({status:Tl})},i.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[Dr.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||El?this.safeSetState({status:Dl},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Pl},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Dl},(function(){t.props.onEntered(o,a)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:Dr.findDOMNode(this);t&&!El?(this.props.onExit(i),this.safeSetState({status:jl},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ol},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Ol},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Dr.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Tl)return null;var n=this.props,i=n.children,r=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,L(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Sl.Provider,{value:null},"function"===typeof i?i(t,r):e.cloneElement(e.Children.only(i),r))},n}(e.Component);function Nl(){}Ml.contextType=Sl,Ml.propTypes={},Ml.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nl,onEntering:Nl,onEntered:Nl,onExit:Nl,onExiting:Nl,onExited:Nl},Ml.UNMOUNTED=Tl,Ml.EXITED=Ol,Ml.ENTERING=Pl,Ml.ENTERED=Dl,Ml.EXITING=jl;const zl=Ml;function Rl(e,t){const n=Ys(e,t)||"",i=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*i}function Fl(e,t){const n=Rl(e,"transitionDuration"),i=Rl(e,"transitionDelay"),r=Xs(e,(n=>{n.target===e&&(r(),t(n))}),n+i)}function Ll(e){return e&&"setState"in e?Dr.findDOMNode(e):null!=e?e:null}const Bl=e.forwardRef(((t,n)=>{let{onEnter:i,onEntering:r,onEntered:o,onExit:a,onExiting:s,onExited:l,addEndListener:u,children:c,childRef:g,...d}=t;const h=(0,e.useRef)(null),p=Bs(h,g),A=e=>{p(Ll(e))},f=e=>t=>{e&&h.current&&e(h.current,t)},C=(0,e.useCallback)(f(i),[i]),I=(0,e.useCallback)(f(r),[r]),v=(0,e.useCallback)(f(o),[o]),m=(0,e.useCallback)(f(a),[a]),y=(0,e.useCallback)(f(s),[s]),b=(0,e.useCallback)(f(l),[l]),x=(0,e.useCallback)(f(u),[u]);return(0,ye.jsx)(zl,{ref:n,...d,onEnter:C,onEntered:v,onEntering:I,onExit:m,onExited:b,onExiting:y,addEndListener:x,nodeRef:h,children:"function"===typeof c?(e,t)=>c(e,{...t,ref:A}):e.cloneElement(c,{ref:A})})})),Zl=Bl,Vl={[Pl]:"show",[Dl]:"show"},Ul=e.forwardRef(((t,n)=>{let{className:i,children:r,transitionClasses:o={},onEnter:a,...s}=t;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},u=(0,e.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==a||a(e,t)}),[a]);return(0,ye.jsx)(Zl,{ref:n,addEndListener:Fl,...l,onEnter:u,childRef:r.ref,children:(t,n)=>e.cloneElement(r,{...n,className:Cn()("fade",i,r.props.className,Vl[t],o[t])})})}));Ul.displayName="Fade";const Wl=Ul;var Gl=/-(.)/g;const Hl=e=>e[0].toUpperCase()+function(e){return e.replace(Gl,(function(e,t){return t.toUpperCase()}))}(e).slice(1);function Yl(t){let{displayName:n=Hl(t),Component:i,defaultProps:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=e.forwardRef(((e,n)=>{let{className:o,bsPrefix:a,as:s=i||"div",...l}=e;const u={...r,...l},c=kn(a,t);return(0,ye.jsx)(s,{ref:n,className:Cn()(o,c),...u})}));return o.displayName=n,o}const ql=Yl("modal-body"),Kl=e.createContext({onHide(){}}),Xl=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,contentClassName:r,centered:o,size:a,fullscreen:s,children:l,scrollable:u,...c}=e;n=kn(n,"modal");const g="".concat(n,"-dialog"),d="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,ye.jsx)("div",{...c,ref:t,className:Cn()(g,i,a&&"".concat(n,"-").concat(a),o&&"".concat(g,"-centered"),u&&"".concat(g,"-scrollable"),s&&d),children:(0,ye.jsx)("div",{className:Cn()("".concat(n,"-content"),r),children:l})})}));Xl.displayName="ModalDialog";const Ql=Xl,Jl=Yl("modal-footer"),$l={"aria-label":s().string,onClick:s().func,variant:s().oneOf(["white"])},eu=e.forwardRef(((e,t)=>{let{className:n,variant:i,"aria-label":r="Close",...o}=e;return(0,ye.jsx)("button",{ref:t,type:"button",className:Cn()("btn-close",i&&"btn-close-".concat(i),n),"aria-label":r,...o})}));eu.displayName="CloseButton",eu.propTypes=$l;const tu=eu,nu=e.forwardRef(((t,n)=>{let{closeLabel:i="Close",closeVariant:r,closeButton:o=!1,onHide:a,children:s,...l}=t;const u=(0,e.useContext)(Kl),c=Fs((()=>{null==u||u.onHide(),null==a||a()}));return(0,ye.jsxs)("div",{ref:n,...l,children:[s,o&&(0,ye.jsx)(tu,{"aria-label":i,variant:r,onClick:c})]})})),iu=nu,ru=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,closeLabel:r="Close",closeButton:o=!1,...a}=e;return n=kn(n,"modal-header"),(0,ye.jsx)(iu,{ref:t,...a,className:Cn()(i,n),closeLabel:r,closeButton:o})}));ru.displayName="ModalHeader";const ou=ru;var au;const su=Yl("modal-title",{Component:(au="h4",e.forwardRef(((e,t)=>(0,ye.jsx)("div",{...e,ref:t,className:Cn()(e.className,au)}))))});function lu(e){return(0,ye.jsx)(Wl,{...e,timeout:null})}function uu(e){return(0,ye.jsx)(Wl,{...e,timeout:null})}const cu=e.forwardRef(((t,n)=>{let{bsPrefix:i,className:r,style:o,dialogClassName:a,contentClassName:s,children:l,dialogAs:u=Ql,"aria-labelledby":c,"aria-describedby":g,"aria-label":d,show:h=!1,animation:p=!0,backdrop:A=!0,keyboard:f=!0,onEscapeKeyDown:C,onShow:I,onHide:v,container:m,autoFocus:y=!0,enforceFocus:b=!0,restoreFocus:x=!0,restoreFocusOptions:_,onEntered:w,onExit:k,onExiting:E,onEnter:S,onEntering:T,onExited:O,backdropClassName:P,manager:D,...j}=t;const[M,N]=(0,e.useState)({}),[z,R]=(0,e.useState)(!1),F=(0,e.useRef)(!1),L=(0,e.useRef)(!1),B=(0,e.useRef)(null),[Z,V]=zs(),U=Bs(n,V),W=Fs(v),G=En();i=kn(i,"modal");const H=(0,e.useMemo)((()=>({onHide:W})),[W]);function Y(){return D||function(e){return kl||(kl=new wl(e)),kl}({isRTL:G})}function q(e){if(!Es)return;const t=Y().getScrollbarWidth()>0,n=e.scrollHeight>Ds(e).documentElement.clientHeight;N({paddingRight:t&&!n?Ns():void 0,paddingLeft:!t&&n?Ns():void 0})}const K=Fs((()=>{Z&&q(Z.dialog)}));Zs((()=>{js(window,"resize",K),null==B.current||B.current()}));const X=()=>{F.current=!0},Q=e=>{F.current&&Z&&e.target===Z.dialog&&(L.current=!0),F.current=!1},J=()=>{R(!0),B.current=Xs(Z.dialog,(()=>{R(!1)}))},$=e=>{"static"!==A?L.current||e.target!==e.currentTarget?L.current=!1:null==v||v():(e=>{e.target===e.currentTarget&&J()})(e)},ee=(0,e.useCallback)((e=>(0,ye.jsx)("div",{...e,className:Cn()("".concat(i,"-backdrop"),P,!p&&"show")})),[p,P,i]),te={...o,...M};te.display="block";return(0,ye.jsx)(Kl.Provider,{value:H,children:(0,ye.jsx)(Cl,{show:h,ref:U,backdrop:A,container:m,keyboard:!0,autoFocus:y,enforceFocus:b,restoreFocus:x,restoreFocusOptions:_,onEscapeKeyDown:e=>{f?null==C||C(e):(e.preventDefault(),"static"===A&&J())},onShow:I,onHide:v,onEnter:(e,t)=>{e&&q(e),null==S||S(e,t)},onEntering:(e,t)=>{null==T||T(e,t),Ps(window,"resize",K)},onEntered:w,onExit:e=>{null==B.current||B.current(),null==k||k(e)},onExiting:E,onExited:e=>{e&&(e.style.display=""),null==O||O(e),js(window,"resize",K)},manager:Y(),transition:p?lu:void 0,backdropTransition:p?uu:void 0,renderBackdrop:ee,renderDialog:e=>(0,ye.jsx)("div",{role:"dialog",...e,style:te,className:Cn()(r,i,z&&"".concat(i,"-static"),!p&&"show"),onClick:A?$:void 0,onMouseUp:Q,"aria-label":d,"aria-labelledby":c,"aria-describedby":g,children:(0,ye.jsx)(u,{...j,onMouseDown:X,className:a,contentClassName:s,children:l})})})})}));cu.displayName="Modal";const gu=Object.assign(cu,{Body:ql,Header:ou,Title:su,Footer:Jl,Dialog:Ql,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),du=e=>{const{confirmText:t,helperTitle:n,helperText:i,show:r,style:o,onDecline:a,onConfirm:s}=e,l=i?"inherit":"none";return(0,ye.jsxs)(gu,{size:"md",show:r,onHide:()=>a(),style:o,children:[(0,ye.jsxs)(gu.Header,{children:[(0,ye.jsx)(gu.Title,{children:n}),(0,ye.jsx)(On,{variant:"icon-clear",small:!0,onClick:()=>a(),children:(0,ye.jsx)("i",{className:"fas fa-times"})})]}),i&&(0,ye.jsx)(gu.Body,{className:"text-center",children:i||""}),(0,ye.jsxs)(gu.Footer,{style:{justifyContent:"space-between",borderTop:l},children:[(0,ye.jsx)(On,{variant:"warning",simple:!0,round:!0,outline:!0,onClick:()=>a(!1),children:"Cancel"}),(0,ye.jsx)(On,{variant:"primary",outline:!0,round:!0,floatEnd:!0,onClick:()=>s(),children:t})]})]})},hu=t=>{let{FormElement:n,show:i,onClose:r,fullscreen:o,size:a,compressed:s,centered:l,shadow:u,midHigh:c,title:g,...d}=t;const h=Cn()({rounded:!0,"modal-slim":s,"mid-high-modal":c}),p=Cn()({rounded:!0,shadow:"lg"!==u,"shadow-lg":"lg"===u});return(0,ye.jsx)(gu,{show:i,onHide:()=>r(),size:a,fullscreen:o,className:h,centered:l,contentClassName:p,children:i&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)(gu.Header,{style:{borderBottom:"none"},children:[(0,ye.jsx)("span",{className:"font-h4",children:g}),(0,ye.jsx)(On,{variant:"icon-clear",floatRight:!0,small:!0,onClick:()=>r(),children:(0,ye.jsx)("i",{className:"fas fa-times"})})]}),(0,ye.jsx)(gu.Body,{children:(0,ye.jsx)(n,{onClose:r,...d})})]})})},pu=2**31-1;function Au(e,t,n){const i=n-Date.now();e.current=i<=pu?setTimeout(t,i):setTimeout((()=>Au(e,t,n)),pu)}function fu(){const t=$s(),n=(0,e.useRef)();return Zs((()=>clearTimeout(n.current))),(0,e.useMemo)((()=>{const e=()=>clearTimeout(n.current);return{set:function(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t()&&(e(),r<=pu?n.current=setTimeout(i,r):Au(n,i,Date.now()+r))},clear:e}}),[])}var Cu=n(2391),Iu=n.n(Cu);n(2176);function vu(t,n,i){var r=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),a=o[0],s=o[1],l=void 0!==t,u=r.current;return r.current=l,!l&&u&&a!==n&&s(n),[l?t:a,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i&&i.apply(void 0,[e].concat(n)),s(e)}),[i])]}function mu(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function yu(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function bu(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}mu.__suppressDeprecationWarning=!0,yu.__suppressDeprecationWarning=!0,bu.__suppressDeprecationWarning=!0;var xu=Object.prototype.hasOwnProperty;function _u(e,t,n){for(n of e.keys())if(wu(n,t))return n}function wu(e,t){var n,i,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&wu(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e){if((r=i)&&"object"===typeof r&&!(r=_u(t,r)))return!1;if(!t.has(r))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e){if((r=i[0])&&"object"===typeof r&&!(r=_u(t,r)))return!1;if(!wu(i[1],t.get(r)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"===typeof e){for(n in i=0,e){if(xu.call(e,n)&&++i&&!xu.call(t,n))return!1;if(!(n in t)||!wu(e[n],t[n]))return!1}return Object.keys(t).length===i}}return e!==e&&t!==t}const ku=function(t){const n=$s();return[t[0],(0,e.useCallback)((e=>{if(n())return t[1](e)}),[n,t[1]])]};function Eu(e){return e.split("-")[0]}function Su(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Tu(e){return e instanceof Su(e).Element||e instanceof Element}function Ou(e){return e instanceof Su(e).HTMLElement||e instanceof HTMLElement}function Pu(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Su(e).ShadowRoot||e instanceof ShadowRoot)}var Du=Math.max,ju=Math.min,Mu=Math.round;function Nu(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function zu(){return!/^((?!chrome|android).)*safari/i.test(Nu())}function Ru(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&Ou(e)&&(r=e.offsetWidth>0&&Mu(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Mu(i.height)/e.offsetHeight||1);var a=(Tu(e)?Su(e):window).visualViewport,s=!zu()&&n,l=(i.left+(s&&a?a.offsetLeft:0))/r,u=(i.top+(s&&a?a.offsetTop:0))/o,c=i.width/r,g=i.height/o;return{width:c,height:g,top:u,right:l+c,bottom:u+g,left:l,x:l,y:u}}function Fu(e){var t=Ru(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Lu(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Pu(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Bu(e){return e?(e.nodeName||"").toLowerCase():null}function Zu(e){return Su(e).getComputedStyle(e)}function Vu(e){return["table","td","th"].indexOf(Bu(e))>=0}function Uu(e){return((Tu(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wu(e){return"html"===Bu(e)?e:e.assignedSlot||e.parentNode||(Pu(e)?e.host:null)||Uu(e)}function Gu(e){return Ou(e)&&"fixed"!==Zu(e).position?e.offsetParent:null}function Hu(e){for(var t=Su(e),n=Gu(e);n&&Vu(n)&&"static"===Zu(n).position;)n=Gu(n);return n&&("html"===Bu(n)||"body"===Bu(n)&&"static"===Zu(n).position)?t:n||function(e){var t=/firefox/i.test(Nu());if(/Trident/i.test(Nu())&&Ou(e)&&"fixed"===Zu(e).position)return null;var n=Wu(e);for(Pu(n)&&(n=n.host);Ou(n)&&["html","body"].indexOf(Bu(n))<0;){var i=Zu(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}function Yu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function qu(e,t,n){return Du(e,ju(t,n))}function Ku(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Xu(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Qu="top",Ju="bottom",$u="right",ec="left",tc="auto",nc=[Qu,Ju,$u,ec],ic="start",rc="end",oc="clippingParents",ac="viewport",sc="popper",lc="reference",uc=nc.reduce((function(e,t){return e.concat([t+"-"+ic,t+"-"+rc])}),[]),cc=[].concat(nc,[tc]).reduce((function(e,t){return e.concat([t,t+"-"+ic,t+"-"+rc])}),[]),gc=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const dc={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Eu(n.placement),l=Yu(s),u=[ec,$u].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return Ku("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Xu(e,nc))}(r.padding,n),g=Fu(o),d="y"===l?Qu:ec,h="y"===l?Ju:$u,p=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],A=a[l]-n.rects.reference[l],f=Hu(o),C=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,I=p/2-A/2,v=c[d],m=C-g[u]-c[h],y=C/2-g[u]/2+I,b=qu(v,y,m),x=l;n.modifiersData[i]=((t={})[x]=b,t.centerOffset=b-y,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&Lu(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function hc(e){return e.split("-")[1]}var pc={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ac(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,g=e.isFixed,d=a.x,h=void 0===d?0:d,p=a.y,A=void 0===p?0:p,f="function"===typeof c?c({x:h,y:A}):{x:h,y:A};h=f.x,A=f.y;var C=a.hasOwnProperty("x"),I=a.hasOwnProperty("y"),v=ec,m=Qu,y=window;if(u){var b=Hu(n),x="clientHeight",_="clientWidth";if(b===Su(n)&&"static"!==Zu(b=Uu(n)).position&&"absolute"===s&&(x="scrollHeight",_="scrollWidth"),r===Qu||(r===ec||r===$u)&&o===rc)m=Ju,A-=(g&&b===y&&y.visualViewport?y.visualViewport.height:b[x])-i.height,A*=l?1:-1;if(r===ec||(r===Qu||r===Ju)&&o===rc)v=$u,h-=(g&&b===y&&y.visualViewport?y.visualViewport.width:b[_])-i.width,h*=l?1:-1}var w,k=Object.assign({position:s},u&&pc),E=!0===c?function(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Mu(n*r)/r||0,y:Mu(i*r)/r||0}}({x:h,y:A},Su(n)):{x:h,y:A};return h=E.x,A=E.y,l?Object.assign({},k,((w={})[m]=I?"0":"",w[v]=C?"0":"",w.transform=(y.devicePixelRatio||1)<=1?"translate("+h+"px, "+A+"px)":"translate3d("+h+"px, "+A+"px, 0)",w)):Object.assign({},k,((t={})[m]=I?A+"px":"",t[v]=C?h+"px":"",t.transform="",t))}const fc={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:Eu(t.placement),variation:hc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ac(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ac(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Cc={passive:!0};const Ic={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=void 0===r||r,a=i.resize,s=void 0===a||a,l=Su(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,Cc)})),s&&l.addEventListener("resize",n.update,Cc),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Cc)})),s&&l.removeEventListener("resize",n.update,Cc)}},data:{}};var vc={left:"right",right:"left",bottom:"top",top:"bottom"};function mc(e){return e.replace(/left|right|bottom|top/g,(function(e){return vc[e]}))}var yc={start:"end",end:"start"};function bc(e){return e.replace(/start|end/g,(function(e){return yc[e]}))}function xc(e){var t=Su(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _c(e){return Ru(Uu(e)).left+xc(e).scrollLeft}function wc(e){var t=Zu(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function kc(e){return["html","body","#document"].indexOf(Bu(e))>=0?e.ownerDocument.body:Ou(e)&&wc(e)?e:kc(Wu(e))}function Ec(e,t){var n;void 0===t&&(t=[]);var i=kc(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),o=Su(i),a=r?[o].concat(o.visualViewport||[],wc(i)?i:[]):i,s=t.concat(a);return r?s:s.concat(Ec(Wu(a)))}function Sc(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Tc(e,t,n){return t===ac?Sc(function(e,t){var n=Su(e),i=Uu(e),r=n.visualViewport,o=i.clientWidth,a=i.clientHeight,s=0,l=0;if(r){o=r.width,a=r.height;var u=zu();(u||!u&&"fixed"===t)&&(s=r.offsetLeft,l=r.offsetTop)}return{width:o,height:a,x:s+_c(e),y:l}}(e,n)):Tu(t)?function(e,t){var n=Ru(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Sc(function(e){var t,n=Uu(e),i=xc(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=Du(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Du(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+_c(e),l=-i.scrollTop;return"rtl"===Zu(r||n).direction&&(s+=Du(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Uu(e)))}function Oc(e,t,n,i){var r="clippingParents"===t?function(e){var t=Ec(Wu(e)),n=["absolute","fixed"].indexOf(Zu(e).position)>=0&&Ou(e)?Hu(e):e;return Tu(n)?t.filter((function(e){return Tu(e)&&Lu(e,n)&&"body"!==Bu(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),a=o[0],s=o.reduce((function(t,n){var r=Tc(e,n,i);return t.top=Du(r.top,t.top),t.right=ju(r.right,t.right),t.bottom=ju(r.bottom,t.bottom),t.left=Du(r.left,t.left),t}),Tc(e,a,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Pc(e){var t,n=e.reference,i=e.element,r=e.placement,o=r?Eu(r):null,a=r?hc(r):null,s=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case Qu:t={x:s,y:n.y-i.height};break;case Ju:t={x:s,y:n.y+n.height};break;case $u:t={x:n.x+n.width,y:l};break;case ec:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?Yu(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case ic:t[u]=t[u]-(n[c]/2-i[c]/2);break;case rc:t[u]=t[u]+(n[c]/2-i[c]/2)}}return t}function Dc(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?oc:s,u=n.rootBoundary,c=void 0===u?ac:u,g=n.elementContext,d=void 0===g?sc:g,h=n.altBoundary,p=void 0!==h&&h,A=n.padding,f=void 0===A?0:A,C=Ku("number"!==typeof f?f:Xu(f,nc)),I=d===sc?lc:sc,v=e.rects.popper,m=e.elements[p?I:d],y=Oc(Tu(m)?m:m.contextElement||Uu(e.elements.popper),l,c,a),b=Ru(e.elements.reference),x=Pc({reference:b,element:v,strategy:"absolute",placement:r}),_=Sc(Object.assign({},v,x)),w=d===sc?_:b,k={top:y.top-w.top+C.top,bottom:w.bottom-y.bottom+C.bottom,left:y.left-w.left+C.left,right:w.right-y.right+C.right},E=e.modifiersData.offset;if(d===sc&&E){var S=E[r];Object.keys(k).forEach((function(e){var t=[$u,Ju].indexOf(e)>=0?1:-1,n=[Qu,Ju].indexOf(e)>=0?"y":"x";k[e]+=S[n]*t}))}return k}const jc={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,g=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=void 0===h||h,A=n.allowedAutoPlacements,f=t.options.placement,C=Eu(f),I=l||(C===f||!p?[mc(f)]:function(e){if(Eu(e)===tc)return[];var t=mc(e);return[bc(e),t,bc(t)]}(f)),v=[f].concat(I).reduce((function(e,n){return e.concat(Eu(n)===tc?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?cc:l,c=hc(i),g=c?s?uc:uc.filter((function(e){return hc(e)===c})):nc,d=g.filter((function(e){return u.indexOf(e)>=0}));0===d.length&&(d=g);var h=d.reduce((function(t,n){return t[n]=Dc(e,{placement:n,boundary:r,rootBoundary:o,padding:a})[Eu(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:g,padding:u,flipVariations:p,allowedAutoPlacements:A}):n)}),[]),m=t.rects.reference,y=t.rects.popper,b=new Map,x=!0,_=v[0],w=0;w<v.length;w++){var k=v[w],E=Eu(k),S=hc(k)===ic,T=[Qu,Ju].indexOf(E)>=0,O=T?"width":"height",P=Dc(t,{placement:k,boundary:c,rootBoundary:g,altBoundary:d,padding:u}),D=T?S?$u:ec:S?Ju:Qu;m[O]>y[O]&&(D=mc(D));var j=mc(D),M=[];if(o&&M.push(P[E]<=0),s&&M.push(P[D]<=0,P[j]<=0),M.every((function(e){return e}))){_=k,x=!1;break}b.set(k,M)}if(x)for(var N=function(e){var t=v.find((function(t){var n=b.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return _=t,"break"},z=p?3:1;z>0;z--){if("break"===N(z))break}t.placement!==_&&(t.modifiersData[i]._skip=!0,t.placement=_,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Mc(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Nc(e){return[Qu,$u,Ju,ec].some((function(t){return e[t]>=0}))}const zc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,a=Dc(t,{elementContext:"reference"}),s=Dc(t,{altBoundary:!0}),l=Mc(a,i),u=Mc(s,r,o),c=Nc(l),g=Nc(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":g})}};const Rc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=void 0===r?[0,0]:r,a=cc.reduce((function(e,n){return e[n]=function(e,t,n){var i=Eu(e),r=[ec,Qu].indexOf(i)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*r,[ec,$u].indexOf(i)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=a}};const Fc={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Pc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Lc={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,g=n.padding,d=n.tether,h=void 0===d||d,p=n.tetherOffset,A=void 0===p?0:p,f=Dc(t,{boundary:l,rootBoundary:u,padding:g,altBoundary:c}),C=Eu(t.placement),I=hc(t.placement),v=!I,m=Yu(C),y="x"===m?"y":"x",b=t.modifiersData.popperOffsets,x=t.rects.reference,_=t.rects.popper,w="function"===typeof A?A(Object.assign({},t.rects,{placement:t.placement})):A,k="number"===typeof w?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,S={x:0,y:0};if(b){if(o){var T,O="y"===m?Qu:ec,P="y"===m?Ju:$u,D="y"===m?"height":"width",j=b[m],M=j+f[O],N=j-f[P],z=h?-_[D]/2:0,R=I===ic?x[D]:_[D],F=I===ic?-_[D]:-x[D],L=t.elements.arrow,B=h&&L?Fu(L):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=Z[O],U=Z[P],W=qu(0,x[D],B[D]),G=v?x[D]/2-z-W-V-k.mainAxis:R-W-V-k.mainAxis,H=v?-x[D]/2+z+W+U+k.mainAxis:F+W+U+k.mainAxis,Y=t.elements.arrow&&Hu(t.elements.arrow),q=Y?"y"===m?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(T=null==E?void 0:E[m])?T:0,X=j+H-K,Q=qu(h?ju(M,j+G-K-q):M,j,h?Du(N,X):N);b[m]=Q,S[m]=Q-j}if(s){var J,$="x"===m?Qu:ec,ee="x"===m?Ju:$u,te=b[y],ne="y"===y?"height":"width",ie=te+f[$],re=te-f[ee],oe=-1!==[Qu,ec].indexOf(C),ae=null!=(J=null==E?void 0:E[y])?J:0,se=oe?ie:te-x[ne]-_[ne]-ae+k.altAxis,le=oe?te+x[ne]+_[ne]-ae-k.altAxis:re,ue=h&&oe?function(e,t,n){var i=qu(e,t,n);return i>n?n:i}(se,te,le):qu(h?se:ie,te,h?le:re);b[y]=ue,S[y]=ue-te}t.modifiersData[i]=S}},requiresIfExists:["offset"]};function Bc(e,t,n){void 0===n&&(n=!1);var i=Ou(t),r=Ou(t)&&function(e){var t=e.getBoundingClientRect(),n=Mu(t.width)/e.offsetWidth||1,i=Mu(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=Uu(t),a=Ru(e,r,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Bu(t)||wc(o))&&(s=function(e){return e!==Su(e)&&Ou(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:xc(e);var t}(t)),Ou(t)?((l=Ru(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=_c(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Zc(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),i}function Vc(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Uc={placement:"bottom",modifiers:[],strategy:"absolute"};function Wc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Gc(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?Uc:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Uc,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:r,setOptions:function(n){var s="function"===typeof n?n(r.options):n;u(),r.options=Object.assign({},o,r.options,s),r.scrollParents={reference:Tu(e)?Ec(e):e.contextElement?Ec(e.contextElement):[],popper:Ec(t)};var c=function(e){var t=Zc(e);return gc.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,r.options.modifiers)));return r.orderedModifiers=c.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:r,name:t,instance:l,options:i}),u=function(){};a.push(s||u)}})),l.update()},forceUpdate:function(){if(!s){var e=r.elements,t=e.reference,n=e.popper;if(Wc(t,n)){r.rects={reference:Bc(t,Hu(n),"fixed"===r.options.strategy),popper:Fu(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],a=o.fn,u=o.options,c=void 0===u?{}:u,g=o.name;"function"===typeof a&&(r=a({state:r,options:c,name:g,instance:l})||r)}else r.reset=!1,i=-1}}},update:Vc((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){u(),s=!0}};if(!Wc(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const Hc=Gc({defaultModifiers:[zc,Fc,fc,Ic,Rc,jc,Lc,dc]}),Yc=["enabled","placement","strategy","modifiers"];const qc={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Kc={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:i,reference:r}=t.elements,o=null==(n=i.getAttribute("role"))?void 0:n.toLowerCase();if(i.id&&"tooltip"===o&&"setAttribute"in r){const e=r.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(i.id))return;r.setAttribute("aria-describedby",e?"".concat(e,",").concat(i.id):i.id)}}},Xc=[];const Qc=function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:r=!0,placement:o="bottom",strategy:a="absolute",modifiers:s=Xc}=i,l=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(i,Yc);const u=(0,e.useRef)(s),c=(0,e.useRef)(),g=(0,e.useCallback)((()=>{var e;null==(e=c.current)||e.update()}),[]),d=(0,e.useCallback)((()=>{var e;null==(e=c.current)||e.forceUpdate()}),[]),[h,p]=ku((0,e.useState)({placement:o,update:g,forceUpdate:d,attributes:{},styles:{popper:{},arrow:{}}})),A=(0,e.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},i={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],i[e]=t.attributes[e]})),p({state:t,styles:n,attributes:i,update:g,forceUpdate:d,placement:t.placement})}})),[g,d,p]),f=(0,e.useMemo)((()=>(wu(u.current,s)||(u.current=s),u.current)),[s]);return(0,e.useEffect)((()=>{c.current&&r&&c.current.setOptions({placement:o,strategy:a,modifiers:[...f,A,qc]})}),[a,o,A,r,f]),(0,e.useEffect)((()=>{if(r&&null!=t&&null!=n)return c.current=Hc(t,n,Object.assign({},l,{placement:o,strategy:a,modifiers:[...f,Kc,A]})),()=>{null!=c.current&&(c.current.destroy(),c.current=void 0,p((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[r,t,n]),h},Jc=()=>{};const $c=e=>e&&("current"in e?e.current:e),eg={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const tg=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jc,{disabled:i,clickTrigger:r="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,e.useRef)(!1),a=(0,e.useRef)(!1),s=(0,e.useCallback)((e=>{const n=$c(t);var i;Iu()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!n||!!((i=e).metaKey||i.altKey||i.ctrlKey||i.shiftKey)||!function(e){return 0===e.button}(e)||!!Js(n,e.target)||a.current,a.current=!1}),[t]),l=Fs((e=>{const n=$c(t);n&&Js(n,e.target)&&(a.current=!0)})),u=Fs((e=>{o.current||n(e)}));(0,e.useEffect)((()=>{var e,n;if(i||null==t)return;const o=Ds($c(t)),a=o.defaultView||window;let c=null!=(e=a.event)?e:null==(n=a.parent)?void 0:n.event,g=null;eg[r]&&(g=qs(o,eg[r],l,!0));const d=qs(o,r,s,!0),h=qs(o,r,(e=>{e!==c?u(e):c=void 0}));let p=[];return"ontouchstart"in o.documentElement&&(p=[].slice.call(o.body.children).map((e=>qs(e,"mousemove",Jc)))),()=>{null==g||g(),d(),h(),p.forEach((e=>e()))}}),[t,i,r,s,l,u])},ng=()=>{};const ig=function(t,n){let{disabled:i,clickTrigger:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=n||ng;tg(t,o,{disabled:i,clickTrigger:r});const a=Fs((e=>{dl(e)&&o(e)}));(0,e.useEffect)((()=>{if(i||null==t)return;const e=Ds($c(t));let n=(e.defaultView||window).event;const r=qs(e,"keyup",(e=>{e!==n?a(e):n=void 0}));return()=>{r()}}),[t,i,a])};function rg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function og(e){let{enabled:t,enableEvents:n,placement:i,flip:r,offset:o,fixed:a,containerPadding:s,arrowElement:l,popperConfig:u={}}=e;var c,g,d,h,p;const A=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(u.modifiers);return Object.assign({},u,{placement:i,enabled:t,strategy:a?"fixed":u.strategy,modifiers:rg(Object.assign({},A,{eventListeners:{enabled:n,options:null==(c=A.eventListeners)?void 0:c.options},preventOverflow:Object.assign({},A.preventOverflow,{options:s?Object.assign({padding:s},null==(g=A.preventOverflow)?void 0:g.options):null==(d=A.preventOverflow)?void 0:d.options}),offset:{options:Object.assign({offset:o},null==(h=A.offset)?void 0:h.options)},arrow:Object.assign({},A.arrow,{enabled:!!l,options:Object.assign({},null==(p=A.arrow)?void 0:p.options,{element:l})}),flip:Object.assign({enabled:!!r},A.flip)}))})}const ag=e.forwardRef(((t,n)=>{const{flip:i,offset:r,placement:o,containerPadding:a,popperConfig:s={},transition:l,runTransition:u}=t,[c,g]=zs(),[d,h]=zs(),p=Bs(g,n),A=al(t.container),f=al(t.target),[C,I]=(0,e.useState)(!t.show),v=Qc(f,c,og({placement:o,enableEvents:!!t.show,containerPadding:a||5,flip:i,offset:r,arrowElement:d,popperConfig:s}));t.show&&C&&I(!1);const m=t.show||!C;if(ig(c,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!m)return null;const{onExit:y,onExiting:b,onEnter:x,onEntering:_,onEntered:w}=t;let k=t.children(Object.assign({},v.attributes.popper,{style:v.styles.popper,ref:p}),{popper:v,placement:o,show:!!t.show,arrowProps:Object.assign({},v.attributes.arrow,{style:v.styles.arrow,ref:h})});return k=gl(l,u,{in:!!t.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:k,onExit:y,onExiting:b,onExited:function(){I(!0),t.onExited&&t.onExited(...arguments)},onEnter:x,onEntering:_,onEntered:w}),A?Dr.createPortal(k,A):null}));ag.displayName="Overlay";const sg=ag,lg=Yl("popover-header"),ug=Yl("popover-body");e.Component;function cg(e,t){let n=e;return"left"===e?n=t?"end":"start":"right"===e&&(n=t?"start":"end"),n}function gg(){return{position:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"absolute",top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const dg=e.forwardRef(((e,t)=>{let{bsPrefix:n,placement:i="right",className:r,style:o,children:a,body:s,arrowProps:l,hasDoneInitialMeasure:u,popper:c,show:g,...d}=e;const h=kn(n,"popover"),p=En(),[A]=(null==i?void 0:i.split("-"))||[],f=cg(A,p);let C=o;return g&&!u&&(C={...o,...gg(null==c?void 0:c.strategy)}),(0,ye.jsxs)("div",{ref:t,role:"tooltip",style:C,"x-placement":A,className:Cn()(r,h,A&&"bs-popover-".concat(f)),...d,children:[(0,ye.jsx)("div",{className:"popover-arrow",...l}),s?(0,ye.jsx)(ug,{children:a}):a]})})),hg=Object.assign(dg,{Header:lg,Body:ug,POPPER_OFFSET:[0,8]}),pg=e.forwardRef(((e,t)=>{let{bsPrefix:n,placement:i="right",className:r,style:o,children:a,arrowProps:s,hasDoneInitialMeasure:l,popper:u,show:c,...g}=e;n=kn(n,"tooltip");const d=En(),[h]=(null==i?void 0:i.split("-"))||[],p=cg(h,d);let A=o;return c&&!l&&(A={...o,...gg(null==u?void 0:u.strategy)}),(0,ye.jsxs)("div",{ref:t,style:A,role:"tooltip","x-placement":h,className:Cn()(r,n,"bs-tooltip-".concat(p)),...g,children:[(0,ye.jsx)("div",{className:"tooltip-arrow",...s}),(0,ye.jsx)("div",{className:"".concat(n,"-inner"),children:a})]})}));pg.displayName="Tooltip";const Ag=Object.assign(pg,{TOOLTIP_OFFSET:[0,6]});const fg=e.forwardRef(((t,n)=>{let{children:i,transition:r=Wl,popperConfig:o={},rootClose:a=!1,placement:s="top",show:l=!1,...u}=t;const c=(0,e.useRef)({}),[g,d]=(0,e.useState)(null),[h,p]=function(t){const n=(0,e.useRef)(null),i=kn(void 0,"popover"),r=kn(void 0,"tooltip"),o=(0,e.useMemo)((()=>({name:"offset",options:{offset:()=>{if(t)return t;if(n.current){if(Il(n.current,i))return hg.POPPER_OFFSET;if(Il(n.current,r))return Ag.TOOLTIP_OFFSET}return[0,0]}}})),[t,i,r]);return[n,[o]]}(u.offset),A=Bs(n,h),f=!0===r?Wl:r||void 0,C=Fs((e=>{d(e),null==o||null==o.onFirstUpdate||o.onFirstUpdate(e)}));return ll((()=>{g&&(null==c.current.scheduleUpdate||c.current.scheduleUpdate())}),[g]),(0,e.useEffect)((()=>{l||d(null)}),[l]),(0,ye.jsx)(sg,{...u,ref:A,popperConfig:{...o,modifiers:p.concat(o.modifiers||[]),onFirstUpdate:C},transition:f,rootClose:a,placement:s,show:l,children:(t,n)=>{let{arrowProps:a,popper:s,show:l}=n;var u,d;!function(e,t){const{ref:n}=e,{ref:i}=t;e.ref=n.__wrapped||(n.__wrapped=e=>n(Ll(e))),t.ref=i.__wrapped||(i.__wrapped=e=>i(Ll(e)))}(t,a);const h=null==s?void 0:s.placement,p=Object.assign(c.current,{state:null==s?void 0:s.state,scheduleUpdate:null==s?void 0:s.update,placement:h,outOfBoundaries:(null==s||null==(u=s.state)||null==(d=u.modifiersData.hide)?void 0:d.isReferenceHidden)||!1,strategy:o.strategy}),A=!!g;return"function"===typeof i?i({...t,placement:h,show:l,...!r&&l&&{className:"show"},popper:p,arrowProps:a,hasDoneInitialMeasure:A}):e.cloneElement(i,{...t,placement:h,arrowProps:a,popper:p,hasDoneInitialMeasure:A,className:Cn()(i.props.className,!r&&l&&"show"),style:{...i.props.style,...t.style}})}})}));fg.displayName="Overlay";const Cg=fg;function Ig(e,t,n){const[i]=t,r=i.currentTarget,o=i.relatedTarget||i.nativeEvent[n];o&&o===r||Js(r,o)||e(...t)}const vg=function(t){let{trigger:n=["hover","focus"],overlay:i,children:r,popperConfig:o={},show:a,defaultShow:s=!1,onToggle:l,delay:u,placement:c,flip:g=c&&-1!==c.indexOf("auto"),...d}=t;const h=(0,e.useRef)(null),p=Bs(h,r.ref),A=fu(),f=(0,e.useRef)(""),[C,I]=vu(a,s,l),v=function(e){return e&&"object"===typeof e?e:{show:e,hide:e}}(u),{onFocus:m,onBlur:y,onClick:b}="function"!==typeof r?e.Children.only(r).props:{},x=(0,e.useCallback)((()=>{A.clear(),f.current="show",v.show?A.set((()=>{"show"===f.current&&I(!0)}),v.show):I(!0)}),[v.show,I,A]),_=(0,e.useCallback)((()=>{A.clear(),f.current="hide",v.hide?A.set((()=>{"hide"===f.current&&I(!1)}),v.hide):I(!1)}),[v.hide,I,A]),w=(0,e.useCallback)((function(){x(),null==m||m(...arguments)}),[x,m]),k=(0,e.useCallback)((function(){_(),null==y||y(...arguments)}),[_,y]),E=(0,e.useCallback)((function(){I(!C),null==b||b(...arguments)}),[b,I,C]),S=(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ig(x,t,"fromElement")}),[x]),T=(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ig(_,t,"toElement")}),[_]),O=null==n?[]:[].concat(n),P={ref:e=>{p(Ll(e))}};return-1!==O.indexOf("click")&&(P.onClick=E),-1!==O.indexOf("focus")&&(P.onFocus=w,P.onBlur=k),-1!==O.indexOf("hover")&&(P.onMouseOver=S,P.onMouseOut=T),(0,ye.jsxs)(ye.Fragment,{children:["function"===typeof r?r(P):(0,e.cloneElement)(r,P),(0,ye.jsx)(Cg,{...d,show:C,onHide:_,flip:g,placement:c,popperConfig:o,target:h.current,children:i})]})},mg=e=>{const{className:t,placement:n,tooltip:i,text:r}=e;return(0,ye.jsx)(vg,{placement:n||"top",delay:{show:150,hide:250},overlay:(0,ye.jsx)(Ag,{id:"button-tooltip",children:i}),children:(0,ye.jsx)("span",{className:t,children:r})})},yg=e=>{const t=Cn()({table:!0,"table-sm":e.small,"table-striped":e.striped,"table-bordered":e.bordered,"table-hover":e.hover,"table-dark":e.dark,"table-flat":e.flat,"table-header-flat":e.flatHeader});return e.responsive?(0,ye.jsx)("div",{className:"table-responsive".concat(e.responsiveSize?"-".concat(e.responsiveSize):""),children:(0,ye.jsx)("table",{className:t,children:e.children})}):(0,ye.jsx)("table",{className:t,children:e.children})},bg=e=>(0,ye.jsx)("thead",{children:e.children}),xg=e=>(0,ye.jsx)("tbody",{children:e.children}),_g=e=>(0,ye.jsx)("tr",{className:e.className,onClick:e.onClick,children:e.children}),wg=e=>{const t=Cn()({"text-center":e.center,"text-muted":e.muted,[e.className]:e.className});return(0,ye.jsx)("th",{scope:"col",className:t,style:e.style,children:e.children})},kg=e=>{const{center:t,muted:n,middle:i,...r}=e,o=Cn()({"text-center":t,"text-muted":n,"align-middle":i});return(0,ye.jsx)("td",{className:o,onClick:e.onClick,...r,children:e.children})},Eg=e=>{let t=e.LinkUrl;return void 0===e.LinkUrl&&void 0!==e.LinkID?(0,ye.jsx)("a",{href:e.LinkID,children:e.children}):(void 0!==e.LinkID&&(t=t.replace(":id",e.LinkID)),(0,ye.jsx)(Ie,{to:t,children:e.children}))},Sg=t=>{const{context:n,rowData:i,tableColumns:r}=t;return(0,ye.jsx)(_g,{children:r.map(((t,r)=>(0,ye.jsx)(kg,{center:t.center,muted:t.muted,children:(0,ye.jsxs)(e.Fragment,{children:[t.ActionElementPrepend&&(0,ye.jsx)(t.ActionElementPrepend,{context:n,data:i}),t.LinkID?(0,ye.jsx)(Eg,{LinkUrl:t.LinkUrl,LinkID:De(i,t.LinkID),children:t.formatter?t.formatter(De(i,t.accessor,void 0,n),...t.formatterArgs||[]):De(i,t.accessor,void 0,n)}):t.formatter?t.formatter(De(i,t.accessor,void 0,n),...t.formatterArgs||[]):De(i,t.accessor,void 0,n)]})},r)))},i.id)},Tg=t=>{const n=Cn()({"text-center":!0,[t.className]:t.className});return(0,ye.jsx)("div",{className:n,children:(0,ye.jsxs)("ul",{className:"pagination justify-content-center",children:[t.hasPrevious?(0,ye.jsx)("li",{className:"page-item",children:(0,ye.jsx)("span",{className:"page-link clickable",onClick:()=>t.clickPreviousHandler(),children:"\xab"})},"previous"):(0,ye.jsx)("li",{className:"page-item disabled",children:(0,ye.jsx)("span",{className:"page-link",children:"\xab"})},"previous"),t.pageRange.map((n=>(0,ye.jsx)(e.Fragment,{children:n===t.pageNumber?(0,ye.jsx)("li",{className:"page-item active clickable",children:(0,ye.jsxs)("span",{className:"page-link clickable",children:[n," ",(0,ye.jsx)("span",{className:"sr-only",children:"(current)"})]})}):(0,ye.jsx)("li",{children:(0,ye.jsx)("span",{className:"page-link clickable",onClick:()=>t.clickPageHandler(n),children:n})})},n))),t.hasNext?(0,ye.jsx)("li",{className:"page-item",children:(0,ye.jsx)("span",{className:"page-link clickable",onClick:()=>t.clickNextHandler(),children:"\xbb"})},"next"):(0,ye.jsx)("li",{className:"page-item disabled",children:(0,ye.jsx)("span",{className:"page-link",children:"\xbb"})},"next")]})})},Og=e=>{let{filterParams:t,tableColumns:n,onFormUpdate:i,onSearch:r}=e;const o=e=>{ze(e,r)};return(0,ye.jsx)(_g,{children:n.map(((e,n)=>(0,ye.jsx)(kg,{style:{verticalAlign:"middle"},children:(0,ye.jsx)("div",{className:"form-row",children:e.FilterKey&&!e.FilterOptions?(0,ye.jsx)("div",{className:"form-group col-md-12",children:(0,ye.jsx)("input",{className:"form-control form-control-sm form-control-compressed text-center",type:"text",id:e.FilterKey,placeholder:e.header,name:e.FilterKey,value:t[e.FilterKey]||"",onChange:e=>{i(e)},onKeyDown:o})}):e.FilterOptions&&(0,ye.jsx)("div",{className:"form-group col-md-12",children:(0,ye.jsx)(vs,{isClearable:e.FilterNullable,isMulti:e.FilterisMulti,inputProps:{id:e.FilterKey},value:null===t||void 0===t?void 0:t[e.FilterKey],options:e.FilterOptions,getOptionLabel:e=>null===e||void 0===e?void 0:e.label,getOptionValue:e=>null===e||void 0===e?void 0:e.id,onChange:t=>{i(t,e.FilterKey)},styles:As})})})},n)))})},Pg=e=>Object.fromEntries(Object.entries(e).filter((e=>{let[t,n]=e;return!Ee(n)}))),Dg=e.memo((t=>{const{onRefresh:n}=t,i={small:t.small,striped:t.striped,bordered:t.bordered,hover:t.hover,dark:t.dark,flat:t.flat},[r,o]=(0,e.useState)([]),[a,s]=(0,e.useState)([]),[l,u]=(0,e.useState)({}),[c,g]=(0,e.useState)(1),[d,h]=(0,e.useState)([]),[p,A]=(0,e.useState)(void 0),[f,C]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{if(!Ee(t.data)){const e=nt(t.data,l);void 0!==t.sortKey?o(Pe(e,t.sortKey)):o(e)}}),[t.data,t.sortKey]),(0,e.useEffect)((()=>{if(void 0===t.paginationSize)s(r);else{let e=(c-1)*t.paginationSize,n=c*t.paginationSize;s(r.slice(e,n));const i=Math.ceil(r.length/t.paginationSize),o=Math.max(c-3,1),a=Array.from(Array(i),((e,t)=>{if(t+o<=i)return t+o})).filter((e=>void 0!==e));h(a.slice(0,6)),A(1!==c?c-1:void 0),n<r.length?C(c+1):C(void 0)}}),[t.paginationSize,r,c]);const I=t.tableColumns.map(((e,t)=>(0,ye.jsx)(wg,{center:e.center,muted:e.muted,style:e.style,children:e.header},t)));return(0,e.useEffect)((()=>{var e;void 0!==t.data&&((null===(e=Object.keys(l))||void 0===e?void 0:e.length)>0?o(nt(t.data,l)):o(t.data))}),[l,t.data]),(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)(yg,{responsive:t.responsive,...i,children:[(0,ye.jsx)(bg,{children:(0,ye.jsx)(_g,{children:I})}),(0,ye.jsx)(xg,{children:(0,ye.jsxs)(e.Fragment,{children:[t.filters&&(0,ye.jsx)(Og,{filterParams:l,tableColumns:t.tableColumns,onFormUpdate:(e,t)=>{if(void 0===(null===e||void 0===e?void 0:e.id)&&null===(null===e||void 0===e?void 0:e.id)||void 0===t){const{name:t,value:n}=e.target;Ee(n)?u((e=>Pg({...e,[t]:void 0}))):u((e=>Pg({...e,[t]:n})))}else Ee(e)?u((e=>Pg({...e,[t]:void 0}))):u((n=>Pg({...n,[t]:e})))},onSearch:()=>void 0!==n?n():{}}),Pe(a,t.sortKey).map(((e,n)=>(0,ye.jsx)(Sg,{context:t.context,rowData:e,tableColumns:t.tableColumns},n)))]})})]}),t.paginationSize&&d.length>1&&(0,ye.jsx)(Tg,{pageNumber:c,hasPrevious:p,hasNext:f,pageRange:d,clickPageHandler:e=>{g(e)},clickPreviousHandler:()=>{g(c-1)},clickNextHandler:()=>{g(c+1)}})]})})),jg=e=>(0,ye.jsxs)("span",{style:{display:"inline-flex",alignItems:"center"},children:[(0,ye.jsx)("i",{className:"fas fa-angle-double-left mr-1"}),"Back"]}),Mg=(e,t)=>t===gt?Fg(e):ft.includes(t)?Rg(e/100,2):Fg(e),Ng=(e,t,n)=>{void 0===n&&(n="bu");const i=Bg(t,2);return"".concat(Fg(e)," (").concat(i,"/").concat(n,")")},zg=(e,t,n)=>{void 0===n&&(n="bu");const i=Bg(e,0),r=Bg(t,2);return"".concat(i," (").concat(r,"/").concat(n,")")},Rg=(e,t)=>void 0===e|null===e?"":(void 0===t&&(t=2),e.toLocaleString("en-US",{style:"percent",minimumFractionDigits:t,maximumFractionDigits:t})),Fg=(e,t)=>{if(void 0===(e=parseInt(e))||null===e||isNaN(e))return"";const n=e.toLocaleString("en-US",{maximumFractionDigits:0});return t&&e<0?(0,ye.jsx)("span",{style:{color:"crimson"},children:n}):n},Lg=(e,t,n)=>{if(void 0===e|null===e)return"";void 0===t&&(t=2);const i=parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t});return n&&e<0?(0,ye.jsx)("span",{style:{color:"crimson"},children:i}):i},Bg=(e,t)=>void 0===e|null===e?"":(void 0===t&&(t=2),"$".concat(parseFloat(e).toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t}))),Zg=(e,t)=>Array.isArray(e)?e.join(t||", "):"",Vg=(e,t)=>{if(!Ee(e))return Object.keys(e).map((t=>"".concat(t,"=").concat(JSON.stringify(e[t])))).join(t||", ")},Ug=e=>{if("string"===typeof e&&(e=new Date(e)),void 0===e||null===e||isNaN(e))return"";let t=new Intl.DateTimeFormat("en",{month:"short"}).format(e),n=new Intl.DateTimeFormat("en",{day:"numeric"}).format(e);var i=new Date;if(e.getFullYear()!==i.getFullYear()){let i=new Intl.DateTimeFormat("en",{year:"2-digit"}).format(e);return"".concat(t," ").concat(n,", ").concat(i)}return"".concat(t," ").concat(n)},Wg=(e,t,n)=>{var i;if(Ee(e))return"";let r=!1;"string"===typeof e&&10===(null===(i=e)||void 0===i?void 0:i.length)&&(r=!0),"string"===typeof e&&(e=new Date(e)),r&&e.setDate(e.getDate()+1);let o="America/Chicago";if(t&&(o=Intl.DateTimeFormat().resolvedOptions().timeZone),Qe(e)===Qe(new Date)){let t=new Intl.DateTimeFormat("en",{timeStyle:"short",hour12:!0,timeZone:o}).format(e);return n?(0,ye.jsx)(mg,{tooltip:Hg(e),text:"".concat(t)}):"".concat(t)}if(e.getFullYear()===(new Date).getFullYear()){let t=new Intl.DateTimeFormat("en",{month:"short"}).format(e),i=new Intl.DateTimeFormat("en",{day:"numeric"}).format(e);return n?(0,ye.jsx)(mg,{tooltip:Hg(e),text:"".concat(t," ").concat(i)}):"".concat(t," ").concat(i)}let a=new Intl.DateTimeFormat("en",{month:"numeric"}).format(e),s=new Intl.DateTimeFormat("en",{day:"numeric"}).format(e),l=new Intl.DateTimeFormat("en",{year:"2-digit"}).format(e);return n?(0,ye.jsx)(mg,{tooltip:Hg(e),text:"".concat(a,"/").concat(s,"/").concat(l)}):"".concat(a,"/").concat(s,"/").concat(l)},Gg=(e,t)=>{if("string"===typeof e){e=new Date(e);let n="America/Chicago";t&&(n=Intl.DateTimeFormat().resolvedOptions().timeZone);let i=new Intl.DateTimeFormat("en",{timeStyle:"short",hour12:!1,timeZone:n}).format(e);return(new Date).setHours(0,0,0,0)!==e.setHours(0,0,0,0)?"".concat(e.toLocaleDateString("en-US",{weekday:"short"})," ").concat(i):"".concat(i)}return""},Hg=e=>{"string"===typeof e&&(e=new Date(e));let t=new Intl.DateTimeFormat("en",{timeStyle:"short"}).format(e),n=new Intl.DateTimeFormat("en",{weekday:"short"}).format(e),i=new Intl.DateTimeFormat("en",{day:"numeric"}).format(e);return"".concat(n," ").concat(i," ").concat(t)},Yg=(e,t,n)=>{if(Ee(e))return"";const i=e.length>t?e.substring(0,t-3)+"...":e;return!0===n?(0,ye.jsx)(mg,{tooltip:e,text:i}):i},qg=e=>!0===e||"true"===e?(0,ye.jsx)("i",{className:"fas fa-check",style:{color:"darkgreen"}}):(0,ye.jsx)("i",{className:"fas fa-times",style:{color:"crimson"}}),Kg=e=>{if(!0===e||"true"===e)return"Yes"},Xg=t=>{const{parentClassName:n,basic:i,className:r,conditional:o,inline:a,Label:s,Value:l,ValueElement:u}=t,c=Cn()({small:t.small,"mr-1":a,[r]:r,[n]:n}),g=Cn()({strong:!0,"text-muted":void 0===i,[r]:r}),d=Cn()({"ml-1":!0,"text-muted":!0!==t.warning&&!0!==t.danger&&void 0===i,"text-warning":t.warning,"text-danger":t.danger,"font-weight-light":t.light,[r]:r});return(0,ye.jsx)(e.Fragment,{children:!(o&&Ee(l))&&(0,ye.jsxs)("span",{className:c,style:{display:t.break?"block":!a&&"inherit",...t.style},children:[t.preBreak&&(0,ye.jsx)("br",{}),s&&(0,ye.jsxs)("span",{className:g,children:[s,void 0===t.simple?":":""]}),Ee(t.Title)?(0,ye.jsx)(e.Fragment,{children:u?(0,ye.jsx)("span",{className:"ml-1",children:u}):(0,ye.jsx)("span",{className:d,style:t.valueStyle,children:l})}):(0,ye.jsx)(vg,{trigger:["hover","focus"],placement:"right",overlay:(0,ye.jsx)(hg,{id:"popover-basic",children:(0,ye.jsx)(hg.Content,{children:t.Title})}),children:u?(0,ye.jsx)("span",{className:"ml-1",children:u}):(0,ye.jsx)("span",{className:d,style:t.valueStyle,children:l})})]})})},Qg=e=>{let{value:t,danger:n,style:i}=e;const r=Cn()({"progress-bar":!0,"bg-success":!n,"bg-danger":n});return(0,ye.jsx)("div",{className:"progress",style:{width:"100%",...i},children:(0,ye.jsx)("div",{className:r,role:"progressbar",style:{width:"".concat(t,"%")},"aria-valuenow":t,"aria-valuemin":"0","aria-valuemax":"100"})})},Jg=t=>{let{id:n,labels:i,onChange:r,style:o,value:a,className:s}=t;const l=Cn()({"switch-wrapper-container":!0,[s]:s}),[u,c]=(0,e.useState)("left"),[g,d]=(0,e.useState)(null),h=e=>{var t;"center"===e&&"left"===u?d("left-to-center"):"right"===e&&"center"===u?d("center-to-right"):"center"===e&&"right"===u?d("right-to-center"):"left"===e&&"center"===u?d("center-to-left"):"right"===e&&"left"===u?d("left-to-right"):"left"===e&&"right"===u&&d("right-to-left"),r(null===i||void 0===i||null===(t=i[e])||void 0===t?void 0:t.value),c(e)};return(0,e.useEffect)((()=>{void 0!==a&&Object.entries(i).map((e=>{(null===e||void 0===e?void 0:e[1].value)===a&&h(null===e||void 0===e?void 0:e[0])}))}),[a]),(0,ye.jsx)("div",{className:l,children:(0,ye.jsxs)("div",{className:"switch-container",style:{...null===o||void 0===o?void 0:o.container},children:[(0,ye.jsx)("div",{className:"switch-triple ".concat(g," ").concat(u,"-position")}),(0,ye.jsx)("input",{onChange:e=>h(e.target.value),className:"map-switch map-switch-left",name:"map-switch",id:"left-".concat(n),type:"radio",value:"left"}),(0,ye.jsx)("label",{className:"switch-triple-label left-label ".concat("left"===u&&"active-font"),htmlFor:"left-".concat(n),children:i.left.title}),(0,ye.jsx)("input",{onChange:e=>h(e.target.value),className:"map-switch map-switch-center",name:"map-switch",id:"center-".concat(n),type:"radio",value:"center"}),(0,ye.jsx)("label",{className:"switch-triple-label center-label ".concat("center"===u&&"active-font"),htmlFor:"center-".concat(n),children:i.center.title}),(0,ye.jsx)("input",{onChange:e=>h(e.target.value),className:"map-switch map-switch-right",name:"map-switch",id:"right-".concat(n),type:"radio",value:"right"}),(0,ye.jsx)("label",{className:"switch-triple-label right-label ".concat("right"===u&&"active-font"),htmlFor:"right-".concat(n),children:i.right.title})]})})};Jg.defaultProps={labels:{left:{title:"left",value:"left"},center:{title:"center",value:"center"},right:{title:"right",value:"right"}},onChange:e=>console.log("value:",e)};const $g=e=>{let{style:t,className:n}=e;return(0,ye.jsx)(ed,{route:I$.home,className:n,style:t})},ed=e=>{let{route:t,id:n,style:i,className:r}=e;const o=Cn()({"text-muted":!0,[r]:r});return(0,ye.jsx)("span",{className:"back-to-indicator",children:(0,ye.jsx)(Ie,{to:v$(t,n),className:o,style:{...i,display:"content",textDecoration:"None"},children:(0,ye.jsx)(jg,{})})})},td=e=>{let{compressed:t,id:n,label:i,className:r,disabled:o,valid:a,inputInvalidText:s,value:l,onChange:u,internal:c,external:g}=e;const d={};return c&&(d.is_internal=!0),g&&(d.is_internal=!1),(0,ye.jsx)(Is,{isMulti:!0,compressed:t,id:n,label:i,className:r,disabled:o,url:"/api/v1/cust/f/",valid:a,inputInvalidText:s,defaultParams:d,value:l,onChange:u})},nd=e=>{let{compressed:t,id:n,label:i,className:r,disabled:o,valid:a,inputInvalidText:s,value:l,onChange:u,internal:c,external:g}=e;const d={};return c&&(d.is_internal=!0),g&&(d.is_internal=!1),(0,ye.jsx)(Is,{compressed:t,id:n,label:i,className:r,disabled:o,url:"/api/v1/cust/f/",valid:a,inputInvalidText:s,defaultParams:d,value:l,onChange:u})},id=e=>{let{id:t,label:n,className:i,disabled:r,valid:o,inputInvalidText:a,value:s,onChange:l}=e;return(0,ye.jsx)(Is,{id:t,label:n,className:i,compressed:!0,disabled:r,url:"/api/v1/cust/tp/",valid:o,inputInvalidText:a,value:s,onChange:l})},rd=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C;let{initial:I,loading:v,setLoading:m,onSubmit:y,onClear:b}=t;const{commodities:x}=(0,e.useContext)(tn),[_,w]=(0,e.useState)(void 0),[k,E]=(0,e.useState)(void 0),[S,T]=(0,e.useState)(""),[O,P]=(0,e.useState)("");(0,e.useEffect)((()=>{void 0!==I&&(w(null===I||void 0===I?void 0:I.destination),E(null===I||void 0===I?void 0:I.commodity))}),[I]);const[D,j]=(0,e.useState)(Fe),M=[{field:"destination",value:_,notNull:!0},{field:"commodity",value:k,notNull:!0},{field:"quantity",value:S,notNull:!0},{field:"bid",value:O,notNull:!0}];return(0,ye.jsxs)("div",{className:"freight-rate-request-form",children:[(0,ye.jsxs)("h4",{children:["Flow Option",(0,ye.jsx)("i",{className:"fa fa-undo ml-2 clickable",onClick:()=>(w(void 0),E(void 0),T(""),P(""),void b())})]}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(nd,{compressed:!0,id:"destination",label:"Destination",value:_,valid:null===D||void 0===D||null===(n=D.formErrors)||void 0===n||null===(i=n.destination)||void 0===i?void 0:i.valid,inputInvalidText:null===D||void 0===D||null===(r=D.formErrors)||void 0===r||null===(o=r.destination)||void 0===o?void 0:o.message,onChange:w})}),(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(xs,{compressed:!0,id:"commodity",label:"Commodity",valid:null===D||void 0===D||null===(a=D.formErrors)||void 0===a||null===(s=a.commodity)||void 0===s?void 0:s.valid,inputInvalidText:null===D||void 0===D||null===(l=D.formErrors)||void 0===l||null===(u=l.commodity)||void 0===u?void 0:u.message,options:x,value:k,onChange:E},"commodity")})]}),(0,ye.jsxs)(Un,{className:"mt-2",children:[(0,ye.jsxs)(Wn,{colSize:"xl-6",children:[(0,ye.jsx)(Vn,{children:"Quantity"}),(0,ye.jsx)(Fn,{id:"quantity",compressed:!0,valid:null===D||void 0===D||null===(c=D.formErrors)||void 0===c||null===(g=c.quantity)||void 0===g?void 0:g.valid,inputInvalidText:null===(d=D.formErrors)||void 0===d||null===(h=d.quantity)||void 0===h?void 0:h.message,value:S,onChange:T})]}),(0,ye.jsxs)(Wn,{colSize:"xl-6",children:[(0,ye.jsx)(Vn,{children:"Bid"}),(0,ye.jsx)(zn,{id:"bid",compressed:!0,valid:null===D||void 0===D||null===(p=D.formErrors)||void 0===p||null===(A=p.bid)||void 0===A?void 0:A.valid,inputInvalidText:null===(f=D.formErrors)||void 0===f||null===(C=f.bid)||void 0===C?void 0:C.message,value:O,onChange:P})]})]}),(0,ye.jsx)(Un,{className:"mt-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(!Re(M,j))return m(!1);const e={destination:null===_||void 0===_?void 0:_.id,commodity:null===k||void 0===k?void 0:k.id,desired_quantity:""!==S?S:null,destination_value:""!==O?O:null};return y(e)},isLoading:v,Text:"Submit"})})})]})},od=e=>{const{ordering:t}=e;let n="";return void 0===t?n=(0,ye.jsx)("div",{className:"table-ordering",children:(0,ye.jsxs)("div",{className:"table-ordering-inner",children:[(0,ye.jsx)("i",{className:"fas fa-caret-up fa-25x table-ordering-item",onClick:()=>e.updateSorting("asc")}),(0,ye.jsx)("i",{className:"fas fa-caret-down fa-25x table-ordering-item",onClick:()=>e.updateSorting("desc")})]})}):"asc"===t?n=(0,ye.jsx)("div",{className:"table-ordering",children:(0,ye.jsxs)("div",{className:"table-ordering-inner",children:[(0,ye.jsx)("i",{className:"fas fa-caret-up fa-25x table-ordering-item active",onClick:()=>e.updateSorting(void 0)}),(0,ye.jsx)("i",{className:"fas fa-caret-down fa-25x table-ordering-item",onClick:()=>e.updateSorting("desc")})]})}):"desc"===t&&(n=(0,ye.jsx)("div",{className:"table-ordering",children:(0,ye.jsxs)("div",{className:"table-ordering-inner",children:[(0,ye.jsx)("i",{className:"fas fa-caret-up fa-25x table-ordering-item",onClick:()=>e.updateSorting("asc")}),(0,ye.jsx)("i",{className:"fas fa-caret-down fa-25x table-ordering-item active",onClick:()=>e.updateSorting(void 0)})]})})),n},ad=e.memo((t=>{const{debug:n,defaultFilters:i,lastUpdate:r,paginationSize:o,onSelectCreate:a,sortKey:s}=t,l={small:t.small,striped:t.striped,bordered:t.bordered,hover:t.hover,dark:t.dark,flat:t.flat,flatHeader:t.flatHeader,responsive:t.responsive},[u,c]=(0,e.useState)(!1),[g,d]=(0,e.useState)(i||{}),[h,p]=(0,e.useState)(void 0),[A,f]=(0,e.useState)([]),[C,I]=(0,e.useState)(1),[v,m]=(0,e.useState)([]),[y,b]=(0,e.useState)(0),[x,_]=(0,e.useState)(void 0),[w,k]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{let e="";if(void 0!==i)for(const[t,o]of Object.entries(i))Ee(o)||(e="".concat(e,"&").concat(t,"=").concat("object"===typeof o?void 0===o.length?o.id:o.map((e=>e.id)):o));let n="";void 0!==s&&(n="&ordering=".concat(s)),c(!0);const r="".concat(t.apiURL,"?page_size=").concat(o).concat(n).concat(e);We(r,(e=>{b(e.count),f(e.results),c(!1)}),(e=>{c(!1),console.log("error",e)}))}),[t.apiURL,r,o,f,s]);const E=(e,n)=>{c(!0);let i="";if(void 0!==n&&Object.keys(n).length>0){let e="";for(const[t,i]of Object.entries(n))"asc"===i?e+="".concat(t,","):"desc"===i&&(e+="-".concat(t,","));i="&ordering=".concat(e.replace(/(^\s*,)|(,\s*$)/g,""))}else void 0!==s&&(i="&ordering=".concat(s));let r="";if(void 0!==g)for(const[t,o]of Object.entries(g))Ee(o)||(r="".concat(r,"&").concat(t,"=").concat("object"===typeof o?void 0===o.length?null===o||void 0===o?void 0:o.id:o.map((e=>null===e||void 0===e?void 0:e.id)):o));const a=Ve("".concat(t.apiURL,"?page_size=").concat(o,"&page=").concat(e).concat(i).concat(r)),l=Ze();fetch(a,l).then((e=>Ue(e))).then((e=>{b(e.count),f(e.results),c(!1)})).catch((e=>{c(!1),console.log("error",e)}))};(0,e.useEffect)((()=>{const e=Math.ceil(y/o),t=Math.max(C-3,1),n=Array.from(Array(e),((n,i)=>{if(i+t<=e)return i+t})).filter((e=>void 0!==e));m(n.slice(0,6)),_(1!==C?C-1:void 0),k(C*o<y?C+1:void 0)}),[o,y,A,C]);const S=t.tableColumns.map(((e,t)=>(0,ye.jsx)(wg,{center:e.center,muted:e.muted,style:e.style,children:(0,ye.jsxs)("div",{style:{display:"block"},children:[(0,ye.jsx)("div",{style:{verticalAlign:"middle",display:"inline"},children:e.header}),void 0!==e.OrderKey&&(0,ye.jsx)(od,{orderKey:e.OrderKey,ordering:(h||{})[e.OrderKey],updateSorting:t=>{p({[e.OrderKey]:t}),E(1,{[e.OrderKey]:t})}})]})},t)));return void 0!==n&&console.log(A),(0,ye.jsxs)(e.Fragment,{children:[t.title?(0,ye.jsxs)("span",{className:"font-h4 mr-2",children:[t.title,a&&(0,ye.jsx)("i",{className:"fas fa-plus clickable ml-1 text-muted",onClick:a})]}):"",(0,ye.jsx)("button",{className:"btn btn-outline-secondary btn-round btn-sm float-right mr-2 mb-2",onClick:()=>E(1,h),children:"Search"}),(0,ye.jsxs)(yg,{...l,children:[(0,ye.jsx)(bg,{children:(0,ye.jsx)(_g,{children:S})}),(0,ye.jsx)(xg,{children:(0,ye.jsxs)(e.Fragment,{children:[t.filters&&(0,ye.jsx)(Og,{filterParams:g,tableColumns:t.tableColumns,onFormUpdate:(e,t)=>{if(void 0===(null===e||void 0===e?void 0:e.id)&&null===(null===e||void 0===e?void 0:e.id)||void 0===t){const{name:t,value:n}=e.target;Ee(n)?d((e=>({...e,[t]:void 0}))):d((e=>({...e,[t]:n})))}else Ee(e)?d((e=>({...e,[t]:void 0}))):d((n=>({...n,[t]:e})))},onSearch:()=>E(1,h)}),u?(0,ye.jsx)(_g,{children:(0,ye.jsx)(kg,{center:!0,colSpan:t.tableColumns.length,children:(0,ye.jsx)("i",{className:"fas fa-sync fa-spin fa-lg text-muted"})})}):null===A||void 0===A?void 0:A.map(((e,n)=>(0,ye.jsx)(Sg,{context:t.context,rowData:e,tableColumns:t.tableColumns},e.id||n)))]})})]}),v.length>1&&(0,ye.jsx)(Tg,{pageNumber:C,hasPrevious:x,hasNext:w,pageRange:v,clickPageHandler:e=>{E(e,h),I(e)},clickPreviousHandler:()=>{E(C-1,h),I(C-1)},clickNextHandler:()=>{E(C+1,h),I(C+1)}})]})})),sd=t=>{let{children:n,show:i,onClose:r,fullscreen:o,size:a,compressed:s,centered:l,shadow:u,midHigh:c,title:g,...d}=t;const h=Cn()({rounded:!0,"modal-slim":s,"mid-high-modal":c}),p=Cn()({rounded:!0,shadow:"lg"!==u,"shadow-lg":"lg"===u});return(0,ye.jsx)(gu,{show:i,onHide:()=>r(),size:a,fullscreen:o,className:h,centered:l,contentClassName:p,children:i&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)(gu.Header,{style:{borderBottom:"none"},children:[(0,ye.jsx)("span",{className:"font-h4",children:g}),(0,ye.jsx)(On,{variant:"icon-clear",floatRight:!0,small:!0,onClick:()=>r(),children:(0,ye.jsx)("i",{className:"fas fa-times"})})]}),(0,ye.jsx)(gu.Body,{children:n})]})})},ld=[{header:"Status",accessor:"status_desc",FilterKey:"status",center:!0},{header:"Purch/Sale",accessor:"purch_sale_desc",FilterKey:"purch_sale",center:!0},{header:"ID",accessor:"contract_src_id",FilterKey:"contract_id",center:!0},{header:"Code",accessor:"trading_partner.source_code",FilterKey:"trading_partner",center:!0},{header:"Name",accessor:"trading_partner.display_name",FilterKey:"trading_partner_name",center:!0},{header:"Comm",accessor:"commodity.commodity_code",FilterKey:"commodity",center:!0},{header:"Delv Terms",accessor:"freight_terms_desc",FilterKey:"freight_terms",center:!0},{header:"Planned Delv",accessor:e=>{if(null===(null===e||void 0===e?void 0:e.planned_delv_raw))return;let t="";return t=null!==e&&void 0!==e&&e.alt_planned_delv_display_name?"".concat(null===e||void 0===e?void 0:e.planned_delv_display_name,", ").concat(null===e||void 0===e?void 0:e.alt_planned_delv_display_name):"".concat(null===e||void 0===e?void 0:e.planned_delv_display_name),(0,ye.jsx)(mg,{tooltip:t,text:null===e||void 0===e?void 0:e.planned_delv_raw})},center:!0},{header:"Delv",accessor:e=>(0,ye.jsx)(mg,{tooltip:null===e||void 0===e?void 0:e.delivery_basis,text:Yg(null===e||void 0===e?void 0:e.delivery_basis,25)}),FilterKey:"delivery_basis",center:!0},{header:"Mkt Zone",accessor:"market_zone.name",FilterKey:"market_zone",center:!0},{header:"Ship Mode",accessor:"ship_mode_desc",FilterKey:"ship_mode",center:!0},{header:"Qty",accessor:"total_quantity",FilterKey:"total_quantity",formatter:Fg,center:!0},{header:"Balance",accessor:"contract_balance",FilterKey:"contract_balance__gt",formatter:Fg,center:!0},{header:"Basis",accessor:"basis",FilterKey:"basis",formatter:Lg,center:!0},{header:"Period",accessor:"period_adjusted.code",FilterKey:"period_adjusted_code",center:!0},{header:"Merchant",accessor:e=>{var t;return(0,ye.jsx)(mg,{tooltip:null===e||void 0===e||null===(t=e.trader)||void 0===t?void 0:t.full_name,text:null===e||void 0===e?void 0:e.trader_raw})},FilterKey:"trader__in",FilterNullable:!0,FilterisMulti:!0,style:{width:"8%"},center:!0}],ud=t=>{let{contract:n,flowPlanning:i,onUpdate:r}=t;const[o,a]=(0,e.useState)(void 0),[s,l]=(0,e.useState)(void 0),[u,c]=(0,e.useState)(void 0),[g,d]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{a(null===i||void 0===i?void 0:i.to_options_additional),l(null===i||void 0===i?void 0:i.to_options_override),c(null===i||void 0===i?void 0:i.from_options_additional),d(null===i||void 0===i?void 0:i.from_options_override)}),[i]);return(0,ye.jsxs)("div",{className:"flow-contract-planning-form",children:["p"===(null===n||void 0===n?void 0:n.purch_sale)?(0,ye.jsxs)("div",{className:"purch-contract-delivery-options",children:[(0,ye.jsx)(Un,{className:"mt-1",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(td,{active:!0,label:"Additional To Options",value:o,onChange:a})})}),(0,ye.jsx)(Un,{className:"mt-1",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(td,{active:!0,label:"Override To Options",value:s,onChange:l})})})]}):"s"===(null===n||void 0===n?void 0:n.purch_sale)&&(0,ye.jsxs)("div",{className:"sale-contract-delivery-options",children:[(0,ye.jsx)(Un,{className:"mt-1",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(td,{active:!0,label:"Additional From Options",value:u,onChange:c})})}),(0,ye.jsx)(Un,{className:"mt-1",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(td,{active:!0,label:"Override From Options",value:g,onChange:d})})})]}),(0,ye.jsx)(Un,{className:"mt-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{r({to_options_additional:null===o||void 0===o?void 0:o.map((e=>e.id)),to_options_override:null===s||void 0===s?void 0:s.map((e=>e.id)),from_options_additional:null===u||void 0===u?void 0:u.map((e=>e.id)),from_options_override:null===g||void 0===g?void 0:g.map((e=>e.id))})},isLoading:!1,Text:"Submit"})})})]})},cd=t=>{var n,i;let{context:r,data:o}=t;const{flowVersion:a,setContractDetail:s,addSuccessAlert:l}=r,[u,c]=(0,e.useState)(void 0),[g,d]=(0,e.useState)(!1);(0,e.useEffect)((()=>{c(null===o||void 0===o?void 0:o.flow_planning)}),[null===o||void 0===o?void 0:o.flow_planning]);const h=e=>{He("/api/v1/tr/cont-flow-planning/".concat(null===u||void 0===u?void 0:u.id,"/"),e,(e=>{c(e),l("Updated contract '".concat(null===o||void 0===o?void 0:o.contract_src_id,"' to flow")),d(!1)}))};return(0,ye.jsxs)("div",{className:"contract-planning-actions",children:["p"===(null===o||void 0===o?void 0:o.purch_sale)?(0,ye.jsx)(mg,{tooltip:Zg(null===o||void 0===o||null===(n=o.flow_node)||void 0===n||null===(i=n.to_options)||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.label))),text:(0,ye.jsx)("i",{className:"fas fa-info-circle clickable",title:"Detail",onClick:()=>s(o)})}):(0,ye.jsx)("i",{className:"fas fa-info-circle clickable",title:"Detail",onClick:()=>s(o)}),Ee(u)?(0,ye.jsx)("i",{className:"fas fa-link clickable ml-2",title:"Link",onClick:()=>(()=>{const e={flow_version:a,contract:o.id};Ge("/api/v1/tr/cont-flow-planning/",e,(e=>{c(e),l("Added contract '".concat(null===o||void 0===o?void 0:o.contract_src_id,"' to flow"))}))})()}):(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("i",{className:"fas fa-edit clickable ml-2",onClick:()=>d((e=>!e))}),null!==u&&void 0!==u&&u.excluded_on?(0,ye.jsx)("i",{className:"fas fa-redo  clickable ml-2",title:"Link",onClick:()=>{He("/api/v1/tr/cont-flow-planning/".concat(null===u||void 0===u?void 0:u.id,"/"),{excluded_on:null},(e=>{c(e),l("Re-linked contract '".concat(null===o||void 0===o?void 0:o.contract_src_id,"' to flow"))}))}}):(0,ye.jsx)("i",{className:"fas fa-unlink icon-danger clickable ml-2",title:"Unlink",onClick:()=>(()=>{const e={excluded_on:new Date};He("/api/v1/tr/cont-flow-planning/".concat(null===u||void 0===u?void 0:u.id,"/"),e,(e=>{c(e),l("Unlinked contract '".concat(null===o||void 0===o?void 0:o.contract_src_id,"' to flow"))}))})()})]}),(0,ye.jsx)(hu,{compressed:!0,show:!0===g,contract:o,flowPlanning:u,shadow:"xl",size:"50w",title:"Update ".concat(null===o||void 0===o?void 0:o.contract_src_id),FormElement:ud,onUpdate:e=>h(e),onClose:()=>{d(!1)}})]})},gd=e=>{var t,n,i,r,o,a,s,l,u,c,g;let{contractDetail:d}=e;return(0,ye.jsxs)("div",{className:"contract-planning-detail",children:[(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"xl-6",children:[(0,ye.jsx)(Xg,{Label:"Trading Partner",Value:null===d||void 0===d||null===(t=d.trading_partner)||void 0===t?void 0:t.display_name,conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"Basis",Value:Bg(null===d||void 0===d?void 0:d.basis),conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"Delv Basis",Value:"".concat(null===d||void 0===d?void 0:d.freight_terms_desc," - ").concat(null===d||void 0===d?void 0:d.delivery_basis),break:!0}),(0,ye.jsx)(Xg,{Label:"Planned Delv",Value:null===d||void 0===d?void 0:d.planned_delv_display_name,conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"Alt Planned Delv",Value:null===d||void 0===d?void 0:d.alt_planned_delv_display_name,conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"Start",Value:Wg(null===d||void 0===d?void 0:d.start_date),conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"End",Value:Wg(null===d||void 0===d?void 0:d.end_date),conditional:!0,break:!0})]}),(0,ye.jsxs)(Wn,{colSize:"xl-6",children:[(0,ye.jsx)("div",{className:"font-h6",children:"Flow Planning"}),"p"===(null===d||void 0===d?void 0:d.purch_sale)?(0,ye.jsxs)("div",{className:"purchase-options-extra",children:[(0,ye.jsx)(Xg,{Label:"Updated by",Value:null===d||void 0===d||null===(n=d.flow_planning)||void 0===n||null===(i=n.updated_by)||void 0===i?void 0:i.full_name,conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"To Options Addl",Value:Zg(null===d||void 0===d||null===(r=d.flow_planning)||void 0===r||null===(o=r.to_options_additional)||void 0===o?void 0:o.map((e=>null===e||void 0===e?void 0:e.label)),", "),conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"To Options Override",Value:Zg(null===d||void 0===d||null===(a=d.flow_planning)||void 0===a||null===(s=a.to_options_override)||void 0===s?void 0:s.map((e=>null===e||void 0===e?void 0:e.label))),conditional:!0,break:!0})]}):(0,ye.jsxs)("div",{className:"sale-options-extra",children:[(0,ye.jsx)(Xg,{Label:"From Options Addl",Value:Zg(null===d||void 0===d||null===(l=d.flow_planning)||void 0===l||null===(u=l.from_options_additional)||void 0===u?void 0:u.map((e=>null===e||void 0===e?void 0:e.label)),", "),conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"From Options Override",Value:Zg(null===d||void 0===d||null===(c=d.flow_planning)||void 0===c||null===(g=c.from_options_override)||void 0===g?void 0:g.map((e=>null===e||void 0===e?void 0:e.label))),conditional:!0,break:!0})]})]})]}),(0,ye.jsx)("hr",{className:"my-1"}),(0,ye.jsx)("pre",{children:JSON.stringify(d,null,2)})]})},dd=e=>{var t;return Yg(Zg(null===e||void 0===e||null===(t=e.flow_nodes)||void 0===t?void 0:t.map((e=>e.node_key))),50,!0)},hd=e=>{if(!Ee(null===e||void 0===e?void 0:e.errors))return(0,ye.jsx)(mg,{tooltip:Vg(null===e||void 0===e?void 0:e.errors),text:(0,ye.jsx)("i",{className:"fas fa-exclamation-triangle",style:{color:"orange"}})})},pd=[{header:"Key",accessor:"edge_key",FilterKey:"edge_key__in",center:!0},{header:"Edge Type",accessor:"edge_type_desc",FilterKey:"edge_type_desc__in",center:!0},{header:"Priority Type",accessor:"priority_type_desc",FilterKey:"priority_type_desc__in",center:!0},{header:"From",accessor:"from_node.place_display",FilterKey:"from_node.place_display__in",center:!0},{header:"To",accessor:"to_node.place_display",FilterKey:"to_node.place_display__in",center:!0},{header:"Period (Start)",accessor:"from_node.period.code",FilterKey:"from_node.period.code__in",center:!0},{header:"Commodity",accessor:"from_node.commodity.commodity_code",FilterKey:"from_node.commodity.commodity_code__in",center:!0},{header:"Plan Flow",accessor:"plan_flow",formatter:Fg,center:!0},{header:"Max Flow",accessor:"max_flow",formatter:Fg,center:!0},{header:"Full Carry",accessor:"full_carry",formatter:Lg,center:!0},{header:"Freight",accessor:"freight_cost",formatter:Lg,center:!0},{header:"Errors",accessor:hd,FilterKey:"errors__notnull",style:{width:"5%"},center:!0},{header:"Active",accessor:"active",formatter:qg,center:!0}],Ad=e=>{let{context:t,data:n}=e;const{setEditEdge:i,setEdgeDetail:r}=t;return(0,ye.jsxs)("div",{className:"flow-edge-actions",children:[(0,ye.jsx)("i",{className:"fas fa-edit clickable mr-2",title:"Edit",onClick:()=>i(n)}),(0,ye.jsx)("i",{className:"fa fa-search clickable mr-2",title:"Detail",onClick:()=>r(n)})]})};var fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function Cd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Id=function(e){return e&&e.Math===Math&&e},vd=Id("object"==typeof globalThis&&globalThis)||Id("object"==typeof window&&window)||Id("object"==typeof self&&self)||Id("object"==typeof fd&&fd)||function(){return this}()||fd||Function("return this")(),md=function(e){try{return!!e()}catch(t){return!0}},yd=!md((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),bd=yd,xd=Function.prototype,_d=xd.apply,wd=xd.call,kd="object"==typeof Reflect&&Reflect.apply||(bd?wd.bind(_d):function(){return wd.apply(_d,arguments)}),Ed=yd,Sd=Function.prototype,Td=Sd.call,Od=Ed&&Sd.bind.bind(Td,Td),Pd=Ed?Od:function(e){return function(){return Td.apply(e,arguments)}},Dd=Pd,jd=Dd({}.toString),Md=Dd("".slice),Nd=function(e){return Md(jd(e),8,-1)},zd=Nd,Rd=Pd,Fd=function(e){if("Function"===zd(e))return Rd(e)},Ld="object"==typeof document&&document.all,Bd={all:Ld,IS_HTMLDDA:"undefined"==typeof Ld&&void 0!==Ld},Zd=Bd.all,Vd=Bd.IS_HTMLDDA?function(e){return"function"==typeof e||e===Zd}:function(e){return"function"==typeof e},Ud={},Wd=!md((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),Gd=yd,Hd=Function.prototype.call,Yd=Gd?Hd.bind(Hd):function(){return Hd.apply(Hd,arguments)},qd={},Kd={}.propertyIsEnumerable,Xd=Object.getOwnPropertyDescriptor,Qd=Xd&&!Kd.call({1:2},1);qd.f=Qd?function(e){var t=Xd(this,e);return!!t&&t.enumerable}:Kd;var Jd,$d,eh=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},th=md,nh=Nd,ih=Object,rh=Pd("".split),oh=th((function(){return!ih("z").propertyIsEnumerable(0)}))?function(e){return"String"===nh(e)?rh(e,""):ih(e)}:ih,ah=function(e){return null===e||void 0===e},sh=ah,lh=TypeError,uh=function(e){if(sh(e))throw new lh("Can't call method on "+e);return e},ch=oh,gh=uh,dh=function(e){return ch(gh(e))},hh=Vd,ph=Bd.all,Ah=Bd.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:hh(e)||e===ph}:function(e){return"object"==typeof e?null!==e:hh(e)},fh={},Ch=fh,Ih=vd,vh=Vd,mh=function(e){return vh(e)?e:void 0},yh=function(e,t){return arguments.length<2?mh(Ch[e])||mh(Ih[e]):Ch[e]&&Ch[e][t]||Ih[e]&&Ih[e][t]},bh=Pd({}.isPrototypeOf),xh="undefined"!=typeof navigator&&String(navigator.userAgent)||"",_h=vd,wh=xh,kh=_h.process,Eh=_h.Deno,Sh=kh&&kh.versions||Eh&&Eh.version,Th=Sh&&Sh.v8;Th&&($d=(Jd=Th.split("."))[0]>0&&Jd[0]<4?1:+(Jd[0]+Jd[1])),!$d&&wh&&(!(Jd=wh.match(/Edge\/(\d+)/))||Jd[1]>=74)&&(Jd=wh.match(/Chrome\/(\d+)/))&&($d=+Jd[1]);var Oh=$d,Ph=Oh,Dh=md,jh=vd.String,Mh=!!Object.getOwnPropertySymbols&&!Dh((function(){var e=Symbol("symbol detection");return!jh(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ph&&Ph<41})),Nh=Mh&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,zh=yh,Rh=Vd,Fh=bh,Lh=Object,Bh=Nh?function(e){return"symbol"==typeof e}:function(e){var t=zh("Symbol");return Rh(t)&&Fh(t.prototype,Lh(e))},Zh=String,Vh=function(e){try{return Zh(e)}catch(t){return"Object"}},Uh=Vd,Wh=Vh,Gh=TypeError,Hh=function(e){if(Uh(e))return e;throw new Gh(Wh(e)+" is not a function")},Yh=Hh,qh=ah,Kh=function(e,t){var n=e[t];return qh(n)?void 0:Yh(n)},Xh=Yd,Qh=Vd,Jh=Ah,$h=TypeError,ep={exports:{}},tp=vd,np=Object.defineProperty,ip=function(e,t){try{np(tp,e,{value:t,configurable:!0,writable:!0})}catch(n){tp[e]=t}return t},rp="__core-js_shared__",op=vd[rp]||ip(rp,{}),ap=op;(ep.exports=function(e,t){return ap[e]||(ap[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.33.0",mode:"pure",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"});var sp=ep.exports,lp=uh,up=Object,cp=function(e){return up(lp(e))},gp=cp,dp=Pd({}.hasOwnProperty),hp=Object.hasOwn||function(e,t){return dp(gp(e),t)},pp=Pd,Ap=0,fp=Math.random(),Cp=pp(1..toString),Ip=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Cp(++Ap+fp,36)},vp=sp,mp=hp,yp=Ip,bp=Mh,xp=Nh,_p=vd.Symbol,wp=vp("wks"),kp=xp?_p.for||_p:_p&&_p.withoutSetter||yp,Ep=function(e){return mp(wp,e)||(wp[e]=bp&&mp(_p,e)?_p[e]:kp("Symbol."+e)),wp[e]},Sp=Yd,Tp=Ah,Op=Bh,Pp=Kh,Dp=function(e,t){var n,i;if("string"===t&&Qh(n=e.toString)&&!Jh(i=Xh(n,e)))return i;if(Qh(n=e.valueOf)&&!Jh(i=Xh(n,e)))return i;if("string"!==t&&Qh(n=e.toString)&&!Jh(i=Xh(n,e)))return i;throw new $h("Can't convert object to primitive value")},jp=TypeError,Mp=Ep("toPrimitive"),Np=function(e,t){if(!Tp(e)||Op(e))return e;var n,i=Pp(e,Mp);if(i){if(void 0===t&&(t="default"),n=Sp(i,e,t),!Tp(n)||Op(n))return n;throw new jp("Can't convert object to primitive value")}return void 0===t&&(t="number"),Dp(e,t)},zp=Bh,Rp=function(e){var t=Np(e,"string");return zp(t)?t:t+""},Fp=Ah,Lp=vd.document,Bp=Fp(Lp)&&Fp(Lp.createElement),Zp=function(e){return Bp?Lp.createElement(e):{}},Vp=Zp,Up=!Wd&&!md((function(){return 7!==Object.defineProperty(Vp("div"),"a",{get:function(){return 7}}).a})),Wp=Wd,Gp=Yd,Hp=qd,Yp=eh,qp=dh,Kp=Rp,Xp=hp,Qp=Up,Jp=Object.getOwnPropertyDescriptor;Ud.f=Wp?Jp:function(e,t){if(e=qp(e),t=Kp(t),Qp)try{return Jp(e,t)}catch(n){}if(Xp(e,t))return Yp(!Gp(Hp.f,e,t),e[t])};var $p=md,eA=Vd,tA=/#|\.prototype\./,nA=function(e,t){var n=rA[iA(e)];return n===aA||n!==oA&&(eA(t)?$p(t):!!t)},iA=nA.normalize=function(e){return String(e).replace(tA,".").toLowerCase()},rA=nA.data={},oA=nA.NATIVE="N",aA=nA.POLYFILL="P",sA=nA,lA=Hh,uA=yd,cA=Fd(Fd.bind),gA=function(e,t){return lA(e),void 0===t?e:uA?cA(e,t):function(){return e.apply(t,arguments)}},dA={},hA=Wd&&md((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),pA=Ah,AA=String,fA=TypeError,CA=function(e){if(pA(e))return e;throw new fA(AA(e)+" is not an object")},IA=Wd,vA=Up,mA=hA,yA=CA,bA=Rp,xA=TypeError,_A=Object.defineProperty,wA=Object.getOwnPropertyDescriptor,kA="enumerable",EA="configurable",SA="writable";dA.f=IA?mA?function(e,t,n){if(yA(e),t=bA(t),yA(n),"function"===typeof e&&"prototype"===t&&"value"in n&&SA in n&&!n[SA]){var i=wA(e,t);i&&i[SA]&&(e[t]=n.value,n={configurable:EA in n?n[EA]:i[EA],enumerable:kA in n?n[kA]:i[kA],writable:!1})}return _A(e,t,n)}:_A:function(e,t,n){if(yA(e),t=bA(t),yA(n),vA)try{return _A(e,t,n)}catch(i){}if("get"in n||"set"in n)throw new xA("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var TA=dA,OA=eh,PA=Wd?function(e,t,n){return TA.f(e,t,OA(1,n))}:function(e,t,n){return e[t]=n,e},DA=vd,jA=kd,MA=Fd,NA=Vd,zA=Ud.f,RA=sA,FA=fh,LA=gA,BA=PA,ZA=hp,VA=function(e){var t=function(n,i,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,r)}return jA(e,this,arguments)};return t.prototype=e.prototype,t},UA=function(e,t){var n,i,r,o,a,s,l,u,c,g=e.target,d=e.global,h=e.stat,p=e.proto,A=d?DA:h?DA[g]:(DA[g]||{}).prototype,f=d?FA:FA[g]||BA(FA,g,{})[g],C=f.prototype;for(o in t)i=!(n=RA(d?o:g+(h?".":"#")+o,e.forced))&&A&&ZA(A,o),s=f[o],i&&(l=e.dontCallGetSet?(c=zA(A,o))&&c.value:A[o]),a=i&&l?l:t[o],i&&typeof s==typeof a||(u=e.bind&&i?LA(a,DA):e.wrap&&i?VA(a):p&&NA(a)?MA(a):a,(e.sham||a&&a.sham||s&&s.sham)&&BA(u,"sham",!0),BA(f,o,u),p&&(ZA(FA,r=g+"Prototype")||BA(FA,r,{}),BA(FA[r],o,a),e.real&&C&&(n||!C[o])&&BA(C,o,a)))},WA=Math.ceil,GA=Math.floor,HA=Math.trunc||function(e){var t=+e;return(t>0?GA:WA)(t)},YA=function(e){var t=+e;return t!==t||0===t?0:HA(t)},qA=YA,KA=Math.max,XA=Math.min,QA=function(e,t){var n=qA(e);return n<0?KA(n+t,0):XA(n,t)},JA=YA,$A=Math.min,ef=function(e){return e>0?$A(JA(e),9007199254740991):0},tf=function(e){return ef(e.length)},nf=dh,rf=QA,of=tf,af=function(e){return function(t,n,i){var r,o=nf(t),a=of(o),s=rf(i,a);if(e&&n!==n){for(;a>s;)if((r=o[s++])!==r)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},sf={includes:af(!0),indexOf:af(!1)},lf={},uf=hp,cf=dh,gf=sf.indexOf,df=lf,hf=Pd([].push),pf=function(e,t){var n,i=cf(e),r=0,o=[];for(n in i)!uf(df,n)&&uf(i,n)&&hf(o,n);for(;t.length>r;)uf(i,n=t[r++])&&(~gf(o,n)||hf(o,n));return o},Af=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ff=pf,Cf=Af,If=Object.keys||function(e){return ff(e,Cf)},vf={};vf.f=Object.getOwnPropertySymbols;var mf=Wd,yf=Pd,bf=Yd,xf=md,_f=If,wf=vf,kf=qd,Ef=cp,Sf=oh,Tf=Object.assign,Of=Object.defineProperty,Pf=yf([].concat),Df=!Tf||xf((function(){if(mf&&1!==Tf({b:1},Tf(Of({},"a",{enumerable:!0,get:function(){Of(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==Tf({},e)[n]||_f(Tf({},t)).join("")!==i}))?function(e,t){for(var n=Ef(e),i=arguments.length,r=1,o=wf.f,a=kf.f;i>r;)for(var s,l=Sf(arguments[r++]),u=o?Pf(_f(l),o(l)):_f(l),c=u.length,g=0;c>g;)s=u[g++],mf&&!bf(a,l,s)||(n[s]=l[s]);return n}:Tf,jf=Df;UA({target:"Object",stat:!0,arity:2,forced:Object.assign!==jf},{assign:jf});var Mf=Cd(fh.Object.assign),Nf=Pd([].slice),zf=Pd,Rf=Hh,Ff=Ah,Lf=hp,Bf=Nf,Zf=yd,Vf=Function,Uf=zf([].concat),Wf=zf([].join),Gf={},Hf=Zf?Vf.bind:function(e){var t=Rf(this),n=t.prototype,i=Bf(arguments,1),r=function(){var n=Uf(i,Bf(arguments));return this instanceof r?function(e,t,n){if(!Lf(Gf,t)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";Gf[t]=Vf("C,a","return new C("+Wf(i,",")+")")}return Gf[t](e,n)}(t,n.length,n):t.apply(e,n)};return Ff(n)&&(r.prototype=n),r},Yf=Hf;UA({target:"Function",proto:!0,forced:Function.bind!==Yf},{bind:Yf});var qf=fh,Kf=function(e){return qf[e+"Prototype"]},Xf=Kf("Function").bind,Qf=bh,Jf=Xf,$f=Function.prototype,eC=function(e){var t=e.bind;return e===$f||Qf($f,e)&&t===$f.bind?Jf:t},tC=eC,nC=Cd(tC);function iC(e,t,n,i){e.beginPath(),e.arc(t,n,i,0,2*Math.PI,!1),e.closePath()}function rC(e,t,n,i,r,o){var a=Math.PI/180;i-2*o<0&&(o=i/2),r-2*o<0&&(o=r/2),e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.arc(t+i-o,n+o,o,270*a,360*a,!1),e.lineTo(t+i,n+r-o),e.arc(t+i-o,n+r-o,o,0,90*a,!1),e.lineTo(t+o,n+r),e.arc(t+o,n+r-o,o,90*a,180*a,!1),e.lineTo(t,n+o),e.arc(t+o,n+o,o,180*a,270*a,!1),e.closePath()}function oC(e,t,n,i,r){var o=.5522848,a=i/2*o,s=r/2*o,l=t+i,u=n+r,c=t+i/2,g=n+r/2;e.beginPath(),e.moveTo(t,g),e.bezierCurveTo(t,g-s,c-a,n,c,n),e.bezierCurveTo(c+a,n,l,g-s,l,g),e.bezierCurveTo(l,g+s,c+a,u,c,u),e.bezierCurveTo(c-a,u,t,g+s,t,g),e.closePath()}function aC(e,t,n,i,r){var o=r*(1/3),a=.5522848,s=i/2*a,l=o/2*a,u=t+i,c=n+o,g=t+i/2,d=n+o/2,h=n+(r-o/2),p=n+r;e.beginPath(),e.moveTo(u,d),e.bezierCurveTo(u,d+l,g+s,c,g,c),e.bezierCurveTo(g-s,c,t,d+l,t,d),e.bezierCurveTo(t,d-l,g-s,n,g,n),e.bezierCurveTo(g+s,n,u,d-l,u,d),e.lineTo(u,h),e.bezierCurveTo(u,h+l,g+s,p,g,p),e.bezierCurveTo(g-s,p,t,h+l,t,h),e.lineTo(t,d)}function sC(e,t,n,i,r,o){e.beginPath(),e.moveTo(t,n);for(var a=o.length,s=i-t,l=r-n,u=l/s,c=Math.sqrt(s*s+l*l),g=0,d=!0,h=0,p=+o[0];c>=.1;)(p=+o[g++%a])>c&&(p=c),h=Math.sqrt(p*p/(1+u*u)),t+=h=s<0?-h:h,n+=u*h,!0===d?e.lineTo(t,n):e.moveTo(t,n),c-=p,d=!d}var lC={circle:iC,dashedLine:sC,database:aC,diamond:function(e,t,n,i){e.beginPath(),e.lineTo(t,n+i),e.lineTo(t+i,n),e.lineTo(t,n-i),e.lineTo(t-i,n),e.closePath()},ellipse:oC,ellipse_vis:oC,hexagon:function(e,t,n,i){e.beginPath();var r=2*Math.PI/6;e.moveTo(t+i,n);for(var o=1;o<6;o++)e.lineTo(t+i*Math.cos(r*o),n+i*Math.sin(r*o));e.closePath()},roundRect:rC,square:function(e,t,n,i){e.beginPath(),e.rect(t-i,n-i,2*i,2*i),e.closePath()},star:function(e,t,n,i){e.beginPath(),n+=.1*(i*=.82);for(var r=0;r<10;r++){var o=r%2===0?1.3*i:.5*i;e.lineTo(t+o*Math.sin(2*r*Math.PI/10),n-o*Math.cos(2*r*Math.PI/10))}e.closePath()},triangle:function(e,t,n,i){e.beginPath(),n+=.275*(i*=1.15);var r=2*i,o=r/2,a=Math.sqrt(3)/6*r,s=Math.sqrt(r*r-o*o);e.moveTo(t,n-(s-a)),e.lineTo(t+o,n+a),e.lineTo(t-o,n+a),e.lineTo(t,n-(s-a)),e.closePath()},triangleDown:function(e,t,n,i){e.beginPath(),n-=.275*(i*=1.15);var r=2*i,o=r/2,a=Math.sqrt(3)/6*r,s=Math.sqrt(r*r-o*o);e.moveTo(t,n+(s-a)),e.lineTo(t+o,n-a),e.lineTo(t-o,n-a),e.lineTo(t,n+(s-a)),e.closePath()}};function uC(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}uC(".vis-overlay {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n");uC('/* override some bootstrap styles screwing up the timelines css */\n\n.vis [class*="span"] {\n  min-height: 0;\n  width: auto;\n}\n');uC("div.vis-color-picker {\n  position: absolute;\n  top: 0px;\n  left: 30px;\n  margin-top: -140px;\n  margin-left: 30px;\n  width: 310px;\n  height: 444px;\n  z-index: 1;\n  padding: 10px;\n  border-radius: 15px;\n  background-color: #ffffff;\n  display: none;\n  box-shadow: rgba(0, 0, 0, 0.5) 0px 0px 10px 0px;\n}\n\ndiv.vis-color-picker div.vis-arrow {\n  position: absolute;\n  top: 147px;\n  left: 5px;\n}\n\ndiv.vis-color-picker div.vis-arrow::after,\ndiv.vis-color-picker div.vis-arrow::before {\n  right: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\ndiv.vis-color-picker div.vis-arrow:after {\n  border-color: rgba(255, 255, 255, 0);\n  border-right-color: #ffffff;\n  border-width: 30px;\n  margin-top: -30px;\n}\n\ndiv.vis-color-picker div.vis-color {\n  position: absolute;\n  width: 289px;\n  height: 289px;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-brightness {\n  position: absolute;\n  top: 313px;\n}\n\ndiv.vis-color-picker div.vis-opacity {\n  position: absolute;\n  top: 350px;\n}\n\ndiv.vis-color-picker div.vis-selector {\n  position: absolute;\n  top: 137px;\n  left: 137px;\n  width: 15px;\n  height: 15px;\n  border-radius: 15px;\n  border: 1px solid #ffffff;\n  background: #4c4c4c; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #4c4c4c),\n    color-stop(12%, #595959),\n    color-stop(25%, #666666),\n    color-stop(39%, #474747),\n    color-stop(50%, #2c2c2c),\n    color-stop(51%, #000000),\n    color-stop(60%, #111111),\n    color-stop(76%, #2b2b2b),\n    color-stop(91%, #1c1c1c),\n    color-stop(100%, #131313)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #4c4c4c 0%,\n    #595959 12%,\n    #666666 25%,\n    #474747 39%,\n    #2c2c2c 50%,\n    #000000 51%,\n    #111111 60%,\n    #2b2b2b 76%,\n    #1c1c1c 91%,\n    #131313 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#4c4c4c', endColorstr='#131313',GradientType=0 ); /* IE6-9 */\n}\n\ndiv.vis-color-picker div.vis-new-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 159px;\n  text-align: right;\n  padding-right: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-initial-color {\n  position: absolute;\n  width: 140px;\n  height: 20px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  top: 380px;\n  left: 10px;\n  text-align: left;\n  padding-left: 2px;\n  font-size: 10px;\n  color: rgba(0, 0, 0, 0.4);\n  vertical-align: middle;\n  line-height: 20px;\n}\n\ndiv.vis-color-picker div.vis-label {\n  position: absolute;\n  width: 300px;\n  left: 10px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-brightness {\n  top: 300px;\n}\n\ndiv.vis-color-picker div.vis-label.vis-opacity {\n  top: 338px;\n}\n\ndiv.vis-color-picker div.vis-button {\n  position: absolute;\n  width: 68px;\n  height: 25px;\n  border-radius: 10px;\n  vertical-align: middle;\n  text-align: center;\n  line-height: 25px;\n  top: 410px;\n  border: 2px solid #d9d9d9;\n  background-color: #f7f7f7;\n  cursor: pointer;\n}\n\ndiv.vis-color-picker div.vis-button.vis-cancel {\n  /*border:2px solid #ff4e33;*/\n  /*background-color: #ff7761;*/\n  left: 5px;\n}\ndiv.vis-color-picker div.vis-button.vis-load {\n  /*border:2px solid #a153e6;*/\n  /*background-color: #cb8dff;*/\n  left: 82px;\n}\ndiv.vis-color-picker div.vis-button.vis-apply {\n  /*border:2px solid #4588e6;*/\n  /*background-color: #82b6ff;*/\n  left: 159px;\n}\ndiv.vis-color-picker div.vis-button.vis-save {\n  /*border:2px solid #45e655;*/\n  /*background-color: #6dff7c;*/\n  left: 236px;\n}\n\ndiv.vis-color-picker input.vis-range {\n  width: 290px;\n  height: 20px;\n}\n\n/* TODO: is this redundant?\ndiv.vis-color-picker input.vis-range-brightness {\n  width: 289px !important;\n}\n\n\ndiv.vis-color-picker input.vis-saturation-range {\n  width: 289px !important;\n}*/\n");uC("div.vis-configuration {\n  position: relative;\n  display: block;\n  float: left;\n  font-size: 12px;\n}\n\ndiv.vis-configuration-wrapper {\n  display: block;\n  width: 700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: \"\";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container {\n  display: block;\n  width: 495px;\n  background-color: #ffffff;\n  border: 2px solid #f7f8fa;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n}\n\ndiv.vis-configuration.vis-config-button {\n  display: block;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n  background-color: #f7f8fa;\n  border: 2px solid #ceced0;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n  cursor: pointer;\n  margin-bottom: 30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover {\n  background-color: #4588e6;\n  border: 2px solid #214373;\n  color: #ffffff;\n}\n\ndiv.vis-configuration.vis-config-item {\n  display: block;\n  float: left;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s2 {\n  left: 10px;\n  background-color: #f7f8fa;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s3 {\n  left: 20px;\n  background-color: #e4e9f0;\n  padding-left: 5px;\n  border-radius: 3px;\n}\ndiv.vis-configuration.vis-config-item.vis-config-s4 {\n  left: 30px;\n  background-color: #cfd8e6;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-header {\n  font-size: 18px;\n  font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label {\n  width: 120px;\n  height: 25px;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3 {\n  width: 110px;\n}\ndiv.vis-configuration.vis-config-label.vis-config-s4 {\n  width: 100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock {\n  top: 1px;\n  width: 30px;\n  height: 19px;\n  border: 1px solid #444444;\n  border-radius: 2px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n  left: -5px;\n}\n\ninput.vis-configuration.vis-config-rangeinput {\n  position: relative;\n  top: -5px;\n  width: 60px;\n  /*height:13px;*/\n  padding: 1px;\n  margin: 0;\n  pointer-events: none;\n}\n\ninput.vis-configuration.vis-config-range {\n  /*removes default webkit styles*/\n  -webkit-appearance: none;\n\n  /*fix for FF unable to apply focus style bug */\n  border: 0px solid white;\n  background-color: rgba(0, 0, 0, 0);\n\n  /*required for proper track sizing in FF*/\n  width: 300px;\n  height: 20px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: 1px solid #14334b;\n  height: 17px;\n  width: 17px;\n  border-radius: 50%;\n  background: #3876c2; /* Old browsers */\n  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #3876c2),\n    color-stop(100%, #385380)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #3876c2 0%,\n    #385380 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3876c2', endColorstr='#385380',GradientType=0 ); /* IE6-9 */\n  box-shadow: #111927 0px 0px 1px 0px;\n  margin-top: -7px;\n}\ninput.vis-configuration.vis-config-range:focus {\n  outline: none;\n}\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n  background: #9d9d9d; /* Old browsers */\n  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #9d9d9d),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #9d9d9d 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#9d9d9d', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n  width: 300px;\n  height: 10px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #dedede),\n    color-stop(99%, #c8c8c8)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #dedede 0%,\n    #c8c8c8 99%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#dedede', endColorstr='#c8c8c8',GradientType=0 ); /* IE6-9 */\n\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n\n  border-radius: 50%;\n  background: #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n  width: 300px;\n  height: 5px;\n\n  /*remove bg colour from the track, we'll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n\n  /*remove default tick marks*/\n  color: transparent;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\ninput.vis-configuration.vis-config-range::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n  background: #888;\n}\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.vis-configuration-popup {\n  position: absolute;\n  background: rgba(57, 76, 89, 0.85);\n  border: 2px solid #f2faff;\n  line-height: 30px;\n  height: 30px;\n  width: 150px;\n  text-align: center;\n  color: #ffffff;\n  font-size: 14px;\n  border-radius: 4px;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n.vis-configuration-popup:after,\n.vis-configuration-popup:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: \" \";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n  border-color: rgba(136, 183, 213, 0);\n  border-left-color: rgba(57, 76, 89, 0.85);\n  border-width: 8px;\n  margin-top: -8px;\n}\n.vis-configuration-popup:before {\n  border-color: rgba(194, 225, 245, 0);\n  border-left-color: #f2faff;\n  border-width: 12px;\n  margin-top: -12px;\n}\n");uC("div.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n\n  font-family: verdana;\n  font-size: 14px;\n  color: #000000;\n  background-color: #f5f4ed;\n\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n\n  z-index: 5;\n}\n");var cC={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(cC);var gC=Cd(cC.exports),dC={};dC[Ep("toStringTag")]="z";var hC,pC,AC,fC="[object z]"===String(dC),CC=fC,IC=Vd,vC=Nd,mC=Ep("toStringTag"),yC=Object,bC="Arguments"===vC(function(){return arguments}()),xC=CC?vC:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=yC(e),mC))?n:bC?vC(t):"Object"===(i=vC(t))&&IC(t.callee)?"Arguments":i},_C=xC,wC=String,kC=function(e){if("Symbol"===_C(e))throw new TypeError("Cannot convert a Symbol value to a string");return wC(e)},EC=Pd,SC=YA,TC=kC,OC=uh,PC=EC("".charAt),DC=EC("".charCodeAt),jC=EC("".slice),MC=function(e){return function(t,n){var i,r,o=TC(OC(t)),a=SC(n),s=o.length;return a<0||a>=s?e?"":void 0:(i=DC(o,a))<55296||i>56319||a+1===s||(r=DC(o,a+1))<56320||r>57343?e?PC(o,a):i:e?jC(o,a,a+2):r-56320+(i-55296<<10)+65536}},NC={codeAt:MC(!1),charAt:MC(!0)},zC=Vd,RC=vd.WeakMap,FC=zC(RC)&&/native code/.test(String(RC)),LC=Ip,BC=sp("keys"),ZC=function(e){return BC[e]||(BC[e]=LC(e))},VC=FC,UC=vd,WC=Ah,GC=PA,HC=hp,YC=op,qC=ZC,KC=lf,XC="Object already initialized",QC=UC.TypeError,JC=UC.WeakMap;if(VC||YC.state){var $C=YC.state||(YC.state=new JC);$C.get=$C.get,$C.has=$C.has,$C.set=$C.set,hC=function(e,t){if($C.has(e))throw new QC(XC);return t.facade=e,$C.set(e,t),t},pC=function(e){return $C.get(e)||{}},AC=function(e){return $C.has(e)}}else{var eI=qC("state");KC[eI]=!0,hC=function(e,t){if(HC(e,eI))throw new QC(XC);return t.facade=e,GC(e,eI,t),t},pC=function(e){return HC(e,eI)?e[eI]:{}},AC=function(e){return HC(e,eI)}}var tI={set:hC,get:pC,has:AC,enforce:function(e){return AC(e)?pC(e):hC(e,{})},getterFor:function(e){return function(t){var n;if(!WC(t)||(n=pC(t)).type!==e)throw new QC("Incompatible receiver, "+e+" required");return n}}},nI=Wd,iI=hp,rI=Function.prototype,oI=nI&&Object.getOwnPropertyDescriptor,aI=iI(rI,"name"),sI={EXISTS:aI,PROPER:aI&&"something"===function(){}.name,CONFIGURABLE:aI&&(!nI||nI&&oI(rI,"name").configurable)},lI={},uI=Wd,cI=hA,gI=dA,dI=CA,hI=dh,pI=If;lI.f=uI&&!cI?Object.defineProperties:function(e,t){dI(e);for(var n,i=hI(t),r=pI(t),o=r.length,a=0;o>a;)gI.f(e,n=r[a++],i[n]);return e};var AI,fI=yh("document","documentElement"),CI=CA,II=lI,vI=Af,mI=lf,yI=fI,bI=Zp,xI="prototype",_I="script",wI=ZC("IE_PROTO"),kI=function(){},EI=function(e){return"<"+_I+">"+e+"</"+_I+">"},SI=function(e){e.write(EI("")),e.close();var t=e.parentWindow.Object;return e=null,t},TI=function(){try{AI=new ActiveXObject("htmlfile")}catch(t){}TI="undefined"!=typeof document?document.domain&&AI?SI(AI):function(){var e,t=bI("iframe"),n="java"+_I+":";return t.style.display="none",yI.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(EI("document.F=Object")),e.close(),e.F}():SI(AI);for(var e=vI.length;e--;)delete TI[xI][vI[e]];return TI()};mI[wI]=!0;var OI,PI,DI,jI=Object.create||function(e,t){var n;return null!==e?(kI[xI]=CI(e),n=new kI,kI[xI]=null,n[wI]=e):n=TI(),void 0===t?n:II.f(n,t)},MI=!md((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),NI=hp,zI=Vd,RI=cp,FI=MI,LI=ZC("IE_PROTO"),BI=Object,ZI=BI.prototype,VI=FI?BI.getPrototypeOf:function(e){var t=RI(e);if(NI(t,LI))return t[LI];var n=t.constructor;return zI(n)&&t instanceof n?n.prototype:t instanceof BI?ZI:null},UI=PA,WI=function(e,t,n,i){return i&&i.enumerable?e[t]=n:UI(e,t,n),e},GI=md,HI=Vd,YI=Ah,qI=jI,KI=VI,XI=WI,QI=Ep("iterator"),JI=!1;[].keys&&("next"in(DI=[].keys())?(PI=KI(KI(DI)))!==Object.prototype&&(OI=PI):JI=!0);var $I=!YI(OI)||GI((function(){var e={};return OI[QI].call(e)!==e}));HI((OI=$I?{}:qI(OI))[QI])||XI(OI,QI,(function(){return this}));var ev={IteratorPrototype:OI,BUGGY_SAFARI_ITERATORS:JI},tv=xC,nv=fC?{}.toString:function(){return"[object "+tv(this)+"]"},iv=fC,rv=dA.f,ov=PA,av=hp,sv=nv,lv=Ep("toStringTag"),uv=function(e,t,n,i){if(e){var r=n?e:e.prototype;av(r,lv)||rv(r,lv,{configurable:!0,value:t}),i&&!iv&&ov(r,"toString",sv)}},cv={},gv=ev.IteratorPrototype,dv=jI,hv=eh,pv=uv,Av=cv,fv=function(){return this},Cv=Pd,Iv=Hh,vv=Vd,mv=String,yv=TypeError,bv=function(e,t,n){try{return Cv(Iv(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}},xv=CA,_v=function(e){if("object"==typeof e||vv(e))return e;throw new yv("Can't set "+mv(e)+" as a prototype")},wv=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=bv(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(i){}return function(n,i){return xv(n),_v(i),t?e(n,i):n.__proto__=i,n}}():void 0),kv=UA,Ev=Yd,Sv=sI,Tv=function(e,t,n,i){var r=t+" Iterator";return e.prototype=dv(gv,{next:hv(+!i,n)}),pv(e,r,!1,!0),Av[r]=fv,e},Ov=VI,Pv=uv,Dv=WI,jv=cv,Mv=ev,Nv=Sv.PROPER,zv=Mv.BUGGY_SAFARI_ITERATORS,Rv=Ep("iterator"),Fv="keys",Lv="values",Bv="entries",Zv=function(){return this},Vv=function(e,t,n,i,r,o,a){Tv(n,t,i);var s,l,u,c=function(e){if(e===r&&A)return A;if(!zv&&e&&e in h)return h[e];switch(e){case Fv:case Lv:case Bv:return function(){return new n(this,e)}}return function(){return new n(this)}},g=t+" Iterator",d=!1,h=e.prototype,p=h[Rv]||h["@@iterator"]||r&&h[r],A=!zv&&p||c(r),f="Array"===t&&h.entries||p;if(f&&(s=Ov(f.call(new e)))!==Object.prototype&&s.next&&(Pv(s,g,!0,!0),jv[g]=Zv),Nv&&r===Lv&&p&&p.name!==Lv&&(d=!0,A=function(){return Ev(p,this)}),r)if(l={values:c(Lv),keys:o?A:c(Fv),entries:c(Bv)},a)for(u in l)(zv||d||!(u in h))&&Dv(h,u,l[u]);else kv({target:t,proto:!0,forced:zv||d},l);return a&&h[Rv]!==A&&Dv(h,Rv,A,{name:r}),jv[t]=A,l},Uv=function(e,t){return{value:e,done:t}},Wv=NC.charAt,Gv=kC,Hv=tI,Yv=Vv,qv=Uv,Kv="String Iterator",Xv=Hv.set,Qv=Hv.getterFor(Kv);Yv(String,"String",(function(e){Xv(this,{type:Kv,string:Gv(e),index:0})}),(function(){var e,t=Qv(this),n=t.string,i=t.index;return i>=n.length?qv(void 0,!0):(e=Wv(n,i),t.index+=e.length,qv(e,!1))}));var Jv=Yd,$v=CA,em=Kh,tm=function(e,t,n){var i,r;$v(e);try{if(!(i=em(e,"return"))){if("throw"===t)throw n;return n}i=Jv(i,e)}catch(o){r=!0,i=o}if("throw"===t)throw n;if(r)throw i;return $v(i),n},nm=CA,im=tm,rm=cv,om=Ep("iterator"),am=Array.prototype,sm=function(e){return void 0!==e&&(rm.Array===e||am[om]===e)},lm=Vd,um=op,cm=Pd(Function.toString);lm(um.inspectSource)||(um.inspectSource=function(e){return cm(e)});var gm=um.inspectSource,dm=Pd,hm=md,pm=Vd,Am=xC,fm=gm,Cm=function(){},Im=[],vm=yh("Reflect","construct"),mm=/^\s*(?:class|function)\b/,ym=dm(mm.exec),bm=!mm.test(Cm),xm=function(e){if(!pm(e))return!1;try{return vm(Cm,Im,e),!0}catch(t){return!1}},_m=function(e){if(!pm(e))return!1;switch(Am(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return bm||!!ym(mm,fm(e))}catch(t){return!0}};_m.sham=!0;var wm=!vm||hm((function(){var e;return xm(xm.call)||!xm(Object)||!xm((function(){e=!0}))||e}))?_m:xm,km=Rp,Em=dA,Sm=eh,Tm=function(e,t,n){var i=km(t);i in e?Em.f(e,i,Sm(0,n)):e[i]=n},Om=xC,Pm=Kh,Dm=ah,jm=cv,Mm=Ep("iterator"),Nm=function(e){if(!Dm(e))return Pm(e,Mm)||Pm(e,"@@iterator")||jm[Om(e)]},zm=Yd,Rm=Hh,Fm=CA,Lm=Vh,Bm=Nm,Zm=TypeError,Vm=function(e,t){var n=arguments.length<2?Bm(e):t;if(Rm(n))return Fm(zm(n,e));throw new Zm(Lm(e)+" is not iterable")},Um=gA,Wm=Yd,Gm=cp,Hm=function(e,t,n,i){try{return i?t(nm(n)[0],n[1]):t(n)}catch(r){im(e,"throw",r)}},Ym=sm,qm=wm,Km=tf,Xm=Tm,Qm=Vm,Jm=Nm,$m=Array,ey=Ep("iterator"),ty=!1;try{var ny=0,iy={next:function(){return{done:!!ny++}},return:function(){ty=!0}};iy[ey]=function(){return this},Array.from(iy,(function(){throw 2}))}catch(z$){}var ry=function(e,t){try{if(!t&&!ty)return!1}catch(z$){return!1}var n=!1;try{var i={};i[ey]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(z$){}return n},oy=function(e){var t=Gm(e),n=qm(this),i=arguments.length,r=i>1?arguments[1]:void 0,o=void 0!==r;o&&(r=Um(r,i>2?arguments[2]:void 0));var a,s,l,u,c,g,d=Jm(t),h=0;if(!d||this===$m&&Ym(d))for(a=Km(t),s=n?new this(a):$m(a);a>h;h++)g=o?r(t[h],h):t[h],Xm(s,h,g);else for(c=(u=Qm(t,d)).next,s=n?new this:[];!(l=Wm(c,u)).done;h++)g=o?Hm(u,r,[l.value,h],!0):l.value,Xm(s,h,g);return s.length=h,s};UA({target:"Array",stat:!0,forced:!ry((function(e){Array.from(e)}))},{from:oy});var ay=fh.Array.from,sy=Cd(ay),ly=dh,uy=cv,cy=tI;dA.f;var gy=Vv,dy=Uv,hy="Array Iterator",py=cy.set,Ay=cy.getterFor(hy);gy(Array,"Array",(function(e,t){py(this,{type:hy,target:ly(e),index:0,kind:t})}),(function(){var e=Ay(this),t=e.target,n=e.kind,i=e.index++;if(!t||i>=t.length)return e.target=void 0,dy(void 0,!0);switch(n){case"keys":return dy(i,!1);case"values":return dy(t[i],!1)}return dy([i,t[i]],!1)}),"values"),uy.Arguments=uy.Array;var fy=Nm,Cy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Iy=vd,vy=xC,my=PA,yy=cv,by=Ep("toStringTag");for(var xy in Cy){var _y=Iy[xy],wy=_y&&_y.prototype;wy&&vy(wy)!==by&&my(wy,by,xy),yy[xy]=yy.Array}var ky=fy,Ey=Cd(ky),Sy=Cd(ky);function Ty(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Oy={exports:{}},Py=UA,Dy=Wd,jy=dA.f;Py({target:"Object",stat:!0,forced:Object.defineProperty!==jy,sham:!Dy},{defineProperty:jy});var My=fh.Object,Ny=Oy.exports=function(e,t,n){return My.defineProperty(e,t,n)};My.defineProperty.sham&&(Ny.sham=!0);var zy=Oy.exports,Ry=zy,Fy=Cd(Ry),Ly=Nd,By=Array.isArray||function(e){return"Array"===Ly(e)},Zy=TypeError,Vy=function(e){if(e>9007199254740991)throw Zy("Maximum allowed index exceeded");return e},Uy=By,Wy=wm,Gy=Ah,Hy=Ep("species"),Yy=Array,qy=function(e){var t;return Uy(e)&&(t=e.constructor,(Wy(t)&&(t===Yy||Uy(t.prototype))||Gy(t)&&null===(t=t[Hy]))&&(t=void 0)),void 0===t?Yy:t},Ky=function(e,t){return new(qy(e))(0===t?0:t)},Xy=md,Qy=Oh,Jy=Ep("species"),$y=function(e){return Qy>=51||!Xy((function(){var t=[];return(t.constructor={})[Jy]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},eb=UA,tb=md,nb=By,ib=Ah,rb=cp,ob=tf,ab=Vy,sb=Tm,lb=Ky,ub=$y,cb=Oh,gb=Ep("isConcatSpreadable"),db=cb>=51||!tb((function(){var e=[];return e[gb]=!1,e.concat()[0]!==e})),hb=function(e){if(!ib(e))return!1;var t=e[gb];return void 0!==t?!!t:nb(e)};eb({target:"Array",proto:!0,arity:1,forced:!db||!ub("concat")},{concat:function(e){var t,n,i,r,o,a=rb(this),s=lb(a,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(hb(o=-1===t?a:arguments[t]))for(r=ob(o),ab(l+r),n=0;n<r;n++,l++)n in o&&sb(s,l,o[n]);else ab(l+1),sb(s,l++,o);return s.length=l,s}});var pb={},Ab=pf,fb=Af.concat("length","prototype");pb.f=Object.getOwnPropertyNames||function(e){return Ab(e,fb)};var Cb={},Ib=QA,vb=tf,mb=Tm,yb=Array,bb=Math.max,xb=function(e,t,n){for(var i=vb(e),r=Ib(t,i),o=Ib(void 0===n?i:n,i),a=yb(bb(o-r,0)),s=0;r<o;r++,s++)mb(a,s,e[r]);return a.length=s,a},_b=Nd,wb=dh,kb=pb.f,Eb=xb,Sb="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Cb.f=function(e){return Sb&&"Window"===_b(e)?function(e){try{return kb(e)}catch(z$){return Eb(Sb)}}(e):kb(wb(e))};var Tb=dA,Ob=function(e,t,n){return Tb.f(e,t,n)},Pb={},Db=Ep;Pb.f=Db;var jb=fh,Mb=hp,Nb=Pb,zb=dA.f,Rb=function(e){var t=jb.Symbol||(jb.Symbol={});Mb(t,e)||zb(t,e,{value:Nb.f(e)})},Fb=Yd,Lb=yh,Bb=Ep,Zb=WI,Vb=function(){var e=Lb("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,i=Bb("toPrimitive");t&&!t[i]&&Zb(t,i,(function(e){return Fb(n,this)}),{arity:1})},Ub=gA,Wb=oh,Gb=cp,Hb=tf,Yb=Ky,qb=Pd([].push),Kb=function(e){var t=1===e,n=2===e,i=3===e,r=4===e,o=6===e,a=7===e,s=5===e||o;return function(l,u,c,g){for(var d,h,p=Gb(l),A=Wb(p),f=Ub(u,c),C=Hb(A),I=0,v=g||Yb,m=t?v(l,C):n||a?v(l,0):void 0;C>I;I++)if((s||I in A)&&(h=f(d=A[I],I,p),e))if(t)m[I]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return I;case 2:qb(m,d)}else switch(e){case 4:return!1;case 7:qb(m,d)}return o?-1:i||r?r:m}},Xb={forEach:Kb(0),map:Kb(1),filter:Kb(2),some:Kb(3),every:Kb(4),find:Kb(5),findIndex:Kb(6),filterReject:Kb(7)},Qb=UA,Jb=vd,$b=Yd,ex=Pd,tx=Wd,nx=Mh,ix=md,rx=hp,ox=bh,ax=CA,sx=dh,lx=Rp,ux=kC,cx=eh,gx=jI,dx=If,hx=pb,px=Cb,Ax=vf,fx=Ud,Cx=dA,Ix=lI,vx=qd,mx=WI,yx=Ob,bx=sp,xx=lf,_x=Ip,wx=Ep,kx=Pb,Ex=Rb,Sx=Vb,Tx=uv,Ox=tI,Px=Xb.forEach,Dx=ZC("hidden"),jx="Symbol",Mx="prototype",Nx=Ox.set,zx=Ox.getterFor(jx),Rx=Object[Mx],Fx=Jb.Symbol,Lx=Fx&&Fx[Mx],Bx=Jb.RangeError,Zx=Jb.TypeError,Vx=Jb.QObject,Ux=fx.f,Wx=Cx.f,Gx=px.f,Hx=vx.f,Yx=ex([].push),qx=bx("symbols"),Kx=bx("op-symbols"),Xx=bx("wks"),Qx=!Vx||!Vx[Mx]||!Vx[Mx].findChild,Jx=function(e,t,n){var i=Ux(Rx,t);i&&delete Rx[t],Wx(e,t,n),i&&e!==Rx&&Wx(Rx,t,i)},$x=tx&&ix((function(){return 7!==gx(Wx({},"a",{get:function(){return Wx(this,"a",{value:7}).a}})).a}))?Jx:Wx,e_=function(e,t){var n=qx[e]=gx(Lx);return Nx(n,{type:jx,tag:e,description:t}),tx||(n.description=t),n},t_=function(e,t,n){e===Rx&&t_(Kx,t,n),ax(e);var i=lx(t);return ax(n),rx(qx,i)?(n.enumerable?(rx(e,Dx)&&e[Dx][i]&&(e[Dx][i]=!1),n=gx(n,{enumerable:cx(0,!1)})):(rx(e,Dx)||Wx(e,Dx,cx(1,{})),e[Dx][i]=!0),$x(e,i,n)):Wx(e,i,n)},n_=function(e,t){ax(e);var n=sx(t),i=dx(n).concat(a_(n));return Px(i,(function(t){tx&&!$b(i_,n,t)||t_(e,t,n[t])})),e},i_=function(e){var t=lx(e),n=$b(Hx,this,t);return!(this===Rx&&rx(qx,t)&&!rx(Kx,t))&&(!(n||!rx(this,t)||!rx(qx,t)||rx(this,Dx)&&this[Dx][t])||n)},r_=function(e,t){var n=sx(e),i=lx(t);if(n!==Rx||!rx(qx,i)||rx(Kx,i)){var r=Ux(n,i);return!r||!rx(qx,i)||rx(n,Dx)&&n[Dx][i]||(r.enumerable=!0),r}},o_=function(e){var t=Gx(sx(e)),n=[];return Px(t,(function(e){rx(qx,e)||rx(xx,e)||Yx(n,e)})),n},a_=function(e){var t=e===Rx,n=Gx(t?Kx:sx(e)),i=[];return Px(n,(function(e){!rx(qx,e)||t&&!rx(Rx,e)||Yx(i,qx[e])})),i};nx||(mx(Lx=(Fx=function(){if(ox(Lx,this))throw new Zx("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?ux(arguments[0]):void 0,t=_x(e),n=function(e){this===Rx&&$b(n,Kx,e),rx(this,Dx)&&rx(this[Dx],t)&&(this[Dx][t]=!1);var i=cx(1,e);try{$x(this,t,i)}catch(z$){if(!(z$ instanceof Bx))throw z$;Jx(this,t,i)}};return tx&&Qx&&$x(Rx,t,{configurable:!0,set:n}),e_(t,e)})[Mx],"toString",(function(){return zx(this).tag})),mx(Fx,"withoutSetter",(function(e){return e_(_x(e),e)})),vx.f=i_,Cx.f=t_,Ix.f=n_,fx.f=r_,hx.f=px.f=o_,Ax.f=a_,kx.f=function(e){return e_(wx(e),e)},tx&&yx(Lx,"description",{configurable:!0,get:function(){return zx(this).description}})),Qb({global:!0,constructor:!0,wrap:!0,forced:!nx,sham:!nx},{Symbol:Fx}),Px(dx(Xx),(function(e){Ex(e)})),Qb({target:jx,stat:!0,forced:!nx},{useSetter:function(){Qx=!0},useSimple:function(){Qx=!1}}),Qb({target:"Object",stat:!0,forced:!nx,sham:!tx},{create:function(e,t){return void 0===t?gx(e):n_(gx(e),t)},defineProperty:t_,defineProperties:n_,getOwnPropertyDescriptor:r_}),Qb({target:"Object",stat:!0,forced:!nx},{getOwnPropertyNames:o_}),Sx(),Tx(Fx,jx),xx[Dx]=!0;var s_=Mh&&!!Symbol.for&&!!Symbol.keyFor,l_=UA,u_=yh,c_=hp,g_=kC,d_=sp,h_=s_,p_=d_("string-to-symbol-registry"),A_=d_("symbol-to-string-registry");l_({target:"Symbol",stat:!0,forced:!h_},{for:function(e){var t=g_(e);if(c_(p_,t))return p_[t];var n=u_("Symbol")(t);return p_[t]=n,A_[n]=t,n}});var f_=UA,C_=hp,I_=Bh,v_=Vh,m_=s_,y_=sp("symbol-to-string-registry");f_({target:"Symbol",stat:!0,forced:!m_},{keyFor:function(e){if(!I_(e))throw new TypeError(v_(e)+" is not a symbol");if(C_(y_,e))return y_[e]}});var b_=By,x_=Vd,__=Nd,w_=kC,k_=Pd([].push),E_=UA,S_=yh,T_=kd,O_=Yd,P_=Pd,D_=md,j_=Vd,M_=Bh,N_=Nf,z_=function(e){if(x_(e))return e;if(b_(e)){for(var t=e.length,n=[],i=0;i<t;i++){var r=e[i];"string"==typeof r?k_(n,r):"number"!=typeof r&&"Number"!==__(r)&&"String"!==__(r)||k_(n,w_(r))}var o=n.length,a=!0;return function(e,t){if(a)return a=!1,t;if(b_(this))return t;for(var i=0;i<o;i++)if(n[i]===e)return t}}},R_=Mh,F_=String,L_=S_("JSON","stringify"),B_=P_(/./.exec),Z_=P_("".charAt),V_=P_("".charCodeAt),U_=P_("".replace),W_=P_(1..toString),G_=/[\uD800-\uDFFF]/g,H_=/^[\uD800-\uDBFF]$/,Y_=/^[\uDC00-\uDFFF]$/,q_=!R_||D_((function(){var e=S_("Symbol")("stringify detection");return"[null]"!==L_([e])||"{}"!==L_({a:e})||"{}"!==L_(Object(e))})),K_=D_((function(){return'"\\udf06\\ud834"'!==L_("\udf06\ud834")||'"\\udead"'!==L_("\udead")})),X_=function(e,t){var n=N_(arguments),i=z_(t);if(j_(i)||void 0!==e&&!M_(e))return n[1]=function(e,t){if(j_(i)&&(t=O_(i,this,F_(e),t)),!M_(t))return t},T_(L_,null,n)},Q_=function(e,t,n){var i=Z_(n,t-1),r=Z_(n,t+1);return B_(H_,e)&&!B_(Y_,r)||B_(Y_,e)&&!B_(H_,i)?"\\u"+W_(V_(e,0),16):e};L_&&E_({target:"JSON",stat:!0,arity:3,forced:q_||K_},{stringify:function(e,t,n){var i=N_(arguments),r=T_(q_?X_:L_,null,i);return K_&&"string"==typeof r?U_(r,G_,Q_):r}});var J_=vf,$_=cp;UA({target:"Object",stat:!0,forced:!Mh||md((function(){J_.f(1)}))},{getOwnPropertySymbols:function(e){var t=J_.f;return t?t($_(e)):[]}}),Rb("asyncIterator"),Rb("hasInstance"),Rb("isConcatSpreadable"),Rb("iterator"),Rb("match"),Rb("matchAll"),Rb("replace"),Rb("search"),Rb("species"),Rb("split");var ew=Vb;Rb("toPrimitive"),ew();var tw=yh,nw=uv;Rb("toStringTag"),nw(tw("Symbol"),"Symbol"),Rb("unscopables"),uv(vd.JSON,"JSON",!0);var iw=fh.Symbol,rw=Ep,ow=dA.f,aw=rw("metadata"),sw=Function.prototype;void 0===sw[aw]&&ow(sw,aw,{value:null}),Rb("asyncDispose"),Rb("dispose"),Rb("metadata");var lw=iw,uw=Pd,cw=yh("Symbol"),gw=cw.keyFor,dw=uw(cw.prototype.valueOf),hw=cw.isRegisteredSymbol||function(e){try{return void 0!==gw(dw(e))}catch(z$){return!1}};UA({target:"Symbol",stat:!0},{isRegisteredSymbol:hw});for(var pw=sp,Aw=yh,fw=Pd,Cw=Bh,Iw=Ep,vw=Aw("Symbol"),mw=vw.isWellKnownSymbol,yw=Aw("Object","getOwnPropertyNames"),bw=fw(vw.prototype.valueOf),xw=pw("wks"),_w=0,ww=yw(vw),kw=ww.length;_w<kw;_w++)try{var Ew=ww[_w];Cw(vw[Ew])&&Iw(Ew)}catch(z$){}var Sw=function(e){if(mw&&mw(e))return!0;try{for(var t=bw(e),n=0,i=yw(xw),r=i.length;n<r;n++)if(xw[i[n]]==t)return!0}catch(z$){}return!1};UA({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:Sw}),Rb("matcher"),Rb("observable"),UA({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:hw}),UA({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:Sw}),Rb("metadataKey"),Rb("patternMatch"),Rb("replaceAll");var Tw=lw,Ow=Cd(Tw),Pw=Pb.f("iterator"),Dw=Pw,jw=Cd(Dw);function Mw(e){return Mw="function"==typeof Ow&&"symbol"==typeof jw?function(e){return typeof e}:function(e){return e&&"function"==typeof Ow&&e.constructor===Ow&&e!==Ow.prototype?"symbol":typeof e},Mw(e)}var Nw=Cd(Pb.f("toPrimitive"));function zw(e){var t=function(e,t){if("object"!==Mw(e)||null===e)return e;var n=e[Nw];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Mw(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mw(t)?t:String(t)}function Rw(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Fy(e,zw(i.key),i)}}function Fw(e,t,n){return t&&Rw(e.prototype,t),n&&Rw(e,n),Fy(e,"prototype",{writable:!1}),e}UA({target:"Array",stat:!0},{isArray:By});var Lw=fh.Array.isArray,Bw=Cd(Lw);var Zw=Wd,Vw=By,Uw=TypeError,Ww=Object.getOwnPropertyDescriptor,Gw=Zw&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(z$){return z$ instanceof TypeError}}()?function(e,t){if(Vw(e)&&!Ww(e,"length").writable)throw new Uw("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},Hw=cp,Yw=tf,qw=Gw,Kw=Vy;UA({target:"Array",proto:!0,arity:1,forced:md((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(z$){return z$ instanceof TypeError}}()},{push:function(e){var t=Hw(this),n=Yw(t),i=arguments.length;Kw(n+i);for(var r=0;r<i;r++)t[n]=arguments[r],n++;return qw(t,n),n}});var Xw=Kf("Array").push,Qw=bh,Jw=Xw,$w=Array.prototype,ek=function(e){var t=e.push;return e===$w||Qw($w,e)&&t===$w.push?Jw:t},tk=ek,nk=Cd(tk);var ik=UA,rk=By,ok=wm,ak=Ah,sk=QA,lk=tf,uk=dh,ck=Tm,gk=Ep,dk=Nf,hk=$y("slice"),pk=gk("species"),Ak=Array,fk=Math.max;ik({target:"Array",proto:!0,forced:!hk},{slice:function(e,t){var n,i,r,o=uk(this),a=lk(o),s=sk(e,a),l=sk(void 0===t?a:t,a);if(rk(o)&&(n=o.constructor,(ok(n)&&(n===Ak||rk(n.prototype))||ak(n)&&null===(n=n[pk]))&&(n=void 0),n===Ak||void 0===n))return dk(o,s,l);for(i=new(void 0===n?Ak:n)(fk(l-s,0)),r=0;s<l;s++,r++)s in o&&ck(i,r,o[s]);return i.length=r,i}});var Ck=Kf("Array").slice,Ik=bh,vk=Ck,mk=Array.prototype,yk=function(e){var t=e.slice;return e===mk||Ik(mk,e)&&t===mk.slice?vk:t},bk=yk,xk=bk,_k=Cd(xk),wk=Cd(ay);function kk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ek(e,t){var n;if(e){if("string"===typeof e)return kk(e,t);var i=_k(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?wk(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?kk(e,t):void 0}}function Sk(e,t){return function(e){if(Bw(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Ow&&Ey(e)||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(nk(s).call(s,i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||Ek(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tk(e){return function(e){if(Bw(e))return kk(e)}(e)||function(e){if("undefined"!==typeof Ow&&null!=Ey(e)||null!=e["@@iterator"])return wk(e)}(e)||Ek(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ok=Cd(iw),Pk=Kf("Array").concat,Dk=bh,jk=Pk,Mk=Array.prototype,Nk=function(e){var t=e.concat;return e===Mk||Dk(Mk,e)&&t===Mk.concat?jk:t},zk=Cd(Nk),Rk=Cd(bk),Fk=yh,Lk=pb,Bk=vf,Zk=CA,Vk=Pd([].concat),Uk=Fk("Reflect","ownKeys")||function(e){var t=Lk.f(Zk(e)),n=Bk.f;return n?Vk(t,n(e)):t};UA({target:"Reflect",stat:!0},{ownKeys:Uk});var Wk=Cd(fh.Reflect.ownKeys),Gk=Cd(Lw),Hk=Xb.map;UA({target:"Array",proto:!0,forced:!$y("map")},{map:function(e){return Hk(this,e,arguments.length>1?arguments[1]:void 0)}});var Yk=Kf("Array").map,qk=bh,Kk=Yk,Xk=Array.prototype,Qk=function(e){var t=e.map;return e===Xk||qk(Xk,e)&&t===Xk.map?Kk:t},Jk=Cd(Qk),$k=cp,eE=If;UA({target:"Object",stat:!0,forced:md((function(){eE(1)}))},{keys:function(e){return eE($k(e))}});var tE=Cd(fh.Object.keys),nE=UA,iE=Date,rE=Pd(iE.prototype.getTime);nE({target:"Date",stat:!0},{now:function(){return rE(new iE)}});var oE=Cd(fh.Date.now),aE=md,sE=function(e,t){var n=[][e];return!!n&&aE((function(){n.call(null,t||function(){return 1},1)}))},lE=Xb.forEach,uE=sE("forEach")?[].forEach:function(e){return lE(this,e,arguments.length>1?arguments[1]:void 0)};UA({target:"Array",proto:!0,forced:[].forEach!==uE},{forEach:uE});var cE=Kf("Array").forEach,gE=xC,dE=hp,hE=bh,pE=cE,AE=Array.prototype,fE={DOMTokenList:!0,NodeList:!0},CE=function(e){var t=e.forEach;return e===AE||hE(AE,e)&&t===AE.forEach||dE(fE,gE(e))?pE:t},IE=Cd(CE),vE=UA,mE=By,yE=Pd([].reverse),bE=[1,2];vE({target:"Array",proto:!0,forced:String(bE)===String(bE.reverse())},{reverse:function(){return mE(this)&&(this.length=this.length),yE(this)}});var xE=Kf("Array").reverse,_E=bh,wE=xE,kE=Array.prototype,EE=function(e){var t=e.reverse;return e===kE||_E(kE,e)&&t===kE.reverse?wE:t},SE=EE,TE=Cd(SE),OE=Vh,PE=TypeError,DE=function(e,t){if(!delete e[t])throw new PE("Cannot delete property "+OE(t)+" of "+OE(e))},jE=UA,ME=cp,NE=QA,zE=YA,RE=tf,FE=Gw,LE=Vy,BE=Ky,ZE=Tm,VE=DE,UE=$y("splice"),WE=Math.max,GE=Math.min;jE({target:"Array",proto:!0,forced:!UE},{splice:function(e,t){var n,i,r,o,a,s,l=ME(this),u=RE(l),c=NE(e,u),g=arguments.length;for(0===g?n=i=0:1===g?(n=0,i=u-c):(n=g-2,i=GE(WE(zE(t),0),u-c)),LE(u+n-i),r=BE(l,i),o=0;o<i;o++)(a=c+o)in l&&ZE(r,o,l[a]);if(r.length=i,n<i){for(o=c;o<u-i;o++)s=o+n,(a=o+i)in l?l[s]=l[a]:VE(l,s);for(o=u;o>u-i+n;o--)VE(l,o-1)}else if(n>i)for(o=u-i;o>c;o--)s=o+n-1,(a=o+i-1)in l?l[s]=l[a]:VE(l,s);for(o=0;o<n;o++)l[o+c]=arguments[o+2];return FE(l,u-i+n),r}});var HE=Kf("Array").splice,YE=bh,qE=HE,KE=Array.prototype,XE=function(e){var t=e.splice;return e===KE||YE(KE,e)&&t===KE.splice?qE:t},QE=Cd(XE),JE=sf.includes;UA({target:"Array",proto:!0,forced:md((function(){return!Array(1).includes()}))},{includes:function(e){return JE(this,e,arguments.length>1?arguments[1]:void 0)}});var $E=Kf("Array").includes,eS=Ah,tS=Nd,nS=Ep("match"),iS=function(e){var t;return eS(e)&&(void 0!==(t=e[nS])?!!t:"RegExp"===tS(e))},rS=TypeError,oS=Ep("match"),aS=UA,sS=function(e){if(iS(e))throw new rS("The method doesn't accept regular expressions");return e},lS=uh,uS=kC,cS=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[oS]=!1,"/./"[e](t)}catch(i){}}return!1},gS=Pd("".indexOf);aS({target:"String",proto:!0,forced:!cS("includes")},{includes:function(e){return!!~gS(uS(lS(this)),uS(sS(e)),arguments.length>1?arguments[1]:void 0)}});var dS=Kf("String").includes,hS=bh,pS=$E,AS=dS,fS=Array.prototype,CS=String.prototype,IS=function(e){var t=e.includes;return e===fS||hS(fS,e)&&t===fS.includes?pS:"string"==typeof e||e===CS||hS(CS,e)&&t===CS.includes?AS:t},vS=Cd(IS),mS=cp,yS=VI,bS=MI;UA({target:"Object",stat:!0,forced:md((function(){yS(1)})),sham:!bS},{getPrototypeOf:function(e){return yS(mS(e))}});var xS=fh.Object.getPrototypeOf,_S=Cd(xS),wS=Xb.filter;UA({target:"Array",proto:!0,forced:!$y("filter")},{filter:function(e){return wS(this,e,arguments.length>1?arguments[1]:void 0)}});var kS=Kf("Array").filter,ES=bh,SS=kS,TS=Array.prototype,OS=function(e){var t=e.filter;return e===TS||ES(TS,e)&&t===TS.filter?SS:t},PS=Cd(OS),DS="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",jS=uh,MS=kC,NS=DS,zS=Pd("".replace),RS=RegExp("^["+NS+"]+"),FS=RegExp("(^|[^"+NS+"])["+NS+"]+$"),LS=function(e){return function(t){var n=MS(jS(t));return 1&e&&(n=zS(n,RS,"")),2&e&&(n=zS(n,FS,"$1")),n}},BS={start:LS(1),end:LS(2),trim:LS(3)},ZS=vd,VS=md,US=Pd,WS=kC,GS=BS.trim,HS=DS,YS=ZS.parseInt,qS=ZS.Symbol,KS=qS&&qS.iterator,XS=/^[+-]?0x/i,QS=US(XS.exec),JS=8!==YS(HS+"08")||22!==YS(HS+"0x16")||KS&&!VS((function(){YS(Object(KS))}))?function(e,t){var n=GS(WS(e));return YS(n,t>>>0||(QS(XS,n)?16:10))}:YS;UA({global:!0,forced:parseInt!==JS},{parseInt:JS});var $S=Cd(fh.parseInt),eT=UA,tT=sf.indexOf,nT=sE,iT=Fd([].indexOf),rT=!!iT&&1/iT([1],1,-0)<0;eT({target:"Array",proto:!0,forced:rT||!nT("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return rT?iT(this,e,t)||0:tT(this,e,t)}});var oT=Kf("Array").indexOf,aT=bh,sT=oT,lT=Array.prototype,uT=function(e){var t=e.indexOf;return e===lT||aT(lT,e)&&t===lT.indexOf?sT:t},cT=Cd(uT);UA({target:"Object",stat:!0,sham:!Wd},{create:jI});var gT=fh.Object,dT=function(e,t){return gT.create(e,t)},hT=Cd(dT),pT=fh,AT=kd;pT.JSON||(pT.JSON={stringify:JSON.stringify});var fT=Cd((function(e,t,n){return AT(pT.JSON.stringify,null,arguments)})),CT="function"==typeof Bun&&Bun&&"string"==typeof Bun.version,IT=TypeError,vT=function(e,t){if(e<t)throw new IT("Not enough arguments");return e},mT=vd,yT=kd,bT=Vd,xT=CT,_T=xh,wT=Nf,kT=vT,ET=mT.Function,ST=/MSIE .\./.test(_T)||xT&&function(){var e=mT.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),TT=function(e,t){var n=t?2:1;return ST?function(i,r){var o=kT(arguments.length,1)>n,a=bT(i)?i:ET(i),s=o?wT(arguments,n):[],l=o?function(){yT(a,this,s)}:a;return t?e(l,r):e(l)}:e},OT=UA,PT=vd,DT=TT(PT.setInterval,!0);OT({global:!0,bind:!0,forced:PT.setInterval!==DT},{setInterval:DT});var jT=UA,MT=vd,NT=TT(MT.setTimeout,!0);jT({global:!0,bind:!0,forced:MT.setTimeout!==NT},{setTimeout:NT});var zT=Cd(fh.setTimeout),RT=cp,FT=QA,LT=tf,BT=function(e){for(var t=RT(this),n=LT(t),i=arguments.length,r=FT(i>1?arguments[1]:void 0,n),o=i>2?arguments[2]:void 0,a=void 0===o?n:FT(o,n);a>r;)t[r++]=e;return t};UA({target:"Array",proto:!0},{fill:BT});var ZT,VT=Kf("Array").fill,UT=bh,WT=VT,GT=Array.prototype,HT=function(e){var t=e.fill;return e===GT||UT(GT,e)&&t===GT.fill?WT:t},YT=Cd(HT);function qT(){return qT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},qT.apply(this,arguments)}function KT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function XT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}ZT="function"!==typeof Object.assign?function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var QT,JT=ZT,$T=["","webkit","Moz","MS","ms","o"],eO="undefined"===typeof document?{style:{}}:document.createElement("div"),tO=Math.round,nO=Math.abs,iO=Date.now;function rO(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),o=0;o<$T.length;){if((i=(n=$T[o])?n+r:t)in e)return i;o++}}QT="undefined"===typeof window?{}:window;var oO=rO(eO.style,"touchAction"),aO=void 0!==oO;var sO="compute",lO="auto",uO="manipulation",cO="none",gO="pan-x",dO="pan-y",hO=function(){if(!aO)return!1;var e={},t=QT.CSS&&QT.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){return e[n]=!t||QT.CSS.supports("touch-action",n)})),e}(),pO="ontouchstart"in QT,AO=void 0!==rO(QT,"PointerEvent"),fO=pO&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),CO="touch",IO="mouse",vO=25,mO=1,yO=4,bO=8,xO=1,_O=2,wO=4,kO=8,EO=16,SO=_O|wO,TO=kO|EO,OO=SO|TO,PO=["x","y"],DO=["clientX","clientY"];function jO(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function MO(e,t){return"function"===typeof e?e.apply(t&&t[0]||void 0,t):e}function NO(e,t){return e.indexOf(t)>-1}var zO=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){e===sO&&(e=this.compute()),aO&&this.manager.element.style&&hO[e]&&(this.manager.element.style[oO]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return jO(this.manager.recognizers,(function(t){MO(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(NO(e,cO))return cO;var t=NO(e,gO),n=NO(e,dO);return t&&n?cO:t||n?t?gO:dO:NO(e,uO)?uO:lO}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var i=this.actions,r=NO(i,cO)&&!hO[cO],o=NO(i,dO)&&!hO[dO],a=NO(i,gO)&&!hO[gO];if(r){var s=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(s&&l&&u)return}if(!a||!o)return r||o&&n&SO||a&&n&TO?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function RO(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function FO(e){var t=e.length;if(1===t)return{x:tO(e[0].clientX),y:tO(e[0].clientY)};for(var n=0,i=0,r=0;r<t;)n+=e[r].clientX,i+=e[r].clientY,r++;return{x:tO(n/t),y:tO(i/t)}}function LO(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:tO(e.pointers[n].clientX),clientY:tO(e.pointers[n].clientY)},n++;return{timeStamp:iO(),pointers:t,center:FO(t),deltaX:e.deltaX,deltaY:e.deltaY}}function BO(e,t,n){n||(n=PO);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return Math.sqrt(i*i+r*r)}function ZO(e,t,n){n||(n=PO);var i=t[n[0]]-e[n[0]],r=t[n[1]]-e[n[1]];return 180*Math.atan2(r,i)/Math.PI}function VO(e,t){return e===t?xO:nO(e)>=nO(t)?e<0?_O:wO:t<0?kO:EO}function UO(e,t,n){return{x:t/e||0,y:n/e||0}}function WO(e,t){var n=e.session,i=t.pointers,r=i.length;n.firstInput||(n.firstInput=LO(t)),r>1&&!n.firstMultiple?n.firstMultiple=LO(t):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=FO(i);t.timeStamp=iO(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=ZO(s,l),t.distance=BO(s,l),function(e,t){var n=t.center,i=e.offsetDelta||{},r=e.prevDelta||{},o=e.prevInput||{};t.eventType!==mO&&o.eventType!==yO||(r=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=r.x+(n.x-i.x),t.deltaY=r.y+(n.y-i.y)}(n,t),t.offsetDirection=VO(t.deltaX,t.deltaY);var u=UO(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=nO(u.x)>nO(u.y)?u.x:u.y,t.scale=a?function(e,t){return BO(t[0],t[1],DO)/BO(e[0],e[1],DO)}(a.pointers,i):1,t.rotation=a?function(e,t){return ZO(t[1],t[0],DO)+ZO(e[1],e[0],DO)}(a.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,i,r,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!==bO&&(s>vO||void 0===a.velocity)){var l=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,c=UO(s,l,u);i=c.x,r=c.y,n=nO(c.x)>nO(c.y)?c.x:c.y,o=VO(l,u),e.lastInterval=t}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=o}(n,t);var c,g=e.element,d=t.srcEvent;RO(c=d.composedPath?d.composedPath()[0]:d.path?d.path[0]:d.target,g)&&(g=c),t.target=g}function GO(e,t,n){var i=n.pointers.length,r=n.changedPointers.length,o=t&mO&&i-r===0,a=t&(yO|bO)&&i-r===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,WO(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function HO(e){return e.trim().split(/\s+/g)}function YO(e,t,n){jO(HO(t),(function(t){e.addEventListener(t,n,!1)}))}function qO(e,t,n){jO(HO(t),(function(t){e.removeEventListener(t,n,!1)}))}function KO(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var XO=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){MO(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&YO(this.element,this.evEl,this.domHandler),this.evTarget&&YO(this.target,this.evTarget,this.domHandler),this.evWin&&YO(KO(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&qO(this.element,this.evEl,this.domHandler),this.evTarget&&qO(this.target,this.evTarget,this.domHandler),this.evWin&&qO(KO(this.element),this.evWin,this.domHandler)},e}();function QO(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}var JO={pointerdown:mO,pointermove:2,pointerup:yO,pointercancel:bO,pointerout:bO},$O={2:CO,3:"pen",4:IO,5:"kinect"},eP="pointerdown",tP="pointermove pointerup pointercancel";QT.MSPointerEvent&&!QT.PointerEvent&&(eP="MSPointerDown",tP="MSPointerMove MSPointerUp MSPointerCancel");var nP=function(e){function t(){var n,i=t.prototype;return i.evEl=eP,i.evWin=tP,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return KT(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),r=JO[i],o=$O[e.pointerType]||e.pointerType,a=o===CO,s=QO(t,e.pointerId,"pointerId");r&mO&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):r&(yO|bO)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,r,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))},t}(XO);function iP(e){return Array.prototype.slice.call(e,0)}function rP(e,t,n){for(var i=[],r=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];QO(r,a)<0&&i.push(e[o]),r[o]=a,o++}return n&&(i=t?i.sort((function(e,n){return e[t]>n[t]})):i.sort()),i}var oP={touchstart:mO,touchmove:2,touchend:yO,touchcancel:bO},aP=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return KT(t,e),t.prototype.handler=function(e){var t=oP[e.type],n=sP.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:CO,srcEvent:e})},t}(XO);function sP(e,t){var n,i,r=iP(e.touches),o=this.targetIds;if(t&(2|mO)&&1===r.length)return o[r[0].identifier]=!0,[r,r];var a=iP(e.changedTouches),s=[],l=this.target;if(i=r.filter((function(e){return RO(e.target,l)})),t===mO)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),t&(yO|bO)&&delete o[a[n].identifier],n++;return s.length?[rP(i.concat(s),"identifier",!0),s]:void 0}var lP={mousedown:mO,mousemove:2,mouseup:yO},uP=function(e){function t(){var n,i=t.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return KT(t,e),t.prototype.handler=function(e){var t=lP[e.type];t&mO&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=yO),this.pressed&&(t&yO&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:IO,srcEvent:e}))},t}(XO),cP=2500;function gP(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},i=this.lastTouches;this.lastTouches.push(n);setTimeout((function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)}),cP)}}function dP(e,t){e&mO?(this.primaryTouch=t.changedPointers[0].identifier,gP.call(this,t)):e&(yO|bO)&&gP.call(this,t)}function hP(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(t-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}var pP=function(){var e=function(e){function t(t,n){var i;return(i=e.call(this,t,n)||this).handler=function(e,t,n){var r=n.pointerType===CO,o=n.pointerType===IO;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)dP.call(XT(XT(i)),t,n);else if(o&&hP.call(XT(XT(i)),n))return;i.callback(e,t,n)}},i.touch=new aP(i.manager,i.handler),i.mouse=new uP(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return KT(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(XO);return e}();function AP(e,t,n){return!!Array.isArray(e)&&(jO(e,n[t],n),!0)}var fP=32,CP=1;function IP(e,t){var n=t.manager;return n?n.get(e):e}function vP(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var mP=function(){function e(e){void 0===e&&(e={}),this.options=qT({enable:!0},e),this.id=CP++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return JT(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(AP(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=IP(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return AP(e,"dropRecognizeWith",this)||(e=IP(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(AP(e,"requireFailure",this))return this;var t=this.requireFail;return-1===QO(t,e=IP(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(AP(e,"dropRequireFailure",this))return this;e=IP(e,this);var t=QO(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function i(n){t.manager.emit(n,e)}n<8&&i(t.options.event+vP(n)),i(t.options.event),e.additionalEvent&&i(e.additionalEvent),n>=8&&i(t.options.event+vP(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=fP},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=JT({},e);if(!MO(this.options.enable,[this,t]))return this.reset(),void(this.state=fP);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),yP=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,qT({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){return[uO]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),e.eventType&mO&&0===this.count)return this.failTimeout();if(r&&o&&i){if(e.eventType!==yO)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<n.interval,s=!this.pCenter||BO(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.interval),2):8}return fP},n.failTimeout=function(){var e=this;return this._timer=setTimeout((function(){e.state=fP}),this.options.interval),fP},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(mP),bP=function(e){function t(t){return void 0===t&&(t={}),e.call(this,qT({pointers:1},t))||this}KT(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,i=6&t,r=this.attrTest(e);return i&&(n&bO||!r)?16|t:i||r?n&yO?8|t:2&t?4|t:2:fP},t}(mP);function xP(e){return e===EO?"down":e===kO?"up":e===_O?"left":e===wO?"right":""}var _P=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,qT({event:"pan",threshold:10,pointers:1,direction:OO},t))||this).pX=null,n.pY=null,n}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return e&SO&&t.push(dO),e&TO&&t.push(gO),t},n.directionTest=function(e){var t=this.options,n=!0,i=e.distance,r=e.direction,o=e.deltaX,a=e.deltaY;return r&t.direction||(t.direction&SO?(r=0===o?xO:o<0?_O:wO,n=o!==this.pX,i=Math.abs(e.deltaX)):(r=0===a?xO:a<0?kO:EO,n=a!==this.pY,i=Math.abs(e.deltaY))),e.direction=r,n&&i>t.threshold&&r&t.direction},n.attrTest=function(e){return bP.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=xP(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(bP),wP=function(e){function t(t){return void 0===t&&(t={}),e.call(this,qT({event:"swipe",threshold:10,velocity:.3,direction:SO|TO,pointers:1},t))||this}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){return _P.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,i=this.options.direction;return i&(SO|TO)?n=t.overallVelocity:i&SO?n=t.overallVelocityX:i&TO&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&nO(n)>this.options.velocity&&t.eventType&yO},n.emit=function(e){var t=xP(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(bP),kP=function(e){function t(t){return void 0===t&&(t={}),e.call(this,qT({event:"pinch",threshold:0,pointers:2},t))||this}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){return[cO]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},t}(bP),EP=function(e){function t(t){return void 0===t&&(t={}),e.call(this,qT({event:"rotate",threshold:0,pointers:2},t))||this}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){return[cO]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(bP),SP=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,qT({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}KT(t,e);var n=t.prototype;return n.getTouchAction=function(){return[lO]},n.process=function(e){var t=this,n=this.options,i=e.pointers.length===n.pointers,r=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!r||!i||e.eventType&(yO|bO)&&!o)this.reset();else if(e.eventType&mO)this.reset(),this._timer=setTimeout((function(){t.state=8,t.tryEmit()}),n.time);else if(e.eventType&yO)return 8;return fP},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&e.eventType&yO?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=iO(),this.manager.emit(this.options.event,this._input)))},t}(mP),TP={domEvents:!1,touchAction:sO,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},OP=[[EP,{enable:!1}],[kP,{enable:!1},["rotate"]],[wP,{direction:SO}],[_P,{direction:SO},["swipe"]],[yP],[yP,{event:"doubletap",taps:2},["tap"]],[SP]];function PP(e,t){var n,i=e.element;i.style&&(jO(e.options.cssProps,(function(r,o){n=rO(i.style,o),t?(e.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}var DP=function(){function e(e,t){var n=this;this.options=JT({},TP,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(AO?nP:fO?aP:pO?pP:uP))(e,GO)}(this),this.touchAction=new zO(this,this.options.touchAction),PP(this,!0),jO(this.options.recognizers,(function(e){var t=n.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}var t=e.prototype;return t.set=function(e){return JT(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var i=this.recognizers,r=t.curRecognizer;(!r||r&&8&r.state)&&(t.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===t.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(e),!r&&14&n.state&&(t.curRecognizer=n,r=n),o++}},t.get=function(e){if(e instanceof mP)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(AP(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(AP(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,i=QO(n,t);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return jO(HO(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return jO(HO(e),(function(e){t?n[e]&&n[e].splice(QO(n[e],t),1):delete n[e]})),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},t.destroy=function(){this.element&&PP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),jP={touchstart:mO,touchmove:2,touchend:yO,touchcancel:bO},MP=function(e){function t(){var n,i=t.prototype;return i.evTarget="touchstart",i.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return KT(t,e),t.prototype.handler=function(e){var t=jP[e.type];if(t===mO&&(this.started=!0),this.started){var n=NP.call(this,e,t);t&(yO|bO)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:CO,srcEvent:e})}},t}(XO);function NP(e,t){var n=iP(e.touches),i=iP(e.changedTouches);return t&(yO|bO)&&(n=rP(n.concat(i),"identifier",!0)),[n,i]}function zP(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),e.apply(this,arguments)}}var RP=zP((function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&void 0===e[i[r]])&&(e[i[r]]=t[i[r]]),r++;return e}),"extend","Use `assign`."),FP=zP((function(e,t){return RP(e,t,!0)}),"merge","Use `assign`.");function LP(e,t,n){var i,r=t.prototype;(i=e.prototype=Object.create(r)).constructor=e,i._super=r,n&&JT(i,n)}function BP(e,t){return function(){return e.apply(t,arguments)}}var ZP=function(){var e=function(e,t){return void 0===t&&(t={}),new DP(e,qT({recognizers:OP.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=OO,e.DIRECTION_DOWN=EO,e.DIRECTION_LEFT=_O,e.DIRECTION_RIGHT=wO,e.DIRECTION_UP=kO,e.DIRECTION_HORIZONTAL=SO,e.DIRECTION_VERTICAL=TO,e.DIRECTION_NONE=xO,e.DIRECTION_DOWN=EO,e.INPUT_START=mO,e.INPUT_MOVE=2,e.INPUT_END=yO,e.INPUT_CANCEL=bO,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=fP,e.Manager=DP,e.Input=XO,e.TouchAction=zO,e.TouchInput=aP,e.MouseInput=uP,e.PointerEventInput=nP,e.TouchMouseInput=pP,e.SingleTouchInput=MP,e.Recognizer=mP,e.AttrRecognizer=bP,e.Tap=yP,e.Pan=_P,e.Swipe=wP,e.Pinch=kP,e.Rotate=EP,e.Press=SP,e.on=YO,e.off=qO,e.each=jO,e.merge=FP,e.extend=RP,e.bindFn=BP,e.assign=JT,e.inherit=LP,e.bindFn=BP,e.prefixed=rO,e.toArray=iP,e.inArray=QO,e.uniqueArray=rP,e.splitStr=HO,e.boolOrFn=MO,e.hasParent=RO,e.addEventListeners=YO,e.removeEventListeners=qO,e.defaults=JT({},TP,{preset:OP}),e}();ZP.defaults;var VP=ZP;function UP(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return WP(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return WP(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function WP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var GP=Ok("DELETE");function HP(){var e=YP.apply(void 0,arguments);return KP(e),e}function YP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2)return t[0];var i;if(t.length>2)return YP.apply(void 0,zk(i=[HP(t[0],t[1])]).call(i,Tk(Rk(t).call(t,2))));var r=t[0],o=t[1];if(r instanceof Date&&o instanceof Date)return r.setTime(o.getTime()),r;var a,s=UP(Wk(o));try{for(s.s();!(a=s.n()).done;){var l=a.value;Object.prototype.propertyIsEnumerable.call(o,l)&&(o[l]===GP?delete r[l]:null===r[l]||null===o[l]||"object"!==Mw(r[l])||"object"!==Mw(o[l])||Gk(r[l])||Gk(o[l])?r[l]=qP(o[l]):r[l]=YP(r[l],o[l]))}}catch(u){s.e(u)}finally{s.f()}return r}function qP(e){return Gk(e)?Jk(e).call(e,(function(e){return qP(e)})):"object"===Mw(e)&&null!==e?e instanceof Date?new Date(e.getTime()):YP({},e):e}function KP(e){for(var t=0,n=tE(e);t<n.length;t++){var i=n[t];e[i]===GP?delete e[i]:"object"===Mw(e[i])&&null!==e[i]&&KP(e[i])}}function XP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var t=function(){for(var e=function(){var e=4022871197;return function(t){for(var n=t.toString(),i=0;i<n.length;i++){var r=.02519603282416938*(e+=n.charCodeAt(i));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}(),t=e(" "),n=e(" "),i=e(" "),r=0;r<arguments.length;r++)(t-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(t+=1),(n-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(n+=1),(i-=e(r<0||arguments.length<=r?void 0:arguments[r]))<0&&(i+=1);return[t,n,i]}(e),n=Sk(t,3),i=n[0],r=n[1],o=n[2],a=1,s=function(){var e=2091639*i+2.3283064365386963e-10*a;return i=r,r=o,o=e-(a=0|e)};return s.uint32=function(){return 4294967296*s()},s.fract53=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.algorithm="Alea",s.seed=e,s.version="0.9",s}(t.length?t:[oE()])}var QP="undefined"!==typeof window?window.Hammer||VP:function(){return function(){var e=function(){};return{on:e,off:e,destroy:e,emit:e,get:function(){return{set:e}}}}()};function JP(e){var t,n=this;this._cleanupQueue=[],this.active=!1,this._dom={container:e,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((function(){n._dom.overlay.parentNode.removeChild(n._dom.overlay)}));var i=QP(this._dom.overlay);i.on("tap",nC(t=this._onTapOverlay).call(t,this)),this._cleanupQueue.push((function(){i.destroy()}));var r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];IE(r).call(r,(function(e){i.on(e,(function(e){e.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=function(t){(function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1})(t.target,e)||n.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((function(){document.body.removeEventListener("click",n._onClick)}))),this._escListener=function(e){("key"in e?"Escape"===e.key:27===e.keyCode)&&n.deactivate()}}gC(JP.prototype),JP.current=null,JP.prototype.destroy=function(){var e,t;this.deactivate();var n,i=UP(TE(e=QE(t=this._cleanupQueue).call(t,0)).call(e));try{for(i.s();!(n=i.n()).done;){(0,n.value)()}}catch(r){i.e(r)}finally{i.f()}},JP.prototype.activate=function(){JP.current&&JP.current.deactivate(),JP.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},JP.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},JP.prototype._onTapOverlay=function(e){this.activate(),e.srcEvent.stopPropagation()};var $P=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eD=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,tD=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,nD=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function iD(e){if(e)for(;!0===e.hasChildNodes();){var t=e.firstChild;t&&(iD(t),e.removeChild(t))}}function rD(e){return e instanceof String||"string"===typeof e}function oD(e){return"object"===Mw(e)&&null!==e}function aD(e,t,n,i){var r=!1;!0===i&&(r=null===t[n]&&void 0!==e[n]),r?delete e[n]:e[n]=t[n]}function sD(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in e)if(void 0!==t[i])if(null===t[i]||"object"!==Mw(t[i]))aD(e,t,i,n);else{var r=e[i],o=t[i];oD(r)&&oD(o)&&sD(r,o,n)}}function lD(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Gk(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r=0;r<e.length;r++){var o=e[r];if(Object.prototype.hasOwnProperty.call(n,o))if(n[o]&&n[o].constructor===Object)void 0===t[o]&&(t[o]={}),t[o].constructor===Object?cD(t[o],n[o],!1,i):aD(t,n,o,i);else{if(Gk(n[o]))throw new TypeError("Arrays are not supported by deepExtend");aD(t,n,o,i)}}return t}function uD(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Gk(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&!vS(e).call(e,r))if(n[r]&&n[r].constructor===Object)void 0===t[r]&&(t[r]={}),t[r].constructor===Object?cD(t[r],n[r]):aD(t,n,r,i);else if(Gk(n[r])){t[r]=[];for(var o=0;o<n[r].length;o++)t[r].push(n[r][o])}else aD(t,n,r,i);return t}function cD(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)||!0===n)if("object"===Mw(t[r])&&null!==t[r]&&_S(t[r])===Object.prototype)void 0===e[r]?e[r]=cD({},t[r],n):"object"===Mw(e[r])&&null!==e[r]&&_S(e[r])===Object.prototype?cD(e[r],t[r],n):aD(e,t,r,i);else if(Gk(t[r])){var o;e[r]=Rk(o=t[r]).call(o)}else aD(e,t,r,i);return e}function gD(e,t){var n;return zk(n=[]).call(n,Tk(e),[t])}function dD(e){return e.getBoundingClientRect().top}function hD(e,t){if(Gk(e))for(var n=e.length,i=0;i<n;i++)t(e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(e[r],r,e)}function pD(e){var t;switch(e.length){case 3:case 4:return(t=eD.exec(e))?{r:$S(t[1]+t[1],16),g:$S(t[2]+t[2],16),b:$S(t[3]+t[3],16)}:null;case 6:case 7:return(t=$P.exec(e))?{r:$S(t[1],16),g:$S(t[2],16),b:$S(t[3],16)}:null;default:return null}}function AD(e,t){if(vS(e).call(e,"rgba"))return e;if(vS(e).call(e,"rgb")){var n=e.substr(cT(e).call(e,"(")+1).replace(")","").split(",");return"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"}var i=pD(e);return null==i?e:"rgba("+i.r+","+i.g+","+i.b+","+t+")"}function fD(e,t,n){var i;return"#"+Rk(i=((1<<24)+(e<<16)+(t<<8)+n).toString(16)).call(i,1)}function CD(e,t){if(rD(e)){var n=e;if(bD(n)){var i,r=Jk(i=n.substr(4).substr(0,n.length-5).split(",")).call(i,(function(e){return $S(e)}));n=fD(r[0],r[1],r[2])}if(!0===yD(n)){var o=function(e){var t=pD(e);if(!t)throw new TypeError("'".concat(e,"' is not a valid color."));return ID(t.r,t.g,t.b)}(n),a={h:o.h,s:.8*o.s,v:Math.min(1,1.02*o.v)},s={h:o.h,s:Math.min(1,1.25*o.s),v:.8*o.v},l=mD(s.h,s.s,s.v),u=mD(a.h,a.s,a.v);return{background:n,border:l,highlight:{background:u,border:l},hover:{background:u,border:l}}}return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}return t?{background:e.background||t.background,border:e.border||t.border,highlight:rD(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||t.highlight.background,border:e.highlight&&e.highlight.border||t.highlight.border},hover:rD(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||t.hover.border,background:e.hover&&e.hover.background||t.hover.background}}:{background:e.background||void 0,border:e.border||void 0,highlight:rD(e.highlight)?{border:e.highlight,background:e.highlight}:{background:e.highlight&&e.highlight.background||void 0,border:e.highlight&&e.highlight.border||void 0},hover:rD(e.hover)?{border:e.hover,background:e.hover}:{border:e.hover&&e.hover.border||void 0,background:e.hover&&e.hover.background||void 0}}}function ID(e,t,n){e/=255,t/=255,n/=255;var i=Math.min(e,Math.min(t,n)),r=Math.max(e,Math.max(t,n));return i===r?{h:0,s:0,v:i}:{h:60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/(r-i))/360,s:(r-i)/r,v:r}}function vD(e,t,n){var i,r,o,a=Math.floor(6*e),s=6*e-a,l=n*(1-t),u=n*(1-s*t),c=n*(1-(1-s)*t);switch(a%6){case 0:i=n,r=c,o=l;break;case 1:i=u,r=n,o=l;break;case 2:i=l,r=n,o=c;break;case 3:i=l,r=u,o=n;break;case 4:i=c,r=l,o=n;break;case 5:i=n,r=l,o=u}return{r:Math.floor(255*i),g:Math.floor(255*r),b:Math.floor(255*o)}}function mD(e,t,n){var i=vD(e,t,n);return fD(i.r,i.g,i.b)}function yD(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)}function bD(e){return tD.test(e)}function xD(e){if(null===e||"object"!==Mw(e))return null;if(e instanceof Element)return e;var t=hT(e);for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&"object"==Mw(e[n])&&(t[n]=xD(e[n]));return t}function _D(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=function(e){return null!==e&&void 0!==e},o=function(e){return null!==e&&"object"===Mw(e)};if(!o(e))throw new Error("Parameter mergeTarget must be an object");if(!o(t))throw new Error("Parameter options must be an object");if(!r(n))throw new Error("Parameter option must have a value");if(!o(i))throw new Error("Parameter globalOptions must be an object");var a=t[n],s=o(i)&&!function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(i)?i[n]:void 0,l=s?s.enabled:void 0;if(void 0!==a){if("boolean"===typeof a)return o(e[n])||(e[n]={}),void(e[n].enabled=a);if(null===a&&!o(e[n])){if(!r(s))return;e[n]=hT(s)}if(o(a)){var u=!0;void 0!==a.enabled?u=a.enabled:void 0!==l&&(u=s.enabled),function(e,t,n){o(e[n])||(e[n]={});var i=t[n],r=e[n];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}(e,t,n),e[n].enabled=u}}}var wD={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};function kD(e,t){var n;Gk(t)||(t=[t]);var i,r=UP(e);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o){n=o[t[0]];for(var a=1;a<t.length;a++)n&&(n=n[t[a]]);if("undefined"!==typeof n)break}}}catch(s){r.e(s)}finally{r.f()}return n}var ED={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},SD=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Ty(this,e),this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return Fw(e,[{key:"insertTo",value:function(e){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(e){if("function"!==typeof e)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=e}},{key:"setCloseCallback",value:function(e){if("function"!==typeof e)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=e}},{key:"_isColorString",value:function(e){if("string"===typeof e)return ED[e]}},{key:"setColor",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==e){var n,i=this._isColorString(e);if(void 0!==i&&(e=i),!0===rD(e)){if(!0===bD(e)){var r=e.substr(4).substr(0,e.length-5).split(",");n={r:r[0],g:r[1],b:r[2],a:1}}else if(!0===function(e){return nD.test(e)}(e)){var o=e.substr(5).substr(0,e.length-6).split(",");n={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(!0===yD(e)){var a=pD(e);n={r:a.r,g:a.g,b:a.b,a:1}}}else if(e instanceof Object&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b){var s=void 0!==e.a?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(void 0===n)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+fT(e));this._setColor(n,t)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var e=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=Mf({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",zT((function(){void 0!==e.closeCallback&&(e.closeCallback(),e.closeCallback=void 0)}),0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(e){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=Mf({},e)),this.color=e;var t=ID(e.r,e.g,e.b),n=2*Math.PI,i=this.r*t.s,r=this.centerCoordinates.x+i*Math.sin(n*t.h),o=this.centerCoordinates.y+i*Math.cos(n*t.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}},{key:"_setOpacity",value:function(e){this.color.a=e/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(e){var t=ID(this.color.r,this.color.g,this.color.b);t.v=e/100;var n=vD(t.h,t.s,t.v);n.a=this.color.a,this.color=n,this._updatePicker()}},{key:"_updatePicker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,t=ID(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,r),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-t.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),YT(n).call(n),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){var e,t,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var r=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(s){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(s){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var a=this;this.opacityRange.onchange=function(){a._setOpacity(this.value)},this.opacityRange.oninput=function(){a._setOpacity(this.value)},this.brightnessRange.onchange=function(){a._setBrightness(this.value)},this.brightnessRange.oninput=function(){a._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=nC(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=nC(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=nC(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=nC(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var e=this;this.drag={},this.pinch={},this.hammer=new QP(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(function(t){t.isFirst&&e._moveSelector(t)})),this.hammer.on("tap",(function(t){e._moveSelector(t)})),this.hammer.on("panstart",(function(t){e._moveSelector(t)})),this.hammer.on("panmove",(function(t){e._moveSelector(t)})),this.hammer.on("panend",(function(t){e._moveSelector(t)}))}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var e=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var t,n,i,r,o=this.colorPickerCanvas.clientWidth,a=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,o,a),this.centerCoordinates={x:.5*o,y:.5*a},this.r=.49*o;var s,l=2*Math.PI/360,u=1/this.r;for(i=0;i<360;i++)for(r=0;r<this.r;r++)t=this.centerCoordinates.x+r*Math.sin(l*i),n=this.centerCoordinates.y+r*Math.cos(l*i),s=vD(.002777777777777778*i,r*u,1),e.fillStyle="rgb("+s.r+","+s.g+","+s.b+")",e.fillRect(t-.5,n-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,o,a)}this.generated=!0}},{key:"_moveSelector",value:function(e){var t=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-t.left,i=e.center.y-t.top,r=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,s=i-r,l=Math.atan2(a,s),u=.98*Math.min(Math.sqrt(a*a+s*s),o),c=Math.cos(l)*u+r,g=Math.sin(l)*u+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=g-.5*this.colorPickerSelector.clientWidth+"px";var d=l/(2*Math.PI);d=d<0?d+1:d;var h=u/this.r,p=ID(this.color.r,this.color.g,this.color.b);p.h=d,p.s=h;var A=vD(p.h,p.s,p.v);A.a=this.color.a,this.color=A,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),e}();function TD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);var i=document.createElement(t[0]);return i.appendChild(TD.apply(void 0,Tk(Rk(t).call(t,1)))),i}var OD,PD=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return!1};Ty(this,e),this.parent=t,this.changedOptions=[],this.container=n,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Mf(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new SD(r),this.wrapper=void 0}return Fw(e,[{key:"setOptions",value:function(e){if(void 0!==e){this.popupHistory={},this._removePopup();var t=!0;if("string"===typeof e)this.options.filter=e;else if(Gk(e))this.options.filter=e.join();else if("object"===Mw(e)){if(null==e)throw new TypeError("options cannot be null");void 0!==e.container&&(this.options.container=e.container),void 0!==PS(e)&&(this.options.filter=PS(e)),void 0!==e.showButton&&(this.options.showButton=e.showButton),void 0!==e.enabled&&(t=e.enabled)}else"boolean"===typeof e?(this.options.filter=!0,t=e):"function"===typeof e&&(this.options.filter=e,t=!0);!1===PS(this.options)&&(t=!1),this.options.enabled=t}this._clean()}},{key:"setModuleOptions",value:function(e){this.moduleOptions=e,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var e=PS(this.options),t=0,n=!1;for(var i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,"function"===typeof e?n=(n=e(i,[]))||this._handleObject(this.configureOptions[i],[i],!0):!0!==e&&-1===cT(e).call(e,i)||(n=!0),!1!==n&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),t++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(e){for(var t=this.moduleOptions,n=0;n<e.length;n++){if(void 0===t[e[n]]){t=void 0;break}t=t[e[n]]}return t}},{key:"_makeItem",value:function(e){if(!0===this.allowCreation){var t=document.createElement("div");t.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return IE(i).call(i,(function(e){t.appendChild(e)})),this.domElements.push(t),this.domElements.length}return 0}},{key:"_makeHeader",value:function(e){var t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}},{key:"_makeLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+t.length,!0===n){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(TD("i","b",e))}else i.innerText=e+":";return i}},{key:"_makeDropdown",value:function(e,t,n){var i=document.createElement("select");i.className="vis-configuration vis-config-select";var r=0;void 0!==t&&-1!==cT(e).call(e,t)&&(r=cT(e).call(e,t));for(var o=0;o<e.length;o++){var a=document.createElement("option");a.value=e[o],o===r&&(a.selected="selected"),a.innerText=e[o],i.appendChild(a)}var s=this;i.onchange=function(){s._update(this.value,n)};var l=this._makeLabel(n[n.length-1],n);this._makeItem(n,l,i)}},{key:"_makeRange",value:function(e,t,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=document.createElement("input");s.className="vis-configuration vis-config-range";try{s.type="range",s.min=r,s.max=o}catch(A){}s.step=a;var l="",u=0;if(void 0!==t){var c=1.2;t<0&&t*c<r?(s.min=Math.ceil(t*c),u=s.min,l="range increased"):t/c<r&&(s.min=Math.ceil(t/c),u=s.min,l="range increased"),t*c>o&&1!==o&&(s.max=Math.ceil(t*c),u=s.max,l="range increased"),s.value=t}else s.value=i;var g=document.createElement("input");g.className="vis-configuration vis-config-rangeinput",g.value=s.value;var d=this;s.onchange=function(){g.value=this.value,d._update(Number(this.value),n)},s.oninput=function(){g.value=this.value};var h=this._makeLabel(n[n.length-1],n),p=this._makeItem(n,h,s,g);""!==l&&this.popupHistory[p]!==u&&(this.popupHistory[p]=u,this._setupPopup(l,p))}},{key:"_makeButton",value:function(){var e=this;if(!0===this.options.showButton){var t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=function(){e._printOptions()},t.onmouseover=function(){t.className="vis-configuration vis-config-button hover"},t.onmouseout=function(){t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}},{key:"_setupPopup",value:function(e,t){var n=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=e,i.onclick=function(){n._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:t}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var e=this;if(void 0!==this.popupDiv.html){var t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=zT((function(){e.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=zT((function(){e._removePopup()}),1800)}}},{key:"_makeCheckbox",value:function(e,t,n){var i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,void 0!==t&&(i.checked=t,t!==e&&("object"===Mw(e)?t!==e.enabled&&this.changedOptions.push({path:n,value:t}):this.changedOptions.push({path:n,value:t})));var r=this;i.onchange=function(){r._update(this.checked,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeTextInput",value:function(e,t,n){var i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=t,t!==e&&this.changedOptions.push({path:n,value:t});var r=this;i.onchange=function(){r._update(this.value,n)};var o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}},{key:"_makeColorField",value:function(e,t,n){var i=this,r=e[1],o=document.createElement("div");"none"!==(t=void 0===t?r:t)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=void 0===t?r:t,o.onclick=function(){i._showColorPicker(t,o,n)};var a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,o)}},{key:"_showColorPicker",value:function(e,t,n){var i=this;t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback((function(e){var r="rgba("+e.r+","+e.g+","+e.b+","+e.a+")";t.style.backgroundColor=r,i._update(r,n)})),this.colorPicker.setCloseCallback((function(){t.onclick=function(){i._showColorPicker(e,t,n)}}))}},{key:"_handleObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1,r=PS(this.options),o=!1;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;var s=e[a],l=gD(t,a);if("function"===typeof r&&!1===(i=r(a,t))&&!Gk(s)&&"string"!==typeof s&&"boolean"!==typeof s&&s instanceof Object&&(this.allowCreation=!1,i=this._handleObject(s,l,!0),this.allowCreation=!1===n),!1!==i){o=!0;var u=this._getValue(l);if(Gk(s))this._handleArray(s,u,l);else if("string"===typeof s)this._makeTextInput(s,u,l);else if("boolean"===typeof s)this._makeCheckbox(s,u,l);else if(s instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(void 0!==s.enabled){var c=gD(l,"enabled"),g=this._getValue(c);if(!0===g){var d=this._makeLabel(a,l,!0);this._makeItem(l,d),o=this._handleObject(s,l)||o}else this._makeCheckbox(s,g,l)}else{var h=this._makeLabel(a,l,!0);this._makeItem(l,h),o=this._handleObject(s,l)||o}}else console.error("dont know how to handle",s,a,l)}}return o}},{key:"_handleArray",value:function(e,t,n){"string"===typeof e[0]&&"color"===e[0]?(this._makeColorField(e,t,n),e[1]!==t&&this.changedOptions.push({path:n,value:t})):"string"===typeof e[0]?(this._makeDropdown(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:t})):"number"===typeof e[0]&&(this._makeRange(e,t,n),e[0]!==t&&this.changedOptions.push({path:n,value:Number(t)}))}},{key:"_update",value:function(e,t){var n=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}},{key:"_constructOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n;e="false"!==(e="true"===e||e)&&e;for(var r=0;r<t.length;r++)"global"!==t[r]&&(void 0===i[t[r]]&&(i[t[r]]={}),r!==t.length-1?i=i[t[r]]:i[t[r]]=e);return n}},{key:"_printOptions",value:function(){for(var e=this.getOptions();this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(TD("pre","const options = "+fT(e,null,2)))}},{key:"getOptions",value:function(){for(var e={},t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}}]),e}(),DD=function(){function e(t,n){Ty(this,e),this.container=t,this.overflowMethod=n||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return Fw(e,[{key:"setPosition",value:function(e,t){this.x=$S(e),this.y=$S(t)}},{key:"setText",value:function(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}},{key:"show",value:function(e){if(void 0===e&&(e=!0),!0===e){var t=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,r=this.frame.parentNode.clientWidth,o=0,a=0;if("flip"==this.overflowMethod){var s=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+n>r-this.padding&&(s=!0),o=s?this.x-n:this.x,a=l?this.y-t:this.y}else(a=this.y-t)+t+this.padding>i&&(a=i-t-this.padding),a<this.padding&&(a=this.padding),(o=this.x)+n+this.padding>r&&(o=r-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),e}(),jD=!1,MD="background: #FFeeee; color: #dd0000",ND=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"validate",value:function(t,n,i){jD=!1,OD=n;var r=n;return void 0!==i&&(r=n[i]),e.parse(t,r,[]),jD}},{key:"parse",value:function(t,n,i){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.check(r,t,n,i)}},{key:"check",value:function(t,n,i,r){if(void 0!==i[t]||void 0!==i.__any__){var o=t,a=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",a="object"===e.getType(n[t]));var s=i[o];a&&void 0!==s.__type__&&(s=s.__type__),e.checkFields(t,n,i,o,s,r)}else e.getSuggestion(t,i,r)}},{key:"checkFields",value:function(t,n,i,r,o,a){var s=function(n){console.error("%c"+n+e.printLocation(a,t),MD)},l=e.getType(n[t]),u=o[l];void 0!==u?"array"===e.getType(u)&&-1===cT(u).call(u,n[t])?(s('Invalid option detected in "'+t+'". Allowed values are:'+e.print(u)+' not "'+n[t]+'". '),jD=!0):"object"===l&&"__any__"!==r&&(a=gD(a,t),e.parse(n[t],i[r],a)):void 0===o.any&&(s('Invalid type received for "'+t+'". Expected: '+e.print(tE(o))+". Received ["+l+'] "'+n[t]+'"'),jD=!0)}},{key:"getType",value:function(e){var t=Mw(e);return"object"===t?null===e?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Gk(e)?"array":e instanceof Date?"date":void 0!==e.nodeType?"dom":!0===e._isAMomentObject?"moment":"object":"number"===t?"number":"boolean"===t?"boolean":"string"===t?"string":void 0===t?"undefined":t}},{key:"getSuggestion",value:function(t,n,i){var r,o=e.findInOptions(t,n,i,!1),a=e.findInOptions(t,OD,[],!0);r=void 0!==o.indexMatch?" in "+e.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':a.distance<=4&&o.distance>a.distance?" in "+e.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+e.printLocation(a.path,a.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+e.printLocation(o.path,t):". Did you mean one of these: "+e.print(tE(n))+e.printLocation(i,t),console.error('%cUnknown option detected: "'+t+'"'+r,MD),jD=!0}},{key:"findInOptions",value:function(t,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=1e9,s="",l=[],u=t.toLowerCase(),c=void 0;for(var g in n){var d=void 0;if(void 0!==n[g].__type__&&!0===o){var h=e.findInOptions(t,n[g],gD(i,g));a>h.distance&&(s=h.closestMatch,l=h.path,a=h.distance,c=h.indexMatch)}else{var p;-1!==cT(p=g.toLowerCase()).call(p,u)&&(c=g),a>(d=e.levenshteinDistance(t,g))&&(s=g,l=Rk(r=i).call(r),a=d)}}return{closestMatch:s,path:l,distance:a,indexMatch:c}}},{key:"printLocation",value:function(e,t){for(var n="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",i=0;i<e.length;i++){for(var r=0;r<i+1;r++)n+="  ";n+=e[i]+": {\n"}for(var o=0;o<e.length+1;o++)n+="  ";n+=t+"\n";for(var a=0;a<e.length+1;a++){for(var s=0;s<e.length-a;s++)n+="  ";n+="}\n"}return n+"\n\n"}},{key:"print",value:function(e){return fT(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}},{key:"levenshteinDistance",value:function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;var n,i,r=[];for(n=0;n<=t.length;n++)r[n]=[n];for(i=0;i<=e.length;i++)r[0][i]=i;for(n=1;n<=t.length;n++)for(i=1;i<=e.length;i++)t.charAt(n-1)==e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}}]),e}(),zD=JP,RD=PD,FD=QP,LD=DD,BD=MD,ZD=ND;function VD(e){return YD=e,function(){var e={};qD=0,void(KD=YD.charAt(0)),aj(),"strict"===XD&&(e.strict=!0,aj());"graph"!==XD&&"digraph"!==XD||(e.type=XD,aj());QD===GD.IDENTIFIER&&(e.id=XD,aj());if("{"!=XD)throw dj("Angle bracket { expected");if(aj(),sj(e),"}"!=XD)throw dj("Angle bracket } expected");if(aj(),""!==XD)throw dj("End of file expected");return aj(),delete e.node,delete e.edge,delete e.graph,e}()}var UD={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},WD=hT(UD);WD.color="color.color",WD.style="dashes";var GD={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},HD={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},YD="",qD=0,KD="",XD="",QD=GD.NULL;function JD(){qD++,KD=YD.charAt(qD)}function $D(){return YD.charAt(qD+1)}function ej(e){var t=e.charCodeAt(0);return t<47?35===t||46===t:t<59?t>47:t<91?t>64:t<96?95===t:t<123&&t>96}function tj(e,t){if(e||(e={}),t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function nj(e,t,n){for(var i=t.split("."),r=e;i.length;){var o=i.shift();i.length?(r[o]||(r[o]={}),r=r[o]):r[o]=n}}function ij(e,t){for(var n,i,r=null,o=[e],a=e;a.parent;)o.push(a.parent),a=a.parent;if(a.nodes)for(n=0,i=a.nodes.length;n<i;n++)if(t.id===a.nodes[n].id){r=a.nodes[n];break}for(r||(r={id:t.id},e.node&&(r.attr=tj(r.attr,e.node))),n=o.length-1;n>=0;n--){var s,l=o[n];l.nodes||(l.nodes=[]),-1===cT(s=l.nodes).call(s,r)&&l.nodes.push(r)}t.attr&&(r.attr=tj(r.attr,t.attr))}function rj(e,t){if(e.edges||(e.edges=[]),e.edges.push(t),e.edge){var n=tj({},e.edge);t.attr=tj(n,t.attr)}}function oj(e,t,n,i,r){var o={from:t,to:n,type:i};return e.edge&&(o.attr=tj({},e.edge)),o.attr=tj(o.attr||{},r),null!=r&&r.hasOwnProperty("arrows")&&null!=r.arrows&&(o.arrows={to:{enabled:!0,type:r.arrows.type}},r.arrows=null),o}function aj(){for(QD=GD.NULL,XD="";" "===KD||"\t"===KD||"\n"===KD||"\r"===KD;)JD();do{var e=!1;if("#"===KD){for(var t=qD-1;" "===YD.charAt(t)||"\t"===YD.charAt(t);)t--;if("\n"===YD.charAt(t)||""===YD.charAt(t)){for(;""!=KD&&"\n"!=KD;)JD();e=!0}}if("/"===KD&&"/"===$D()){for(;""!=KD&&"\n"!=KD;)JD();e=!0}if("/"===KD&&"*"===$D()){for(;""!=KD;){if("*"===KD&&"/"===$D()){JD(),JD();break}JD()}e=!0}for(;" "===KD||"\t"===KD||"\n"===KD||"\r"===KD;)JD()}while(e);if(""!==KD){var n=KD+$D();if(HD[n])return QD=GD.DELIMITER,XD=n,JD(),void JD();if(HD[KD])return QD=GD.DELIMITER,XD=KD,void JD();if(ej(KD)||"-"===KD){for(XD+=KD,JD();ej(KD);)XD+=KD,JD();return"false"===XD?XD=!1:"true"===XD?XD=!0:isNaN(Number(XD))||(XD=Number(XD)),void(QD=GD.IDENTIFIER)}if('"'===KD){for(JD();""!=KD&&('"'!=KD||'"'===KD&&'"'===$D());)'"'===KD?(XD+=KD,JD()):"\\"===KD&&"n"===$D()?(XD+="\n",JD()):XD+=KD,JD();if('"'!=KD)throw dj('End of string " expected');return JD(),void(QD=GD.IDENTIFIER)}for(QD=GD.UNKNOWN;""!=KD;)XD+=KD,JD();throw new SyntaxError('Syntax error in part "'+hj(XD,30)+'"')}QD=GD.DELIMITER}function sj(e){for(;""!==XD&&"}"!=XD;)lj(e),";"===XD&&aj()}function lj(e){var t=uj(e);if(t)cj(e,t);else{var n=function(e){if("node"===XD)return aj(),e.node=gj(),"node";if("edge"===XD)return aj(),e.edge=gj(),"edge";if("graph"===XD)return aj(),e.graph=gj(),"graph";return null}(e);if(!n){if(QD!=GD.IDENTIFIER)throw dj("Identifier expected");var i=XD;if(aj(),"="===XD){if(aj(),QD!=GD.IDENTIFIER)throw dj("Identifier expected");e[i]=XD,aj()}else!function(e,t){var n={id:t},i=gj();i&&(n.attr=i);ij(e,n),cj(e,t)}(e,i)}}}function uj(e){var t=null;if("subgraph"===XD&&((t={}).type="subgraph",aj(),QD===GD.IDENTIFIER&&(t.id=XD,aj())),"{"===XD){if(aj(),t||(t={}),t.parent=e,t.node=e.node,t.edge=e.edge,t.graph=e.graph,sj(t),"}"!=XD)throw dj("Angle bracket } expected");aj(),delete t.node,delete t.edge,delete t.graph,delete t.parent,e.subgraphs||(e.subgraphs=[]),e.subgraphs.push(t)}return t}function cj(e,t){for(;"->"===XD||"--"===XD;){var n,i=XD;aj();var r=uj(e);if(r)n=r;else{if(QD!=GD.IDENTIFIER)throw dj("Identifier or subgraph expected");ij(e,{id:n=XD}),aj()}rj(e,oj(e,t,n,i,gj())),t=n}}function gj(){for(var e,t,n=null,i={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},o=new Array,a=new Array;"["===XD;){for(aj(),n={};""!==XD&&"]"!=XD;){if(QD!=GD.IDENTIFIER)throw dj("Attribute name expected");var s=XD;if(aj(),"="!=XD)throw dj("Equal sign = expected");if(aj(),QD!=GD.IDENTIFIER)throw dj("Attribute value expected");var l=XD;"style"===s&&(l=i[l]),"arrowhead"===s&&(s="arrows",l={to:{enabled:!0,type:r[l]}}),"arrowtail"===s&&(s="arrows",l={from:{enabled:!0,type:r[l]}}),o.push({attr:n,name:s,value:l}),a.push(s),aj(),","==XD&&aj()}if("]"!=XD)throw dj("Bracket ] expected");aj()}if(vS(a).call(a,"dir")){var u={arrows:{}};for(e=0;e<o.length;e++)if("arrows"===o[e].name)if(null!=o[e].value.to)u.arrows.to=e;else{if(null==o[e].value.from)throw dj("Invalid value of arrows");u.arrows.from=e}else"dir"===o[e].name&&(u.dir=e);var c,g,d=o[u.dir].value;if(!vS(a).call(a,"arrows"))if("both"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1,o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else if("forward"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=o.length-1;else if("back"===d)o.push({attr:o[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=o.length-1;else{if("none"!==d)throw dj('Invalid dir type "'+d+'"');o.push({attr:o[u.dir].attr,name:"arrows",value:""}),u.arrows.to=o.length-1}if("both"===d)u.arrows.to&&u.arrows.from?(g=o[u.arrows.to].value.to.type,c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}},QE(o).call(o,u.arrows.from,1)):u.arrows.to?(g=o[u.arrows.to].value.to.type,c="arrow",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}):u.arrows.from&&(g="arrow",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}});else if("back"===d)u.arrows.to&&u.arrows.from?(g="",c=o[u.arrows.from].value.from.type,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}):u.arrows.to?(g="",c="arrow",u.arrows.from=u.arrows.to,o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}):u.arrows.from&&(g="",c=o[u.arrows.from].value.from.type,o[u.arrows.to]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}),o[u.arrows.from]={attr:o[u.arrows.from].attr,name:o[u.arrows.from].name,value:{from:{enabled:!0,type:o[u.arrows.from].value.from.type}}};else if("none"===d){var h;o[h=u.arrows.to?u.arrows.to:u.arrows.from]={attr:o[h].attr,name:o[h].name,value:""}}else{if("forward"!==d)throw dj('Invalid dir type "'+d+'"');u.arrows.to&&u.arrows.from||u.arrows.to?(g=o[u.arrows.to].value.to.type,c="",o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}):u.arrows.from&&(g="arrow",c="",u.arrows.to=u.arrows.from,o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:g},from:{enabled:!0,type:c}}}),o[u.arrows.to]={attr:o[u.arrows.to].attr,name:o[u.arrows.to].name,value:{to:{enabled:!0,type:o[u.arrows.to].value.to.type}}}}QE(o).call(o,u.dir,1)}if(vS(a).call(a,"penwidth")){var p=[];for(t=o.length,e=0;e<t;e++)"width"!==o[e].name&&("penwidth"===o[e].name&&(o[e].name="width"),p.push(o[e]));o=p}for(t=o.length,e=0;e<t;e++)nj(o[e].attr,o[e].name,o[e].value);return n}function dj(e){return new SyntaxError(e+', got "'+hj(XD,30)+'" (char '+qD+")")}function hj(e,t){return e.length<=t?e:e.substr(0,27)+"..."}function pj(e,t,n){for(var i=t.split("."),r=i.pop(),o=e,a=0;a<i.length;a++){var s=i[a];s in o||(o[s]={}),o=o[s]}return o[r]=n,e}function Aj(e,t){var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=t[i];Gk(r)?IE(r).call(r,(function(t){pj(n,t,e[i])})):pj(n,"string"===typeof r?r:i,e[i])}return n}function fj(e){var t,n=VD(e),i={nodes:[],edges:[],options:{}};n.nodes&&IE(t=n.nodes).call(t,(function(e){var t={id:e.id,label:String(e.label||e.id)};tj(t,Aj(e.attr,UD)),t.image&&(t.shape="image"),i.nodes.push(t)}));if(n.edges){var r,o=function(e){var t={from:e.from,to:e.to};return tj(t,Aj(e.attr,WD)),null==t.arrows&&"->"===e.type&&(t.arrows="to"),t};IE(r=n.edges).call(r,(function(e){var t,n,r,a,s,l,u;(t=e.from instanceof Object?e.from.nodes:{id:e.from},n=e.to instanceof Object?e.to.nodes:{id:e.to},e.from instanceof Object&&e.from.edges)&&IE(r=e.from.edges).call(r,(function(e){var t=o(e);i.edges.push(t)}));(s=n,l=function(t,n){var r=oj(i,t.id,n.id,e.type,e.attr),a=o(r);i.edges.push(a)},Gk(a=t)?IE(a).call(a,(function(e){Gk(s)?IE(s).call(s,(function(t){l(e,t)})):l(e,s)})):Gk(s)?IE(s).call(s,(function(e){l(a,e)})):l(a,s),e.to instanceof Object&&e.to.edges)&&IE(u=e.to.edges).call(u,(function(e){var t=o(e);i.edges.push(t)}))}))}return n.attr&&(i.options=n.attr),i}function Cj(e,t){var n,i={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};null!=t&&(null!=t.fixed&&(i.nodes.fixed=t.fixed),null!=t.parseColor&&(i.nodes.parseColor=t.parseColor),null!=t.inheritColor&&(i.edges.inheritColor=t.inheritColor));var r=e.edges,o=Jk(r).call(r,(function(e){var t={from:e.source,id:e.id,to:e.target};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),"Directed"===e.type&&(t.arrows="to"),e.color&&!1===i.edges.inheritColor&&(t.color=e.color),t}));return{nodes:Jk(n=e.nodes).call(n,(function(e){var t={id:e.id,fixed:i.nodes.fixed&&null!=e.x&&null!=e.y};return null!=e.attributes&&(t.attributes=e.attributes),null!=e.label&&(t.label=e.label),null!=e.size&&(t.size=e.size),null!=e.attributes&&null!=e.attributes.title&&(t.title=e.attributes.title),null!=e.title&&(t.title=e.title),null!=e.x&&(t.x=e.x),null!=e.y&&(t.y=e.y),null!=e.color&&(!0===i.nodes.parseColor?t.color=e.color:t.color={background:e.color,border:e.color,highlight:{background:e.color,border:e.color},hover:{background:e.color,border:e.color}}),t})),edges:o}}var Ij=Object.freeze({__proto__:null,cn:{addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",addNode:"\u6dfb\u52a0\u8282\u70b9",back:"\u8fd4\u56de",close:"\u95dc\u9589",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",del:"\u5220\u9664\u9009\u5b9a",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",edit:"\u7f16\u8f91",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",editNode:"\u7f16\u8f91\u8282\u70b9"},cs:{addDescription:"Kluknut\xedm do pr\xe1zdn\xe9ho prostoru m\u016f\u017eete p\u0159idat nov\xfd vrchol.",addEdge:"P\u0159idat hranu",addNode:"P\u0159idat vrchol",back:"Zp\u011bt",close:"Zav\u0159\xedt",createEdgeError:"Nelze p\u0159ipojit hranu ke shluku.",del:"Smazat v\xfdb\u011br",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"P\u0159eta\u017een\xedm z jednoho vrcholu do druh\xe9ho m\u016f\u017eete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"P\u0159eta\u017een\xedm kontroln\xedho vrcholu hrany ji m\u016f\u017eete p\u0159ipojit k jin\xe9mu vrcholu.",editNode:"Upravit vrchol"},de:{addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzuf\xfcgen",addNode:"Knoten hinzuf\xfcgen",back:"Zur\xfcck",close:"Schlie\xdfen",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",del:"L\xf6sche Auswahl",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster k\xf6nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},en:{addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},es:{addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",addEdge:"A\xf1adir arista",addNode:"A\xf1adir nodo",back:"Atr\xe1s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecci\xf3n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},fr:{addDescription:"Cliquez dans un endroit vide pour placer un n\u0153ud.",addEdge:"Ajouter un lien",addNode:"Ajouter un n\u0153ud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de cr\xe9er un lien vers un cluster.",del:"Effacer la s\xe9lection",deleteClusterError:"Les clusters ne peuvent pas \xeatre effac\xe9s.",edgeDescription:"Cliquez sur un n\u0153ud et glissez le lien vers un autre n\u0153ud pour les connecter.",edit:"\xc9diter",editClusterError:"Les clusters ne peuvent pas \xeatre \xe9dit\xe9s.",editEdge:"\xc9diter le lien",editEdgeDescription:"Cliquez sur les points de contr\xf4le et glissez-les pour connecter un n\u0153ud.",editNode:"\xc9diter le n\u0153ud"},it:{addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},nl:{addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},pt:{addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",addEdge:"Adicionar aresta",addNode:"Adicionar n\xf3",back:"Voltar",close:"Fechar",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",edit:"Editar",editClusterError:"Clusters n\xe3o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",editNode:"Editar n\xf3"},ru:{addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0442\u044c",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b"},uk:{addDescription:"K\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0456\u043b\u044c\u043d\u0435 \u043c\u0456\u0441\u0446\u0435, \u0449\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0438\u0439 \u0432\u0443\u0437\u043e\u043b.",addEdge:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",addNode:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b",back:"\u041d\u0430\u0437\u0430\u0434",close:"\u0417\u0430\u043a\u0440\u0438\u0442\u0438",createEdgeError:"\u041d\u0435 \u043c\u043e\u0436\u043b\u0438\u0432\u043e \u043e\u0431'\u0454\u0434\u043d\u0430\u0442\u0438 \u043a\u0440\u0430\u0457 \u0432 \u0433\u0440\u0443\u043f\u0443.",del:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043e\u0431\u0440\u0430\u043d\u0435",deleteClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435 \u043c\u043e\u0436\u0443\u0442\u044c \u0431\u0443\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456.",edgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u0432\u0443\u0437\u043e\u043b \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u043a\u0440\u0430\u0439 \u0434\u043e \u0456\u043d\u0448\u043e\u0433\u043e \u0432\u0443\u0437\u043b\u0430, \u0449\u043e\u0431 \u0457\u0445 \u0437'\u0454\u0434\u043d\u0430\u0442\u0438.",edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",editClusterError:"\u0413\u0440\u0443\u043f\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0456 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u043d\u043d\u044f.",editEdge:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043a\u0440\u0430\u0439",editEdgeDescription:"\u041a\u043b\u0456\u043a\u043d\u0456\u0442\u044c \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0456 \u0442\u043e\u0447\u043a\u0438 \u0456 \u043f\u0435\u0440\u0435\u0442\u044f\u0433\u043d\u0456\u0442\u044c \u0457\u0445 \u0443 \u0432\u0443\u0437\u043e\u043b, \u0449\u043e\u0431 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0438\u0441\u044f \u0434\u043e \u043d\u044c\u043e\u0433\u043e.",editNode:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0443\u0437\u043e\u043b"}});var vj=function(){function e(){Ty(this,e),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return Fw(e,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var e=this.image.width,t=this.image.height;this.width=e,this.height=t;var n=Math.floor(t/2),i=Math.floor(t/4),r=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),s=Math.floor(e/4),l=Math.floor(e/8),u=Math.floor(e/16);this.canvas.width=3*s,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,s,i],[a,i,l,r],[5*l,i,u,o]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(var n=1;n<this.NUM_ITERATIONS;n++){var i=this.coordinates[n-1],r=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],r[0],r[1],r[2],r[3])}}},{key:"drawImageAtPosition",value:function(e,t,n,i,r,o){if(this.initialized())if(t>2){t*=.5;for(var a=0;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);var s=this.coordinates[a];e.drawImage(this.canvas,s[0],s[1],s[2],s[3],n,i,r,o)}else e.drawImage(this.image,n,i,r,o)}}]),e}(),mj=function(){function e(t){Ty(this,e),this.images={},this.imageBroken={},this.callback=t}return Fw(e,[{key:"_tryloadBrokenUrl",value:function(e,t,n){void 0!==e&&void 0!==n&&(void 0!==t?(n.image.onerror=function(){console.error("Could not load brokenImage:",t)},n.image.src=t):console.warn("No broken url image defined"))}},{key:"_redrawWithImage",value:function(e){this.callback&&this.callback(e)}},{key:"load",value:function(e,t){var n=this,i=this.images[e];if(i)return i;var r=new vj;return this.images[e]=r,r.image.onload=function(){n._fixImageCoordinates(r.image),r.init(),n._redrawWithImage(r)},r.image.onerror=function(){console.error("Could not load image:",e),n._tryloadBrokenUrl(e,t,r)},r.image.src=e,r}},{key:"_fixImageCoordinates",value:function(e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}]),e}(),yj={exports:{}},bj=md((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),xj=md,_j=Ah,wj=Nd,kj=bj,Ej=Object.isExtensible,Sj=xj((function(){Ej(1)}))||kj?function(e){return!!_j(e)&&((!kj||"ArrayBuffer"!==wj(e))&&(!Ej||Ej(e)))}:Ej,Tj=!md((function(){return Object.isExtensible(Object.preventExtensions({}))})),Oj=UA,Pj=Pd,Dj=lf,jj=Ah,Mj=hp,Nj=dA.f,zj=pb,Rj=Cb,Fj=Sj,Lj=Tj,Bj=!1,Zj=Ip("meta"),Vj=0,Uj=function(e){Nj(e,Zj,{value:{objectID:"O"+Vj++,weakData:{}}})},Wj=yj.exports={enable:function(){Wj.enable=function(){},Bj=!0;var e=zj.f,t=Pj([].splice),n={};n[Zj]=1,e(n).length&&(zj.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===Zj){t(i,r,1);break}return i},Oj({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Rj.f}))},fastKey:function(e,t){if(!jj(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Mj(e,Zj)){if(!Fj(e))return"F";if(!t)return"E";Uj(e)}return e[Zj].objectID},getWeakData:function(e,t){if(!Mj(e,Zj)){if(!Fj(e))return!0;if(!t)return!1;Uj(e)}return e[Zj].weakData},onFreeze:function(e){return Lj&&Bj&&Fj(e)&&!Mj(e,Zj)&&Uj(e),e}};Dj[Zj]=!0;var Gj=yj.exports,Hj=gA,Yj=Yd,qj=CA,Kj=Vh,Xj=sm,Qj=tf,Jj=bh,$j=Vm,eM=Nm,tM=tm,nM=TypeError,iM=function(e,t){this.stopped=e,this.result=t},rM=iM.prototype,oM=function(e,t,n){var i,r,o,a,s,l,u,c=n&&n.that,g=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),A=Hj(t,c),f=function(e){return i&&tM(i,"normal",e),new iM(!0,e)},C=function(e){return g?(qj(e),p?A(e[0],e[1],f):A(e[0],e[1])):p?A(e,f):A(e)};if(d)i=e.iterator;else if(h)i=e;else{if(!(r=eM(e)))throw new nM(Kj(e)+" is not iterable");if(Xj(r)){for(o=0,a=Qj(e);a>o;o++)if((s=C(e[o]))&&Jj(rM,s))return s;return new iM(!1)}i=$j(e,r)}for(l=d?e.next:i.next;!(u=Yj(l,i)).done;){try{s=C(u.value)}catch(z$){tM(i,"throw",z$)}if("object"==typeof s&&s&&Jj(rM,s))return s}return new iM(!1)},aM=bh,sM=TypeError,lM=function(e,t){if(aM(t,e))return e;throw new sM("Incorrect invocation")},uM=UA,cM=vd,gM=Gj,dM=md,hM=PA,pM=oM,AM=lM,fM=Vd,CM=Ah,IM=ah,vM=uv,mM=dA.f,yM=Xb.forEach,bM=Wd,xM=tI.set,_M=tI.getterFor,wM=function(e,t,n){var i,r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),a=r?"set":"add",s=cM[e],l=s&&s.prototype,u={};if(bM&&fM(s)&&(o||l.forEach&&!dM((function(){(new s).entries().next()})))){var c=(i=t((function(t,n){xM(AM(t,c),{type:e,collection:new s}),IM(n)||pM(n,t[a],{that:t,AS_ENTRIES:r})}))).prototype,g=_M(e);yM(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"===e||"set"===e;!(e in l)||o&&"clear"===e||hM(c,e,(function(n,i){var r=g(this).collection;if(!t&&o&&!CM(n))return"get"===e&&void 0;var a=r[e](0===n?0:n,i);return t?this:a}))})),o||mM(c,"size",{configurable:!0,get:function(){return g(this).collection.size}})}else i=n.getConstructor(t,e,r,a),gM.enable();return vM(i,e,!1,!0),u[e]=i,uM({global:!0,forced:!0},u),o||n.setStrong(i,e,r),i},kM=WI,EM=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:kM(e,i,t[i],n);return e},SM=yh,TM=Ob,OM=Wd,PM=Ep("species"),DM=function(e){var t=SM(e);OM&&t&&!t[PM]&&TM(t,PM,{configurable:!0,get:function(){return this}})},jM=jI,MM=Ob,NM=EM,zM=gA,RM=lM,FM=ah,LM=oM,BM=Vv,ZM=Uv,VM=DM,UM=Wd,WM=Gj.fastKey,GM=tI.set,HM=tI.getterFor,YM={getConstructor:function(e,t,n,i){var r=e((function(e,r){RM(e,o),GM(e,{type:t,index:jM(null),first:void 0,last:void 0,size:0}),UM||(e.size=0),FM(r)||LM(r,e[i],{that:e,AS_ENTRIES:n})})),o=r.prototype,a=HM(t),s=function(e,t,n){var i,r,o=a(e),s=l(e,t);return s?s.value=n:(o.last=s={index:r=WM(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=s),i&&(i.next=s),UM?o.size++:e.size++,"F"!==r&&(o.index[r]=s)),e},l=function(e,t){var n,i=a(e),r=WM(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key===t)return n};return NM(o,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,UM?e.size=0:this.size=0},delete:function(e){var t=this,n=a(t),i=l(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first===i&&(n.first=r),n.last===i&&(n.last=o),UM?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=a(this),i=zM(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),NM(o,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),UM&&MM(o,"size",{configurable:!0,get:function(){return a(this).size}}),r},setStrong:function(e,t,n){var i=t+" Iterator",r=HM(t),o=HM(i);BM(e,t,(function(e,t){GM(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?ZM("keys"===t?n.key:"values"===t?n.value:[n.key,n.value],!1):(e.target=void 0,ZM(void 0,!0))}),n?"entries":"values",!n,!0),VM(t)}};wM("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),YM);var qM=Cd(fh.Map),KM=function(){function e(){Ty(this,e),this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Mf(this.options,this.defaultOptions)}return Fw(e,[{key:"setOptions",value:function(e){var t=["useDefaultGroups"];if(void 0!==e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&-1===cT(t).call(t,n)){var i=e[n];this.add(n,i)}}},{key:"clear",value:function(){this._groups=new qM,this._groupNames=[]}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._groups.get(e);if(void 0===n&&t)if(!1===this.options.useDefaultGroups&&this._groupNames.length>0){var i=this._groupIndex%this._groupNames.length;++this._groupIndex,(n={}).color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{var r=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,(n={}).color=this._defaultGroups[r],this._groups.set(e,n)}return n}},{key:"add",value:function(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}]),e}();UA({target:"Number",stat:!0},{isNaN:function(e){return e!==e}});var XM=Cd(fh.Number.isNaN),QM=vd.isFinite,JM=Number.isFinite||function(e){return"number"==typeof e&&QM(e)};UA({target:"Number",stat:!0},{isFinite:JM});var $M=Cd(fh.Number.isFinite),eN=Xb.some;UA({target:"Array",proto:!0,forced:!sE("some")},{some:function(e){return eN(this,e,arguments.length>1?arguments[1]:void 0)}});var tN=Kf("Array").some,nN=bh,iN=tN,rN=Array.prototype,oN=function(e){var t=e.some;return e===rN||nN(rN,e)&&t===rN.some?iN:t},aN=Cd(oN);function sN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lN=dT,uN=Cd(lN);UA({target:"Object",stat:!0},{setPrototypeOf:wv});var cN=fh.Object.setPrototypeOf,gN=Cd(cN),dN=Cd(tC);function hN(e,t){var n;return hN=gN?dN(n=gN).call(n):function(e,t){return e.__proto__=t,e},hN(e,t)}function pN(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=uN(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Fy(e,"prototype",{writable:!1}),t&&hN(e,t)}function AN(e,t){if(t&&("object"===Mw(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sN(e)}var fN=xS,CN=Cd(fN);function IN(e){var t;return IN=gN?dN(t=CN).call(t):function(e){return e.__proto__||CN(e)},IN(e)}function vN(e,t,n){return(t=zw(t))in e?Fy(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mN={exports:{}},yN={exports:{}};!function(e){var t=Tw,n=Dw;function i(r){return e.exports=i="function"==typeof t&&"symbol"==typeof n?function(e){return typeof e}:function(e){return e&&"function"==typeof t&&e.constructor===t&&e!==t.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(r)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports}(yN);var bN=yN.exports,xN=CE,_N=hp,wN=Uk,kN=Ud,EN=dA,SN=Ah,TN=PA,ON=Error,PN=Pd("".replace),DN=String(new ON("zxcasd").stack),jN=/\n\s*at [^:]*:[^\n]*/,MN=jN.test(DN),NN=eh,zN=!md((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",NN(1,7)),7!==e.stack)})),RN=PA,FN=function(e,t){if(MN&&"string"==typeof e&&!ON.prepareStackTrace)for(;t--;)e=PN(e,jN,"");return e},LN=zN,BN=Error.captureStackTrace,ZN=kC,VN=UA,UN=bh,WN=VI,GN=wv,HN=function(e,t,n){for(var i=wN(t),r=EN.f,o=kN.f,a=0;a<i.length;a++){var s=i[a];_N(e,s)||n&&_N(n,s)||r(e,s,o(t,s))}},YN=jI,qN=PA,KN=eh,XN=function(e,t){SN(t)&&"cause"in t&&TN(e,"cause",t.cause)},QN=function(e,t,n,i){LN&&(BN?BN(e,t):RN(e,"stack",FN(n,i)))},JN=oM,$N=function(e,t){return void 0===e?arguments.length<2?"":t:ZN(e)},ez=Ep("toStringTag"),tz=Error,nz=[].push,iz=function(e,t){var n,i=UN(rz,this);GN?n=GN(new tz,i?WN(this):rz):(n=i?this:YN(rz),qN(n,ez,"Error")),void 0!==t&&qN(n,"message",$N(t)),QN(n,iz,n.stack,1),arguments.length>2&&XN(n,arguments[2]);var r=[];return JN(e,nz,{that:r}),qN(n,"errors",r),n};GN?GN(iz,tz):HN(iz,tz,{name:!0});var rz=iz.prototype=YN(tz.prototype,{constructor:KN(1,iz),message:KN(1,""),name:KN(1,"AggregateError")});VN({global:!0,constructor:!0,arity:2},{AggregateError:iz});var oz,az,sz,lz,uz="process"===Nd(vd.process),cz=wm,gz=Vh,dz=TypeError,hz=function(e){if(cz(e))return e;throw new dz(gz(e)+" is not a constructor")},pz=CA,Az=hz,fz=ah,Cz=Ep("species"),Iz=function(e,t){var n,i=pz(e).constructor;return void 0===i||fz(n=pz(i)[Cz])?t:Az(n)},vz=/(?:ipad|iphone|ipod).*applewebkit/i.test(xh),mz=vd,yz=kd,bz=gA,xz=Vd,_z=hp,wz=md,kz=fI,Ez=Nf,Sz=Zp,Tz=vT,Oz=vz,Pz=uz,Dz=mz.setImmediate,jz=mz.clearImmediate,Mz=mz.process,Nz=mz.Dispatch,zz=mz.Function,Rz=mz.MessageChannel,Fz=mz.String,Lz=0,Bz={},Zz="onreadystatechange";wz((function(){oz=mz.location}));var Vz=function(e){if(_z(Bz,e)){var t=Bz[e];delete Bz[e],t()}},Uz=function(e){return function(){Vz(e)}},Wz=function(e){Vz(e.data)},Gz=function(e){mz.postMessage(Fz(e),oz.protocol+"//"+oz.host)};Dz&&jz||(Dz=function(e){Tz(arguments.length,1);var t=xz(e)?e:zz(e),n=Ez(arguments,1);return Bz[++Lz]=function(){yz(t,void 0,n)},az(Lz),Lz},jz=function(e){delete Bz[e]},Pz?az=function(e){Mz.nextTick(Uz(e))}:Nz&&Nz.now?az=function(e){Nz.now(Uz(e))}:Rz&&!Oz?(lz=(sz=new Rz).port2,sz.port1.onmessage=Wz,az=bz(lz.postMessage,lz)):mz.addEventListener&&xz(mz.postMessage)&&!mz.importScripts&&oz&&"file:"!==oz.protocol&&!wz(Gz)?(az=Gz,mz.addEventListener("message",Wz,!1)):az=Zz in Sz("script")?function(e){kz.appendChild(Sz("script"))[Zz]=function(){kz.removeChild(this),Vz(e)}}:function(e){setTimeout(Uz(e),0)});var Hz={set:Dz,clear:jz},Yz=function(){this.head=null,this.tail=null};Yz.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var qz,Kz,Xz,Qz,Jz,$z=Yz,eR=/ipad|iphone|ipod/i.test(xh)&&"undefined"!=typeof Pebble,tR=/web0s(?!.*chrome)/i.test(xh),nR=vd,iR=gA,rR=Ud.f,oR=Hz.set,aR=$z,sR=vz,lR=eR,uR=tR,cR=uz,gR=nR.MutationObserver||nR.WebKitMutationObserver,dR=nR.document,hR=nR.process,pR=nR.Promise,AR=rR(nR,"queueMicrotask"),fR=AR&&AR.value;if(!fR){var CR=new aR,IR=function(){var e,t;for(cR&&(e=hR.domain)&&e.exit();t=CR.get();)try{t()}catch(z$){throw CR.head&&qz(),z$}e&&e.enter()};sR||cR||uR||!gR||!dR?!lR&&pR&&pR.resolve?((Qz=pR.resolve(void 0)).constructor=pR,Jz=iR(Qz.then,Qz),qz=function(){Jz(IR)}):cR?qz=function(){hR.nextTick(IR)}:(oR=iR(oR,nR),qz=function(){oR(IR)}):(Kz=!0,Xz=dR.createTextNode(""),new gR(IR).observe(Xz,{characterData:!0}),qz=function(){Xz.data=Kz=!Kz}),fR=function(e){CR.head||qz(),CR.add(e)}}var vR=fR,mR=function(e){try{return{error:!1,value:e()}}catch(z$){return{error:!0,value:z$}}},yR=vd.Promise,bR="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,xR=!bR&&!uz&&"object"==typeof window&&"object"==typeof document,_R=vd,wR=yR,kR=Vd,ER=sA,SR=gm,TR=Ep,OR=xR,PR=bR,DR=Oh,jR=wR&&wR.prototype,MR=TR("species"),NR=!1,zR=kR(_R.PromiseRejectionEvent),RR=ER("Promise",(function(){var e=SR(wR),t=e!==String(wR);if(!t&&66===DR)return!0;if(!jR.catch||!jR.finally)return!0;if(!DR||DR<51||!/native code/.test(e)){var n=new wR((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};if((n.constructor={})[MR]=i,!(NR=n.then((function(){}))instanceof i))return!0}return!t&&(OR||PR)&&!zR})),FR={CONSTRUCTOR:RR,REJECTION_EVENT:zR,SUBCLASSING:NR},LR={},BR=Hh,ZR=TypeError,VR=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw new ZR("Bad Promise constructor");t=e,n=i})),this.resolve=BR(t),this.reject=BR(n)};LR.f=function(e){return new VR(e)};var UR,WR,GR=UA,HR=uz,YR=vd,qR=Yd,KR=WI,XR=uv,QR=DM,JR=Hh,$R=Vd,eF=Ah,tF=lM,nF=Iz,iF=Hz.set,rF=vR,oF=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(z$){}},aF=mR,sF=$z,lF=tI,uF=yR,cF=FR,gF=LR,dF="Promise",hF=cF.CONSTRUCTOR,pF=cF.REJECTION_EVENT,AF=lF.getterFor(dF),fF=lF.set,CF=uF&&uF.prototype,IF=uF,vF=CF,mF=YR.TypeError,yF=YR.document,bF=YR.process,xF=gF.f,_F=xF,wF=!!(yF&&yF.createEvent&&YR.dispatchEvent),kF="unhandledrejection",EF=function(e){var t;return!(!eF(e)||!$R(t=e.then))&&t},SF=function(e,t){var n,i,r,o=t.value,a=1===t.state,s=a?e.ok:e.fail,l=e.resolve,u=e.reject,c=e.domain;try{s?(a||(2===t.rejection&&jF(t),t.rejection=1),!0===s?n=o:(c&&c.enter(),n=s(o),c&&(c.exit(),r=!0)),n===e.promise?u(new mF("Promise-chain cycle")):(i=EF(n))?qR(i,n,l,u):l(n)):u(o)}catch(z$){c&&!r&&c.exit(),u(z$)}},TF=function(e,t){e.notified||(e.notified=!0,rF((function(){for(var n,i=e.reactions;n=i.get();)SF(n,e);e.notified=!1,t&&!e.rejection&&PF(e)})))},OF=function(e,t,n){var i,r;wF?((i=yF.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),YR.dispatchEvent(i)):i={promise:t,reason:n},!pF&&(r=YR["on"+e])?r(i):e===kF&&oF("Unhandled promise rejection",n)},PF=function(e){qR(iF,YR,(function(){var t,n=e.facade,i=e.value;if(DF(e)&&(t=aF((function(){HR?bF.emit("unhandledRejection",i,n):OF(kF,n,i)})),e.rejection=HR||DF(e)?2:1,t.error))throw t.value}))},DF=function(e){return 1!==e.rejection&&!e.parent},jF=function(e){qR(iF,YR,(function(){var t=e.facade;HR?bF.emit("rejectionHandled",t):OF("rejectionhandled",t,e.value)}))},MF=function(e,t,n){return function(i){e(t,i,n)}},NF=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,TF(e,!0))},zF=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new mF("Promise can't be resolved itself");var i=EF(t);i?rF((function(){var n={done:!1};try{qR(i,t,MF(zF,n,e),MF(NF,n,e))}catch(z$){NF(n,z$,e)}})):(e.value=t,e.state=1,TF(e,!1))}catch(z$){NF({done:!1},z$,e)}}};hF&&(vF=(IF=function(e){tF(this,vF),JR(e),qR(UR,this);var t=AF(this);try{e(MF(zF,t),MF(NF,t))}catch(z$){NF(t,z$)}}).prototype,(UR=function(e){fF(this,{type:dF,done:!1,notified:!1,parent:!1,reactions:new sF,rejection:!1,state:0,value:void 0})}).prototype=KR(vF,"then",(function(e,t){var n=AF(this),i=xF(nF(this,IF));return n.parent=!0,i.ok=!$R(e)||e,i.fail=$R(t)&&t,i.domain=HR?bF.domain:void 0,0===n.state?n.reactions.add(i):rF((function(){SF(i,n)})),i.promise})),WR=function(){var e=new UR,t=AF(e);this.promise=e,this.resolve=MF(zF,t),this.reject=MF(NF,t)},gF.f=xF=function(e){return e===IF||undefined===e?new WR(e):_F(e)}),GR({global:!0,constructor:!0,wrap:!0,forced:hF},{Promise:IF}),XR(IF,dF,!1,!0),QR(dF);var RF=yR,FF=FR.CONSTRUCTOR||!ry((function(e){RF.all(e).then(void 0,(function(){}))})),LF=Yd,BF=Hh,ZF=LR,VF=mR,UF=oM;UA({target:"Promise",stat:!0,forced:FF},{all:function(e){var t=this,n=ZF.f(t),i=n.resolve,r=n.reject,o=VF((function(){var n=BF(t.resolve),o=[],a=0,s=1;UF(e,(function(e){var l=a++,u=!1;s++,LF(n,t,e).then((function(e){u||(u=!0,o[l]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise}});var WF=UA,GF=FR.CONSTRUCTOR;yR&&yR.prototype,WF({target:"Promise",proto:!0,forced:GF,real:!0},{catch:function(e){return this.then(void 0,e)}});var HF=Yd,YF=Hh,qF=LR,KF=mR,XF=oM;UA({target:"Promise",stat:!0,forced:FF},{race:function(e){var t=this,n=qF.f(t),i=n.reject,r=KF((function(){var r=YF(t.resolve);XF(e,(function(e){HF(r,t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}});var QF=Yd,JF=LR;UA({target:"Promise",stat:!0,forced:FR.CONSTRUCTOR},{reject:function(e){var t=JF.f(this);return QF(t.reject,void 0,e),t.promise}});var $F=CA,eL=Ah,tL=LR,nL=function(e,t){if($F(e),eL(t)&&t.constructor===e)return t;var n=tL.f(e);return(0,n.resolve)(t),n.promise},iL=UA,rL=yR,oL=FR.CONSTRUCTOR,aL=nL,sL=yh("Promise"),lL=!oL;iL({target:"Promise",stat:!0,forced:true},{resolve:function(e){return aL(lL&&this===sL?rL:this,e)}});var uL=Yd,cL=Hh,gL=LR,dL=mR,hL=oM;UA({target:"Promise",stat:!0,forced:FF},{allSettled:function(e){var t=this,n=gL.f(t),i=n.resolve,r=n.reject,o=dL((function(){var n=cL(t.resolve),r=[],o=0,a=1;hL(e,(function(e){var s=o++,l=!1;a++,uL(n,t,e).then((function(e){l||(l=!0,r[s]={status:"fulfilled",value:e},--a||i(r))}),(function(e){l||(l=!0,r[s]={status:"rejected",reason:e},--a||i(r))}))})),--a||i(r)}));return o.error&&r(o.value),n.promise}});var pL=Yd,AL=Hh,fL=yh,CL=LR,IL=mR,vL=oM,mL="No one promise resolved";UA({target:"Promise",stat:!0,forced:FF},{any:function(e){var t=this,n=fL("AggregateError"),i=CL.f(t),r=i.resolve,o=i.reject,a=IL((function(){var i=AL(t.resolve),a=[],s=0,l=1,u=!1;vL(e,(function(e){var c=s++,g=!1;l++,pL(i,t,e).then((function(e){g||u||(u=!0,r(e))}),(function(e){g||u||(g=!0,a[c]=e,--l||o(new n(a,mL)))}))})),--l||o(new n(a,mL))}));return a.error&&o(a.value),i.promise}});var yL=UA,bL=yR,xL=md,_L=yh,wL=Vd,kL=Iz,EL=nL,SL=bL&&bL.prototype;yL({target:"Promise",proto:!0,real:!0,forced:!!bL&&xL((function(){SL.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=kL(this,_L("Promise")),n=wL(e);return this.then(n?function(n){return EL(t,e()).then((function(){return n}))}:e,n?function(n){return EL(t,e()).then((function(){throw n}))}:e)}});var TL=fh.Promise,OL=LR;UA({target:"Promise",stat:!0},{withResolvers:function(){var e=OL.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var PL=TL,DL=LR,jL=mR;UA({target:"Promise",stat:!0,forced:!0},{try:function(e){var t=DL.f(this),n=jL(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var ML=PL,NL=SE;!function(e){var t=bN.default,n=Ry,i=Tw,r=lN,o=fN,a=xN,s=tk,l=cN,u=ML,c=NL,g=xk;function d(){e.exports=d=function(){return p},e.exports.__esModule=!0,e.exports.default=e.exports;var h,p={},A=Object.prototype,f=A.hasOwnProperty,C=n||function(e,t,n){e[t]=n.value},I="function"==typeof i?i:{},v=I.iterator||"@@iterator",m=I.asyncIterator||"@@asyncIterator",y=I.toStringTag||"@@toStringTag";function b(e,t,i){return n(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{b({},"")}catch(h){b=function(e,t,n){return e[t]=n}}function x(e,t,n,i){var o=t&&t.prototype instanceof O?t:O,a=r(o.prototype),s=new V(i||[]);return C(a,"_invoke",{value:F(e,n,s)}),a}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}p.wrap=x;var w="suspendedStart",k="suspendedYield",E="executing",S="completed",T={};function O(){}function P(){}function D(){}var j={};b(j,v,(function(){return this}));var M=o&&o(o(U([])));M&&M!==A&&f.call(M,v)&&(j=M);var N=D.prototype=O.prototype=r(j);function z(e){var t;a(t=["next","throw","return"]).call(t,(function(t){b(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,n){function i(r,o,a,s){var l=_(e[r],e,o);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==t(c)&&f.call(c,"__await")?n.resolve(c.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):n.resolve(c).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var r;C(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,r){i(e,t,n,r)}))}return r=r?r.then(o,o):o()}})}function F(e,t,n){var i=w;return function(r,o){if(i===E)throw new Error("Generator is already running");if(i===S){if("throw"===r)throw o;return{value:h,done:!0}}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=L(a,n);if(s){if(s===T)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===w)throw i=S,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=E;var l=_(e,t,n);if("normal"===l.type){if(i=n.done?S:k,l.arg===T)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=S,n.method="throw",n.arg=l.arg)}}}function L(e,t){var n=t.method,i=e.iterator[n];if(i===h)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=h,L(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),T;var r=_(i,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,T;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=h),t.delegate=null,T):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,T)}function B(e){var t,n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),s(t=this.tryEntries).call(t,n)}function Z(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],a(e).call(e,B,this),this.reset(!0)}function U(e){if(e||""===e){var n=e[v];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(f.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=h,t.done=!0,t};return r.next=r}}throw new TypeError(t(e)+" is not iterable")}return P.prototype=D,C(N,"constructor",{value:D,configurable:!0}),C(D,"constructor",{value:P,configurable:!0}),P.displayName=b(D,y,"GeneratorFunction"),p.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===P||"GeneratorFunction"===(t.displayName||t.name))},p.mark=function(e){return l?l(e,D):(e.__proto__=D,b(e,y,"GeneratorFunction")),e.prototype=r(N),e},p.awrap=function(e){return{__await:e}},z(R.prototype),b(R.prototype,m,(function(){return this})),p.AsyncIterator=R,p.async=function(e,t,n,i,r){void 0===r&&(r=u);var o=new R(x(e,t,n,i),r);return p.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},z(N),b(N,y,"Generator"),b(N,v,(function(){return this})),b(N,"toString",(function(){return"[object Generator]"})),p.keys=function(e){var t=Object(e),n=[];for(var i in t)s(n).call(n,i);return c(n).call(n),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},p.values=U,V.prototype={constructor:V,reset:function(e){var t;if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,a(t=this.tryEntries).call(t,Z),!e)for(var n in this)"t"===n.charAt(0)&&f.call(this,n)&&!isNaN(+g(n).call(n,1))&&(this[n]=h)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=h),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var a=f.call(r,"catchLoc"),s=f.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&f.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,T):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),T},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),Z(n),T}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;Z(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:U(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=h),T}},p}e.exports=d,e.exports.__esModule=!0,e.exports.default=e.exports}(mN);var zL=(0,mN.exports)(),RL=zL;try{regeneratorRuntime=zL}catch(R$){"object"===typeof globalThis?globalThis.regeneratorRuntime=zL:Function("r","regeneratorRuntime = r")(zL)}var FL=Cd(RL),LL=Hh,BL=cp,ZL=oh,VL=tf,UL=TypeError,WL=function(e){return function(t,n,i,r){LL(n);var o=BL(t),a=ZL(o),s=VL(o),l=e?s-1:0,u=e?-1:1;if(i<2)for(;;){if(l in a){r=a[l],l+=u;break}if(l+=u,e?l<0:s<=l)throw new UL("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=u)l in a&&(r=n(r,a[l],l,o));return r}},GL={left:WL(!1),right:WL(!0)}.left;UA({target:"Array",proto:!0,forced:!uz&&Oh>79&&Oh<83||!sE("reduce")},{reduce:function(e){var t=arguments.length;return GL(this,e,t,t>1?arguments[1]:void 0)}});var HL=Kf("Array").reduce,YL=bh,qL=HL,KL=Array.prototype,XL=function(e){var t=e.reduce;return e===KL||YL(KL,e)&&t===KL.reduce?qL:t},QL=Cd(XL),JL=By,$L=tf,eB=Vy,tB=gA,nB=function(e,t,n,i,r,o,a,s){for(var l,u,c=r,g=0,d=!!a&&tB(a,s);g<i;)g in n&&(l=d?d(n[g],g,t):n[g],o>0&&JL(l)?(u=$L(l),c=nB(e,t,l,u,c,o-1)-1):(eB(c+1),e[c]=l),c++),g++;return c},iB=nB,rB=Hh,oB=cp,aB=tf,sB=Ky;UA({target:"Array",proto:!0},{flatMap:function(e){var t,n=oB(this),i=aB(n);return rB(e),(t=sB(n,0)).length=iB(t,n,n,i,0,1,e,arguments.length>1?arguments[1]:void 0),t}});Kf("Array").flatMap,Array.prototype;wM("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),YM);var lB=Cd(fh.Set),uB=Cd(Pw),cB=Cd(Vm),gB=xb,dB=Math.floor,hB=function(e,t){var n=e.length,i=dB(n/2);return n<8?pB(e,t):AB(e,hB(gB(e,0,i),t),hB(gB(e,i),t),t)},pB=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},AB=function(e,t,n,i){for(var r=t.length,o=n.length,a=0,s=0;a<r||s<o;)e[a+s]=a<r&&s<o?i(t[a],n[s])<=0?t[a++]:n[s++]:a<r?t[a++]:n[s++];return e},fB=hB,CB=xh.match(/firefox\/(\d+)/i),IB=!!CB&&+CB[1],vB=/MSIE|Trident/.test(xh),mB=xh.match(/AppleWebKit\/(\d+)\./),yB=!!mB&&+mB[1],bB=UA,xB=Pd,_B=Hh,wB=cp,kB=tf,EB=DE,SB=kC,TB=md,OB=fB,PB=sE,DB=IB,jB=vB,MB=Oh,NB=yB,zB=[],RB=xB(zB.sort),FB=xB(zB.push),LB=TB((function(){zB.sort(void 0)})),BB=TB((function(){zB.sort(null)})),ZB=PB("sort"),VB=!TB((function(){if(MB)return MB<70;if(!(DB&&DB>3)){if(jB)return!0;if(NB)return NB<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)zB.push({k:t+i,v:n})}for(zB.sort((function(e,t){return t.v-e.v})),i=0;i<zB.length;i++)t=zB[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));bB({target:"Array",proto:!0,forced:LB||!BB||!ZB||!VB},{sort:function(e){void 0!==e&&_B(e);var t=wB(this);if(VB)return void 0===e?RB(t):RB(t,e);var n,i,r=[],o=kB(t);for(i=0;i<o;i++)i in t&&FB(r,t[i]);for(OB(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:SB(t)>SB(n)?1:-1}}(e)),n=kB(r),i=0;i<n;)t[i]=r[i++];for(;i<o;)EB(t,i++);return t}});var UB=Kf("Array").sort,WB=bh,GB=UB,HB=Array.prototype,YB=function(e){var t=e.sort;return e===HB||WB(HB,e)&&t===HB.sort?GB:t},qB=Cd(YB),KB=Kf("Array").keys,XB=xC,QB=hp,JB=bh,$B=KB,eZ=Array.prototype,tZ={DOMTokenList:!0,NodeList:!0},nZ=function(e){var t=e.keys;return e===eZ||JB(eZ,e)&&t===eZ.keys||QB(tZ,XB(e))?$B:t},iZ=Cd(nZ),rZ=Kf("Array").values,oZ=xC,aZ=hp,sZ=bh,lZ=rZ,uZ=Array.prototype,cZ={DOMTokenList:!0,NodeList:!0},gZ=function(e){var t=e.values;return e===uZ||sZ(uZ,e)&&t===uZ.values||aZ(cZ,oZ(e))?lZ:t},dZ=Cd(gZ),hZ=Kf("Array").entries,pZ=xC,AZ=hp,fZ=bh,CZ=hZ,IZ=Array.prototype,vZ={DOMTokenList:!0,NodeList:!0},mZ=function(e){var t=e.entries;return e===IZ||fZ(IZ,e)&&t===IZ.entries||AZ(vZ,pZ(e))?CZ:t},yZ=Cd(mZ),bZ=Cd(zy),xZ=UA,_Z=kd,wZ=Hf,kZ=hz,EZ=CA,SZ=Ah,TZ=jI,OZ=md,PZ=yh("Reflect","construct"),DZ=Object.prototype,jZ=[].push,MZ=OZ((function(){function e(){}return!(PZ((function(){}),[],e)instanceof e)})),NZ=!OZ((function(){PZ((function(){}))})),zZ=MZ||NZ;xZ({target:"Reflect",stat:!0,forced:zZ,sham:zZ},{construct:function(e,t){kZ(e),EZ(t);var n=arguments.length<3?e:kZ(arguments[2]);if(NZ&&!MZ)return PZ(e,t,n);if(e===n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return _Z(jZ,i,t),new(_Z(wZ,e,i))}var r=n.prototype,o=TZ(SZ(r)?r:DZ),a=_Z(e,o,t);return SZ(a)?a:o}});var RZ=Cd(fh.Reflect.construct),FZ=Cd(fh.Object.getOwnPropertySymbols),LZ={exports:{}},BZ=UA,ZZ=md,VZ=dh,UZ=Ud.f,WZ=Wd;BZ({target:"Object",stat:!0,forced:!WZ||ZZ((function(){UZ(1)})),sham:!WZ},{getOwnPropertyDescriptor:function(e,t){return UZ(VZ(e),t)}});var GZ=fh.Object,HZ=LZ.exports=function(e,t){return GZ.getOwnPropertyDescriptor(e,t)};GZ.getOwnPropertyDescriptor.sham&&(HZ.sham=!0);var YZ=LZ.exports,qZ=Cd(YZ),KZ=Uk,XZ=dh,QZ=Ud,JZ=Tm;UA({target:"Object",stat:!0,sham:!Wd},{getOwnPropertyDescriptors:function(e){for(var t,n,i=XZ(e),r=QZ.f,o=KZ(i),a={},s=0;o.length>s;)void 0!==(n=r(i,t=o[s++]))&&JZ(a,t,n);return a}});var $Z=Cd(fh.Object.getOwnPropertyDescriptors),eV={exports:{}},tV=UA,nV=Wd,iV=lI.f;tV({target:"Object",stat:!0,forced:Object.defineProperties!==iV,sham:!nV},{defineProperties:iV});var rV=fh.Object,oV=eV.exports=function(e,t){return rV.defineProperties(e,t)};rV.defineProperties.sham&&(oV.sham=!0);var aV=Cd(eV.exports);let sV;const lV=new Uint8Array(16);function uV(){if(!sV&&(sV="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!sV))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sV(lV)}const cV=[];for(let n=0;n<256;++n)cV.push((n+256).toString(16).slice(1));var gV,dV={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function hV(e,t,n){if(dV.randomUUID&&!t&&!e)return dV.randomUUID();const i=(e=e||{}).random||(e.rng||uV)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return cV[e[t+0]]+cV[e[t+1]]+cV[e[t+2]]+cV[e[t+3]]+"-"+cV[e[t+4]]+cV[e[t+5]]+"-"+cV[e[t+6]]+cV[e[t+7]]+"-"+cV[e[t+8]]+cV[e[t+9]]+"-"+cV[e[t+10]]+cV[e[t+11]]+cV[e[t+12]]+cV[e[t+13]]+cV[e[t+14]]+cV[e[t+15]]}(i)}function pV(e,t){var n=tE(e);if(FZ){var i=FZ(e);t&&(i=PS(i).call(i,(function(t){return qZ(e,t).enumerable}))),n.push.apply(n,i)}return n}function AV(e){for(var t=1;t<arguments.length;t++){var n,i,r=null!=arguments[t]?arguments[t]:{};t%2?IE(n=pV(Object(r),!0)).call(n,(function(t){vN(e,t,r[t])})):$Z?aV(e,$Z(r)):IE(i=pV(Object(r))).call(i,(function(t){bZ(e,t,qZ(r,t))}))}return e}function fV(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}function CV(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return IV(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return IV(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function IV(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function vV(e){return"string"===typeof e||"number"===typeof e}var mV=function(){function e(t){Ty(this,e),vN(this,"delay",void 0),vN(this,"max",void 0),vN(this,"_queue",[]),vN(this,"_timeout",null),vN(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(t)}return Fw(e,[{key:"setOptions",value:function(e){e&&"undefined"!==typeof e.delay&&(this.delay=e.delay),e&&"undefined"!==typeof e.max&&(this.max=e.max),this._flushIfNeeded()}},{key:"destroy",value:function(){if(this.flush(),this._extended){for(var e=this._extended.object,t=this._extended.methods,n=0;n<t.length;n++){var i=t[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}},{key:"replace",value:function(e,t){var n=this,i=e[t];if(!i)throw new Error("Method "+t+" undefined");e[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.queue({args:t,fn:i,context:this})}}},{key:"queue",value:function(e){"function"===typeof e?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var e=this;this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"===typeof this.delay&&(this._timeout=zT((function(){e.flush()}),this.delay))}},{key:"flush",value:function(){var e,t;IE(e=QE(t=this._queue).call(t,0)).call(e,(function(e){e.fn.apply(e.context||e.fn,e.args||[])}))}}],[{key:"extend",value:function(t,n){var i=new e(n);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var r=[{name:"flush",original:void 0}];if(n&&n.replace)for(var o=0;o<n.replace.length;o++){var a=n.replace[o];r.push({name:a,original:t[a]}),i.replace(t,a)}return i._extended={object:t,methods:r},i}}]),e}(),yV=function(){function e(){Ty(this,e),vN(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),vN(this,"subscribe",e.prototype.on),vN(this,"unsubscribe",e.prototype.off)}return Fw(e,[{key:"_trigger",value:function(e,t,n){var i,r;if("*"===e)throw new Error("Cannot trigger event *");IE(i=zk(r=[]).call(r,Tk(this._subscribers[e]),Tk(this._subscribers["*"]))).call(i,(function(i){i(e,t,null!=n?n:null)}))}},{key:"on",value:function(e,t){"function"===typeof t&&this._subscribers[e].push(t)}},{key:"off",value:function(e,t){var n;this._subscribers[e]=PS(n=this._subscribers[e]).call(n,(function(e){return e!==t}))}}]),e}();gV=uB;var bV=function(){function e(t){Ty(this,e),vN(this,"_pairs",void 0),this._pairs=t}return Fw(e,[{key:gV,value:FL.mark((function e(){var t,n,i,r,o;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=CV(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=Sk(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:FL.mark((function e(){var t,n,i,r,o;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=CV(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=Sk(n.value,2),r=i[0],o=i[1],e.next=7,[r,o];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:FL.mark((function e(){var t,n,i,r;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=CV(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=Sk(n.value,1),r=i[0],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:FL.mark((function e(){var t,n,i,r;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=CV(this._pairs),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=Sk(n.value,2),r=i[1],e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"toIdArray",value:function(){var e;return Jk(e=Tk(this._pairs)).call(e,(function(e){return e[0]}))}},{key:"toItemArray",value:function(){var e;return Jk(e=Tk(this._pairs)).call(e,(function(e){return e[1]}))}},{key:"toEntryArray",value:function(){return Tk(this._pairs)}},{key:"toObjectMap",value:function(){var e,t=hT(null),n=CV(this._pairs);try{for(n.s();!(e=n.n()).done;){var i=Sk(e.value,2),r=i[0],o=i[1];t[r]=o}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"toMap",value:function(){return new qM(this._pairs)}},{key:"toIdSet",value:function(){return new lB(this.toIdArray())}},{key:"toItemSet",value:function(){return new lB(this.toItemArray())}},{key:"cache",value:function(){return new e(Tk(this._pairs))}},{key:"distinct",value:function(e){var t,n=new lB,i=CV(this._pairs);try{for(i.s();!(t=i.n()).done;){var r=Sk(t.value,2),o=r[0],a=r[1];n.add(e(a,o))}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"filter",value:function(t){var n=this._pairs;return new e(vN({},uB,FL.mark((function e(){var i,r,o,a,s;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=CV(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=10;break}if(o=Sk(r.value,2),a=o[0],s=o[1],!t(s,a)){e.next=8;break}return e.next=8,[a,s];case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),i.e(e.t0);case 15:return e.prev=15,i.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])}))))}},{key:"forEach",value:function(e){var t,n=CV(this._pairs);try{for(n.s();!(t=n.n()).done;){var i=Sk(t.value,2),r=i[0];e(i[1],r)}}catch(o){n.e(o)}finally{n.f()}}},{key:"map",value:function(t){var n=this._pairs;return new e(vN({},uB,FL.mark((function e(){var i,r,o,a,s;return FL.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=CV(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=9;break}return o=Sk(r.value,2),a=o[0],s=o[1],e.next=7,[a,t(s,a)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i.e(e.t0);case 14:return e.prev=14,i.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))))}},{key:"max",value:function(e){var t=cB(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=Sk(n.value,2),a=o[0],s=o[1],l=e(s,a);l>r&&(r=l,i=s)}return i}},{key:"min",value:function(e){var t=cB(this._pairs),n=t.next();if(n.done)return null;for(var i=n.value[1],r=e(n.value[1],n.value[0]);!(n=t.next()).done;){var o=Sk(n.value,2),a=o[0],s=o[1],l=e(s,a);l<r&&(r=l,i=s)}return i}},{key:"reduce",value:function(e,t){var n,i=CV(this._pairs);try{for(i.s();!(n=i.n()).done;){var r=Sk(n.value,2),o=r[0];t=e(t,r[1],o)}}catch(a){i.e(a)}finally{i.f()}return t}},{key:"sort",value:function(t){var n=this;return new e(vN({},uB,(function(){var e;return cB(qB(e=Tk(n._pairs)).call(e,(function(e,n){var i=Sk(e,2),r=i[0],o=i[1],a=Sk(n,2),s=a[0],l=a[1];return t(o,l,r,s)})))})))}}]),e}();var xV=function(e){pN(n,e);var t=fV(n);function n(e,i){var r;return Ty(this,n),vN(sN(r=t.call(this)),"flush",void 0),vN(sN(r),"length",void 0),vN(sN(r),"_options",void 0),vN(sN(r),"_data",void 0),vN(sN(r),"_idProp",void 0),vN(sN(r),"_queue",null),e&&!Gk(e)&&(i=e,e=[]),r._options=i||{},r._data=new qM,r.length=0,r._idProp=r._options.fieldId||"id",e&&e.length&&r.add(e),r.setOptions(i),r}return Fw(n,[{key:"idProp",get:function(){return this._idProp}},{key:"setOptions",value:function(e){e&&void 0!==e.queue&&(!1===e.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=mV.extend(this,{replace:["add","update","remove"]})),e.queue&&"object"===Mw(e.queue)&&this._queue.setOptions(e.queue)))}},{key:"add",value:function(e,t){var n,i=this,r=[];if(Gk(e)){var o=Jk(e).call(e,(function(e){return e[i._idProp]}));if(aN(o).call(o,(function(e){return i._data.has(e)})))throw new Error("A duplicate id was found in the parameter array.");for(var a=0,s=e.length;a<s;a++)n=this._addItem(e[a]),r.push(n)}else{if(!e||"object"!==Mw(e))throw new Error("Unknown dataType");n=this._addItem(e),r.push(n)}return r.length&&this._trigger("add",{items:r},t),r}},{key:"update",value:function(e,t){var n=this,i=[],r=[],o=[],a=[],s=this._idProp,l=function(e){var t=e[s];if(null!=t&&n._data.has(t)){var l=e,u=Mf({},n._data.get(t)),c=n._updateItem(l);r.push(c),a.push(l),o.push(u)}else{var g=n._addItem(e);i.push(g)}};if(Gk(e))for(var u=0,c=e.length;u<c;u++)e[u]&&"object"===Mw(e[u])?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else{if(!e||"object"!==Mw(e))throw new Error("Unknown dataType");l(e)}if(i.length&&this._trigger("add",{items:i},t),r.length){var g={items:r,oldData:o,data:a};this._trigger("update",g,t)}return zk(i).call(i,r)}},{key:"updateOnly",value:function(e,t){var n,i=this;Gk(e)||(e=[e]);var r=Jk(n=Jk(e).call(e,(function(e){var t=i._data.get(e[i._idProp]);if(null==t)throw new Error("Updating non-existent items is not allowed.");return{oldData:t,update:e}}))).call(n,(function(e){var t=e.oldData,n=e.update,r=t[i._idProp],o=function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return HP.apply(void 0,zk(t=[{},e]).call(t,i))}(t,n);return i._data.set(r,o),{id:r,oldData:t,updatedData:o}}));if(r.length){var o={items:Jk(r).call(r,(function(e){return e.id})),oldData:Jk(r).call(r,(function(e){return e.oldData})),data:Jk(r).call(r,(function(e){return e.updatedData}))};return this._trigger("update",o,t),o.items}return[]}},{key:"get",value:function(e,t){var n=void 0,i=void 0,r=void 0;vV(e)?(n=e,r=t):Gk(e)?(i=e,r=t):r=e;var o,a=r&&"Object"===r.returnType?"Object":"Array",s=r&&PS(r),l=[],u=void 0,c=void 0,g=void 0;if(null!=n)(u=this._data.get(n))&&s&&!s(u)&&(u=void 0);else if(null!=i)for(var d=0,h=i.length;d<h;d++)null==(u=this._data.get(i[d]))||s&&!s(u)||l.push(u);else for(var p,A=0,f=(c=Tk(iZ(p=this._data).call(p))).length;A<f;A++)g=c[A],null==(u=this._data.get(g))||s&&!s(u)||l.push(u);if(r&&r.order&&void 0==n&&this._sort(l,r.order),r&&r.fields){var C=r.fields;if(void 0!=n&&null!=u)u=this._filterFields(u,C);else for(var I=0,v=l.length;I<v;I++)l[I]=this._filterFields(l[I],C)}if("Object"==a){for(var m={},y=0,b=l.length;y<b;y++){var x=l[y];m[x[this._idProp]]=x}return m}return null!=n?null!==(o=u)&&void 0!==o?o:null:l}},{key:"getIds",value:function(e){var t=this._data,n=e&&PS(e),i=e&&e.order,r=Tk(iZ(t).call(t)),o=[];if(n)if(i){for(var a=[],s=0,l=r.length;s<l;s++){var u=r[s],c=this._data.get(u);null!=c&&n(c)&&a.push(c)}this._sort(a,i);for(var g=0,d=a.length;g<d;g++)o.push(a[g][this._idProp])}else for(var h=0,p=r.length;h<p;h++){var A=r[h],f=this._data.get(A);null!=f&&n(f)&&o.push(f[this._idProp])}else if(i){for(var C=[],I=0,v=r.length;I<v;I++){var m=r[I];C.push(t.get(m))}this._sort(C,i);for(var y=0,b=C.length;y<b;y++)o.push(C[y][this._idProp])}else for(var x=0,_=r.length;x<_;x++){var w=r[x],k=t.get(w);null!=k&&o.push(k[this._idProp])}return o}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(e,t){var n=t&&PS(t),i=this._data,r=Tk(iZ(i).call(i));if(t&&t.order)for(var o=this.get(t),a=0,s=o.length;a<s;a++){var l=o[a];e(l,l[this._idProp])}else for(var u=0,c=r.length;u<c;u++){var g=r[u],d=this._data.get(g);null==d||n&&!n(d)||e(d,g)}}},{key:"map",value:function(e,t){for(var n=t&&PS(t),i=[],r=this._data,o=Tk(iZ(r).call(r)),a=0,s=o.length;a<s;a++){var l=o[a],u=this._data.get(l);null==u||n&&!n(u)||i.push(e(u,l))}return t&&t.order&&this._sort(i,t.order),i}},{key:"_filterFields",value:function(e,t){var n;return e?QL(n=Gk(t)?t:tE(t)).call(n,(function(t,n){return t[n]=e[n],t}),{}):e}},{key:"_sort",value:function(e,t){if("string"===typeof t){var n=t;qB(e).call(e,(function(e,t){var i=e[n],r=t[n];return i>r?1:i<r?-1:0}))}else{if("function"!==typeof t)throw new TypeError("Order must be a function or a string");qB(e).call(e,t)}}},{key:"remove",value:function(e,t){for(var n=[],i=[],r=Gk(e)?e:[e],o=0,a=r.length;o<a;o++){var s=this._remove(r[o]);if(s){var l=s[this._idProp];null!=l&&(n.push(l),i.push(s))}}return n.length&&this._trigger("remove",{items:n,oldData:i},t),n}},{key:"_remove",value:function(e){var t;if(vV(e)?t=e:e&&"object"===Mw(e)&&(t=e[this._idProp]),null!=t&&this._data.has(t)){var n=this._data.get(t)||null;return this._data.delete(t),--this.length,n}return null}},{key:"clear",value:function(e){for(var t,n=Tk(iZ(t=this._data).call(t)),i=[],r=0,o=n.length;r<o;r++)i.push(this._data.get(n[r]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}},{key:"max",value:function(e){var t,n,i=null,r=null,o=CV(dZ(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a[e];"number"===typeof s&&(null==r||s>r)&&(i=a,r=s)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"min",value:function(e){var t,n,i=null,r=null,o=CV(dZ(t=this._data).call(t));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a[e];"number"===typeof s&&(null==r||s<r)&&(i=a,r=s)}}catch(l){o.e(l)}finally{o.f()}return i||null}},{key:"distinct",value:function(e){for(var t=this._data,n=Tk(iZ(t).call(t)),i=[],r=0,o=0,a=n.length;o<a;o++){for(var s=n[o],l=t.get(s)[e],u=!1,c=0;c<r;c++)if(i[c]==l){u=!0;break}u||void 0===l||(i[r]=l,r++)}return i}},{key:"_addItem",value:function(e){var t=function(e,t){return null==e[t]&&(e[t]=hV()),e}(e,this._idProp),n=t[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,t),++this.length,n}},{key:"_updateItem",value:function(e){var t=e[this._idProp];if(null==t)throw new Error("Cannot update item: item has no id (item: "+fT(e)+")");var n=this._data.get(t);if(!n)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,AV(AV({},n),e)),t}},{key:"stream",value:function(e){if(e){var t=this._data;return new bV(vN({},uB,FL.mark((function n(){var i,r,o,a;return FL.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=CV(e),n.prev=1,i.s();case 3:if((r=i.n()).done){n.next=11;break}if(o=r.value,null==(a=t.get(o))){n.next=9;break}return n.next=9,[o,a];case 9:n.next=3;break;case 11:n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),i.e(n.t0);case 16:return n.prev=16,i.f(),n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[1,13,16,19]])}))))}var n;return new bV(vN({},uB,nC(n=yZ(this._data)).call(n,this._data)))}}]),n}(yV);function _V(e,t){return"object"===Mw(t)&&null!==t&&e===t.idProp&&"function"===typeof t.add&&"function"===typeof t.clear&&"function"===typeof t.distinct&&"function"===typeof IE(t)&&"function"===typeof t.get&&"function"===typeof t.getDataSet&&"function"===typeof t.getIds&&"number"===typeof t.length&&"function"===typeof Jk(t)&&"function"===typeof t.max&&"function"===typeof t.min&&"function"===typeof t.off&&"function"===typeof t.on&&"function"===typeof t.remove&&"function"===typeof t.setOptions&&"function"===typeof t.stream&&"function"===typeof t.update&&"function"===typeof t.updateOnly}function wV(e,t){return"object"===Mw(t)&&null!==t&&e===t.idProp&&"function"===typeof IE(t)&&"function"===typeof t.get&&"function"===typeof t.getDataSet&&"function"===typeof t.getIds&&"number"===typeof t.length&&"function"===typeof Jk(t)&&"function"===typeof t.off&&"function"===typeof t.on&&"function"===typeof t.stream&&_V(e,t.getDataSet())}var kV=vd,EV=md,SV=kC,TV=BS.trim,OV=DS,PV=Pd("".charAt),DV=kV.parseFloat,jV=kV.Symbol,MV=jV&&jV.iterator,NV=1/DV(OV+"-0")!==-1/0||MV&&!EV((function(){DV(Object(MV))}))?function(e){var t=TV(SV(e)),n=DV(t);return 0===n&&"-"===PV(t,0)?-0:n}:DV;UA({global:!0,forced:parseFloat!==NV},{parseFloat:NV});var zV=Cd(fh.parseFloat),RV=UA,FV=md,LV=Cb.f;RV({target:"Object",stat:!0,forced:FV((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:LV});var BV=fh.Object,ZV=function(e){return BV.getOwnPropertyNames(e)},VV=Cd(ZV);function UV(e,t){var n=["node","edge","label"],i=!0,r=kD(t,"chosen");if("boolean"===typeof r)i=r;else if("object"===Mw(r)){if(-1===cT(n).call(n,e))throw new Error("choosify: subOption '"+e+"' should be one of '"+n.join("', '")+"'");var o=kD(t,["chosen",e]);"boolean"!==typeof o&&"function"!==typeof o||(i=o)}return i}function WV(e,t,n){if(e.width<=0||e.height<=0)return!1;if(void 0!==n){var i={x:t.x-n.x,y:t.y-n.y};if(0!==n.angle){var r=-n.angle;t={x:Math.cos(r)*i.x-Math.sin(r)*i.y,y:Math.sin(r)*i.x+Math.cos(r)*i.y}}else t=i}var o=e.x+e.width,a=e.y+e.width;return e.left<t.x&&o>t.x&&e.top<t.y&&a>t.y}function GV(e){return"string"===typeof e&&""!==e}function HV(e,t,n,i){var r=i.x,o=i.y;if("function"===typeof i.distanceToBorder){var a=i.distanceToBorder(e,t),s=Math.sin(t)*a,l=Math.cos(t)*a;l===a?(r+=a,o=i.y):s===a?(r=i.x,o-=a):(r+=l,o-=s)}else i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,o=i.y-n):(r=i.x+n,o=i.y-.5*i.shape.height);return{x:r,y:o}}var YV=function(){function e(t){Ty(this,e),this.measureText=t,this.current=0,this.width=0,this.height=0,this.lines=[]}return Fw(e,[{key:"_add",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[e]&&(this.lines[e]={width:0,height:0,blocks:[]});var i=t;void 0!==t&&""!==t||(i=" ");var r=this.measureText(i,n),o=Mf({},dZ(r));o.text=t,o.width=r.width,o.mod=n,void 0!==t&&""!==t||(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}},{key:"curWidth",value:function(){var e=this.lines[this.current];return void 0===e?0:e.width}},{key:"append",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t)}},{key:"newLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal";this._add(this.current,e,t),this.current++}},{key:"determineLineHeights",value:function(){for(var e=0;e<this.lines.length;e++){var t=this.lines[e],n=0;if(void 0!==t.blocks)for(var i=0;i<t.blocks.length;i++){var r=t.blocks[i];n<r.height&&(n=r.height)}t.height=n}}},{key:"determineLabelSize",value:function(){for(var e=0,t=0,n=0;n<this.lines.length;n++){var i=this.lines[n];i.width>e&&(e=i.width),t+=i.height}this.width=e,this.height=t}},{key:"removeEmptyBlocks",value:function(){for(var e=[],t=0;t<this.lines.length;t++){var n=this.lines[t];if(0!==n.blocks.length&&(t!==this.lines.length-1||0!==n.width)){var i={};Mf(i,n),i.blocks=[];for(var r=void 0,o=[],a=0;a<n.blocks.length;a++){var s=n.blocks[a];0!==s.width?o.push(s):void 0===r&&(r=s)}0===o.length&&void 0!==r&&o.push(r),i.blocks=o,e.push(i)}}return e}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}]),e}(),qV={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/},KV=function(){function e(t){Ty(this,e),this.text=t,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return Fw(e,[{key:"mod",value:function(){return 0===this.modStack.length?"normal":this.modStack[0]}},{key:"modName",value:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":this.bold&&this.ital?"boldital":this.bold?"bold":this.ital?"ital":void 0}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(e){" "===e&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=e&&(this.buffer+=e)}},{key:"parseWS",value:function(e){return!!/[ \t]/.test(e)&&(this.mono?this.add(e):this.spacing=!0,!0)}},{key:"setTag",value:function(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}},{key:"unsetTag",value:function(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(e,t){return!(this.mono||this[e]||!this.match(t))&&(this.setTag(e),!0)}},{key:"match",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Sk(this.prepareRegExp(e),2),i=n[0],r=n[1],o=i.test(this.text.substr(this.position,r));return o&&t&&(this.position+=r-1),o}},{key:"parseEndTag",value:function(e,t,n){var i=this.mod()===e;return!(!(i="mono"===e?i&&this.mono:i&&!this.mono)||!this.match(t))&&(void 0!==n?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0)}},{key:"replace",value:function(e,t){return!!this.match(e)&&(this.add(t),this.position+=length-1,!0)}},{key:"prepareRegExp",value:function(e){var t,n;if(e instanceof RegExp)n=e,t=1;else{var i=qV[e];n=void 0!==i?i:new RegExp(e),t=e.length}return[n,t]}}]),e}(),XV=function(){function e(t,n,i,r){var o=this;Ty(this,e),this.ctx=t,this.parent=n,this.selected=i,this.hover=r;this.lines=new YV((function(e,n){if(void 0===e)return 0;var a=o.parent.getFormattingValues(t,i,r,n),s=0;""!==e&&(s=o.ctx.measureText(e).width);return{width:s,values:a}}))}return Fw(e,[{key:"process",value:function(e){if(!GV(e))return this.lines.finalize();var t=this.parent.fontOptions;e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var n=String(e).split("\n"),i=n.length;if(t.multi)for(var r=0;r<i;r++){var o=this.splitBlocks(n[r],t.multi);if(void 0!==o)if(0!==o.length){if(t.maxWdt>0)for(var a=0;a<o.length;a++){var s=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,s,!0)}else for(var u=0;u<o.length;u++){var c=o[u].mod,g=o[u].text;this.lines.append(g,c)}this.lines.newLine()}else this.lines.newLine("")}else if(t.maxWdt>0)for(var d=0;d<i;d++)this.splitStringIntoLines(n[d]);else for(var h=0;h<i;h++)this.lines.newLine(n[h]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(e){var t="none";return"markdown"===e||"md"===e?t="markdown":!0!==e&&"html"!==e||(t="html"),t}},{key:"splitHtmlBlocks",value:function(e){for(var t=new KV(e),n=function(e){return!!/&/.test(e)&&(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0)};t.position<t.text.length;){var i=t.text.charAt(t.position);t.parseWS(i)||/</.test(i)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||n(i)||t.add(i),t.position++}return t.emitBlock(),t.blocks}},{key:"splitMarkdownBlocks",value:function(e){for(var t=this,n=new KV(e),i=!0,r=function(e){return!!/\\/.test(e)&&(n.position<t.text.length+1&&(n.position++,e=t.text.charAt(n.position),/ \t/.test(e)?n.spacing=!0:(n.add(e),i=!1)),!0)};n.position<n.text.length;){var o=n.text.charAt(n.position);n.parseWS(o)||r(o)||(i||n.spacing)&&(n.parseStartTag("bold","*")||n.parseStartTag("ital","_")||n.parseStartTag("mono","`"))||n.parseEndTag("bold","*","afterBold")||n.parseEndTag("ital","_","afterItal")||n.parseEndTag("mono","`","afterMono")||(n.add(o),i=!1),n.position++}return n.emitBlock(),n.blocks}},{key:"splitBlocks",value:function(e,t){var n=this.decodeMarkupSystem(t);return"none"===n?[{text:e,mod:"normal"}]:"markdown"===n?this.splitMarkdownBlocks(e):"html"===n?this.splitHtmlBlocks(e):void 0}},{key:"overMaxWidth",value:function(e){var t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(e){for(var t="",n=0;n<e.length;){var i=t+(""===t?"":" ")+e[n];if(this.overMaxWidth(i))break;t=i,n++}return n}},{key:"getLongestFitWord",value:function(e){for(var t=0;t<e.length&&!this.overMaxWidth(Rk(e).call(e,0,t));)t++;return t}},{key:"splitStringIntoLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t);for(var i=(e=(e=e.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");i.length>0;){var r=this.getLongestFit(i);if(0===r){var o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(Rk(o).call(o,0,a),t),i[0]=Rk(o).call(o,a)}else{var s=r;" "===i[r-1]?r--:" "===i[s]&&s++;var l=Rk(i).call(i,0,r).join("");r==i.length&&n?this.lines.append(l,t):this.lines.newLine(l,t),i=Rk(i).call(i,s)}}}}]),e}(),QV=["bold","ital","boldital","mono"],JV=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ty(this,e),this.body=t,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(n),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=i}return Fw(e,[{key:"setOptions",value:function(e){if(this.elementOptions=e,this.initFontOptions(e.font),GV(e.label)?this.labelDirty=!0:e.label=void 0,void 0!==e.font&&null!==e.font)if("string"===typeof e.font)this.baseSize=this.fontOptions.size;else if("object"===Mw(e.font)){var t=e.font.size;void 0!==t&&(this.baseSize=t)}}},{key:"initFontOptions",value:function(t){var n=this;hD(QV,(function(e){n.fontOptions[e]={}})),e.parseFontString(this.fontOptions,t)?this.fontOptions.vadjust=0:hD(t,(function(e,t){void 0!==e&&null!==e&&"object"!==Mw(e)&&(n.fontOptions[t]=e)}))}},{key:"constrain",value:function(e){var t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=kD(e,"widthConstraint");if("number"===typeof n)t.maxWdt=Number(n),t.minWdt=Number(n);else if("object"===Mw(n)){var i=kD(e,["widthConstraint","maximum"]);"number"===typeof i&&(t.maxWdt=Number(i));var r=kD(e,["widthConstraint","minimum"]);"number"===typeof r&&(t.minWdt=Number(r))}var o=kD(e,"heightConstraint");if("number"===typeof o)t.minHgt=Number(o);else if("object"===Mw(o)){var a=kD(e,["heightConstraint","minimum"]);"number"===typeof a&&(t.minHgt=Number(a));var s=kD(e,["heightConstraint","valign"]);"string"===typeof s&&("top"!==s&&"bottom"!==s||(t.valign=s))}return t}},{key:"update",value:function(e,t){this.setOptions(e,!0),this.propagateFonts(t),cD(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=UV("label",t)}},{key:"adjustSizes",value:function(e){var t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);var n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}},{key:"addFontOptionsToPile",value:function(e,t){for(var n=0;n<t.length;++n)this.addFontToPile(e,t[n])}},{key:"addFontToPile",value:function(e,t){if(void 0!==t&&void 0!==t.font&&null!==t.font){var n=t.font;e.push(n)}}},{key:"getBasicOptions",value:function(t){for(var n={},i=0;i<t.length;++i){var r=t[i],o={};e.parseFontString(o,r)&&(r=o),hD(r,(function(e,t){void 0!==e&&(Object.prototype.hasOwnProperty.call(n,t)||(-1!==cT(QV).call(QV,t)?n[t]={}:n[t]=e))}))}return n}},{key:"getFontOption",value:function(t,n,i){for(var r,o=0;o<t.length;++o){var a=t[o];if(Object.prototype.hasOwnProperty.call(a,n)){if(void 0===(r=a[n])||null===r)continue;var s={};if(e.parseFontString(s,r)&&(r=s),Object.prototype.hasOwnProperty.call(r,i))return r[i]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,i))return this.fontOptions[i];throw new Error("Did not find value for multi-font for property: '"+i+"'")}},{key:"getFontOptions",value:function(e,t){for(var n={},i=["color","size","face","mod","vadjust"],r=0;r<i.length;++r){var o=i[r];n[o]=this.getFontOption(e,t,o)}return n}},{key:"propagateFonts",value:function(e){var t=this,n=[];this.addFontOptionsToPile(n,e),this.fontOptions=this.getBasicOptions(n);for(var i=function(){var e=QV[r],i=t.fontOptions[e];hD(t.getFontOptions(n,e),(function(e,t){i[t]=e})),i.size=Number(i.size),i.vadjust=Number(i.vadjust)},r=0;r<QV.length;++r)i()}},{key:"draw",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,r,t,n,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}}},{key:"_drawBackground",value:function(e){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){e.fillStyle=this.fontOptions.background;var t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}},{key:"_drawText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle",r=arguments.length>4?arguments[4]:void 0,o=Sk(this._setAlignment(e,t,n,i),2);t=o[0],n=o[1],e.textAlign="left",t-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(n-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(n+=(this.size.height-this.size.labelHeight)/2));for(var a=0;a<this.lineCount;a++){var s=this.lines[a];if(s&&s.blocks){var l=0;this.isEdgeLabel||"center"===this.fontOptions.align?l+=(this.size.width-s.width)/2:"right"===this.fontOptions.align&&(l+=this.size.width-s.width);for(var u=0;u<s.blocks.length;u++){var c=s.blocks[u];e.font=c.font;var g=Sk(this._getColor(c.color,r,c.strokeColor),2),d=g[0],h=g[1];c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=d,c.strokeWidth>0&&e.strokeText(c.text,t+l,n+c.vadjust),e.fillText(c.text,t+l,n+c.vadjust),l+=c.width}n+=s.height}}}},{key:"_setAlignment",value:function(e,t,n,i){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){t=0,n=0;"top"===this.fontOptions.align?(e.textBaseline="alphabetic",n-=4):"bottom"===this.fontOptions.align?(e.textBaseline="hanging",n+=4):e.textBaseline="middle"}else e.textBaseline=i;return[t,n]}},{key:"_getColor",value:function(e,t,n){var i=e||"#000000",r=n||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));i=AD(i,o),r=AD(r,o)}return[i,r]}},{key:"getTextSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._processLabel(e,t,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var e=this.size.left,t=this.size.top-1;if(this.isEdgeLabel){var n=.5*-this.size.width;switch(this.fontOptions.align){case"middle":e=n,t=.5*-this.size.height;break;case"top":e=n,t=-(this.size.height+2);break;case"bottom":e=n,t=2}}return{left:e,top:t,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(e,t,n),this.size.left=i-.5*this.size.width,this.size.top=r-.5*this.size.height,this.size.yLine=r+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===o&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(e,t,n,i){var r=function(e,t,n){return"normal"===t?"mod"===n?"":e[n]:void 0!==e[t][n]?e[t][n]:e[n]},o={color:r(this.fontOptions,i,"color"),size:r(this.fontOptions,i,"size"),face:r(this.fontOptions,i,"face"),mod:r(this.fontOptions,i,"mod"),vadjust:r(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||n)&&("normal"===i&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?o.mod="bold":"function"===typeof this.fontOptions.chooser&&this.fontOptions.chooser(o,this.elementOptions.id,t,n));var a="";return void 0!==o.mod&&""!==o.mod&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}},{key:"differentState",value:function(e,t){return e!==this.selectedState||t!==this.hoverState}},{key:"_processLabelText",value:function(e,t,n,i){return new XV(e,this,t,n).process(i)}},{key:"_processLabel",value:function(e,t,n){if(!1!==this.labelDirty||this.differentState(t,n)){var i=this._processLabelText(e,t,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=t,this.hoverState=n,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(e,t){if(!t||"string"!==typeof t)return!1;var n=t.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}}]),e}(),$V=function(){function e(t,n,i){Ty(this,e),this.body=n,this.labelModule=i,this.setOptions(t),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return Fw(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"_setMargins",value:function(e){this.margin={},this.options.margin&&("object"==Mw(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(e,t){var n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}},{key:"enableShadow",value:function(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(e,t){if(!1!==t.borderDashes)if(void 0!==e.setLineDash){var n=t.borderDashes;!0===n&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}},{key:"disableBorderDashes",value:function(e,t){!1!==t.borderDashes&&(void 0!==e.setLineDash?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}},{key:"needsRefresh",value:function(e,t){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(e,t)}},{key:"initContextForDraw",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=t.borderColor,e.fillStyle=t.color}},{key:"performStroke",value:function(e,t){var n=t.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}},{key:"performFill",value:function(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),YT(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}},{key:"_addBoundingBoxMargin",value:function(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}},{key:"_updateBoundingBox",value:function(e,t,n,i,r){void 0!==n&&this.resize(n,i,r),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r)}},{key:"getDimensionsFromLabel",value:function(e,t,n){this.textSize=this.labelModule.getTextSize(e,t,n);var i=this.textSize.width,r=this.textSize.height;return 0===i&&(i=14,r=14),{width:i,height:r}}}]),e}();function eU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var tU=function(e){pN(n,e);var t=eU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),rC(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"updateBoundingBox",value:function(e,t,n,i,r){this._updateBoundingBox(e,t,n,i,r);var o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+n}}]),n}($V);function nU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var iU=function(e){pN(n,e);var t=nU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r)).labelOffset=0,o.selected=!1,o}return Fw(n,[{key:"setOptions",value:function(e,t,n){this.options=e,void 0===t&&void 0===n||this.setImages(t,n)}},{key:"setImages",value:function(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}},{key:"switchImages",value:function(e){var t=e&&!this.selected||!e&&this.selected;if(this.selected=e,void 0!==this.imageObjAlt&&t){var n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}},{key:"_getImagePadding",value:function(){var e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){var t=this.options.imagePadding;"object"==Mw(t)?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}},{key:"_resizeImage",value:function(){var e,t;if(!1===this.options.shapeProperties.useImageSize){var n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=2*this.options.size*n,t=2*this.options.size*i}else{var r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(e,t,n,i){this.initContextForDraw(e,i),iC(e,t,n,i.size),this.performFill(e,i)}},{key:"_drawImageAtPosition",value:function(e,t){if(0!=this.imageObj.width){e.globalAlpha=void 0!==t.opacity?t.opacity:1,this.enableShadow(e,t);var n=1;!0===this.options.shapeProperties.interpolation&&(n=this.imageObj.width/this.width/this.body.view.scale);var i=this._getImagePadding(),r=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,s=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,r,o,a,s),this.disableShadow(e,t)}}},{key:"_drawImageLabel",value:function(e,t,n,i,r){var o=0;if(void 0!==this.height){o=.5*this.height;var a=this.labelModule.getTextSize(e,i,r);a.lineCount>=1&&(o+=a.height/2)}var s=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,s,i,r,"hanging")}}]),n}($V);function rU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var oU=function(e){pN(n,e);var t=rU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n),r=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=r/2,this.width=r,this.height=r,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,t,n,o),this.updateBoundingBox(t,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,r)}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),n}(iU);function aU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var sU=function(e){pN(n,e);var t=aU(n);function n(e,i,r,o,a){var s;return Ty(this,n),(s=t.call(this,e,i,r)).setImages(o,a),s}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,this.height=i,void(this.radius=.5*this.width)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){this.switchImages(i),this.resize();var a=t,s=n;"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,a+=this.width/2,s+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,a,s,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,s,i,r),this.updateBoundingBox(t,n)}},{key:"updateBoundingBox",value:function(e,t){"top-left"===this.options.shapeProperties.coordinateOrigin?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+2*this.options.size,this.boundingBox.bottom=t+2*this.options.size):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),.5*this.width}}]),n}(iU);function lU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var uU=function(e){pN(n,e);var t=lU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,n)){var r,o;this.labelModule.getTextSize(e,t,n);var a=2*i.size;this.width=null!==(r=this.customSizeWidth)&&void 0!==r?r:a,this.height=null!==(o=this.customSizeHeight)&&void 0!==o?o:a,this.radius=.5*this.width}}},{key:"_drawShape",value:function(e,t,n,i,r,o,a,s){var l,u=this;return this.resize(e,o,a,s),this.left=i-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,s),(l=t,Object.prototype.hasOwnProperty.call(lC,l)?lC[l]:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[l].call(e,n)})(e,i,r,s.size),this.performFill(e,s),void 0!==this.options.icon&&void 0!==this.options.icon.code&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,r)),{drawExternalLabel:function(){if(void 0!==u.options.label){u.labelModule.calculateLabelSize(e,o,a,i,r,"hanging");var t=r+.5*u.height+.5*u.labelModule.size.height;u.labelModule.draw(e,i,t,o,a,"hanging")}u.updateBoundingBox(i,r)}}}},{key:"updateBoundingBox",value:function(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),n}($V);function cU(e,t){var n=tE(e);if(FZ){var i=FZ(e);t&&(i=PS(i).call(i,(function(t){return qZ(e,t).enumerable}))),n.push.apply(n,i)}return n}function gU(e){for(var t=1;t<arguments.length;t++){var n,i,r=null!=arguments[t]?arguments[t]:{};t%2?IE(n=cU(Object(r),!0)).call(n,(function(t){vN(e,t,r[t])})):$Z?aV(e,$Z(r)):IE(i=cU(Object(r))).call(i,(function(t){bZ(e,t,qZ(r,t))}))}return e}function dU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var hU=function(e){pN(n,e);var t=dU(n);function n(e,i,r,o){var a;return Ty(this,n),(a=t.call(this,e,i,r,o)).ctxRenderer=o,a}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r,o),this.left=t-this.width/2,this.top=n-this.height/2,e.save();var a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:n,state:{selected:i,hover:r},style:gU({},o),label:this.options.label});if(null!=a.drawNode&&a.drawNode(),e.restore(),a.drawExternalLabel){var s=a.drawExternalLabel;a.drawExternalLabel=function(){e.save(),s(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function pU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var AU=function(e){pN(n,e);var t=pU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return Fw(n,[{key:"resize",value:function(e,t,n){if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n).width+this.margin.right+this.margin.left;this.width=i,this.height=i,this.radius=this.width/2}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),aC(e,t-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}($V);function fU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var CU=function(e){pN(n,e);var t=fU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"diamond",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function IU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var vU=function(e){pN(n,e);var t=IU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"circle",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e){return e&&this.resize(e),this.options.size}}]),n}(uU);function mU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var yU=function(e){pN(n,e);var t=mU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(t,n)){var i=this.getDimensionsFromLabel(e,t,n);this.height=2*i.height,this.width=i.width+i.height,this.radius=.5*this.width}}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-.5*this.width,this.top=n-.5*this.height,this.initContextForDraw(e,o),oC(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,n,e,i,r),this.labelModule.draw(e,t,n,i,r)}},{key:"distanceToBorder",value:function(e,t){e&&this.resize(e);var n=.5*this.width,i=.5*this.height,r=Math.sin(t)*n,o=Math.cos(t)*i;return n*i/Math.sqrt(r*r+o*o)}}]),n}($V);function bU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var xU=function(e){pN(n,e);var t=bU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return Fw(n,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){var a=this;return this.resize(e,i,r),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=n-this.height/2,this._icon(e,t,n,i,r,o),{drawExternalLabel:function(){if(void 0!==a.options.label){a.labelModule.draw(e,a.left+a.iconSize.width/2+a.margin.left,n+a.height/2+5,i)}a.updateBoundingBox(t,n)}}}},{key:"updateBoundingBox",value:function(e,t){if(this.boundingBox.top=t-.5*this.options.icon.size,this.boundingBox.left=e-.5*this.options.icon.size,this.boundingBox.right=e+.5*this.options.icon.size,this.boundingBox.bottom=t+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(e,t,n,i,r,o){var a=Number(this.options.icon.size);void 0!==this.options.icon.code?(e.font=[null!=this.options.icon.weight?this.options.icon.weight:i?"bold":"",(null!=this.options.icon.weight&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}($V);function _U(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var wU=function(e){pN(n,e);var t=_U(n);function n(e,i,r,o,a){var s;return Ty(this,n),(s=t.call(this,e,i,r)).setImages(o,a),s}return Fw(n,[{key:"resize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var i=2*this.options.size;return this.width=i,void(this.height=i)}this.needsRefresh(t,n)&&this._resizeImage()}},{key:"draw",value:function(e,t,n,i,r,o){e.save(),this.switchImages(i),this.resize();var a=t,s=n;if("top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=t,this.top=n,a+=this.width/2,s+=this.height/2):(this.left=t-this.width/2,this.top=n-this.height/2),!0===this.options.shapeProperties.useBorderWithImage){var l=this.options.borderWidth,u=this.options.borderWidthSelected||2*this.options.borderWidth,c=(i?u:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();var g=i?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,d=i?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background;void 0!==o.opacity&&(g=AD(g,o.opacity),d=AD(d,o.opacity)),e.strokeStyle=g,e.fillStyle=d,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),YT(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,s,i,r),this.updateBoundingBox(t,n),e.restore()}},{key:"updateBoundingBox",value:function(e,t){this.resize(),"top-left"===this.options.shapeProperties.coordinateOrigin?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(iU);function kU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var EU=function(e){pN(n,e);var t=kU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"square",2,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function SU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var TU=function(e){pN(n,e);var t=SU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"hexagon",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function OU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var PU=function(e){pN(n,e);var t=OU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"star",4,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function DU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var jU=function(e){pN(n,e);var t=DU(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._setMargins(r),o}return Fw(n,[{key:"resize",value:function(e,t,n){this.needsRefresh(t,n)&&(this.textSize=this.labelModule.getTextSize(e,t,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(e,t,n,i,r,o){this.resize(e,i,r),this.left=t-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,r),this.disableShadow(e,o),this.updateBoundingBox(t,n,e,i,r)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}($V);function MU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var NU=function(e){pN(n,e);var t=MU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"triangle",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function zU(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var RU=function(e){pN(n,e);var t=zU(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"draw",value:function(e,t,n,i,r,o){return this._drawShape(e,"triangleDown",3,t,n,i,r,o)}},{key:"distanceToBorder",value:function(e,t){return this._distanceToBorder(e,t)}}]),n}(uU);function FU(e,t){var n=tE(e);if(FZ){var i=FZ(e);t&&(i=PS(i).call(i,(function(t){return qZ(e,t).enumerable}))),n.push.apply(n,i)}return n}function LU(e){for(var t=1;t<arguments.length;t++){var n,i,r=null!=arguments[t]?arguments[t]:{};t%2?IE(n=FU(Object(r),!0)).call(n,(function(t){vN(e,t,r[t])})):$Z?aV(e,$Z(r)):IE(i=FU(Object(r))).call(i,(function(t){bZ(e,t,qZ(r,t))}))}return e}var BU=function(){function e(t,n,i,r,o,a){Ty(this,e),this.options=xD(o),this.globalOptions=o,this.defaultOptions=a,this.body=n,this.edges=[],this.id=void 0,this.imagelist=i,this.grouplist=r,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new JV(this.body,this.options,!1),this.setOptions(t)}return Fw(e,[{key:"attachEdge",value:function(e){var t;-1===cT(t=this.edges).call(t,e)&&this.edges.push(e)}},{key:"detachEdge",value:function(e){var t,n,i=cT(t=this.edges).call(t,e);-1!=i&&QE(n=this.edges).call(n,i,1)}},{key:"setOptions",value:function(t){var n=this.options.shape;if(t){if("undefined"!==typeof t.color&&(this._localColor=t.color),void 0!==t.id&&(this.id=t.id),void 0===this.id)throw new Error("Node must have an id");e.checkMass(t,this.id),void 0!==t.x&&(null===t.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=$S(t.x),this.predefinedPosition=!0)),void 0!==t.y&&(null===t.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=$S(t.y),this.predefinedPosition=!0)),void 0!==t.size&&(this.baseSize=t.size),void 0!==t.value&&(t.value=zV(t.value)),e.parseOptions(this.options,t,!0,this.globalOptions,this.grouplist);var i=[t,this.options,this.defaultOptions];return this.chooser=UV("node",i),this._load_images(),this.updateLabelModule(t),void 0!==t.opacity&&e.checkOpacity(t.opacity)&&(this.options.opacity=t.opacity),this.updateShape(n),void 0!==t.hidden||void 0!==t.physics}}},{key:"_load_images",value:function(){if(("circularImage"===this.options.shape||"image"===this.options.shape)&&void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0!==this.options.image){if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"===typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),void 0!==this.options.image.selected?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?!0===this.chooser?this.selected?(null!=this.options.borderWidthSelected?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):"function"===typeof this.chooser&&(this.chooser(e,this.options.id,this.selected,this.hover),!1===e.shadow&&(e.shadowColor===this.options.shadow.color&&e.shadowSize===this.options.shadow.size&&e.shadowX===this.options.shadow.x&&e.shadowY===this.options.shadow.y||(e.shadow=!0))):e.shadow=this.options.shadow.enabled,void 0!==this.options.opacity){var t=this.options.opacity;e.borderColor=AD(e.borderColor,t),e.color=AD(e.color,t),e.shadowColor=AD(e.shadowColor,t)}return e}},{key:"updateLabelModule",value:function(t){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),e.updateGroupOptions(this.options,LU(LU({},t),{},{color:t&&t.color||this._localColor||void 0}),this.grouplist);var n=this.grouplist.get(this.options.group,!1),i=[t,this.options,n,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,i),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new tU(this.options,this.body,this.labelModule);break;case"circle":this.shape=new oU(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new sU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new hU(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new AU(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new CU(this.options,this.body,this.labelModule);break;case"dot":this.shape=new vU(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new yU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new xU(this.options,this.body,this.labelModule);break;case"image":this.shape=new wU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new EU(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new TU(this.options,this.body,this.labelModule);break;case"star":this.shape=new PU(this.options,this.body,this.labelModule);break;case"text":this.shape=new jU(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new NU(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new RU(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(e,t){return this.shape.distanceToBorder(e,t)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*r}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(e){var t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}},{key:"updateBoundingBox",value:function(e){this.shape.updateBoundingBox(this.x,this.y,e)}},{key:"resize",value:function(e){var t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}},{key:"getItemsOnPoint",value:function(e){var t=[];return this.labelModule.visible()&&WV(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),WV(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}},{key:"isBoundingBoxOverlappingWith",value:function(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}}],[{key:"checkOpacity",value:function(e){return 0<=e&&e<=1}},{key:"checkCoordinateOrigin",value:function(e){return void 0===e||"center"===e||"top-left"===e}},{key:"updateGroupOptions",value:function(t,n,i){var r;if(void 0!==i){var o=t.group;if(void 0!==n&&void 0!==n.group&&o!==n.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"===typeof o||"string"===typeof o&&""!=o){var a=i.get(o);void 0!==a.opacity&&void 0===n.opacity&&(e.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));var s=PS(r=VV(n)).call(r,(function(e){return null!=n[e]}));s.push("font"),uD(s,t,a),t.color=CD(t.color)}}}},{key:"parseOptions",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(uD(["color","fixed","shadow"],t,n,i),e.checkMass(n),void 0!==t.opacity&&(e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),void 0!==n.opacity&&(e.checkOpacity(n.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+n.opacity),n.opacity=void 0)),n.shapeProperties&&!e.checkCoordinateOrigin(n.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+n.shapeProperties.coordinateOrigin),_D(t,n,"shadow",r),void 0!==n.color&&null!==n.color){var a=CD(n.color);sD(t.color,a)}else!0===i&&null===n.color&&(t.color=xD(r.color));void 0!==n.fixed&&null!==n.fixed&&("boolean"===typeof n.fixed?(t.fixed.x=n.fixed,t.fixed.y=n.fixed):(void 0!==n.fixed.x&&"boolean"===typeof n.fixed.x&&(t.fixed.x=n.fixed.x),void 0!==n.fixed.y&&"boolean"===typeof n.fixed.y&&(t.fixed.y=n.fixed.y))),!0===i&&null===n.font&&(t.font=xD(r.font)),e.updateGroupOptions(t,n,o),void 0!==n.scaling&&_D(t.scaling,n.scaling,"label",r.scaling)}},{key:"checkMass",value:function(e,t){if(void 0!==e.mass&&e.mass<=0){var n="";void 0!==t&&(n=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",BD),e.mass=1}}}]),e}();function ZU(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return VU(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return VU(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function VU(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var UU=function(){function e(t,n,i,r){var o,a=this;if(Ty(this,e),this.body=t,this.images=n,this.groups=i,this.layoutEngine=r,this.body.functions.createNode=nC(o=this.create).call(o,this),this.nodesListeners={add:function(e,t){a.add(t.items)},update:function(e,t){a.update(t.items,t.data,t.oldData)},remove:function(e,t){a.remove(t.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){if(t===e)return.5;var r=1/(t-e);return Math.max(0,(i-e)*r)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=xD(this.defaultOptions),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("refreshNodes",nC(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",nC(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){hD(n.nodesListeners,(function(e,t){n.body.data.nodes&&n.body.data.nodes.off(t,e)})),delete n.body.functions.createNode,delete n.nodesListeners.add,delete n.nodesListeners.update,delete n.nodesListeners.remove,delete n.nodesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){if(BU.parseOptions(this.options,e),void 0!==e.opacity&&(XM(e.opacity)||!$M(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),void 0!==e.shape)for(var t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if("undefined"!==typeof e.font||"undefined"!==typeof e.widthConstraint||"undefined"!==typeof e.heightConstraint)for(var n=0,i=tE(this.body.nodes);n<i.length;n++){var r=i[n];this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh()}if(void 0!==e.size)for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.body.nodes[o].needsRefresh();void 0===e.hidden&&void 0===e.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.data.nodes;if(wV("id",e))this.body.data.nodes=e;else if(Gk(e))this.body.data.nodes=new xV,this.body.data.nodes.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new xV}if(n&&hD(this.nodesListeners,(function(e,t){n.off(t,e)})),this.body.nodes={},this.body.data.nodes){var i=this;hD(this.nodesListeners,(function(e,t){i.body.data.nodes.on(t,e)}));var r=this.body.data.nodes.getIds();this.add(r,!0)}!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=[],r=0;r<e.length;r++){t=e[r];var o=this.body.data.nodes.get(t),a=this.create(o);i.push(a),this.body.nodes[t]=a}this.layoutEngine.positionInitially(i),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e,t,n){for(var i=this.body.nodes,r=!1,o=0;o<e.length;o++){var a=e[o],s=i[a],l=t[o];void 0!==s?s.setOptions(l)&&(r=!0):(r=!0,s=this.create(l),i[a]=s)}r||void 0===n||(r=aN(t).call(t,(function(e,t){var i=n[t];return i&&i.level!==e.level}))),!0===r?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){for(var t=this.body.nodes,n=0;n<e.length;n++){delete t[e[n]]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(e){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:BU)(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];hD(this.body.nodes,(function(n,i){var r=e.body.data.nodes.get(i);void 0!==r&&(!0===t&&n.setOptions({x:null,y:null}),n.setOptions({fixed:!1}),n.setOptions(r))}))}},{key:"getPositions",value:function(e){var t={};if(void 0!==e){if(!0===Gk(e)){for(var n=0;n<e.length;n++)if(void 0!==this.body.nodes[e[n]]){var i=this.body.nodes[e[n]];t[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(void 0!==this.body.nodes[e]){var r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(var o=0;o<this.body.nodeIndices.length;o++){var a=this.body.nodes[this.body.nodeIndices[o]];t[this.body.nodeIndices[o]]={x:Math.round(a.x),y:Math.round(a.y)}}return t}},{key:"getPosition",value:function(e){if(void 0==e)throw new TypeError("No id was specified for getPosition method.");if(void 0==this.body.nodes[e])throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}},{key:"storePositions",value:function(){var e,t=[],n=this.body.data.nodes.getDataSet(),i=ZU(n.get());try{for(i.s();!(e=i.n()).done;){var r=e.value,o=r.id,a=this.body.nodes[o],s=Math.round(a.x),l=Math.round(a.y);r.x===s&&r.y===l||t.push({id:o,x:s,y:l})}}catch(u){i.e(u)}finally{i.f()}n.update(t)}},{key:"getBoundingBox",value:function(e){if(void 0!==this.body.nodes[e])return this.body.nodes[e].shape.boundingBox}},{key:"getConnectedNodes",value:function(e,t){var n=[];if(void 0!==this.body.nodes[e])for(var i=this.body.nodes[e],r={},o=0;o<i.edges.length;o++){var a=i.edges[o];"to"!==t&&a.toId==i.id?void 0===r[a.fromId]&&(n.push(a.fromId),r[a.fromId]=!0):"from"!==t&&a.fromId==i.id&&void 0===r[a.toId]&&(n.push(a.toId),r[a.toId]=!0)}return n}},{key:"getConnectedEdges",value:function(e){var t=[];if(void 0!==this.body.nodes[e])for(var n=this.body.nodes[e],i=0;i<n.edges.length;i++)t.push(n.edges[i].id);else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}},{key:"moveNode",value:function(e,t,n){var i=this;void 0!==this.body.nodes[e]?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(n),zT((function(){i.body.emitter.emit("startSimulation")}),0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}]),e}(),WU=hp,GU=Yd,HU=Ah,YU=CA,qU=function(e){return void 0!==e&&(WU(e,"value")||WU(e,"writable"))},KU=Ud,XU=VI;UA({target:"Reflect",stat:!0},{get:function e(t,n){var i,r,o=arguments.length<3?t:arguments[2];return YU(t)===o?t[n]:(i=KU.f(t,n))?qU(i)?i.value:void 0===i.get?void 0:GU(i.get,o):HU(r=XU(t))?e(r,n,o):void 0}});var QU=Cd(fh.Reflect.get),JU=Cd(YZ);function $U(){var e;"undefined"!==typeof Reflect&&QU?$U=dN(e=QU).call(e):$U=function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=IN(e)););return e}(e,t);if(i){var r=JU(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}};return $U.apply(this,arguments)}var eW=UA,tW=Math.hypot,nW=Math.abs,iW=Math.sqrt;eW({target:"Math",stat:!0,arity:2,forced:!!tW&&tW(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,i,r=0,o=0,a=arguments.length,s=0;o<a;)s<(n=nW(arguments[o++]))?(r=r*(i=s/n)*i+1,s=n):r+=n>0?(i=n/s)*i:n;return s===1/0?1/0:s*iW(r)}});var rW=Cd(fh.Math.hypot);function oW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var aW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"transform",value:function(e,t){Gk(e)||(e=[e]);for(var n=t.point.x,i=t.point.y,r=t.angle,o=t.length,a=0;a<e.length;++a){var s=e[a],l=s.x*Math.cos(r)-s.y*Math.sin(r),u=s.x*Math.sin(r)+s.y*Math.cos(r);s.x=n+o*l,s.y=i+o*u}}},{key:"drawPath",value:function(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;++n)e.lineTo(t[n].x,t[n].y);e.closePath()}}]),e}(),sW=function(e){pN(n,e);var t=oW(n);function n(){return Ty(this,n),t.apply(this,arguments)}return Fw(n,null,[{key:"draw",value:function(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);var n=null!=t.imageWidth?t.imageWidth:t.image.width,i=null!=t.imageHeight?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}}]),n}(aW),lW=function(e){pN(n,e);var t=oW(n);function n(){return Ty(this,n),t.apply(this,arguments)}return Fw(n,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),n}(aW),uW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),cW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};aW.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle-i/2,o=t.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),gW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n={x:-.3,y:0};aW.transform(n,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";var i=Math.PI,r=t.angle+i/2,o=t.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,.4*t.length,r,o,!1),e.stroke(),!0}}]),e}(),dW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),hW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),pW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n={x:-.4,y:0};return aW.transform(n,t),iC(e,n.x,n.y,.4*t.length),!0}}]),e}(),AW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),fW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),CW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),IW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return aW.transform(n,t),aW.drawPath(e,n),!0}}]),e}(),vW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"draw",value:function(e,t){var n;switch(t.type&&(n=t.type.toLowerCase()),n){case"image":return sW.draw(e,t);case"circle":return pW.draw(e,t);case"box":return fW.draw(e,t);case"crow":return uW.draw(e,t);case"curve":return cW.draw(e,t);case"diamond":return CW.draw(e,t);case"inv_curve":return gW.draw(e,t);case"triangle":return dW.draw(e,t);case"inv_triangle":return hW.draw(e,t);case"bar":return AW.draw(e,t);case"vee":return IW.draw(e,t);default:return lW.draw(e,t)}}}]),e}();function mW(e,t){var n=tE(e);if(FZ){var i=FZ(e);t&&(i=PS(i).call(i,(function(t){return qZ(e,t).enumerable}))),n.push.apply(n,i)}return n}function yW(e){for(var t=1;t<arguments.length;t++){var n,i,r=null!=arguments[t]?arguments[t]:{};t%2?IE(n=mW(Object(r),!0)).call(n,(function(t){vN(e,t,r[t])})):$Z?aV(e,$Z(r)):IE(i=mW(Object(r))).call(i,(function(t){bZ(e,t,qZ(r,t))}))}return e}var bW=function(){function e(t,n,i){Ty(this,e),this._body=n,this._labelModule=i,this.color={},this.colorDirty=!0,this.hoverWidth=1.5,this.selectionWidth=2,this.setOptions(t),this.fromPoint=this.from,this.toPoint=this.to}return Fw(e,[{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,!1!==t.dashes?this._drawDashedLine(e,t,r):this._drawLine(e,t,r)}},{key:"_drawLine",value:function(e,t,n,i,r){if(this.from!=this.to)this._line(e,t,n,i,r);else{var o=Sk(this._getCircleData(e),3),a=o[0],s=o[1],l=o[2];this._circle(e,t,a,s,l)}}},{key:"_drawDashedLine",value:function(e,t,n,i,r){e.lineCap="round";var o=Gk(t.dashes)?t.dashes:[5,5];if(void 0!==e.setLineDash){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,n);else{var a=Sk(this._getCircleData(e),3),s=a[0],l=a[1],u=a[2];this._circle(e,t,s,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)sC(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{var c=Sk(this._getCircleData(e),3),g=c[0],d=c[1],h=c[2];this._circle(e,t,g,d,h)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}},{key:"findBorderPosition",value:function(e,t,n){return this.from!=this.to?this._findBorderPosition(e,t,n):this._findBorderPositionCircle(e,t,n)}},{key:"findBorderPositions",value:function(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};var t,n=Sk(Rk(t=this._getCircleData(e)).call(t,0,2),2),i=n[0],r=n[1];return{from:this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:i,y:r,low:.6,high:.8,direction:1})}}},{key:"_getCircleData",value:function(e){var t=this.options.selfReference.size;void 0!==e&&void 0===this.from.shape.width&&this.from.shape.resize(e);var n=HV(e,this.options.selfReference.angle,t,this.from);return[n.x,n.y,t]}},{key:"_pointOnCircle",value:function(e,t,n,i){var r=2*i*Math.PI;return{x:e+n*Math.cos(r),y:t-n*Math.sin(r)}}},{key:"_findBorderPositionCircle",value:function(e,t,n){var i,r=n.x,o=n.y,a=n.low,s=n.high,l=n.direction,u=this.options.selfReference.size,c=.5*(a+s),g=0;!0===this.options.arrowStrikethrough&&(-1===l?g=this.options.endPointOffset.from:1===l&&(g=this.options.endPointOffset.to));var d=0;do{c=.5*(a+s),i=this._pointOnCircle(r,o,u,c);var h=Math.atan2(e.y-i.y,e.x-i.x),p=e.distanceToBorder(t,h)+g-Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2));if(Math.abs(p)<.05)break;p>0?l>0?a=c:s=c:l>0?s=c:a=c,++d}while(a<=s&&d<10);return yW(yW({},i),{},{t:c})}},{key:"getLineWidth",value:function(e,t){return!0===e?Math.max(this.selectionWidth,.3/this._body.view.scale):!0===t?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}},{key:"getColor",value:function(e,t){if(!1!==t.inheritsColor){if("both"===t.inheritsColor&&this.from.id!==this.to.id){var n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),i=this.from.options.color.highlight.border,r=this.to.options.color.highlight.border;return!1===this.from.selected&&!1===this.to.selected?(i=AD(this.from.options.color.border,t.opacity),r=AD(this.to.options.color.border,t.opacity)):!0===this.from.selected&&!1===this.to.selected?r=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,r),n}return"to"===t.inheritsColor?AD(this.to.options.color.border,t.opacity):AD(this.from.options.color.border,t.opacity)}return AD(t.color,t.opacity)}},{key:"_circle",value:function(e,t,n,i,r){this.enableShadow(e,t);var o=0,a=2*Math.PI;if(!this.options.selfReference.renderBehindTheNode){var s=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,u=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:s,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:s,high:l,direction:1});o=Math.atan2(u.y-i,u.x-n),a=Math.atan2(c.y-i,c.x-n)}e.beginPath(),e.arc(n,i,r,o,a,!1),e.stroke(),this.disableShadow(e,t)}},{key:"getDistanceToEdge",value:function(e,t,n,i,r,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,n,i,r,o);var a=Sk(this._getCircleData(void 0),3),s=a[0],l=a[1],u=a[2],c=s-r,g=l-o;return Math.abs(Math.sqrt(c*c+g*g)-u)}},{key:"_getDistanceToLine",value:function(e,t,n,i,r,o){var a=n-e,s=i-t,l=((r-e)*a+(o-t)*s)/(a*a+s*s);l>1?l=1:l<0&&(l=0);var u=e+l*a-r,c=t+l*s-o;return Math.sqrt(u*u+c*c)}},{key:"getArrowData",value:function(e,t,n,i,r,o){var a,s,l,u,c,g,d,h=o.width;"from"===t?(l=this.from,u=this.to,c=o.fromArrowScale<0,g=Math.abs(o.fromArrowScale),d=o.fromArrowType):"to"===t?(l=this.to,u=this.from,c=o.toArrowScale<0,g=Math.abs(o.toArrowScale),d=o.toArrowType):(l=this.to,u=this.from,c=o.middleArrowScale<0,g=Math.abs(o.middleArrowScale),d=o.middleArrowType);var p=15*g+3*h;if(l!=u){var A=p/rW(l.x-u.x,l.y-u.y);if("middle"!==t)if(!0===this.options.smooth.enabled){var f=this._findBorderPosition(l,e,{via:n}),C=this.getPoint(f.t+A*("from"===t?1:-1),n);a=Math.atan2(f.y-C.y,f.x-C.x),s=f}else a=Math.atan2(l.y-u.y,l.x-u.x),s=this._findBorderPosition(l,e);else{var I=(c?-A:A)/2,v=this.getPoint(.5+I,n),m=this.getPoint(.5-I,n);a=Math.atan2(v.y-m.y,v.x-m.x),s=this.getPoint(.5,n)}}else{var y=Sk(this._getCircleData(e),3),b=y[0],x=y[1],_=y[2];if("from"===t){var w=this.options.selfReference.angle,k=this.options.selfReference.angle+Math.PI,E=this._findBorderPositionCircle(this.from,e,{x:b,y:x,low:w,high:k,direction:-1});a=-2*E.t*Math.PI+1.5*Math.PI+.1*Math.PI,s=E}else if("to"===t){var S=this.options.selfReference.angle,T=this.options.selfReference.angle+Math.PI,O=this._findBorderPositionCircle(this.from,e,{x:b,y:x,low:S,high:T,direction:1});a=-2*O.t*Math.PI+1.5*Math.PI-1.1*Math.PI,s=O}else{var P=this.options.selfReference.angle/(2*Math.PI);s=this._pointOnCircle(b,x,_,P),a=-2*P*Math.PI+1.5*Math.PI+.1*Math.PI}}return{point:s,core:{x:s.x-.9*p*Math.cos(a),y:s.y-.9*p*Math.sin(a)},angle:a,length:p,type:d}}},{key:"drawArrowHead",value:function(e,t,n,i,r){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,vW.draw(e,r)&&(this.enableShadow(e,t),YT(e).call(e),this.disableShadow(e,t))}},{key:"enableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}},{key:"disableShadow",value:function(e,t){!0===t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}},{key:"drawBackground",value:function(e,t){if(!1!==t.background){var n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,t.dashes)}}},{key:"setStrokeDashed",value:function(e,t){if(!1!==t)if(void 0!==e.setLineDash){var n=Gk(t)?t:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else void 0!==e.setLineDash?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),e}();function xW(e,t){var n=tE(e);if(FZ){var i=FZ(e);t&&(i=PS(i).call(i,(function(t){return qZ(e,t).enumerable}))),n.push.apply(n,i)}return n}function _W(e){for(var t=1;t<arguments.length;t++){var n,i,r=null!=arguments[t]?arguments[t]:{};t%2?IE(n=xW(Object(r),!0)).call(n,(function(t){vN(e,t,r[t])})):$Z?aV(e,$Z(r)):IE(i=xW(Object(r))).call(i,(function(t){bZ(e,t,qZ(r,t))}))}return e}function wW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var kW=function(e){pN(n,e);var t=wW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_findBorderPositionBezier",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),o=!1,a=1,s=0,l=this.to,u=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,u=this.options.endPointOffset?this.options.endPointOffset.from:0),!1===this.options.arrowStrikethrough&&(u=0);var c=0;do{i=.5*(s+a),n=this.getPoint(i,r);var g=Math.atan2(l.y-n.y,l.x-n.x),d=l.distanceToBorder(t,g)+u-Math.sqrt(Math.pow(n.x-l.x,2)+Math.pow(n.y-l.y,2));if(Math.abs(d)<.2)break;d<0?!1===o?s=i:a=i:!1===o?a=i:s=i,++c}while(s<=a&&c<10);return _W(_W({},n),{},{t:i})}},{key:"_getDistanceToBezierEdge",value:function(e,t,n,i,r,o,a){var s,l,u,c,g,d=1e9,h=e,p=t;for(l=1;l<10;l++)u=.1*l,c=Math.pow(1-u,2)*e+2*u*(1-u)*a.x+Math.pow(u,2)*n,g=Math.pow(1-u,2)*t+2*u*(1-u)*a.y+Math.pow(u,2)*i,l>0&&(d=(s=this._getDistanceToLine(h,p,c,g,r,o))<d?s:d),h=c,p=g;return d}},{key:"_bezierCurve",value:function(e,t,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),null!=n&&null!=n.x?null!=i&&null!=i.x?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),n}(bW);function EW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var SW=function(e){pN(n,e);var t=EW(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r)).via=o.via,o._boundFunction=function(){o.positionBezierNode()},o._body.emitter.on("_repositionBezierNodes",o._boundFunction),o}return Fw(n,[{key:"setOptions",value:function(e){$U(IN(n.prototype),"setOptions",this).call(this,e);var t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===t&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this._body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"_getViaCoordinates",value:function(){return this.via}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via;if(this.from===this.to){var n=Sk(this._getCircleData(),3),i=n[0],r=n[1],o=n[2],a=2*Math.PI*(1-e);return{x:i+o*Math.sin(a),y:r+o-o*(1-Math.cos(a))}}return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t,this.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToBezierEdge(e,t,n,i,r,o,this.via)}}]),n}(kW);function TW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var OW=function(e){pN(n,e);var t=TW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_line",value:function(e,t,n){this._bezierCurve(e,t,n)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var e,t,n=this.options.smooth.roundness,i=this.options.smooth.type,r=Math.abs(this.from.x-this.to.x),o=Math.abs(this.from.y-this.to.y);if("discrete"===i||"diagonalCross"===i){var a,s;a=s=r<=o?n*o:n*r,this.from.x>this.to.x&&(a=-a),this.from.y>=this.to.y&&(s=-s);var l=this.from.x+a,u=this.from.y+s;return"discrete"===i&&(r<=o?l=r<n*o?this.from.x:l:u=o<n*r?this.from.y:u),{x:l,y:u}}if("straightCross"===i){var c=(1-n)*r,g=(1-n)*o;return r<=o?(c=0,this.from.y<this.to.y&&(g=-g)):(this.from.x<this.to.x&&(c=-c),g=0),{x:this.to.x+c,y:this.to.y+g}}if("horizontal"===i){var d=(1-n)*r;return this.from.x<this.to.x&&(d=-d),{x:this.to.x+d,y:this.from.y}}if("vertical"===i){var h=(1-n)*o;return this.from.y<this.to.y&&(h=-h),{x:this.from.x,y:this.to.y+h}}if("curvedCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var p=Math.sqrt(r*r+o*o),A=Math.PI,f=(Math.atan2(o,r)+(.5*n+.5)*A)%(2*A);return{x:this.from.x+(.5*n+.5)*p*Math.sin(f),y:this.from.y+(.5*n+.5)*p*Math.cos(f)}}if("curvedCCW"===i){r=this.to.x-this.from.x,o=this.from.y-this.to.y;var C=Math.sqrt(r*r+o*o),I=Math.PI,v=(Math.atan2(o,r)+(.5*-n+.5)*I)%(2*I);return{x:this.from.x+(.5*n+.5)*C*Math.sin(v),y:this.from.y+(.5*n+.5)*C*Math.cos(v)}}e=t=r<=o?n*o:n*r,this.from.x>this.to.x&&(e=-e),this.from.y>=this.to.y&&(t=-t);var m=this.from.x+e,y=this.from.y+t;return r<=o?m=this.from.x<=this.to.x?this.to.x<m?this.to.x:m:this.to.x>m?this.to.x:m:y=this.from.y>=this.to.y?this.to.y>y?this.to.y:y:this.to.y<y?this.to.y:y,{x:m,y:y}}},{key:"_findBorderPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._findBorderPositionBezier(e,t,n.via)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,n,i,r,o,a)}},{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),n=e;return{x:Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*t.x+Math.pow(n,2)*this.toPoint.x,y:Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*t.y+Math.pow(n,2)*this.toPoint.y}}}]),n}(kW);function PW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var DW=function(e){pN(n,e);var t=PW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_getDistanceToBezierEdge2",value:function(e,t,n,i,r,o,a,s){for(var l=1e9,u=e,c=t,g=[0,0,0,0],d=1;d<10;d++){var h=.1*d;g[0]=Math.pow(1-h,3),g[1]=3*h*Math.pow(1-h,2),g[2]=3*Math.pow(h,2)*(1-h),g[3]=Math.pow(h,3);var p=g[0]*e+g[1]*a.x+g[2]*s.x+g[3]*n,A=g[0]*t+g[1]*a.y+g[2]*s.y+g[3]*i;if(d>0){var f=this._getDistanceToLine(u,c,p,A,r,o);l=f<l?f:l}u=p,c=A}return l}}]),n}(kW);function jW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var MW=function(e){pN(n,e);var t=jW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_line",value:function(e,t,n){var i=n[0],r=n[1];this._bezierCurve(e,t,i,r)}},{key:"_getViaCoordinates",value:function(){var e,t,n,i,r=this.from.x-this.to.x,o=this.from.y-this.to.y,a=this.options.smooth.roundness;return(Math.abs(r)>Math.abs(o)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(t=this.from.y,i=this.to.y,e=this.from.x-a*r,n=this.to.x+a*r):(t=this.from.y-a*o,i=this.to.y+a*o,e=this.from.x,n=this.to.x),[{x:e,y:t},{x:n,y:i}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(e,t){return this._findBorderPositionBezier(e,t)}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){var a=Sk(arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),2),s=a[0],l=a[1];return this._getDistanceToBezierEdge2(e,t,n,i,r,o,s,l)}},{key:"getPoint",value:function(e){var t=Sk(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),2),n=t[0],i=t[1],r=e,o=[Math.pow(1-r,3),3*r*Math.pow(1-r,2),3*Math.pow(r,2)*(1-r),Math.pow(r,3)];return{x:o[0]*this.fromPoint.x+o[1]*n.x+o[2]*i.x+o[3]*this.toPoint.x,y:o[0]*this.fromPoint.y+o[1]*n.y+o[2]*i.y+o[3]*this.toPoint.y}}}]),n}(DW);function NW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var zW=function(e){pN(n,e);var t=NW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_line",value:function(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}},{key:"_findBorderPosition",value:function(e,t){var n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);var r=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,s=Math.sqrt(o*o+a*a),l=(s-e.distanceToBorder(t,r))/s;return{x:(1-l)*i.x+l*n.x,y:(1-l)*i.y+l*n.y,t:0}}},{key:"_getDistanceToEdge",value:function(e,t,n,i,r,o){return this._getDistanceToLine(e,t,n,i,r,o)}}]),n}(bW),RW=function(){function e(t,n,i,r,o){if(Ty(this,e),void 0===n)throw new Error("No body provided");this.options=xD(r),this.globalOptions=r,this.defaultOptions=o,this.body=n,this.imagelist=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new JV(this.body,this.options,!0),this.setOptions(t)}return Fw(e,[{key:"setOptions",value:function(t){if(t){var n="undefined"!==typeof t.physics&&this.options.physics!==t.physics||"undefined"!==typeof t.hidden&&(this.options.hidden||!1)!==(t.hidden||!1)||"undefined"!==typeof t.from&&this.options.from!==t.from||"undefined"!==typeof t.to&&this.options.to!==t.to;e.parseOptions(this.options,t,!0,this.globalOptions),void 0!==t.id&&(this.id=t.id),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(t.value=zV(t.value));var i=[t,this.options,this.defaultOptions];return this.chooser=UV("edge",i),this.updateLabelModule(t),n=this.updateEdgeType()||n,this._setInteractionWidths(),this.connect(),n}}},{key:"getFormattingValues",value:function(){var e=!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,t=!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,n=!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,i=this.options.color.inherit,r={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var o=this.options.selectionWidth;"function"===typeof o?r.width=o(r.width):"number"===typeof o&&(r.width+=o),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.highlight,r.shadow=this.options.shadow.enabled}else if(this.hover){var a=this.options.hoverWidth;"function"===typeof a?r.width=a(r.width):"number"===typeof a&&(r.width+=a),r.width=Math.max(r.width,.3/this.body.view.scale),r.color=this.options.color.hover,r.shadow=this.options.shadow.enabled}}else"function"===typeof this.chooser&&(this.chooser(r,this.options.id,this.selected,this.hover),void 0!==r.color&&(r.inheritsColor=!1),!1===r.shadow&&(r.shadowColor===this.options.shadow.color&&r.shadowSize===this.options.shadow.size&&r.shadowX===this.options.shadow.x&&r.shadowY===this.options.shadow.y||(r.shadow=!0)));else r.shadow=this.options.shadow.enabled,r.width=Math.max(r.width,.3/this.body.view.scale);return r}},{key:"updateLabelModule",value:function(e){var t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var e=this.options.smooth,t=!1,n=!0;return void 0!==this.edgeType&&((this.edgeType instanceof SW&&!0===e.enabled&&"dynamic"===e.type||this.edgeType instanceof MW&&!0===e.enabled&&"cubicBezier"===e.type||this.edgeType instanceof OW&&!0===e.enabled&&"dynamic"!==e.type&&"cubicBezier"!==e.type||this.edgeType instanceof zW&&!1===e.type.enabled)&&(n=!1),!0===n&&(t=this.cleanup())),!0===n?!0===e.enabled?"dynamic"===e.type?(t=!0,this.edgeType=new SW(this.options,this.body,this.labelModule)):"cubicBezier"===e.type?this.edgeType=new MW(this.options,this.body,this.labelModule):this.edgeType=new OW(this.options,this.body,this.labelModule):this.edgeType=new zW(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(e,t,n){if(void 0!==this.options.value){var i=this.options.scaling.customScalingFunction(e,t,n,this.options.value),r=this.options.scaling.max-this.options.scaling.min;if(!0===this.options.scaling.label.enabled){var o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*r}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"===typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"===typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,n),this.drawLabel(e,n)}}},{key:"drawArrows",value:function(e){var t=this.getFormattingValues();if(!t.hidden){var n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.fromPoint=i.from.core),t.fromArrowSrc&&(i.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(i.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(i.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,t),!1===t.arrowStrikethrough&&(this.edgeType.toPoint=i.to.core),t.toArrowSrc&&(i.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(i.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(i.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,t),t.middleArrowSrc&&(i.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(i.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(i.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,i.to)}}},{key:"drawLabel",value:function(e,t){if(void 0!==this.options.label){var n,i=this.from,r=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover),i.id!=r.id){this.labelModule.pointToSelf=!1,n=this.edgeType.getPoint(.5,t),e.save();var o=this._getRotation(e);0!=o.angle&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;var a=HV(e,this.options.selfReference.angle,this.options.selfReference.size,i);n=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,n.x,n.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(e){var t=[];if(this.labelModule.visible()){var n=this._getRotation();WV(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}var i={left:e.x,top:e.y};return this.isOverlappingWith(i)&&t.push({edgeId:this.id}),t}},{key:"isOverlappingWith",value:function(e){if(this.connected){var t=this.from.x,n=this.from.y,i=this.to.x,r=this.to.y,o=e.left,a=e.top;return this.edgeType.getDistanceToEdge(t,n,i,r,o,a)<10}return!1}},{key:"_getRotation",value:function(e){var t=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,t);void 0!==e&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);var i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible())return i;if("horizontal"===this.options.font.align)return i;var r=this.from.y-this.to.y,o=this.from.x-this.to.x,a=Math.atan2(r,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}},{key:"_pointOnCircle",value:function(e,t,n,i){return{x:e+n*Math.cos(i),y:t-n*Math.sin(i)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(lD(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,n),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.from&&($M(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=void 0!==i.endPointOffset.from?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),void 0!==t.endPointOffset&&void 0!==t.endPointOffset.to&&($M(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=void 0!==i.endPointOffset.to?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),GV(t.label)?e.label=t.label:GV(e.label)||(e.label=void 0),_D(e,t,"smooth",i),_D(e,t,"shadow",i),_D(e,t,"background",i),void 0!==t.dashes&&null!==t.dashes?e.dashes=t.dashes:!0===n&&null===t.dashes&&(e.dashes=hT(i.dashes)),void 0!==t.scaling&&null!==t.scaling?(void 0!==t.scaling.min&&(e.scaling.min=t.scaling.min),void 0!==t.scaling.max&&(e.scaling.max=t.scaling.max),_D(e.scaling,t.scaling,"label",i.scaling)):!0===n&&null===t.scaling&&(e.scaling=hT(i.scaling)),void 0!==t.arrows&&null!==t.arrows)if("string"===typeof t.arrows){var o=t.arrows.toLowerCase();e.arrows.to.enabled=-1!=cT(o).call(o,"to"),e.arrows.middle.enabled=-1!=cT(o).call(o,"middle"),e.arrows.from.enabled=-1!=cT(o).call(o,"from")}else{if("object"!==Mw(t.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+fT(t.arrows));_D(e.arrows,t.arrows,"to",i.arrows),_D(e.arrows,t.arrows,"middle",i.arrows),_D(e.arrows,t.arrows,"from",i.arrows)}else!0===n&&null===t.arrows&&(e.arrows=hT(i.arrows));if(void 0!==t.color&&null!==t.color){var a=rD(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,s=e.color;if(r)cD(s,i.color,!1,n);else for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&delete s[l];if(rD(s))s.color=s,s.highlight=s,s.hover=s,s.inherit=!1,void 0===a.opacity&&(s.opacity=1);else{var u=!1;void 0!==a.color&&(s.color=a.color,u=!0),void 0!==a.highlight&&(s.highlight=a.highlight,u=!0),void 0!==a.hover&&(s.hover=a.hover,u=!0),void 0!==a.inherit&&(s.inherit=a.inherit),void 0!==a.opacity&&(s.opacity=Math.min(1,Math.max(0,a.opacity))),!0===u?s.inherit=!1:void 0===s.inherit&&(s.inherit="from")}}else!0===n&&null===t.color&&(e.color=xD(i.color));!0===n&&null===t.font&&(e.font=xD(i.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}}]),e}(),FW=function(){function e(t,n,i){var r,o=this;Ty(this,e),this.body=t,this.images=n,this.groups=i,this.body.functions.createEdge=nC(r=this.create).call(r,this),this.edgesListeners={add:function(e,t){o.add(t.items)},update:function(e,t){o.update(t.items)},remove:function(e,t){o.remove(t.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(e,t,n,i){if(t===e)return.5;var r=1/(t-e);return Math.max(0,(i-e)*r)}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},cD(this.options,this.defaultOptions),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e,t,n=this;this.body.emitter.on("_forceDisableDynamicCurves",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===e&&(e="continuous");var i=!1;for(var r in n.body.edges)if(Object.prototype.hasOwnProperty.call(n.body.edges,r)){var o=n.body.edges[r],a=n.body.data.edges.get(r);if(null!=a){var s=a.smooth;void 0!==s&&!0===s.enabled&&"dynamic"===s.type&&(void 0===e?o.setOptions({smooth:!1}):o.setOptions({smooth:{type:e}}),i=!0)}}!0===t&&!0===i&&n.body.emitter.emit("_dataChanged")})),this.body.emitter.on("_dataUpdated",(function(){n.reconnectEdges()})),this.body.emitter.on("refreshEdges",nC(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",nC(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",(function(){hD(n.edgesListeners,(function(e,t){n.body.data.edges&&n.body.data.edges.off(t,e)})),delete n.body.functions.createEdge,delete n.edgesListeners.add,delete n.edgesListeners.update,delete n.edgesListeners.remove,delete n.edgesListeners}))}},{key:"setOptions",value:function(e){if(void 0!==e){RW.parseOptions(this.options,e,!0,this.defaultOptions,!0);var t=!1;if(void 0!==e.smooth)for(var n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(t=this.body.edges[n].updateEdgeType()||t);if(void 0!==e.font)for(var i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&this.body.edges[i].updateLabelModule();void 0===e.hidden&&void 0===e.physics&&!0!==t||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.body.data.edges;if(wV("id",e))this.body.data.edges=e;else if(Gk(e))this.body.data.edges=new xV,this.body.data.edges.add(e);else{if(e)throw new TypeError("Array or DataSet expected");this.body.data.edges=new xV}if(i&&hD(this.edgesListeners,(function(e,t){i.off(t,e)})),this.body.edges={},this.body.data.edges){hD(this.edgesListeners,(function(e,n){t.body.data.edges.on(n,e)}));var r=this.body.data.edges.getIds();this.add(r,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===n&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.body.edges,i=this.body.data.edges,r=0;r<e.length;r++){var o=e[r],a=n[o];a&&a.disconnect();var s=i.get(o,{showInternalIds:!0});n[o]=this.create(s)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===t&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(e){for(var t=this.body.edges,n=this.body.data.edges,i=!1,r=0;r<e.length;r++){var o=e[r],a=n.get(o),s=t[o];void 0!==s?(s.disconnect(),i=s.setOptions(a)||i,s.connect()):(this.body.edges[o]=this.create(a),i=!0)}!0===i?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==e.length){var n=this.body.edges;hD(e,(function(e){var t=n[e];void 0!==t&&t.remove()})),t&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var e=this;hD(this.body.edges,(function(t,n){var i=e.body.data.edges.get(n);void 0!==i&&t.setOptions(i)}))}},{key:"create",value:function(e){return new RW(e,this.body,this.images,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var e,t=this.body.nodes,n=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var i=n[e];i.from=null,i.to=null,i.connect()}}},{key:"getConnectedNodes",value:function(e){var t=[];if(void 0!==this.body.edges[e]){var n=this.body.edges[e];void 0!==n.fromId&&t.push(n.fromId),void 0!==n.toId&&t.push(n.toId)}return t}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var e=this,t=[];hD(this.body.edges,(function(n,i){var r=e.body.nodes[n.toId],o=e.body.nodes[n.fromId];void 0!==r&&!0===r.isCluster||void 0!==o&&!0===o.isCluster||void 0!==r&&void 0!==o||t.push(i)})),this.remove(t,!1)}},{key:"_addMissingEdges",value:function(){var e=this.body.data.edges;if(void 0!==e&&null!==e){var t=this.body.edges,n=[];IE(e).call(e,(function(e,i){void 0===t[i]&&n.push(i)})),this.add(n,!0)}}}]),e}(),LW=function(){function e(t,n,i){Ty(this,e),this.body=t,this.physicsBody=n,this.barnesHutTree,this.setOptions(i),this._rng=XP("BARNES HUT SOLVER")}return Fw(e,[{key:"setOptions",value:function(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var e,t=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,r=this._formBarnesHutTree(t,n);this.barnesHutTree=r;for(var o=0;o<i;o++)(e=t[n[o]]).options.mass>0&&this._getForceContributions(r.root,e)}}},{key:"_getForceContributions",value:function(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}},{key:"_getForceContribution",value:function(e,t){if(e.childrenCount>0){var n=e.centerOfMass.x-t.x,i=e.centerOfMass.y-t.y,r=Math.sqrt(n*n+i*i);r*e.calcSize>this.thetaInversed?this._calculateForces(r,n,i,t,e):4===e.childrenCount?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(r,n,i,t,e)}}},{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=this.options.gravitationalConstant*r.mass*i.options.mass/Math.pow(e,3),a=t*o,s=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=s}},{key:"_formBarnesHutTree",value:function(e,t){for(var n,i=t.length,r=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,s=e[t[0]].y,l=1;l<i;l++){var u=e[t[l]],c=u.x,g=u.y;u.options.mass>0&&(c<r&&(r=c),c>a&&(a=c),g<o&&(o=g),g>s&&(s=g))}var d=Math.abs(a-r)-Math.abs(s-o);d>0?(o-=.5*d,s+=.5*d):(r+=.5*d,a-=.5*d);var h=Math.max(1e-5,Math.abs(a-r)),p=.5*h,A=.5*(r+a),f=.5*(o+s),C={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:A-p,maxX:A+p,minY:f-p,maxY:f+p},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(C.root);for(var I=0;I<i;I++)(n=e[t[I]]).options.mass>0&&this._placeInTree(C.root,n);return C}},{key:"_updateBranchMass",value:function(e,t){var n=e.centerOfMass,i=e.mass+t.options.mass,r=1/i;n.x=n.x*e.mass+t.x*t.options.mass,n.x*=r,n.y=n.y*e.mass+t.y*t.options.mass,n.y*=r,e.mass=i;var o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}},{key:"_placeInTree",value:function(e,t,n){1==n&&void 0!==n||this._updateBranchMass(e,t);var i,r=e.children.NW.range;i=r.maxX>t.x?r.maxY>t.y?"NW":"SW":r.maxY>t.y?"NE":"SE",this._placeInRegion(e,t,i)}},{key:"_placeInRegion",value:function(e,t,n){var i=e.children[n];switch(i.childrenCount){case 0:i.children.data=t,i.childrenCount=1,this._updateBranchMass(i,t);break;case 1:i.children.data.x===t.x&&i.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,t));break;case 4:this._placeInTree(i,t)}}},{key:"_splitBranch",value:function(e){var t=null;1===e.childrenCount&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),null!=t&&this._placeInTree(e,t)}},{key:"_insertRegion",value:function(e,t){var n,i,r,o,a=.5*e.size;switch(t){case"NW":n=e.range.minX,i=e.range.minX+a,r=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,i=e.range.maxX,r=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,i=e.range.minX+a,r=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,i=e.range.maxX,r=e.range.minY+a,o=e.range.maxY}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:r,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}},{key:"_debug",value:function(e,t){void 0!==this.barnesHutTree&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}},{key:"_drawBranch",value:function(e,t,n){void 0===n&&(n="#FF0000"),4===e.childrenCount&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=n,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}]),e}(),BW=function(){function e(t,n,i){Ty(this,e),this._rng=XP("REPULSION SOLVER"),this.body=t,this.physicsBody=n,this.setOptions(i)}return Fw(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,a,s,l=this.body.nodes,u=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,g=this.options.nodeDistance,d=-2/3/g,h=0;h<u.length-1;h++){a=l[u[h]];for(var p=h+1;p<u.length;p++)e=(s=l[u[p]]).x-a.x,t=s.y-a.y,0===(n=Math.sqrt(e*e+t*t))&&(e=n=.1*this._rng()),n<2*g&&(o=n<.5*g?1:d*n+1.3333333333333333,i=e*(o/=n),r=t*o,c[a.id].x-=i,c[a.id].y-=r,c[s.id].x+=i,c[s.id].y+=r)}}}]),e}(),ZW=function(){function e(t,n,i){Ty(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return Fw(e,[{key:"setOptions",value:function(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}},{key:"solve",value:function(){for(var e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance,r=0;r<t.length-1;r++)for(var o=e[t[r]],a=r+1;a<t.length;a++){var s=e[t[a]];if(o.level===s.level){var l=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(s.shape.radius||0)/2),u=s.x-o.x,c=s.y-o.y,g=Math.sqrt(u*u+c*c),d=void 0;d=g<l?-Math.pow(.05*g,2)+Math.pow(.05*l,2):0,0!==g&&(d/=g);var h=u*d,p=c*d;n[o.id].x-=h,n[o.id].y-=p,n[s.id].x+=h,n[s.id].y+=p}}}}]),e}(),VW=function(){function e(t,n,i){Ty(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return Fw(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o=this.physicsBody.physicsEdgeIndices,a=this.body.edges,s=0;s<o.length;s++)!0===(t=a[o[s]]).connected&&t.toId!==t.fromId&&void 0!==this.body.nodes[t.toId]&&void 0!==this.body.nodes[t.fromId]&&(void 0!==t.edgeType.via?(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.to,i=t.edgeType.via,r=t.from,this._calculateSpringForce(n,i,.5*e),this._calculateSpringForce(i,r,.5*e)):(e=void 0===t.options.length?1.5*this.options.springLength:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}},{key:"_calculateSpringForce",value:function(e,t,n){var i=e.x-t.x,r=e.y-t.y,o=Math.max(Math.sqrt(i*i+r*r),.01),a=this.options.springConstant*(n-o)/o,s=i*a,l=r*a;void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x+=s,this.physicsBody.forces[e.id].y+=l),void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x-=s,this.physicsBody.forces[t.id].y-=l)}}]),e}(),UW=function(){function e(t,n,i){Ty(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return Fw(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r,o,a,s,l,u,c=this.body.edges,g=.5,d=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces,A=0;A<h.length;A++){var f=h[A];p[f].springFx=0,p[f].springFy=0}for(var C=0;C<d.length;C++)!0===(t=c[d[C]]).connected&&(e=void 0===t.options.length?this.options.springLength:t.options.length,n=t.from.x-t.to.x,i=t.from.y-t.to.y,s=0===(s=Math.sqrt(n*n+i*i))?.01:s,r=n*(a=this.options.springConstant*(e-s)/s),o=i*a,t.to.level!=t.from.level?(void 0!==p[t.toId]&&(p[t.toId].springFx-=r,p[t.toId].springFy-=o),void 0!==p[t.fromId]&&(p[t.fromId].springFx+=r,p[t.fromId].springFy+=o)):(void 0!==p[t.toId]&&(p[t.toId].x-=g*r,p[t.toId].y-=g*o),void 0!==p[t.fromId]&&(p[t.fromId].x+=g*r,p[t.fromId].y+=g*o)));a=1;for(var I=0;I<h.length;I++){var v=h[I];l=Math.min(a,Math.max(-a,p[v].springFx)),u=Math.min(a,Math.max(-a,p[v].springFy)),p[v].x+=l,p[v].y+=u}for(var m=0,y=0,b=0;b<h.length;b++){var x=h[b];m+=p[x].x,y+=p[x].y}for(var _=m/h.length,w=y/h.length,k=0;k<h.length;k++){var E=h[k];p[E].x-=_,p[E].y-=w}}}]),e}(),WW=function(){function e(t,n,i){Ty(this,e),this.body=t,this.physicsBody=n,this.setOptions(i)}return Fw(e,[{key:"setOptions",value:function(e){this.options=e}},{key:"solve",value:function(){for(var e,t,n,i,r=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces,s=0;s<o.length;s++){e=-(i=r[o[s]]).x,t=-i.y,n=Math.sqrt(e*e+t*t),this._calculateForces(n,e,t,a,i)}}},{key:"_calculateForces",value:function(e,t,n,i,r){var o=0===e?0:this.options.centralGravity/e;i[r.id].x=t*o,i[r.id].y=n*o}}]),e}();function GW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var HW=function(e){pN(n,e);var t=GW(n);function n(e,i,r){var o;return Ty(this,n),(o=t.call(this,e,i,r))._rng=XP("FORCE ATLAS 2 BASED REPULSION SOLVER"),o}return Fw(n,[{key:"_calculateForces",value:function(e,t,n,i,r){0===e&&(t=e=.1*this._rng()),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));var o=i.edges.length+1,a=this.options.gravitationalConstant*r.mass*i.options.mass*o/Math.pow(e,2),s=t*a,l=n*a;this.physicsBody.forces[i.id].x+=s,this.physicsBody.forces[i.id].y+=l}}]),n}(LW);function YW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var qW=function(e){pN(n,e);var t=YW(n);function n(e,i,r){return Ty(this,n),t.call(this,e,i,r)}return Fw(n,[{key:"_calculateForces",value:function(e,t,n,i,r){if(e>0){var o=r.edges.length+1,a=this.options.centralGravity*o*r.options.mass;i[r.id].x=t*a,i[r.id].y=n*a}}}]),n}(WW),KW=function(){function e(t){Ty(this,e),this.body=t,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Mf(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("initPhysics",(function(){e.initPhysics()})),this.body.emitter.on("_layoutFailed",(function(){e.layoutFailed=!0})),this.body.emitter.on("resetPhysics",(function(){e.stopSimulation(),e.ready=!1})),this.body.emitter.on("disablePhysics",(function(){e.physicsEnabled=!1,e.stopSimulation()})),this.body.emitter.on("restorePhysics",(function(){e.setOptions(e.options),!0===e.ready&&e.startSimulation()})),this.body.emitter.on("startSimulation",(function(){!0===e.ready&&e.startSimulation()})),this.body.emitter.on("stopSimulation",(function(){e.stopSimulation()})),this.body.emitter.on("destroy",(function(){e.stopSimulation(!1),e.body.emitter.off()})),this.body.emitter.on("_dataChanged",(function(){e.updatePhysicsData()}))}},{key:"setOptions",value:function(e){if(void 0!==e)if(!1===e)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(!0===e)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,uD(["stabilization"],this.options,e),_D(this.options,e,"stabilization"),void 0===e.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation());var t=this.options.wind;t&&(("number"!==typeof t.x||XM(t.x))&&(t.x=0),("number"!==typeof t.y||XM(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}},{key:"init",value:function(){var e;"forceAtlas2Based"===this.options.solver?(e=this.options.forceAtlas2Based,this.nodesSolver=new HW(this.body,this.physicsBody,e),this.edgesSolver=new VW(this.body,this.physicsBody,e),this.gravitySolver=new qW(this.body,this.physicsBody,e)):"repulsion"===this.options.solver?(e=this.options.repulsion,this.nodesSolver=new BW(this.body,this.physicsBody,e),this.edgesSolver=new VW(this.body,this.physicsBody,e),this.gravitySolver=new WW(this.body,this.physicsBody,e)):"hierarchicalRepulsion"===this.options.solver?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new ZW(this.body,this.physicsBody,e),this.edgesSolver=new UW(this.body,this.physicsBody,e),this.gravitySolver=new WW(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new LW(this.body,this.physicsBody,e),this.edgesSolver=new VW(this.body,this.physicsBody,e),this.gravitySolver=new WW(this.body,this.physicsBody,e)),this.modelOptions=e}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){var e;!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=nC(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===e&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===e&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var e=oE();this.physicsTick(),(oE()-e<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&zT((function(){e.body.emitter.emit("stabilized",{iterations:t}),e.startedStabilization=!1,e.stabilizationIterations=0}),0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),!0!==this.stabilized){if(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled)this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1;else this.timestep=this.options.timestep,this.physicsStep();!0===this.stabilized&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var e=this.body.nodes,t=this.body.edges;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&!0===e[n].options.physics&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&!0===t[i].options.physics&&this.physicsBody.physicsEdgeIndices.push(t[i].id);for(var r=0;r<this.physicsBody.physicsNodeIndices.length;r++){var o=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[o]={x:0,y:0},void 0===this.physicsBody.velocities[o]&&(this.physicsBody.velocities[o]={x:0,y:0})}for(var a in this.physicsBody.velocities)void 0===e[a]&&delete this.physicsBody.velocities[a]}},{key:"revert",value:function(){var e=tE(this.previousStates),t=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(var i=0;i<e.length;i++){var r=e[i];void 0!==t[r]?!0===t[r].options.physics&&(this.referenceState[r]={positions:{x:t[r].x,y:t[r].y}},n[r].x=this.previousStates[r].vx,n[r].y=this.previousStates[r].vy,t[r].x=this.previousStates[r].x,t[r].y=this.previousStates[r].y):delete this.previousStates[r]}}},{key:"_evaluateStepQuality",value:function(){var e,t,n=this.body.nodes,i=this.referenceState;for(var r in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,r)&&void 0!==n[r]&&(e=n[r].x-i[r].positions.x,t=n[r].y-i[r].positions.y,Math.sqrt(Math.pow(e,2)+Math.pow(t,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var e=this.physicsBody.physicsNodeIndices,t=0,n=0,i=0;i<e.length;i++){var r=e[i],o=this._performStep(r);t=Math.max(t,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<5,this.stabilized=t<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(e,t,n){e+=(t-this.modelOptions.damping*e)/n*this.timestep;var i=this.options.maxVelocity||1e9;return Math.abs(e)>i&&(e=e>0?i:-i),e}},{key:"_performStep",value:function(e){var t=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);var i=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:i.x,vy:i.y},!1===t.options.fixed.x?(i.x=this.calculateComponentVelocity(i.x,n.x,t.options.mass),t.x+=i.x*this.timestep):(n.x=0,i.x=0),!1===t.options.fixed.y?(i.y=this.calculateComponentVelocity(i.y,n.y,t.options.mass),t.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}},{key:"_freezeNodes",value:function(){var e=this.body.nodes;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){var n=e[t].options.fixed;this.freezeCache[t]={x:n.x,y:n.y},n.x=!0,n.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var e=this.body.nodes;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&void 0!==this.freezeCache[t]&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}},{key:"stabilize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!==typeof t&&(t=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",t)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=t,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,zT((function(){return e._stabilizationBatch()}),0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var e=this,t=function(){return!1===e.stabilized&&e.stabilizationIterations<e.targetIterations},n=function(){e.body.emitter.emit("stabilizationProgress",{iterations:e.stabilizationIterations,total:e.targetIterations})};this._startStabilizing()&&n();for(var i,r=0;t()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;(n(),t())?zT(nC(i=this._stabilizationBatch).call(i,this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(e){for(var t=0;t<this.physicsBody.physicsNodeIndices.length;t++){var n=this.physicsBody.physicsNodeIndices[t],i=this.body.nodes[n],r=this.physicsBody.forces[n],o=Math.sqrt(Math.pow(r.x,2)+Math.pow(r.x,2)),a=Math.min(Math.max(5,o),15),s=3*a,l=mD((180-180*Math.min(1,Math.max(0,.03*o)))/360,1,1),u={x:i.x+20*r.x,y:i.y+20*r.y};e.lineWidth=a,e.strokeStyle=l,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(u.x,u.y),e.stroke();var c=Math.atan2(r.y,r.x);e.fillStyle=l,vW.draw(e,{type:"arrow",point:u,angle:c,length:s}),YT(e).call(e)}}}]),e}(),XW=function(){function e(){Ty(this,e)}return Fw(e,null,[{key:"getRange",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).shape.boundingBox.left&&(o=t.shape.boundingBox.left),a<t.shape.boundingBox.right&&(a=t.shape.boundingBox.right),i>t.shape.boundingBox.top&&(i=t.shape.boundingBox.top),r<t.shape.boundingBox.bottom&&(r=t.shape.boundingBox.bottom);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:"getRangeCore",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=1e9,r=-1e9,o=1e9,a=-1e9;if(n.length>0)for(var s=0;s<n.length;s++)o>(t=e[n[s]]).x&&(o=t.x),a<t.x&&(a=t.x),i>t.y&&(i=t.y),r<t.y&&(r=t.y);return 1e9===o&&-1e9===a&&1e9===i&&-1e9===r&&(i=0,r=0,o=0,a=0),{minX:o,maxX:a,minY:i,maxY:r}}},{key:"findCenter",value:function(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}},{key:"cloneOptions",value:function(e,t){var n={};return void 0===t||"node"===t?(cD(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):cD(n,e.options,!0),n}}]),e}();function QW(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var JW=function(e){pN(n,e);var t=QW(n);function n(e,i,r,o,a,s){var l;return Ty(this,n),(l=t.call(this,e,i,r,o,a,s)).isCluster=!0,l.containedNodes={},l.containedEdges={},l}return Fw(n,[{key:"_openChildCluster",value:function(e){var t=this,n=this.body.nodes[e];if(void 0===this.containedNodes[e])throw new Error("node with id: "+e+" not in current cluster");if(!n.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],hD(n.edges,(function(e){delete t.containedEdges[e.id]})),hD(n.containedNodes,(function(e,n){t.containedNodes[n]=e})),n.containedNodes={},hD(n.containedEdges,(function(e,n){t.containedEdges[n]=e})),n.containedEdges={},hD(n.edges,(function(e){hD(t.edges,(function(n){var i,r,o=cT(i=n.clusteringEdgeReplacingIds).call(i,e.id);-1!==o&&(hD(e.clusteringEdgeReplacingIds,(function(e){n.clusteringEdgeReplacingIds.push(e),t.body.edges[e].edgeReplacedById=n.id})),QE(r=n.clusteringEdgeReplacingIds).call(r,o,1))}))})),n.edges=[]}}]),n}(BU),$W=function(){function e(t){var n=this;Ty(this,e),this.body=t,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Mf(this.options,this.defaultOptions),this.body.emitter.on("_resetData",(function(){n.clusteredNodes={},n.clusteredEdges={}}))}return Fw(e,[{key:"clusterByHubsize",value:function(e,t){void 0===e?e=this._getHubSize():"object"===Mw(e)&&(t=this._checkOptions(e),e=this._getHubSize());for(var n=[],i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodes[this.body.nodeIndices[i]];r.edges.length>=e&&n.push(r.id)}for(var o=0;o<n.length;o++)this.clusterByConnection(n[o],t,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);var i={},r={};hD(this.body.nodes,(function(n,o){n.options&&!0===t.joinCondition(n.options)&&(i[o]=n,hD(n.edges,(function(t){void 0===e.clusteredEdges[t.id]&&(r[t.id]=t)})))})),this._cluster(i,r,t,n)}},{key:"clusterByEdgeCount",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t=this._checkOptions(t);for(var r,o,a,s=[],l={},u=function(){var i={},u={},g=n.body.nodeIndices[c],d=n.body.nodes[g];if(void 0===l[g]){a=0,o=[];for(var h=0;h<d.edges.length;h++)r=d.edges[h],void 0===n.clusteredEdges[r.id]&&(r.toId!==r.fromId&&a++,o.push(r));if(a===e){for(var p=function(e){if(void 0===t.joinCondition||null===t.joinCondition)return!0;var n=XW.cloneOptions(e);return t.joinCondition(n)},A=!0,f=0;f<o.length;f++){r=o[f];var C=n._getConnectedId(r,g);if(!p(d)){A=!1;break}u[r.id]=r,i[g]=d,i[C]=n.body.nodes[C],l[g]=!0}if(tE(i).length>0&&tE(u).length>0&&!0===A){var I=function(){for(var e=0;e<s.length;++e)for(var t in i)if(void 0!==s[e].nodes[t])return s[e]}();if(void 0!==I){for(var v in i)void 0===I.nodes[v]&&(I.nodes[v]=i[v]);for(var m in u)void 0===I.edges[m]&&(I.edges[m]=u[m])}else s.push({nodes:i,edges:u})}}}},c=0;c<this.body.nodeIndices.length;c++)u();for(var g=0;g<s.length;g++)this._cluster(s[g].nodes,s[g].edges,t,!1);!0===i&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(1,e,t)}},{key:"clusterBridges",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.clusterByEdgeCount(2,e,t)}},{key:"clusterByConnection",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[e])throw new Error("The nodeId given to clusterByConnection does not exist!");var r=this.body.nodes[e];void 0===(t=this._checkOptions(t,r)).clusterNodeProperties.x&&(t.clusterNodeProperties.x=r.x),void 0===t.clusterNodeProperties.y&&(t.clusterNodeProperties.y=r.y),void 0===t.clusterNodeProperties.fixed&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=r.options.fixed.x,t.clusterNodeProperties.fixed.y=r.options.fixed.y);var o={},a={},s=r.id,l=XW.cloneOptions(r);o[s]=r;for(var u=0;u<r.edges.length;u++){var c=r.edges[u];if(void 0===this.clusteredEdges[c.id]){var g=this._getConnectedId(c,s);if(void 0===this.clusteredNodes[g])if(g!==s)if(void 0===t.joinCondition)a[c.id]=c,o[g]=this.body.nodes[g];else{var d=XW.cloneOptions(this.body.nodes[g]);!0===t.joinCondition(l,d)&&(a[c.id]=c,o[g]=this.body.nodes[g])}else a[c.id]=c}}var h=Jk(n=tE(o)).call(n,(function(e){return o[e].id}));for(var p in o)if(Object.prototype.hasOwnProperty.call(o,p))for(var A=o[p],f=0;f<A.edges.length;f++){var C=A.edges[f];cT(h).call(h,this._getConnectedId(C,A.id))>-1&&(a[C.id]=C)}this._cluster(o,a,t,i)}},{key:"_createClusterEdges",value:function(e,t,n,i){for(var r,o,a,s,l,u,c=tE(e),g=[],d=0;d<c.length;d++){a=e[o=c[d]];for(var h=0;h<a.edges.length;h++)r=a.edges[h],void 0===this.clusteredEdges[r.id]&&(r.toId==r.fromId?t[r.id]=r:r.toId==o?(s=n.id,u=l=r.fromId):(s=r.toId,l=n.id,u=s),void 0===e[u]&&g.push({edge:r,fromId:l,toId:s}))}for(var p=[],A=function(e){for(var t=0;t<p.length;t++){var n=p[t],i=e.fromId===n.fromId&&e.toId===n.toId,r=e.fromId===n.toId&&e.toId===n.fromId;if(i||r)return n}return null},f=0;f<g.length;f++){var C=g[f],I=C.edge,v=A(C);null===v?(v=this._createClusteredEdge(C.fromId,C.toId,I,i),p.push(v)):v.clusteringEdgeReplacingIds.push(I.id),this.body.edges[I.id].edgeReplacedById=v.id,this._backupEdgeOptions(I),I.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===e.clusterEdgeProperties&&(e.clusterEdgeProperties={}),void 0===e.clusterNodeProperties&&(e.clusterNodeProperties={}),e}},{key:"_cluster",value:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&void 0!==this.clusteredNodes[o]&&r.push(o);for(var a=0;a<r.length;++a)delete e[r[a]];if(0!=tE(e).length&&(1!=tE(e).length||1==n.clusterNodeProperties.allowSingleNodeCluster)){var s=cD({},n.clusterNodeProperties);if(void 0!==n.processProperties){var l=[];for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=XW.cloneOptions(e[u]);l.push(c)}var g=[];for(var d in t)if(Object.prototype.hasOwnProperty.call(t,d)&&"clusterEdge:"!==d.substr(0,12)){var h=XW.cloneOptions(t[d],"edge");g.push(h)}if(!(s=n.processProperties(s,l,g)))throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+hV());var p=s.id;void 0===s.label&&(s.label="cluster");var A=void 0;void 0===s.x&&(A=this._getClusterPosition(e),s.x=A.x),void 0===s.y&&(void 0===A&&(A=this._getClusterPosition(e)),s.y=A.y),s.id=p;var f=this.body.functions.createNode(s,JW);f.containedNodes=e,f.containedEdges=t,f.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[s.id]=f,this._clusterEdges(e,t,s,n.clusterEdgeProperties),s.id=void 0,!0===i&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(e){void 0===this.clusteredEdges[e.id]&&(this.clusteredEdges[e.id]={physics:e.options.physics})}},{key:"_restoreEdge",value:function(e){var t=this.clusteredEdges[e.id];void 0!==t&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}},{key:"isCluster",value:function(e){return void 0!==this.body.nodes[e]?!0===this.body.nodes[e].isCluster:(console.error("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(e){for(var t,n=tE(e),i=e[n[0]].x,r=e[n[0]].x,o=e[n[0]].y,a=e[n[0]].y,s=1;s<n.length;s++)i=(t=e[n[s]]).x<i?t.x:i,r=t.x>r?t.x:r,o=t.y<o?t.y:o,a=t.y>a?t.y:a;return{x:.5*(i+r),y:.5*(o+a)}}},{key:"openCluster",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===e)throw new Error("No clusterNodeId supplied to openCluster.");var i=this.body.nodes[e];if(void 0===i)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==i.isCluster||void 0===i.containedNodes||void 0===i.containedEdges)throw new Error("The node:"+e+" is not a valid cluster.");var r=this.findNode(e),o=cT(r).call(r,e)-1;if(o>=0){var a=r[o];return this.body.nodes[a]._openChildCluster(e),delete this.body.nodes[e],void(!0===n&&this.body.emitter.emit("_dataChanged"))}var s=i.containedNodes,l=i.containedEdges;if(void 0!==t&&void 0!==t.releaseFunction&&"function"===typeof t.releaseFunction){var u={},c={x:i.x,y:i.y};for(var g in s)if(Object.prototype.hasOwnProperty.call(s,g)){var d=this.body.nodes[g];u[g]={x:d.x,y:d.y}}var h=t.releaseFunction(c,u);for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)){var A=this.body.nodes[p];void 0!==h[p]&&(A.x=void 0===h[p].x?i.x:h[p].x,A.y=void 0===h[p].y?i.y:h[p].y)}}else hD(s,(function(e){!1===e.options.fixed.x&&(e.x=i.x),!1===e.options.fixed.y&&(e.y=i.y)}));for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var C=this.body.nodes[f];C.vx=i.vx,C.vy=i.vy,C.setOptions({physics:!0}),delete this.clusteredNodes[f]}for(var I=[],v=0;v<i.edges.length;v++)I.push(i.edges[v]);for(var m=0;m<I.length;m++){for(var y=I[m],b=this._getConnectedId(y,e),x=this.clusteredNodes[b],_=0;_<y.clusteringEdgeReplacingIds.length;_++){var w=y.clusteringEdgeReplacingIds[_],k=this.body.edges[w];if(void 0!==k)if(void 0!==x){var E=this.body.nodes[x.clusterId];E.containedEdges[k.id]=k,delete l[k.id];var S=k.fromId,T=k.toId;k.toId==b?T=x.clusterId:S=x.clusterId,this._createClusteredEdge(S,T,k,E.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(k)}y.remove()}for(var O in l)Object.prototype.hasOwnProperty.call(l,O)&&this._restoreEdge(l[O]);delete this.body.nodes[e],!0===n&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(e){var t=[];if(!0===this.isCluster(e)){var n=this.body.nodes[e].containedNodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.push(this.body.nodes[i].id)}return t}},{key:"findNode",value:function(e){for(var t,n=[],i=0;void 0!==this.clusteredNodes[e]&&i<100;){if(void 0===(t=this.body.nodes[e]))return[];n.push(t.id),e=this.clusteredNodes[e].clusterId,i++}return void 0===(t=this.body.nodes[e])?[]:(n.push(t.id),TE(n).call(n),n)}},{key:"updateClusteredNode",value:function(e,t){if(void 0===e)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===t)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[e])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(e,t){if(void 0===e)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===t)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[e])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var n=this.getClusteredEdges(e),i=0;i<n.length;i++){this.body.edges[n[i]].setOptions(t)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(e){for(var t=[],n=0;void 0!==e&&void 0!==this.body.edges[e]&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return TE(t).call(t),t}},{key:"getBaseEdge",value:function(e){return this.getBaseEdges(e)[0]}},{key:"getBaseEdges",value:function(e){for(var t=[e],n=[],i=[],r=0;t.length>0&&r<100;){var o=t.pop();if(void 0!==o){var a=this.body.edges[o];if(void 0!==a){r++;var s=a.clusteringEdgeReplacingIds;if(void 0===s)i.push(o);else for(var l=0;l<s.length;++l){var u=s[l];-1===cT(t).call(t,s)&&-1===cT(n).call(n,s)&&t.push(u)}n.push(o)}}}return i}},{key:"_getConnectedId",value:function(e,t){return e.toId!=t?e.toId:(e.fromId,e.fromId)}},{key:"_getHubSize",value:function(){for(var e=0,t=0,n=0,i=0,r=0;r<this.body.nodeIndices.length;r++){var o=this.body.nodes[this.body.nodeIndices[r]];o.edges.length>i&&(i=o.edges.length),e+=o.edges.length,t+=Math.pow(o.edges.length,2),n+=1}e/=n;var a=(t/=n)-Math.pow(e,2),s=Math.sqrt(a),l=Math.floor(e+2*s);return l>i&&(l=i),l}},{key:"_createClusteredEdge",value:function(e,t,n,i,r){var o=XW.cloneOptions(n,"edge");cD(o,i),o.from=e,o.to=t,o.id="clusterEdge:"+hV(),void 0!==r&&cD(o,r);var a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}},{key:"_clusterEdges",value:function(e,t,n,i){if(t instanceof RW){var r=t,o={};o[r.id]=r,t=o}if(e instanceof BU){var a=e,s={};s[a.id]=a,e=s}if(void 0===n||null===n)throw new Error("_clusterEdges: parameter clusterNode required");for(var l in void 0===i&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,t,n,i),t)if(Object.prototype.hasOwnProperty.call(t,l)&&void 0!==this.body.edges[l]){var u=this.body.edges[l];this._backupEdgeOptions(u),u.setOptions({physics:!1})}for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(this.clusteredNodes[c]={clusterId:n.id,node:this.body.nodes[c]},this.body.nodes[c].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(e){if(void 0!==e){var t=this.clusteredNodes[e];if(void 0!==t){var n=t.clusterId;if(void 0!==n)return this.body.nodes[n]}}}},{key:"_filter",value:function(e,t){var n=[];return hD(e,(function(e){t(e)&&n.push(e)})),n}},{key:"_updateState",value:function(){var e,t=this,n=[],i={},r=function(e){hD(t.body.nodes,(function(t){!0===t.isCluster&&e(t)}))};for(e in this.clusteredNodes){if(Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))void 0===this.body.nodes[e]&&n.push(e)}r((function(e){for(var t=0;t<n.length;t++)delete e.containedNodes[n[t]]}));for(var o=0;o<n.length;o++)delete this.clusteredNodes[n[o]];hD(this.clusteredEdges,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()||(i[e]=e)})),r((function(e){hD(e.containedEdges,(function(e,t){e.endPointsValid()||i[t]||(i[t]=t)}))})),hD(this.body.edges,(function(e,n){var r=!0,o=e.clusteringEdgeReplacingIds;if(void 0!==o){var a=0;hD(o,(function(e){var n=t.body.edges[e];void 0!==n&&n.endPointsValid()&&(a+=1)})),r=a>0}e.endPointsValid()&&r||(i[n]=n)})),r((function(e){hD(i,(function(n){delete e.containedEdges[n],hD(e.edges,(function(r,o){r.id!==n?r.clusteringEdgeReplacingIds=t._filter(r.clusteringEdgeReplacingIds,(function(e){return!i[e]})):e.edges[o]=null})),e.edges=t._filter(e.edges,(function(e){return null!==e}))}))})),hD(i,(function(e){delete t.clusteredEdges[e]})),hD(i,(function(e){delete t.body.edges[e]})),hD(tE(this.body.edges),(function(e){var n=t.body.edges[e],i=t._isClusteredNode(n.fromId)||t._isClusteredNode(n.toId);if(i!==t._isClusteredEdge(n.id))if(i){var r=t._getClusterNodeForNode(n.fromId);void 0!==r&&t._clusterEdges(t.body.nodes[n.fromId],n,r);var o=t._getClusterNodeForNode(n.toId);void 0!==o&&t._clusterEdges(t.body.nodes[n.toId],n,o)}else delete t._clusterEdges[e],t._restoreEdge(n)}));for(var a=!1,s=!0,l=function(){var e=[];r((function(t){var n=tE(t.containedNodes).length,i=!0===t.options.allowSingleNodeCluster;(i&&n<1||!i&&n<2)&&e.push(t.id)}));for(var n=0;n<e.length;++n)t.openCluster(e[n],{},!1);s=e.length>0,a=a||s};s;)l();a&&this._updateState()}},{key:"_isClusteredNode",value:function(e){return void 0!==this.clusteredNodes[e]}},{key:"_isClusteredEdge",value:function(e){return void 0!==this.clusteredEdges[e]}}]),e}();var eG=function(){function e(t,n){Ty(this,e),function(){var e;void 0!==window&&(e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===e?function(e){e()}:e}(),this.body=t,this.canvas=n,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Mf(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.on("dragStart",(function(){t.dragging=!0})),this.body.emitter.on("dragEnd",(function(){t.dragging=!1})),this.body.emitter.on("zoom",(function(){t.zooming=!0,window.clearTimeout(t.zoomTimeoutId),t.zoomTimeoutId=zT((function(){var e;t.zooming=!1,nC(e=t._requestRedraw).call(e,t)()}),250)})),this.body.emitter.on("_resizeNodes",(function(){t._resizeNodes()})),this.body.emitter.on("_redraw",(function(){!1===t.renderingActive&&t._redraw()})),this.body.emitter.on("_blockRedraw",(function(){t.allowRedraw=!1})),this.body.emitter.on("_allowRedraw",(function(){t.allowRedraw=!0,t.redrawRequested=!1})),this.body.emitter.on("_requestRedraw",nC(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",(function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()})),this.body.emitter.on("_stopRendering",(function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0})),this.body.emitter.on("destroy",(function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,!0===t.requiresTimeout?clearTimeout(t.renderTimer):window.cancelAnimationFrame(t.renderTimer),t.body.emitter.off()}))}},{key:"setOptions",value:function(e){if(void 0!==e){lD(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}}},{key:"_requestNextFrame",value:function(e,t){if("undefined"!==typeof window){var n,i=window;return!0===this.requiresTimeout?n=zT(e,t):i.requestAnimationFrame&&(n=i.requestAnimationFrame(e)),n}}},{key:"_startRendering",value:function(){var e;!0===this.renderingActive&&(void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(nC(e=this._renderStep).call(e,this),this.simulationInterval)))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var e=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame((function(){e._redraw(!1)}),0))}},{key:"_redraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var t={drawExternalLabels:null};0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.canvas.setTransform();var n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,r=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,r),0===this.canvas.frame.clientWidth)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawEdges(n),!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag){var o=this._drawNodes(n,e).drawExternalLabels;t.drawExternalLabels=o}!1===e&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&(!1===this.zooming||!0===this.zooming&&!1===this.options.hideEdgesOnZoom)&&this._drawArrows(n),null!=t.drawExternalLabels&&t.drawExternalLabels(),!1===e&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),!0===e&&n.clearRect(0,0,i,r)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);var t,n=this.body.nodes;for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&((t=n[i]).resize(e),t.updateBoundingBox(e,t.selected));e.restore()}},{key:"_drawNodes",value:function(e){for(var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.body.nodes,o=this.body.nodeIndices,a=[],s=[],l=this.canvas.DOMtoCanvas({x:-20,y:-20}),u=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),c={top:l.y,left:l.x,bottom:u.y,right:u.x},g=[],d=0;d<o.length;d++)if((t=r[o[d]]).hover)s.push(o[d]);else if(t.isSelected())a.push(o[d]);else if(!0===i){var h=t.draw(e);null!=h.drawExternalLabel&&g.push(h.drawExternalLabel)}else if(!0===t.isBoundingBoxOverlappingWith(c)){var p=t.draw(e);null!=p.drawExternalLabel&&g.push(p.drawExternalLabel)}else t.updateBoundingBox(e,t.selected);var A=a.length,f=s.length;for(n=0;n<A;n++){var C=(t=r[a[n]]).draw(e);null!=C.drawExternalLabel&&g.push(C.drawExternalLabel)}for(n=0;n<f;n++){var I=(t=r[s[n]]).draw(e);null!=I.drawExternalLabel&&g.push(I.drawExternalLabel)}return{drawExternalLabels:function(){for(var e=0,t=g;e<t.length;e++){(0,t[e])()}}}}},{key:"_drawEdges",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.draw(e)}}},{key:"_drawArrows",value:function(e){for(var t=this.body.edges,n=this.body.edgeIndices,i=0;i<n.length;i++){var r=t[n[i]];!0===r.connected&&r.drawArrows(e)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!==typeof window){var e=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=cT(e).call(e,"msie 9.0")||-1!=cT(e).call(e,"safari")&&cT(e).call(e,"chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}},{key:"_drawSelectionBox",value:function(e){if(this.body.selectionBox.show){e.beginPath();var t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}]),e}(),tG=Cd(fh.setInterval);function nG(e,t){t.inputHandler=function(e){e.isFirst&&t(e)},e.on("hammer.input",t.inputHandler)}function iG(e,t){return t.inputHandler=function(e){e.isFinal&&t(e)},e.on("hammer.input",t.inputHandler)}var rG=function(){function e(t){Ty(this,e),this.body=t,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Mf(this.options,this.defaultOptions),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e,t=this;this.body.emitter.once("resize",(function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)})),this.body.emitter.on("setSize",nC(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",(function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()}))}},{key:"setOptions",value:function(e){var t=this;if(void 0!==e){lD(["width","height","autoResize"],this.options,e)}if(this._cleanUp(),!0===this.options.autoResize){var n;if(window.ResizeObserver){var i=new ResizeObserver((function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")})),r=this.frame;i.observe(r),this._cleanupCallbacks.push((function(){i.unobserve(r)}))}else{var o=tG((function(){!0===t.setSize()&&t.body.emitter.emit("_requestRedraw")}),1e3);this._cleanupCallbacks.push((function(){clearInterval(o)}))}var a=nC(n=this._onResize).call(n,this);window.addEventListener("resize",a),this._cleanupCallbacks.push((function(){window.removeEventListener("resize",a)}))}}},{key:"_cleanUp",value:function(){var e,t,n;IE(e=TE(t=QE(n=this._cleanupCallbacks).call(n,0)).call(t)).call(e,(function(e){try{e()}catch(z$){console.error(z$)}}))}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){var e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,n=this.cameraState.scale;1!=e&&1!=t?n=.5*this.cameraState.scale*(e+t):1!=e?n=this.cameraState.scale*e:1!=t&&(n=this.cameraState.scale*t),this.body.view.scale=n;var i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),r={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=r.x*this.body.view.scale,this.body.view.translation.y+=r.y*this.body.view.scale}}},{key:"_prepareValue",value:function(e){if("number"===typeof e)return e+"px";if("string"===typeof e){if(-1!==cT(e).call(e,"%")||-1!==cT(e).call(e,"px"))return e;if(-1===cT(e).call(e,"%"))return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var e=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new FD(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:FD.DIRECTION_ALL}),nG(this.hammer,(function(t){e.body.eventListeners.onTouch(t)})),this.hammer.on("tap",(function(t){e.body.eventListeners.onTap(t)})),this.hammer.on("doubletap",(function(t){e.body.eventListeners.onDoubleTap(t)})),this.hammer.on("press",(function(t){e.body.eventListeners.onHold(t)})),this.hammer.on("panstart",(function(t){e.body.eventListeners.onDragStart(t)})),this.hammer.on("panmove",(function(t){e.body.eventListeners.onDrag(t)})),this.hammer.on("panend",(function(t){e.body.eventListeners.onDragEnd(t)})),this.hammer.on("pinch",(function(t){e.body.eventListeners.onPinch(t)})),this.frame.canvas.addEventListener("wheel",(function(t){e.body.eventListeners.onMouseWheel(t)})),this.frame.canvas.addEventListener("mousemove",(function(t){e.body.eventListeners.onMouseMove(t)})),this.frame.canvas.addEventListener("contextmenu",(function(t){e.body.eventListeners.onContext(t)})),this.hammerFrame=new FD(this.frame),iG(this.hammerFrame,(function(t){e.body.eventListeners.onRelease(t)}))}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);var n=!1,i=this.frame.canvas.width,r=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{var a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),s=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);this.frame.canvas.width===a&&this.frame.canvas.height===s||this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==s&&(this.frame.canvas.height=s,n=!0)}return!0===n&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(r/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");var t=1;return"undefined"!==typeof window&&(t=window.devicePixelRatio||1),t/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var e=this.getContext();if(void 0===e)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(e){return(e-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(e){return e*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}},{key:"DOMtoCanvas",value:function(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}]),e}();var oG=function(){function e(t,n){var i,r,o=this;Ty(this,e),this.body=t,this.canvas=n,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",nC(i=this.fit).call(i,this)),this.body.emitter.on("animationFinished",(function(){o.body.emitter.emit("_stopRendering")})),this.body.emitter.on("unlockNode",nC(r=this.releaseNode).call(r,this))}return Fw(e,[{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}},{key:"fit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=function(e,t){var n=Mf({nodes:t,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},null!==e&&void 0!==e?e:{});if(!Gk(n.nodes))throw new TypeError("Nodes has to be an array of ids.");if(0===n.nodes.length&&(n.nodes=t),!("number"===typeof n.minZoomLevel&&n.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!("number"===typeof n.maxZoomLevel&&n.minZoomLevel<=n.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return n}(e,this.body.nodeIndices);var n,i,r=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(0===r||0===o)i=1,n=XW.getRange(this.body.nodes,e.nodes);else if(!0===t){var a=0;for(var s in this.body.nodes){if(Object.prototype.hasOwnProperty.call(this.body.nodes,s))!0===this.body.nodes[s].predefinedPosition&&(a+=1)}if(a>.5*this.body.nodeIndices.length)return void this.fit(e,!1);n=XW.getRange(this.body.nodes,e.nodes),i=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,i*=Math.min(r/600,o/600)}else{this.body.emitter.emit("_resizeNodes"),n=XW.getRange(this.body.nodes,e.nodes);var l=r/(1.1*Math.abs(n.maxX-n.minX)),u=o/(1.1*Math.abs(n.maxY-n.minY));i=l<=u?l:u}i>e.maxZoomLevel?i=e.maxZoomLevel:i<e.minZoomLevel&&(i=e.minZoomLevel);var c={position:XW.findCenter(n),scale:i,animation:e.animation};this.moveTo(c)}},{key:"focus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==this.body.nodes[e]){var n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=n,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}},{key:"moveTo",value:function(e){if(void 0!==e){if(null!=e.offset){if(null!=e.offset.x){if(e.offset.x=+e.offset.x,!$M(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(null!=e.offset.y){if(e.offset.y=+e.offset.y,!$M(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(null!=e.position){if(null!=e.position.x){if(e.position.x=+e.position.x,!$M(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(null!=e.position.y){if(e.position.y=+e.position.y,!$M(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(null!=e.scale){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;void 0===e.animation&&(e.animation={duration:0}),!1===e.animation&&(e.animation={duration:0}),!0===e.animation&&(e.animation={}),void 0===e.animation.duration&&(e.animation.duration=1e3),void 0===e.animation.easingFunction&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}else e={}}},{key:"animateView",value:function(e){if(void 0!==e){this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),!0===e.locked&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;var t,n,i=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r=i.x-e.position.x,o=i.y-e.position.y;if(this.targetTranslation={x:this.sourceTranslation.x+r*this.targetScale+e.offset.x,y:this.sourceTranslation.y+o*this.targetScale+e.offset.y},0===e.animation.duration)if(void 0!=this.lockedOnNodeId)this.viewFunction=nC(t=this._lockedRedraw).call(t,this),this.body.emitter.on("initRedraw",this.viewFunction);else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=nC(n=this._transitionRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}},{key:"_lockedRedraw",value:function(){var e=this.body.nodes[this.lockedOnNodeId].x,t=this.body.nodes[this.lockedOnNodeId].y,n=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i=n.x-e,r=n.y-t,o=this.body.view.translation,a={x:o.x+i*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+r*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=a}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===e?1:this.easingTime;var t=wD[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){var n;if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId)this.viewFunction=nC(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction);this.body.emitter.emit("animationFinished")}}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),e}();function aG(e){var t,n=e&&e.preventDefault||!1,i=e&&e.container||window,r={},o={keydown:{},keyup:{}},a={};for(t=97;t<=122;t++)a[String.fromCharCode(t)]={code:t-97+65,shift:!1};for(t=65;t<=90;t++)a[String.fromCharCode(t)]={code:t,shift:!0};for(t=0;t<=9;t++)a[""+t]={code:48+t,shift:!1};for(t=1;t<=12;t++)a["F"+t]={code:111+t,shift:!1};for(t=0;t<=9;t++)a["num"+t]={code:96+t,shift:!1};a["num*"]={code:106,shift:!1},a["num+"]={code:107,shift:!1},a["num-"]={code:109,shift:!1},a["num/"]={code:111,shift:!1},a["num."]={code:110,shift:!1},a.left={code:37,shift:!1},a.up={code:38,shift:!1},a.right={code:39,shift:!1},a.down={code:40,shift:!1},a.space={code:32,shift:!1},a.enter={code:13,shift:!1},a.shift={code:16,shift:void 0},a.esc={code:27,shift:!1},a.backspace={code:8,shift:!1},a.tab={code:9,shift:!1},a.ctrl={code:17,shift:!1},a.alt={code:18,shift:!1},a.delete={code:46,shift:!1},a.pageup={code:33,shift:!1},a.pagedown={code:34,shift:!1},a["="]={code:187,shift:!1},a["-"]={code:189,shift:!1},a["]"]={code:221,shift:!1},a["["]={code:219,shift:!1};var s=function(e){u(e,"keydown")},l=function(e){u(e,"keyup")},u=function(e,t){if(void 0!==o[t][e.keyCode]){for(var i=o[t][e.keyCode],r=0;r<i.length;r++)(void 0===i[r].shift||1==i[r].shift&&1==e.shiftKey||0==i[r].shift&&0==e.shiftKey)&&i[r].fn(e);1==n&&e.preventDefault()}};return r.bind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===a[e])throw new Error("unsupported key: "+e);void 0===o[n][a[e].code]&&(o[n][a[e].code]=[]),o[n][a[e].code].push({fn:t,shift:a[e].shift})},r.bindAll=function(e,t){for(var n in void 0===t&&(t="keydown"),a)a.hasOwnProperty(n)&&r.bind(n,e,t)},r.getKey=function(e){for(var t in a)if(a.hasOwnProperty(t)){if(1==e.shiftKey&&1==a[t].shift&&e.keyCode==a[t].code)return t;if(0==e.shiftKey&&0==a[t].shift&&e.keyCode==a[t].code)return t;if(e.keyCode==a[t].code&&"shift"==t)return t}return"unknown key, currently not supported"},r.unbind=function(e,t,n){if(void 0===n&&(n="keydown"),void 0===a[e])throw new Error("unsupported key: "+e);if(void 0!==t){var i=[],r=o[n][a[e].code];if(void 0!==r)for(var s=0;s<r.length;s++)r[s].fn==t&&r[s].shift==a[e].shift||i.push(o[n][a[e].code][s]);o[n][a[e].code]=i}else o[n][a[e].code]=[]},r.reset=function(){o={keydown:{},keyup:{}}},r.destroy=function(){o={keydown:{},keyup:{}},i.removeEventListener("keydown",s,!0),i.removeEventListener("keyup",l,!0)},i.addEventListener("keydown",s,!0),i.addEventListener("keyup",l,!0),r}uC("div.vis-network div.vis-navigation div.vis-button {\n  width: 34px;\n  height: 34px;\n  -moz-border-radius: 17px;\n  border-radius: 17px;\n  position: absolute;\n  display: inline-block;\n  background-position: 2px 2px;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:hover {\n  box-shadow: 0 0 3px 3px rgba(56, 207, 21, 0.3);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button:active {\n  box-shadow: 0 0 1px 3px rgba(56, 207, 21, 0.95);\n}\n\ndiv.vis-network div.vis-navigation div.vis-button.vis-up {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABphJREFUeNqcV2twU9cR/nbPlVTHxpKRbNnBLyEbPyJisLEcPwgwUMKQtjNJAzNJZkgNNJOmJaZAaDKlxaXDTIBAcJtOOzSYKSkdiimhAdIMjyT4bYgBYxA2BgcUQPLrCiGDR4qt2x+yXTASFt1/957d7zt3z3d39xDCMQWUfgAz/RI/T4pSTAJpAGL8rECAXX7QFQGq9wOHOxYO1oCgjAdJj1wtB095Giv9TFuZAIWHAziATMPhTAwiHgUkYPXFJu92lMP/2MTpB1AKUCVEgNAcleUo1M+2F8TO6crSTncb1QleAOj2OTSX3Ge1p+Va42m5JrnzbnsCE8Ov+EHgpa0LPLvCJjZ/whuIlN8wAcXG+e1LUn9hm238QU84p1Ld83nsXvuO7Lq+LzKYGAT6/dn58m/HJTYf4O3EShkT8Irpzab1Uz9sGevT5+tWn+j6NB4A5hp/5NSr43xjfd5rW5tT9e3OAhCBiCua5/WsDEls/hdvYklZSwDefmrT8eXmtzuDkb5YZ33p9ndylICAVjWxf39xw/5g5Luv/9H84ZWNcwNEypZT87rXjqyJB85UYDMJYN3U7UdLJ6/6JlgqV517teRqf9uTlug8e1zEk27HgD22o98WsTBh8fWxvjm6ApdONbGvse8LM5NUPOm1Cfabuz3nACAgxX0QEFTJAnjNvLJ+Sepb14KRHnN+Ev+1XJOhZs3Qu1mbG97J2NQgsXroa1dtxrGuf8cHi1mUtPTay0lv1DMJSCRVLtoX+FgGgDQNysBAcez89l9nbbsQSji7rlXkEhjPxb/QatHOcFu0M9zz419oFSRhj/3PuaHiyqasv1Con9NGxHAYUsoCxAqImbYSgCWmFbZQwdsur7N0eC4m6tT6/jUZ750Zeb82c+OZGLWh/2p/W+Kfrmy0hIp/aVKpTSIJEqu2QgFx2iE8CwDp0RbH7Ljng/4yXr+XT3QdyhYsodS0slGr0g2OrEUK7eCrKW82SqzCVz3/yfb6vRwM4xn9rN7JkRkOQRLmfJn2LBPxQjDBqp9lD7XbX7X8pKTP160zR2bdeiX5jYeU/nLSTztNkem3XL5eXbltRUkonBxdgZ2IIUmahUxERQSCVT+rK5hzQ89xQ6P8VaaK1f5VmRvqQ4G+lba+nlnlb5brMhvlk7FBiaPzuwQEmEQhg5BOxMjWTncHc2501cQLkjDTsMCWpyuRQxFP0xXIJfp5FyVW4Zy7KajC06ItbiIGg6ZITBxDxIgbrr1jTSM0fibGIHz8O9sKK0GAibEua9spANh4aY2VmcEg+DEkiBgR/L2hYFgGtcErkQQAMVJgBxyy9hboZzv32v+Kpr7qbEECTAIMAoaJa3qPTmNiiAAgJAjk6J5xhu6HDAIgQYGLmI29PocmMcI8MNYvT1ckfzD9H/ub5br4e4Me9WfOKqtyX6Ud2cwC449PRamifDm6Auc0rTXokci+Xo1EAgBckiDuYGLjpTvntcGIA+SFcp6uUAaAI879VhWrRteYAqn/edq758brXJ1327QMhgJcZjA3EBjNrgZjOG1PkAjyTGENMjZPq5ECQ0MDE9ERBqFZrk0OJ3i4x/7vyIjBxGERt3takgVJEAp9xq3f769WiPDNvSsJdT3HDOEASPelmoBRYT3Kzt5uMtwauJEgSOCpwrk1DIJCoNUMwj9v7MweP9XSQ8/hJPp496fZTAICvLqcyv2B7nRbrgCA03JN5h8ub7A8VqpB437xHvsOy3l3cyaB4L2uqxhti1WLMcSgZQCw7+bOooO3Pk4JBZIYYXISMV5sKH59UePM10GESRGpIf/bE92HU452HywSJIGIllctrhp6YAK5+fHds0lLtJFMXNwkV6fFqA29mROefqiMJj1h6um4a5vY/92dKGaBxIhU5zJTWW2cJmEgGOmeb3c8FxAfb9mdf2RzyGGv5MvU7QwuEySwKHFp/c/M71zA/2F7b1RajnYdLAqMukMVu2YcfmDYE2MD7H+7/Xlq6cRIJqm4zXM+qd3TGjVBir43KSLlXjiELe5TsX+3/yW/ST45PaAHbKmccWh12AP93JNZywj0kSABIobpiXRHjtZ6faout2tyZMadGLXBCxBcvl6NfaAz+tKdFmObpzWl2+tIIBACYy0t/yj34M7HvsKUK+CGassvicX7alYDwwq+vykIEqPVa+Q9gdYk5+V+UE7lj3+FGbuBM/X5JUT8QwIVSSSZiTgmoFR2MfiqYFFPfjpkyrfWPopwxP47AP1pK1g9/dqeAAAAAElFTkSuQmCC');\n  bottom: 50px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-down {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABpdJREFUeNqcV21QlNcVfp5zX9ikoAvLEsAIIgsoHwpqWAQUNKLNaNv8iZ1JMkNG6/Qj/dDUyCSTtCHpmEkwVk3TToZRMjXj5MOG2KidjIkxQYSAQUAtX6IgIN8su8KCoOzbH4sk4q5g77/33uee555z7rnneYmZDB2MKcJKlyYbqOsZVIgGEOgSHQoy4AKbFFjqAo5dWn/rNAh9OpO852oeJHYxtrmEu4WALhMbxG2ZE9uFAlImDRLY/t/y0b3Ig+u+iWOKsAlgIZSb0OIf15kWtKo1NXh1d5xxiSPEN2wUAHrGOg11jirjWVtJyFnb6YgrzoYwocClu0DI5guPDb43Y2LLp/Iaqf9JCGSErGvIifxd7aqQn/TOJCvFvZ8Hf9haEH+m/6sFQgHBv1Sts/15WmJLkeyl6FuFwFPzny1/ZdE7Nfg/xhv1uUmH2w6kggQp+yqze7d5JbZ8Im+KpucSwI6EN7/cYtlxZarBCts3ptfrtq9odjaGKihE+sV0vRC3u8RqWmmbij149W+Wd5p2rnET6bsqsntyb6+pO3KqkE8FvLxo74lNUX9s9uTJb8/9fG2L81KoogJFYfCm3b9usNq0MXxzw1RsUkDqQICPqf/b/q8sQi3j4WdmtV47OFgNAO6r+DEUFAtFAc9YtpXmRP6hxVsI24cvhyoqnFtrK6jM7isgBa3Dl0O94TeGb255MvzXpUIFjVrhxo/dzgoARBuwFQJkBK9reCnurxfvXX8CRW3yW1G749vT2Br7ysW0oNX1pKDTPG+rm1gHRbibAHLm/7522sKnQCZqFgCUaBCqaS/bEw9vqtWoQROf3dBBiT6KTACImZ3YueqhDdOWjDbFQ4IzIl4elNUX5begU1HD6lPRmULKeghhDcpqnUmZuD3+nkgTH6gZEE9ctlZSoGmG9UIynSCsQVndMyX+IZGiBoHMjHh2SreCglClaSBiSEG8cYnD24bv7CWms/3FocO3hnw13plTggAFb196NdlPM44tC0zrSg5ItXmyEz070UEKCMRqQgkkBQ9NvL2eSJ+revoJTORSpoT6do4/7/7UShBFHQexM+HdfyUHWO8iN/uaRzX3/QjUSLlnqM72F4cCRIY5u9Zf+Y+BAv4AvzpkQ7WAIBRujA/7Vg6cia9xlId6InafVEAAGnQMUCSkb6zTMPdBy8hU3JjrphIq+CrD+Mvxeyumrr+4IH9y7o2GF5eDghuuGx4L2zbWZ9Dc0RoQRbkkFNRdP2/0BH7EtLJLKCjr+zqh2l5u8haZ847vTBW24kRFQXKAtcsT5oqz3igQENIoECkjBJUDZSGewBlBj/ammjLrdX1c/t70ero34gMte9IByLLAjPrUwKweT5jawQshdIuGMiF5XEBU2koivBl9NeEfJeYHwuxtI81zPrn2z6ip60c6DkV1jLTOCTaE2HNjd5Z4s9MwWBOhqEHp/I9cWDtUrJNoHm4KO9P7hdnTBoMYXI8Gb6gVCg63FS53jg9O5tA57tSOdHywnCAygrJrfcTgUe5U2cvNHSPtYYoKCWlrTgsIneB2AfFR+4F4b6f9ZdTzF6P8Ytud407/dy/nL7k9X9i8J9l5y+Ef6RfbnjPvWa8N5suez+KFCgqyPY95Lnd3stv2AcBZ2+mFbze+lui1xc3dXCUUlPafXNx4/aKxcajWWNp/MklRw8/mPFntbd+h1oLE847KhQQxejVg36QQqD0MPTzHv42Ux+uGasJNBnPfwllJd71kkX7RQ3WDNf7dox3BLcNNs6vt34bbbvYHJhlTGp6O+JVHb0/2HJtX1PH+aqECqG/5YN1nlXcokGvvO6vCc4x+QskotxVHB/qa+xbOWuzw8NB3nuo+Ht0z2hHsuGU3GrWAoZfi3jrxgHpw3BPpobaCH7vbqOw6mHI836vYW3Eqcq9AtioqbJy7ufQ3lhfu8sR+s9+3vL8klACsQSu7AnxMY1MxH7YXJp7oPpLulrrj+9575Ni2aeVt1teWfEWfHQLCaspseHzOU7VWU+aM5G2NoyL4i+6j8XWDNQsmGsKu/cv+nTtjQb/mm7hfENyvqEAK5v8opjPJaL26KGBpd5TfguuBvuZRgBgY6zO0jlyZXXe9JqR+8MK8ntHOMHfHIkhu2b/0yIH7/oXJ0yFlxYnPUdRbvuILgO7+y+91l6Ka6M+cnCf4fMSypXvymHf/vzBTD3CuNGUFKT8lmK5Rs5ASqKiBlAGBXFaiSuni0fkp1pJ7Ed4e/xsAqLk46EWsG1EAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-left {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABt5JREFUeNqsl2lUlOcVx//3Pi9DZRsGBgYiS2RYBQKIjAhEJW4pNrXNMbZpWtTGNkttYmJMG5soSZckRk+0p+dYPYY0Gk0ihlhRj63GhVUgBhDD5oIOy8AAMwzD4lCYtx+GqCQKuNyP7/Pc+3u2+7/3JUzEZFBYLh62S7yIZDmVBEIBqOwsQ4DNdtBFASq2A4cuZAwVgCCPF5LGHM0Chz+E1XamzUyAzCMO7IhMI+5MDCK+HpCANd+U2rYgC/Y7BoflYgVA2RAOoNYtyjDTe45+hk96e5QywaJR+NsAwDhocK61VCjLTYWaclNB0OW+en8mhl22g8C/rn7U+uGEwdov+C0i+Q0mIFWzoD7zwVU1czQ/6pjIreR3HPX5VL9jalHXiQgmBoH+XLHAtH5csDaXtxDLLzIBv5jyfOmG2H9U4S7snbpX43KaPpgBIhDx1rPzOlbfPC5GQT/nd1mS1zABa6PfPf5y5F/rcJeWpp7fPkly6f7KXBRCoOSATFfXll19x74HDsvFCghsJAG8HrvlvytCXm7EPVqc5wyzp5NX15muE1omKXXyMnd9yy5r5Q3wPghvJzrLAlimXV38+7D1DbhPFq1M6O4b6rPVWKsCBfHi5EWWv9TkQBYAEPpLvERMC9N8FtRvjt9dPl6wwo5jPvuas7WV5jNqEjz8wA+CBsaan+w9x1hrrXJtuaZX97ooLfqPLCUEGRR+iOwAsF2X98Uc30W3fb02u41frVqeVmo6FUkkwCAwCWxJ2Ls/0TPFNBb8TNdp9WvnVz4OAKdmX2QOzcMsAAjziDGMBd3asCF6SXHyknJTfqQTK+zpvhnVKT5zawCgzFTgN94pJXvP7gxxjTAIkpB+MnSWRMQZYEDnPVt/K4ejbZ/77726Lb6h95tAAiPELaJ1bcTbRfGeM8xv1azWSeyEa0P9igk+Nr1+oNFfkpwzJCJKIQA679ntN08yDXYo3qh+LuUrc0E4EcNL4dP7VNDzpU8FP3vpekoQQ5CEw4bPdEfa9+sAgEZUmkmAAAS5hLQ9p11XGO+pM8V5JLUfMeQARDMlEMKIGFOVCZYb0C7Fz0oeXmIZ6nZzYoV9od/jVS+GbahUOnn9b7T6sEOviUGyA8bMDlUa0W79wBW/bZf+lrY98cDBUI8YCxGDgHCJiVVEDN8R7QWAE8Z/+1mGut2i3eP1r0S+XRztkdBzq6NbF7WpbF3UprKxjvfHxbrfttla/QBArVDbJJIAQCURMRg8ugrKIAKBSNxzHtN3VdmxY0iQYSZmTeegwTlgknYAAB7RZBh2Nm7urbeeC1r19ROT52kWn3shfH2Fu1AO3RxjY/0fdac7/hPPJMDE11GC+HpBJmIEuAS3Oa6w01lybMbMgvgCE6O255zy24DeCr/Bvckn9+u8ZjXYIYvjxoMJy8oeXZrT9GHIqMWTwA2oI6cFMeDIcAiSEOyibXsmZG0hAFzuq1OyY6xBAnMJgdPOmks08zU/bbsB9x18P37PqS/b8+o/a96ZcLm3PmBH46Z5x40HW1eFvl4Uq0w0MwiCBOb7/qTsd6GvVY537DXWas1Iw1AiNJnOgwJi+bXhAbE08OnvaXSIW0TvYw88eaF/uM/WNdju3m5r9TlhPBzVNNDoPGC/5tRma/GJ80xqjPPUjVuvP2narrMOWd1Jlv/E1fN782UiNPZf9C/qOKa+ndOz2j+cz046sn+6KrVOsODirpOxld0lUxmEBK/ktvGgFd2l6taBZn9BAtEz5xYIvAn4/8rFKkgstAyZ6Yf+S67ezlkiSU73XXRV6xqh93TyssR4JF75efBvymLdE03jgT/Wb5tutLWpGbTm7wHZxQQAT+yDuKLyHRIk4cnAZ4pfCF9/HvfR9uh3xBxtz00BANsVDylnac6wAICaHMiBmW5NRLy4trcq0MtZ3RnpHme5H9AvjYeCc1t3pzMJgOSVnyw4eHZUB9Kyu68iMFPpysSppab8UJVC3Rnp/pDlXqF7mnYsdKQbv7cr6fDGW/Zczbt6jgUtV6kIlFxuyg/tH+6zJXmlGe8G+mlzdsyB1j3pTAwZ9q3/Sspbc9tmDwD0H3UffXCFlyuTlFpnPRdYb612c5c8+idPCu6fCLDKUubzsf6fSaWm0wmO9hbvZU8fDR2zoZ97OuppAu0UJEDEmOISZohT6q7Gek5rD3GN6FEp1DaAYB7sdNYPXPao7anS1Fmrg402g7+jYhGIaOXOaQc+uONfmCwZXJIf8xKx2KRgxYgOS+CROuyoyQKCxIhkOr4T6JWgxGnvZ1HWnf/CfHcBXxcnpRHxYwRKkUjSErFKkAQiNjP4kmBRTHbKm5KkKxwL+K39fwDX1XGF8ct++QAAAABJRU5ErkJggg==');\n  bottom: 10px;\n  left: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-right {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABs1JREFUeNqsl3tQlOcVxp9z3m+XygK7C4sLxkW5o4CAkYssFSkRjabjJEOSJm1IbZx2krapiZdeprW0NVVJ0pqMM0kYJQlqkoZImGioE1ItiCAgIsFwE4Es99vCslwChf36xy5EW1A0Pn9+73fO772e93kJC5EMCszFd20SbyFZNpJAAACtjWUI8KAN1CRAJTbg9LXNU+dBkG+Xkm7Zmg4OWoUdNqZXmQCZHQFsz0yOcCYGEc8mJGDnl2UTh5AO2x2DA3OxDaAsCDvQ32VF11qP9aZYz6SeFeooi17pPQEAvZNdTnWWKnWFuVhfYT7v0zza4M3EsMk2EPgnNZusby8Y7P8x/5lI/gMTYNSnNKQt/0Xtev1DfQtZlaK+M54fmDJXXhg4G8zEINBfqlLMe28L9s/lQ8Tyr5iAJ32fK/tj+OFq3IUO1O+JyGk7GgsiEPFrlQ/07bixXdwEPckHWZJ3MgG7Qw9+/mLIS/W4SyXoNvQskpyHLg1e8CNQ3NI0laoje7Tg/8CBudgGgQwSwO/DD322ze/FFnxLRWhiBzUK94GLA2f9mSTjfU+7mjqyrVe+AX8I4aGgShbA0/47Sn4ZuLcR90ih6qih0anRiVprtUEQb43bYtlXmwNZAEDAj/ACMW1M8ExpeDXyWMVCEl4yF7vntR/zLeov8JJlWfZR+Y3N92+cx/reOmu1quNrk27EWW0xvWspJcigoNNkA4C3Yk59vH7xltvu3ktDxe7PX34ilQCQfeci1j2xfn94ZrGCneY8uxcHCnW/vbr9EQD4d2ITc8AprAOAQLewroVAAaB8oMiLiRHvmVy7znNTjWCFrXKoJOSHFQ+kvnF9f+jco07s91MFdwmSkHQuYB0T8WYwIcYj0bTQdRufGlFKJMFVaCb/GvZW6aGI4yeXOwd2mr/u05zsyDY+W5X64Nm+fO85NpuJiCFJTpslIoonADEeiT2zIzIXuh+o25PQNtbsNVMOBUn2g08MiSTHN3uZjNTEDr4dnX/6H+1H/XPasmKvW+sMGfW/MXzende4K3h/ibvSYxIAItyie/K7cgCitQxCIBFjpTrKMgM+WPfrhLbxFi9iMQtlYjAJSCSBSYBAIPBNI3p86TPXj8bk56R4PVylFE626uFLQc9efiTVPDmgBIAAtzALEYNBQRITa4kYix21FwBax655CVagPLk7806Pj1qo/7MraF/FQ14/aMhszYhvGqn3KTef89rklWrSKXUTkn3mtJK9Bzf3XJA0e/PcrdgxIwSCDPmbZMQgABJkDBKzvn+yy2npIv9xAPB1Ceo2jTZ7Gc8afipIgEhAkACDwcSQQZBIIGnx5it7gg+U3wgcnbZKR1r+FnW+v2DVtDwtXCXNSKz797oAwDzZ7ySRAIBBFsTXmBh1w1+oZ4J3h+wv9lUFdbMDOrO+5IAqWIGZthuV13nC77nKRx8r7PssyibLIkoT1/h65HsfzWyu5tF6NYNB4EYJzKUETqgcLNVv0D/cDQBrNAnm9+LOfTLfNB5u2hf5z+6TMexYji+tVdrM5leMbWOtSwQx/F1C2rcuebIqwSO568a4WmuN3mEYSiUi+pRl2l1pLvYBsKArUKVwnZRYgdHpMWVG4+/WXhwoDBXE7OmkHzJ6JNemLfv51bniGqzVPoIkyLbpfK7ZMFIkE6FlrMn7Ql+BbiHg+zXGbgLjylDpyosD58KZmKM0cfWHI9//aD5o1VCZrnO83VuQQOja5PMCfwK8n3K2ChIbLVOD9KB36le3A+u/s2Q81C2yRavQmQNdVnamLnmq4nHD9jpB0rwm77jpjTW9E906Bu18fWlWCQHAox9CtGoXTwmS8IThZyXPB+29inuoE6bMsDM9ufEAMNHqJuU8ljMtAKA2B7IhzaWNiLfWjVQb3J10/SGuEZZ7Af1X7+lluZ3HkpgEQPL291M+qbzJgXQcG60ypKlVTGwsMxcFaJW6/hDXVZZvCz3RlrmRiQHwy9nRn2bM6bnas4cLfH6s1RIorsJcFDA2PToR7Z7QezfQD9qzwvI6TyTZC47ttXeiT+2c1+wBgOndoTPLt7mrmCRjvfULQ4O1xsVVchu7b9GysYUAqy3lnsdNb0aXmQuj7PYWL2etuRl6S0OfXLjiGQIdEY6K5esc2BWhjvkqXLO6x08VPKxV6iYAwuBkv5NpvNmtbrhaX2+tWdY70eVNINhtLW0/sjrv6B0/YdJlcGlR2AvE4hUlKwHQ7BU5cz8LRx0HaPY7gXb53L/67+mUfudPmP/twOWS6AQi/j6B4iWS/IlYK+yGYJDB1wWLErLRKd/omOJbAWf03wEAyO9m+/TtS3AAAAAASUVORK5CYII=');\n  bottom: 10px;\n  left: 95px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomIn {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABiBJREFUeNqkV2tQlOcVfp7zvgvDRe66y8htXUBR1GoFI+BtFJvRtjPJBGeaH2a8DGmbttgSTWbSJEw6TWOsrbbpTIeJZGqaTipTa6LJZDTVUTYQdNAohoso6qLucnERN0Axcb/8+HaJUHDX9Pz6vnnPe57vXJ5zzkeEIwaYcwBL/VrW0TCKqZANINEvBhSk3w9eUmC9HzjcsfarOhBGKJN84GkVJHcetvqFu4SAIYELYlpm4LpQQMqoQQKVnzeO7EYV/A8NnHMAGwHWQJmAjtg895LkFa7FU1d258UvGLBGpI4AQM9dd2TrwNn4016n9bS3LqNzsD1VKPAbfhCyqflR31thAzv+La+QxotCoNi6pn1D1s9aVli/3xtOVk72fjT1XVf17E9uHZspFBD8zdk13pdCAjsOyG6KUSEEnrT/tPHluW+cw7eQ19q2z6/t2rsYJEjZ07S6d+ukwI5/yQ7RxnYC2DZnx8dbHNs6xxs85T2R9GprZcmVwYs2BYWsmBzP83m7nIVJS73jdfdd+7PjjUu/XWUCGTtPre7ZHjxTY3Kq8DoV8Ou5u49snPGrKxN58syZ9aVXBztsigoUBd+Xt2NbfZ8llaVvah+vOz9hcX+CJenWp7eOOYS6ePpTU1w39vk+AwCzFPdDQbFGFPCUY2v9hqxfXJ0shNeHLtsUFc6UequbVvdVkwLX0GXbZPpl6Zuu/ij9x/VCBU1dU7bfdFYAIDsSFRCgeOqa9hfy/nDhwfwTKOrRd0U95n0iqch9+cKS5JVtpMCdkllhAhugCHcRwAb7z1tCEp8CCXAWAJRoCFXIYnti+sYWTQ0tll0wQMk+hGUAkBOX714xbV1IyuhxHhIMC/iR5OV9M2JmuhU1Vh7PXiakrIUQhcnLXeHQxPT4GyAtFqgwgAPF5iIFWkeu1SSLCKAweXn3/ZR5rXV7SddQpy3YDoNems9qTI5hGCitm1MOAAx0aaFCerTd84zjBed3Egq9ADA/rqD7Q3ctQC4REDmkYHb8goGgsR2tz5V0DV+xUdQoqAQ81RybU4IgFWgACgpaLLCIBUo0bv63y/aXy6+WBHWz4/IHSIGAuVooiaRgWqD3AsDVoQ6bEgtOrfJUhwrf0WUtk+r8sL6wvHvk5ijVUiJSRrQZuURtfoGMuaCoRyfP/yMy0XykgAA0DPRTxNp31x2ZFuUYBgB7bK7HNdhpKz6WXq6oQCooKghMKhkgji77vBoA1jkXlAvVfRQjFMUcmxSkRWd6gpjeu32R2kxTvyhKh1DQeud8fFBh26zfOe0xuR4JgAbzywCoRSzfeDUKatJKUQK+CjKiHZ6nZ2xzBnU7B9vixTy7qCHSQEhJU3+DtdT6mAcAFiWUeP/xyPH3Jwrfo3XzysemRcEA8F5RY8h6aPE1WwMLQ4OQ/EBANHmdGWHlzZyxk3ayB0m771yGooYy+KE0l35x0iBxZehS6ie9R1PCMaDvCzWDXA4hZ283ptwcvp6qqDBnyao6AWEQrBQQ/7y+d3YoA+NBTAaElo973p8tVFCQyipW+c3pdNu7BwBOe+tm/eniK/kPFWowpMfvuKrzzw80zSKIkWsJe0bHYu163BNwMwDsv7G36ODNtzMnM5IWZfeQgscbisvLPl1aDhLTo7I8k+n/p+dw5pGeg0WKGiS31K6vvTdmA7nx9uDZ9A3xMUIpbvSezE6MSOmbNWXewHhD6dH23o7BlqQvvrwTK6KQFpXl2WyvcE6LTB2eCPSdrurvmcUnO/cVfPD6pMteyfGs3QKpUFQoS9tU/xPH8xe+Tdd693pN/pHug0Xmqntvz1uLDo9Z9v5nnrn+dvujrI1JMUJd3OY7n97ua46douOGpkdlDoUDeG7g1NS/u/5a0Og9scCsB+ysWXSoMuyFftWJvM0E31SBjmWPznHPjy+8NjdhYfeMmJl3EiNSRgCi/25fpGu4M671zjlrm685s2fEnUoQ5lrLLW8uPLj3oX9hqgxIw8n8X1LU7yMkItCHzREZrGQV6ONmy5TggHk247sL/1jFqof/hRn/AWfqC0pI+QHBIk3tICXRrFTpF8hlJaqefh6yFxQ6HwQYlK8HAKyt3WsWxl7fAAAAAElFTkSuQmCC');\n  bottom: 10px;\n  right: 15px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomOut {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABV5JREFUeNq0l2tQVVUYht/3W/vACMr16IFRQDiAgChpgiikMqY1WjnN9KsfGOXYTOVgkvbDUsZuXrK0qZmGUSvNspjI8TZOmo6AGBoZYly8YB6Qw80DBwQ6jJ3dj30OZZmiwvtv77XW96y91l7v9y1iMNLBuCI84tZkIXU9gwqxAILdokNBOtzgJQWWuYEDFxfcLAGh3y0k79iaD4mfjOVu4WYhoItngBiR6RkuFJAyEJBA3m/lri3Ih/uewXFFyAG4A8oAWkcm2meEzrFNH53Vkhg4xWnxCXcBQGu/3bfGeTbwjKPUcsZRElnfUxcuFLh1Nwh5vurx7s8GDbZ+L+tI/U0hkGGZX5c9/pXqOZYn2gazK8Vth0fvsRUknbx+bIJQQPCts/Mda+4KthbJFoqeKwSejX6pfO2kjytxH1pfuyqlsGH7dJAgZWvFo23L/9muboF+JxtE0/OEwMqJG46uSHinFvepTPO8lhGaX+fPHSdjCKaPy/b3v7az58h/wHFFyIHCRirgjUlbfsiJWXEFD6iUoOkdQaaQ6z9dP2YVahljF4+yXdvZ/evf4G+hQk2sEAUsti4vWxa35gKGSBMDp3T23OxxVXdXRijKovSFzrerC6ELAMT6IhcCZIyeX7c68YPzGGLlxq89PyM0q5YU2M1RuQAg0EERbiaA7Ohl1RgmPTM2p1qjBk1Mm6GDErsfswAgLiDZPmfMwrbhAqeHzm6P8Z9gV9SQdTx2lpCyAEKkhc62YZiVEjTdRgo0zXeBRnImAaSFzm7xdjjtOBGyvmZVZkNvfZjXDhU14+BToFEDKRAQpAJ0HRTjP6XHpYUKEX7RzS9bV5c+FJTmAICUgNSWQ/ZCgJwhIOJIQVLgFKcXvKHm9cyGvithFDUAFQqECho1CBUIggYapAJ1QEFBExNMYoISDU1/NIR9cvndTG/c2IBkp2fC8ZpQgknBGI/3AsDvvRfDlJhwem5zwYMs7VNlaUtbXE1h3mezj9mlGSsXrBkzkFsGKGoDmedBJLfLjxQQgAYdHRSxtPfbfceNsPYBQPTI+GZbT31YxrGIpYoKpIKigkAgFOggNBrbQBBCBaEM2L+iGGmTgnF+Uc1epqO/3VejAoAOUZSLQkFN17lAb4eVCe+VRvvHN4sH6t1feqAmMUGoPHvvhdLzTjzfKoj0sza/GLOy1Bu3vqc20Pgl5YIGkVOEZFZ0nLLMszzdDADTgjIdX6Uf3zfUx6m6u8riKRhOCcmDAqLCURo53Oe4rrsyUlGD0nlIqubdKNZJXOm9FH6y7Yh5uKBnO8vNTX2N4YoKE2fMLREQOsE8AfFN4/ak4QIfbd2XJFRQkLx85ruN7NTp2AoAZxwlCR9dWJc81NDdtoLkc86KBIJwXQ3aOpCPqwuhR2SPbCBlUc2NyogQX3N7wqgU51BAf2w9EFXUtCtLqADqS76ev6/ilgrk2q6esxHZgf5CySh3FMcG+5jbE0ZNdj4odHdDwWPGcZNNO1MPbrxtzdW4s+tI5HPBwQTTzziKY3v/7HGlhmS23g90T+OO5L1Nu7MMw3Fv/Tx1f97/FnsAYPui8/D4nBB/oZZR230uoq67auQoLaB37Iio3sEAK52nR39p+zS13HFiilHeYtOOabdC71jQzz2R+ALBbcrjWNF+cfaUwLSrk4KmtsT4T+gK9jG7AKKjv93X1lcfUNNVaantropqddnDCcIoa7lk29S92+/5CpOvQ04VJ79KUe/7iI/Hh40U6c3PyuPjhmWKN8G8Fvnw1A/zmX/vV5h/T+CXstRMUp4kOFOjZiUlWBkFQYdALitRZXRzf3RqWumdgF79NQDBOa2V/iYSHAAAAABJRU5ErkJggg==');\n  bottom: 10px;\n  right: 55px;\n}\ndiv.vis-network div.vis-navigation div.vis-button.vis-zoomExtends {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAABptJREFUeNqsl21QlNcVx///cx9hIipuAJHasgHlRdw0xay7yK7smg6sb2DSdtqZduLUNENmOk1tQuM4U7UzTvshSRlFZzoNCWSSSTJp+6VNkLCAeQHBoCCgqNBE0wUqL+KuwIiiZZ9+eHa3aAS3Sf8zO8/L3nt+95x7z7n3YWlpKUQEJAEgch9+Jola9xEC2ADBVgAOKqwCYAqKDgUJBIHPBWwFWQNdbyZFBwAC0GGIAHQSj3/8HHRdhzYbdDfwg4IjAsGvICgXAroYBiCEDkBBACBZoyST4gDwQqh7mQ4cEkhQD0EBIIggRMQAh2EiEvEYAGrdR3YSqIYCIEDaotVDeYnu/ryEjSOr43PHl8WmTBPA6PRQ7IWJrvhT/ubkU/7m1EvX+1KEUh7Ug+WkPEXgdUSkR+xrd0NJ4qjr8AEI9pGAI7mo78mHfnF+Y/K2K7iHUheuvJG6cOUNz/LvDwPobrpSl/Ruf2VOy9UPs4RSTSANwH4Y449EVdnt9ojHIeghCHYLgR+n/7zt4Np32tIWZU4hSpnjVk1t/caPfOO3/f++MNH5TVJcisoEoo4ksgbsXwYfdR1+kQplQuCFNS82Pp/9+158RTkTC0ce0OKutQeOp5PME0qcUBqyBmwGOC8vz4AWVOyE4CUqYO/Dh+p3pj//Bb6mHllqCyxd8ODVT69+uFKoOYTSnzFg7SJpzHFNQYWiQrUIsCN9V+uOh375zz179pSGI1FSUuK12+2+aGDt7e3muro6T/h57969lZdvDrT+ZbA6n0B1nfPVN7e0PjMjIgIIdkEAR1JR329yDvaE0+l/hQKA1Wr1bd682SsikUW7K+O3PesTNvaSAiXaLhGBvO86RFEoJ4Adac+eDxsgiZKSEm9NTY3n5MmT5mjBHR0d5vr6es+mTZu8SqnI+x+s+Ol5jRo0auX1jtepQaEAADKWWIbcy7ZGUmb79u1eu93uI+mtra31HLj5TGDs9rBJICCNn1GRCKGCUJAUuzzw6CfbTB6Px7t27VofAG/YXl6Ceyw9LmvIN3UxZUafKRACWyCELcHVP3vk4fDabDZf+2N/D9g+fsLEEFSooFGDogZNFkBRgSCsTcWm066jgRAU4et/F5u9nxRosmCLRmE+QdgSXCNzhW/s9rDJ63wVJx77V+V8YS6UNaW8BdOcqzx+3Ujt0F8Bcr1GMIMU5CzJHZ+rg6IGCYV2PimoyIK6lzIWrxkPTVGmRoqJFCyLTZmeq4MB5f3BVADnbpcQkzStUQMAk0YKBPfzxlhA95NQQe43QBotBECAFFyZHo6dz6CKCizAPFPivzUWqxm2AqIgnwkFvZNn4uczGK3Hah7wpet98UZ85R8aKScIcXYEWpMLkx8fvleHpNjlAWtTsakQa0pVKGcJQqMGUqCHBvfdjp/gTP6xwFzg85PdyaH2J4SUowKiw3889e4KBACnT582W5uKTV2uusAdUFlgzBcFQoFGDT35HwW+82mhqaenxwwA4WtYfRNnUkMZUqsJpEkn8cXU5yktYw2JjsTCMQDwer0ekt6GhgZPUVGRd3fu7qjqdU9Mj7mlpcVD0tvS0uKxWCyVANB5rS3x8s3BFEUFgTTLtuZndQHLBMSfB6pyZtfqMDQ3NzfqTcJisficTqc3BI+8bxh9L8corarM3fnDoIT+rACAU/7m7MOfHbCEwQDQ2Njo6erqinqTOHfuXNjjiI23+ystZ8c7smmkWgVJcN++fRARfLDhlacEUqVEQ1nm77xPrHjSh/+Djo3WmN/s/6OHEOgIPr2h63tVuq5Dud1ukETWoK3zorkzTiiONn/TKlNM4lj24m+Pf13o2wOVHqGA5MsAXjKPrDaqnMvlQnjTzhy0Nlw0d5oI5p3yN62amrk+ve5B5+hXgb47WGX52+V3NgoFOvQKAGUkkTqcbZy5XC7XHYf4zEFr3aXU7jih5uidPPOtvsmzixZr8VMrHjBHddLsHj+Z9Fb/n9a1+T/JDaXey0IpEzEKkHnU8Jj79++PeEwSSimQRGP+Gz8j5DVFBVKQtjBj6JGlNt/D8Y+OpMdlTphiEqcB4tqtsVjfjUtLLkx0J/dOnjWPTg+lEARIEHwaQJVQIYggACC/qxi6rn8ZHL4XETSsf0MU1HOk/CFGYgAwskUqY5eBitRxzn7/a0V1EEBwdqkN6jPI7y4xPmHmC5unbWdQRMqP2d86qANOksU6gvmArNQRNClqABnQgYuK0krI+wCOAyH3DK/vqOXhaf3PAO7mIRjDNV25AAAAAElFTkSuQmCC');\n  bottom: 50px;\n  right: 15px;\n}\n");var sG=function(){function e(t,n){var i=this;Ty(this,e),this.body=t,this.canvas=n,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",(function(){i.activated=!0,i.configureKeyboardBindings()})),this.body.emitter.on("deactivate",(function(){i.activated=!1,i.configureKeyboardBindings()})),this.body.emitter.on("destroy",(function(){void 0!==i.keycharm&&i.keycharm.destroy()})),this.options={}}return Fw(e,[{key:"setOptions",value:function(e){void 0!==e&&(this.options=e,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var e=this;this.cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],n=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="vis-button vis-"+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var r,o,a=new FD(this.navigationDOM[t[i]]);if("_fit"===n[i])nG(a,nC(r=this._fit).call(r,this));else nG(a,nC(o=this.bindToRedraw).call(o,this,n[i]));this.navigationHammers.push(a)}var s=new FD(this.canvas.frame);iG(s,(function(){e._stopMovement()})),this.navigationHammers.push(s),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(e){var t;void 0===this.boundFunctions[e]&&(this.boundFunctions[e]=nC(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(e){void 0!==this.boundFunctions[e]&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=t/e,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=t,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=t/e,r=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=t,this.body.view.translation={x:r,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var e,t,n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C,I,v,m,y,b,x,_=this;(void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled)&&(!0===this.options.keyboard.bindToWindow?this.keycharm=aG({container:window,preventDefault:!0}):this.keycharm=aG({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(nC(e=this.keycharm).call(e,"up",(function(){_.bindToRedraw("_moveUp")}),"keydown"),nC(t=this.keycharm).call(t,"down",(function(){_.bindToRedraw("_moveDown")}),"keydown"),nC(n=this.keycharm).call(n,"left",(function(){_.bindToRedraw("_moveLeft")}),"keydown"),nC(i=this.keycharm).call(i,"right",(function(){_.bindToRedraw("_moveRight")}),"keydown"),nC(r=this.keycharm).call(r,"=",(function(){_.bindToRedraw("_zoomIn")}),"keydown"),nC(o=this.keycharm).call(o,"num+",(function(){_.bindToRedraw("_zoomIn")}),"keydown"),nC(a=this.keycharm).call(a,"num-",(function(){_.bindToRedraw("_zoomOut")}),"keydown"),nC(s=this.keycharm).call(s,"-",(function(){_.bindToRedraw("_zoomOut")}),"keydown"),nC(l=this.keycharm).call(l,"[",(function(){_.bindToRedraw("_zoomOut")}),"keydown"),nC(u=this.keycharm).call(u,"]",(function(){_.bindToRedraw("_zoomIn")}),"keydown"),nC(c=this.keycharm).call(c,"pageup",(function(){_.bindToRedraw("_zoomIn")}),"keydown"),nC(g=this.keycharm).call(g,"pagedown",(function(){_.bindToRedraw("_zoomOut")}),"keydown"),nC(d=this.keycharm).call(d,"up",(function(){_.unbindFromRedraw("_moveUp")}),"keyup"),nC(h=this.keycharm).call(h,"down",(function(){_.unbindFromRedraw("_moveDown")}),"keyup"),nC(p=this.keycharm).call(p,"left",(function(){_.unbindFromRedraw("_moveLeft")}),"keyup"),nC(A=this.keycharm).call(A,"right",(function(){_.unbindFromRedraw("_moveRight")}),"keyup"),nC(f=this.keycharm).call(f,"=",(function(){_.unbindFromRedraw("_zoomIn")}),"keyup"),nC(C=this.keycharm).call(C,"num+",(function(){_.unbindFromRedraw("_zoomIn")}),"keyup"),nC(I=this.keycharm).call(I,"num-",(function(){_.unbindFromRedraw("_zoomOut")}),"keyup"),nC(v=this.keycharm).call(v,"-",(function(){_.unbindFromRedraw("_zoomOut")}),"keyup"),nC(m=this.keycharm).call(m,"[",(function(){_.unbindFromRedraw("_zoomOut")}),"keyup"),nC(y=this.keycharm).call(y,"]",(function(){_.unbindFromRedraw("_zoomIn")}),"keyup"),nC(b=this.keycharm).call(b,"pageup",(function(){_.unbindFromRedraw("_zoomIn")}),"keyup"),nC(x=this.keycharm).call(x,"pagedown",(function(){_.unbindFromRedraw("_zoomOut")}),"keyup")))}}]),e}();function lG(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return uG(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return uG(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function uG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var cG=function(){function e(t,n,i){var r,o,a,s,l,u,c,g,d,h,p,A,f;Ty(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.navigationHandler=new sG(t,n),this.body.eventListeners.onTap=nC(r=this.onTap).call(r,this),this.body.eventListeners.onTouch=nC(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=nC(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=nC(s=this.onHold).call(s,this),this.body.eventListeners.onDragStart=nC(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=nC(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=nC(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=nC(g=this.onMouseWheel).call(g,this),this.body.eventListeners.onPinch=nC(d=this.onPinch).call(d,this),this.body.eventListeners.onMouseMove=nC(h=this.onMouseMove).call(h,this),this.body.eventListeners.onRelease=nC(p=this.onRelease).call(p,this),this.body.eventListeners.onContext=nC(A=this.onContext).call(A,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=nC(f=this.getPointer).call(f,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Mf(this.options,this.defaultOptions),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("destroy",(function(){clearTimeout(e.popupTimer),delete e.body.functions.getPointer}))}},{key:"setOptions",value:function(e){if(void 0!==e){uD(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),_D(this.options,e,"keyboard"),e.tooltip&&(Mf(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=CD(e.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(e){return{x:e.x-(t=this.canvas.frame.canvas,t.getBoundingClientRect().left),y:e.y-dD(this.canvas.frame.canvas)};var t}},{key:"onTouch",value:function(e){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,n),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}},{key:"onDoubleTap",value:function(e){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}},{key:"onHold",value:function(e){var t=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,n),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}},{key:"onRelease",value:function(e){if((new Date).valueOf()-this.touchTime>10){var t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(e){var t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}},{key:"checkSelectionChanges",value:function(e){!0===(arguments.length>1&&void 0!==arguments[1]&&arguments[1])?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}},{key:"_determineDifference",value:function(e,t){var n=function(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];-1===cT(t).call(t,r)&&n.push(r)}return n};return{nodes:n(e.nodes,t.nodes),edges:n(e.edges,t.edges)}}},{key:"onDragStart",value:function(e){if(!this.drag.dragging){void 0===this.drag.pointer&&this.onTouch(e);var t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Mf({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;var n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(void 0!==t&&!0===this.options.dragNodes){this.drag.nodeId=t.id,!1===t.isSelected()&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);var i,r=lG(this.selectionHandler.getSelectedNodes());try{for(r.s();!(i=r.n()).done;){var o=i.value,a={id:o.id,node:o,x:o.x,y:o.y,xFixed:o.options.fixed.x,yFixed:o.options.fixed.y};o.options.fixed.x=!0,o.options.fixed.y=!0,this.drag.selection.push(a)}}catch(s){r.e(s)}finally{r.f()}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}}},{key:"onDrag",value:function(e){var t=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var n=this.getPointer(e.center),i=this.drag.selection;if(i&&i.length&&!0===this.options.dragNodes){this.selectionHandler.generateClickEvent("dragging",e,n);var r=n.x-this.drag.pointer.x,o=n.y-this.drag.pointer.y;IE(i).call(i,(function(e){var n=e.node;!1===e.xFixed&&(n.x=t.canvas._XconvertDOMtoCanvas(t.canvas._XconvertCanvasToDOM(e.x)+r)),!1===e.yFixed&&(n.y=t.canvas._YconvertDOMtoCanvas(t.canvas._YconvertCanvasToDOM(e.y)+o))})),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.emitter.emit("_requestRedraw")}if(!0===this.options.dragView&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,n,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(e);var a=n.x-this.drag.pointer.x,s=n.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+a,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}}},{key:"onDragEnd",value:function(e){var t=this;if(this.drag.dragging=!1,this.body.selectionBox.show){var n;this.body.selectionBox.show=!1;var i=this.body.selectionBox.position,r={minX:Math.min(i.start.x,i.end.x),minY:Math.min(i.start.y,i.end.y),maxX:Math.max(i.start.x,i.end.x),maxY:Math.max(i.start.y,i.end.y)},o=PS(n=this.body.nodeIndices).call(n,(function(e){var n=t.body.nodes[e];return n.x>=r.minX&&n.x<=r.maxX&&n.y>=r.minY&&n.y<=r.maxY}));IE(o).call(o,(function(e){return t.selectionHandler.selectObject(t.body.nodes[e])}));var a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{var s=this.drag.selection;s&&s.length?(IE(s).call(s,(function(e){e.node.options.fixed.x=e.xFixed,e.node.options.fixed.y=e.yFixed})),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}},{key:"onPinch",value:function(e){var t=this.getPointer(e.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var n=this.pinch.scale*e.scale;this.zoom(n,t)}},{key:"zoom",value:function(e,t){if(!0===this.options.zoomView){var n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);var i=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));var r=this.body.view.translation,o=e/n,a=(1-o)*t.x+r.x*o,s=(1-o)*t.y+r.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:s},void 0!=i){var l=this.canvas.canvasToDOM(i);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}},{key:"onMouseWheel",value:function(e){if(!0===this.options.zoomView){if(0!==e.deltaY){var t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(.1*this.options.zoomSpeed);var n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,n)}e.preventDefault()}}},{key:"onMouseMove",value:function(e){var t=this,n=this.getPointer({x:e.clientX,y:e.clientY}),i=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(n),!1===this.popup.hidden&&(i=!0,this.popup.setPosition(n.x+3,n.y-5),this.popup.show())),this.options.keyboard.autoFocus&&!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===i&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=zT((function(){return t._checkShowPopup(n)}),this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(e,n)}},{key:"_checkShowPopup",value:function(e){var t=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:t,top:n,right:t,bottom:n},r=void 0===this.popupObj?void 0:this.popupObj.id,o=!1,a="node";if(void 0===this.popupObj){for(var s,l=this.body.nodeIndices,u=this.body.nodes,c=[],g=0;g<l.length;g++)!0===(s=u[l[g]]).isOverlappingWith(i)&&(o=!0,void 0!==s.getTitle()&&c.push(l[g]));c.length>0&&(this.popupObj=u[c[c.length-1]],o=!0)}if(void 0===this.popupObj&&!1===o){for(var d,h=this.body.edgeIndices,p=this.body.edges,A=[],f=0;f<h.length;f++)!0===(d=p[h[f]]).isOverlappingWith(i)&&!0===d.connected&&void 0!==d.getTitle()&&A.push(h[f]);A.length>0&&(this.popupObj=p[A[A.length-1]],a="edge")}void 0!==this.popupObj?this.popupObj.id!==r&&(void 0===this.popup&&(this.popup=new LD(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(e){var t=this.selectionHandler._pointerToPositionObject(e),n=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t))){var i=this.selectionHandler.getNodeAt(e);n=void 0!==i&&i.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(e)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));!1===n&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),e}(),gG=Pd,dG=EM,hG=Gj.getWeakData,pG=lM,AG=CA,fG=ah,CG=Ah,IG=oM,vG=hp,mG=tI.set,yG=tI.getterFor,bG=Xb.find,xG=Xb.findIndex,_G=gG([].splice),wG=0,kG=function(e){return e.frozen||(e.frozen=new EG)},EG=function(){this.entries=[]},SG=function(e,t){return bG(e.entries,(function(e){return e[0]===t}))};EG.prototype={get:function(e){var t=SG(this,e);if(t)return t[1]},has:function(e){return!!SG(this,e)},set:function(e,t){var n=SG(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=xG(this.entries,(function(t){return t[0]===e}));return~t&&_G(this.entries,t,1),!!~t}};var TG,OG={getConstructor:function(e,t,n,i){var r=e((function(e,r){pG(e,o),mG(e,{type:t,id:wG++,frozen:void 0}),fG(r)||IG(r,e[i],{that:e,AS_ENTRIES:n})})),o=r.prototype,a=yG(t),s=function(e,t,n){var i=a(e),r=hG(AG(t),!0);return!0===r?kG(i).set(t,n):r[i.id]=n,e};return dG(o,{delete:function(e){var t=a(this);if(!CG(e))return!1;var n=hG(e);return!0===n?kG(t).delete(e):n&&vG(n,t.id)&&delete n[t.id]},has:function(e){var t=a(this);if(!CG(e))return!1;var n=hG(e);return!0===n?kG(t).has(e):n&&vG(n,t.id)}}),dG(o,n?{get:function(e){var t=a(this);if(CG(e)){var n=hG(e);return!0===n?kG(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return s(this,e,t)}}:{add:function(e){return s(this,e,!0)}}),r}},PG=Tj,DG=vd,jG=Pd,MG=EM,NG=Gj,zG=wM,RG=OG,FG=Ah,LG=tI.enforce,BG=md,ZG=FC,VG=Object,UG=Array.isArray,WG=VG.isExtensible,GG=VG.isFrozen,HG=VG.isSealed,YG=VG.freeze,qG=VG.seal,KG={},XG={},QG=!DG.ActiveXObject&&"ActiveXObject"in DG,JG=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},$G=zG("WeakMap",JG,RG),eH=$G.prototype,tH=jG(eH.set);if(ZG)if(QG){TG=RG.getConstructor(JG,"WeakMap",!0),NG.enable();var nH=jG(eH.delete),iH=jG(eH.has),rH=jG(eH.get);MG(eH,{delete:function(e){if(FG(e)&&!WG(e)){var t=LG(this);return t.frozen||(t.frozen=new TG),nH(this,e)||t.frozen.delete(e)}return nH(this,e)},has:function(e){if(FG(e)&&!WG(e)){var t=LG(this);return t.frozen||(t.frozen=new TG),iH(this,e)||t.frozen.has(e)}return iH(this,e)},get:function(e){if(FG(e)&&!WG(e)){var t=LG(this);return t.frozen||(t.frozen=new TG),iH(this,e)?rH(this,e):t.frozen.get(e)}return rH(this,e)},set:function(e,t){if(FG(e)&&!WG(e)){var n=LG(this);n.frozen||(n.frozen=new TG),iH(this,e)?tH(this,e,t):n.frozen.set(e,t)}else tH(this,e,t);return this}})}else PG&&BG((function(){var e=YG([]);return tH(new $G,e,1),!GG(e)}))&&MG(eH,{set:function(e,t){var n;return UG(e)&&(GG(e)?n=KG:HG(e)&&(n=XG)),tH(this,e,t),n===KG&&YG(e),n===XG&&qG(e),this}});var oH,aH,sH,lH,uH,cH=Cd(fh.WeakMap);function gH(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function dH(e,t,n,i,r){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?r.call(e,n):r?r.value=n:t.set(e,n),n}function hH(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return pH(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return pH(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function pH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function AH(e,t){var n,i=new lB,r=hH(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.has(o)||i.add(o)}}catch(a){r.e(a)}finally{r.f()}return i}"function"===typeof SuppressedError&&SuppressedError;var fH=function(){function e(){Ty(this,e),oH.set(this,new lB),aH.set(this,new lB)}return Fw(e,[{key:"size",get:function(){return gH(this,aH,"f").size}},{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];gH(this,aH,"f").add(o)}}},{key:"delete",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,r=t;i<r.length;i++){var o=r[i];gH(this,aH,"f").delete(o)}}},{key:"clear",value:function(){gH(this,aH,"f").clear()}},{key:"getSelection",value:function(){return Tk(gH(this,aH,"f"))}},{key:"getChanges",value:function(){return{added:Tk(AH(gH(this,oH,"f"),gH(this,aH,"f"))),deleted:Tk(AH(gH(this,aH,"f"),gH(this,oH,"f"))),previous:Tk(new lB(gH(this,oH,"f"))),current:Tk(new lB(gH(this,aH,"f")))}}},{key:"commit",value:function(){var e=this.getChanges();dH(this,oH,gH(this,aH,"f"),"f"),dH(this,aH,new lB(gH(this,oH,"f")),"f");var t,n=hH(e.added);try{for(n.s();!(t=n.n()).done;){t.value.select()}}catch(o){n.e(o)}finally{n.f()}var i,r=hH(e.deleted);try{for(r.s();!(i=r.n()).done;){i.value.unselect()}}catch(o){r.e(o)}finally{r.f()}return e}}]),e}();oH=new cH,aH=new cH;var CH=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};Ty(this,e),sH.set(this,new fH),lH.set(this,new fH),uH.set(this,void 0),dH(this,uH,t,"f")}return Fw(e,[{key:"sizeNodes",get:function(){return gH(this,sH,"f").size}},{key:"sizeEdges",get:function(){return gH(this,lH,"f").size}},{key:"getNodes",value:function(){return gH(this,sH,"f").getSelection()}},{key:"getEdges",value:function(){return gH(this,lH,"f").getSelection()}},{key:"addNodes",value:function(){var e;(e=gH(this,sH,"f")).add.apply(e,arguments)}},{key:"addEdges",value:function(){var e;(e=gH(this,lH,"f")).add.apply(e,arguments)}},{key:"deleteNodes",value:function(e){gH(this,sH,"f").delete(e)}},{key:"deleteEdges",value:function(e){gH(this,lH,"f").delete(e)}},{key:"clear",value:function(){gH(this,sH,"f").clear(),gH(this,lH,"f").clear()}},{key:"commit",value:function(){for(var e,t,n={nodes:gH(this,sH,"f").commit(),edges:gH(this,lH,"f").commit()},i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=gH(this,uH,"f")).call.apply(e,zk(t=[this,n]).call(t,r)),n}}]),e}();function IH(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return vH(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return vH(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function vH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}sH=new cH,lH=new cH,uH=new cH;var mH=function(){function e(t,n){var i=this;Ty(this,e),this.body=t,this.canvas=n,this._selectionAccumulator=new CH,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Mf(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",(function(){i.updateSelection()}))}return Fw(e,[{key:"setOptions",value:function(e){if(void 0!==e){lD(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}}},{key:"selectOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),void 0!==n&&(t=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return t}},{key:"selectAdditionalOnPoint",value:function(e){var t=!1;if(!0===this.options.selectable){var n=this.getNodeAt(e)||this.getEdgeAt(e);void 0!==n&&(t=!0,!0===n.isSelected()?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return t}},{key:"_initBaseEvent",value:function(e,t){var n={};return n.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},n.event=e,n}},{key:"generateClickEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this._initBaseEvent(t,n);if(!0===r)o.nodes=[],o.edges=[];else{var a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}void 0!==i&&(o.previousSelection=i),"click"==e&&(o.items=this.getClickedItems(n)),void 0!==t.controlEdge&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}},{key:"selectObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges;if(void 0!==e){if(e instanceof BU){var n;if(!0===t)(n=this._selectionAccumulator).addEdges.apply(n,Tk(e.edges));this._selectionAccumulator.addNodes(e)}else this._selectionAccumulator.addEdges(e);return!0}return!1}},{key:"deselectObject",value:function(e){!0===e.isSelected()&&(e.selected=!1,this._removeFromSelection(e))}},{key:"_getAllNodesOverlappingWith",value:function(e){for(var t=[],n=this.body.nodes,i=0;i<this.body.nodeIndices.length;i++){var r=this.body.nodeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}return t}},{key:"_pointerToPositionObject",value:function(e){var t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}},{key:"getNodeAt",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);return i.length>0?!0===t?this.body.nodes[i[i.length-1]]:i[i.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(e,t){for(var n=this.body.edges,i=0;i<this.body.edgeIndices.length;i++){var r=this.body.edgeIndices[i];n[r].isOverlappingWith(e)&&t.push(r)}}},{key:"_getAllEdgesOverlappingWith",value:function(e){var t=[];return this._getEdgesOverlappingWith(e,t),t}},{key:"getEdgeAt",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.canvas.DOMtoCanvas(e),i=10,r=null,o=this.body.edges,a=0;a<this.body.edgeIndices.length;a++){var s=this.body.edgeIndices[a],l=o[s];if(l.connected){var u=l.from.x,c=l.from.y,g=l.to.x,d=l.to.y,h=l.edgeType.getDistanceToEdge(u,c,g,d,n.x,n.y);h<i&&(r=s,i=h)}}return null!==r?!0===t?this.body.edges[r]:r:void 0}},{key:"_addToHover",value:function(e){e instanceof BU?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}},{key:"_removeFromSelection",value:function(e){var t;e instanceof BU?(this._selectionAccumulator.deleteNodes(e),(t=this._selectionAccumulator).deleteEdges.apply(t,Tk(e.edges))):this._selectionAccumulator.deleteEdges(e)}},{key:"unselectAll",value:function(){this._selectionAccumulator.clear()}},{key:"getSelectedNodeCount",value:function(){return this._selectionAccumulator.sizeNodes}},{key:"getSelectedEdgeCount",value:function(){return this._selectionAccumulator.sizeEdges}},{key:"_hoverConnectedEdges",value:function(e){for(var t=0;t<e.edges.length;t++){var n=e.edges[t];n.hover=!0,this._addToHover(n)}}},{key:"emitBlurEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t);!0===n.hover&&(n.hover=!1,n instanceof BU?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}},{key:"emitHoverEvent",value:function(e,t,n){var i=this._initBaseEvent(e,t),r=!1;return!1===n.hover&&(n.hover=!0,this._addToHover(n),r=!0,n instanceof BU?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),r}},{key:"hoverObject",value:function(e,t){var n=this.getNodeAt(t);void 0===n&&(n=this.getEdgeAt(t));var i=!1;for(var r in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,r)&&(void 0===n||n instanceof BU&&n.id!=r||n instanceof RW)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[r]),delete this.hoverObj.nodes[r],i=!0);for(var o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(!0===i?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(void 0===n||n instanceof RW&&n.id!=o||n instanceof BU&&!n.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],i=!0));if(void 0!==n){var a=tE(this.hoverObj.edges).length,s=tE(this.hoverObj.nodes).length;(i||n instanceof RW&&0===a&&0===s||n instanceof BU&&0===a&&0===s)&&(i=this.emitHoverEvent(e,t,n)),n instanceof BU&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(n)}!0===i&&this.body.emitter.emit("_requestRedraw")}},{key:"commitWithoutEmitting",value:function(){this._selectionAccumulator.commit()}},{key:"commitAndEmit",value:function(e,t){var n=!1,i=this._selectionAccumulator.commit(),r={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,r),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,r),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),n=!0),!0===n&&this.generateClickEvent("select",t,e)}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}},{key:"getSelectedNodes",value:function(){return this._selectionAccumulator.getNodes()}},{key:"getSelectedEdges",value:function(){return this._selectionAccumulator.getEdges()}},{key:"getSelectedNodeIds",value:function(){var e;return Jk(e=this._selectionAccumulator.getNodes()).call(e,(function(e){return e.id}))}},{key:"getSelectedEdgeIds",value:function(){var e;return Jk(e=this._selectionAccumulator.getEdges()).call(e,(function(e){return e.id}))}},{key:"setSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||void 0===t.unselectAll)&&this.unselectAll(),e.nodes){var n,i=IH(e.nodes);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=this.body.nodes[r];if(!o)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(o,t.highlightEdges)}}catch(c){i.e(c)}finally{i.f()}}if(e.edges){var a,s=IH(e.edges);try{for(s.s();!(a=s.n()).done;){var l=a.value,u=this.body.edges[l];if(!u)throw new RangeError('Edge with id "'+l+'" not found');this.selectObject(u)}}catch(c){s.e(c)}finally{s.f()}}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}},{key:"selectNodes",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}},{key:"selectEdges",value:function(e){if(!e||void 0===e.length)throw"Selection must be an array with ids";this.setSelection({edges:e})}},{key:"updateSelection",value:function(){for(var e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(var t in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,t.id)||this._selectionAccumulator.deleteEdges(t)}},{key:"getClickedItems",value:function(e){for(var t=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,r=this.body.nodes,o=i.length-1;o>=0;o--){var a=r[i[o]].getItemsOnPoint(t);n.push.apply(n,a)}for(var s=this.body.edgeIndices,l=this.body.edges,u=s.length-1;u>=0;u--){var c=l[s[u]].getItemsOnPoint(t);n.push.apply(n,c)}return n}}]),e}();function yH(e){var t=function(){if("undefined"===typeof Reflect||!RZ)return!1;if(RZ.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(RZ(Boolean,[],(function(){}))),!0}catch(N$){return!1}}();return function(){var n,i=IN(e);if(t){var r=IN(this).constructor;n=RZ(i,arguments,r)}else n=i.apply(this,arguments);return AN(this,n)}}var bH=function(){function e(){Ty(this,e)}return Fw(e,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(e){return this.fake_use(e),this.abstract()}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.fake_use(e,t,n),this.abstract()}},{key:"getTreeSize",value:function(e){return this.fake_use(e),this.abstract()}},{key:"sort",value:function(e){this.fake_use(e),this.abstract()}},{key:"fix",value:function(e,t){this.fake_use(e,t),this.abstract()}},{key:"shift",value:function(e,t){this.fake_use(e,t),this.abstract()}}]),e}(),xH=function(e){pN(n,e);var t=yH(n);function n(e){var i;return Ty(this,n),(i=t.call(this)).layout=e,i}return Fw(n,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(e){return e.x}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.x=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}},{key:"sort",value:function(e){qB(e).call(e,(function(e,t){return e.x-t.x}))}},{key:"fix",value:function(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].x+=t}}]),n}(bH),_H=function(e){pN(n,e);var t=yH(n);function n(e){var i;return Ty(this,n),(i=t.call(this)).layout=e,i}return Fw(n,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(e){return e.y}},{key:"setPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==n&&this.layout.hierarchical.addToOrdering(e,n),e.y=t}},{key:"getTreeSize",value:function(e){var t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}},{key:"sort",value:function(e){qB(e).call(e,(function(e,t){return e.y-t.y}))}},{key:"fix",value:function(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}},{key:"shift",value:function(e,t){this.layout.body.nodes[e].y+=t}}]),n}(bH),wH=Xb.every;UA({target:"Array",proto:!0,forced:!sE("every")},{every:function(e){return wH(this,e,arguments.length>1?arguments[1]:void 0)}});var kH=Kf("Array").every,EH=bh,SH=kH,TH=Array.prototype,OH=function(e){var t=e.every;return e===TH||EH(TH,e)&&t===TH.every?SH:t},PH=Cd(OH);function DH(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return jH(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jH(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function jH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function MH(e,t){var n=new lB;return IE(e).call(e,(function(e){var t;IE(t=e.edges).call(t,(function(e){e.connected&&n.add(e)}))})),IE(n).call(n,(function(e){var n=e.from.id,i=e.to.id;null==t[n]&&(t[n]=0),(null==t[i]||t[n]>=t[i])&&(t[i]=t[n]+1)})),t}function NH(e,t,n,i){var r,o,a=hT(null),s=QL(r=Tk(dZ(i).call(i))).call(r,(function(e,t){return e+1+t.edges.length}),0),l=n+"Id",u="to"===n?1:-1,c=DH(i);try{var g,d=function(){var r=Sk(o.value,2),c=r[0],g=r[1];if(!i.has(c)||!e(g))return 0;a[c]=0;for(var d,h,p=[g],A=0,f=function(){var e,r;if(!i.has(c))return 0;var o=a[d.id]+u;if(IE(e=PS(r=d.edges).call(r,(function(e){return e.connected&&e.to!==e.from&&e[n]!==d&&i.has(e.toId)&&i.has(e.fromId)}))).call(e,(function(e){var i=e[l],r=a[i];(null==r||t(o,r))&&(a[i]=o,p.push(e[n]))})),A>s)return{v:{v:MH(i,a)}};++A};d=p.pop();)if(0!==(h=f())&&h)return h.v};for(c.s();!(o=c.n()).done;)if(0!==(g=d())&&g)return g.v}catch(h){c.e(h)}finally{c.f()}return a}var zH=function(){function e(){Ty(this,e),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return Fw(e,[{key:"addRelation",value:function(e,t){void 0===this.childrenReference[e]&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),void 0===this.parentReference[t]&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}},{key:"checkIfTree",value:function(){for(var e in this.parentReference)if(this.parentReference[e].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(e,t){void 0!==t&&void 0===this.trees[e.id]&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}},{key:"ensureLevel",value:function(e){void 0===this.levels[e]&&(this.levels[e]=0)}},{key:"getMaxLevel",value:function(e){var t=this,n={};return function e(i){if(void 0!==n[i])return n[i];var r=t.levels[i];if(t.childrenReference[i]){var o=t.childrenReference[i];if(o.length>0)for(var a=0;a<o.length;a++)r=Math.max(r,e(o[a]))}return n[i]=r,r}(e)}},{key:"levelDownstream",value:function(e,t){void 0===this.levels[t.id]&&(void 0===this.levels[e.id]&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}},{key:"setMinLevelToZero",value:function(e){var t=1e9;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==this.levels[n]&&(t=Math.min(this.levels[n],t));for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&void 0!==this.levels[i]&&(this.levels[i]-=t)}},{key:"getTreeSize",value:function(e,t){var n=1e9,i=-1e9,r=1e9,o=-1e9;for(var a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){var s=e[a];n=Math.min(s.x,n),i=Math.max(s.x,i),r=Math.min(s.y,r),o=Math.max(s.y,o)}return{min_x:n,max_x:i,min_y:r,max_y:o}}},{key:"hasSameParent",value:function(e,t){var n=this.parentReference[e.id],i=this.parentReference[t.id];if(void 0===n||void 0===i)return!1;for(var r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(n[r]==i[o])return!0;return!1}},{key:"inSameSubNetwork",value:function(e,t){return this.trees[e.id]===this.trees[t.id]}},{key:"getLevels",value:function(){return tE(this.distributionOrdering)}},{key:"addToOrdering",value:function(e,t){void 0===this.distributionOrdering[t]&&(this.distributionOrdering[t]=[]);var n=!1,i=this.distributionOrdering[t];for(var r in i)if(i[r]===e){n=!0;break}n||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}]),e}(),RH=function(){function e(t){Ty(this,e),this.body=t,this._resetRNG(Math.random()+":"+oE()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Mf(this.options,this.defaultOptions),this.bindEventListeners()}return Fw(e,[{key:"bindEventListeners",value:function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_dataLoaded",(function(){e.layoutNetwork()})),this.body.emitter.on("_resetHierarchicalLayout",(function(){e.setupHierarchicalLayout()})),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",(function(){if(!0===e.options.hierarchical.enabled){var t=e.direction.curveType();e.body.emitter.emit("_forceDisableDynamicCurves",t,!1)}}))}},{key:"setOptions",value:function(e,t){if(void 0!==e){var n=this.options.hierarchical,i=n.enabled;if(lD(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),_D(this.options,e,"hierarchical"),void 0!==e.randomSeed&&this._resetRNG(e.randomSeed),!0===n.enabled)return!0===i&&this.body.emitter.emit("refresh",!0),"RL"===n.direction||"DU"===n.direction?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(!0===i)return this.body.emitter.emit("refresh"),cD(t,this.optionsBackup)}return t}},{key:"_resetRNG",value:function(e){this.initialRandomSeed=e,this._rng=XP(this.initialRandomSeed)}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(e){if(!0===this.options.hierarchical.enabled){var t=this.optionsBackup.physics;void 0===e.physics||!0===e.physics?(e.physics={enabled:void 0===t.enabled||t.enabled,solver:"hierarchicalRepulsion"},t.enabled=void 0===t.enabled||t.enabled,t.solver=t.solver||"barnesHut"):"object"===Mw(e.physics)?(t.enabled=void 0===e.physics.enabled||e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):!1!==e.physics&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});var n=this.direction.curveType();if(void 0===e.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(void 0===e.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if("boolean"===typeof e.edges.smooth)this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{var i=e.edges.smooth;void 0!==i.type&&"dynamic"!==i.type&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:void 0===i.enabled||i.enabled,type:void 0===i.type?"dynamic":i.type,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}},e.edges.smooth={enabled:void 0===i.enabled||i.enabled,type:n,roundness:void 0===i.roundness?.5:i.roundness,forceDirection:void 0!==i.forceDirection&&i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}},{key:"positionInitially",value:function(e){if(!0!==this.options.hierarchical.enabled){this._resetRNG(this.initialRandomSeed);for(var t=e.length+50,n=0;n<e.length;n++){var i=e[n],r=2*Math.PI*this._rng();void 0===i.x&&(i.x=t*Math.cos(r)),void 0===i.y&&(i.y=t*Math.sin(r))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var e=this.body.nodeIndices,t=0,n=0;n<e.length;n++){!0===this.body.nodes[e[n]].predefinedPosition&&(t+=1)}if(t<.5*e.length){var i=0,r=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>r){for(var a=e.length;e.length>r&&i<=10;){i+=1;var s=e.length;if(i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o),s==e.length&&i%3!==0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*a)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();for(var l=0;l<e.length;l++){var u=this.body.nodes[e[l]];!1===u.predefinedPosition&&(u.x+=70*(.5-this._rng()),u.y+=70*(.5-this._rng()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var e=XW.getRangeCore(this.body.nodes,this.body.nodeIndices),t=XW.findCenter(e),n=0;n<this.body.nodeIndices.length;n++){var i=this.body.nodes[this.body.nodeIndices[n]];i.x-=t.x,i.y-=t.y}}},{key:"_declusterAll",value:function(){for(var e=!0;!0===e;){e=!1;for(var t=0;t<this.body.nodeIndices.length;t++)!0===this.body.nodes[this.body.nodeIndices[t]].isCluster&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));!0===e&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var e,t,n=!1,i=!1;for(t in this.lastNodeOnLevel={},this.hierarchical=new zH,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(void 0!==(e=this.body.nodes[t]).options.level?(n=!0,this.hierarchical.levels[t]=e.options.level):i=!0);if(!0===i&&!0===n)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===i){var r=this.options.hierarchical.sortMethod;"hubsize"===r?this._determineLevelsByHubsize():"directed"===r?this._determineLevelsDirected():"custom"===r&&this._determineLevelsCustomCallback()}for(var o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);var a=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(a),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var e=this,t=!1,n={},i=function(t,n){var i=e.hierarchical.trees;for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&i[r]===t&&e.direction.shift(r,n)},r=function(){for(var t=[],n=0;n<e.hierarchical.numTrees();n++)t.push(e.direction.getTreeSize(n));return t},o=function t(n,i){if(!i[n.id]&&(i[n.id]=!0,e.hierarchical.childrenReference[n.id])){var r=e.hierarchical.childrenReference[n.id];if(r.length>0)for(var o=0;o<r.length;o++)t(e.body.nodes[r[o]],i)}},a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,i=1e9,r=1e9,o=1e9,a=-1e9;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var l=e.body.nodes[s],u=e.hierarchical.levels[l.id],c=e.direction.getPosition(l),g=Sk(e._getSpaceAroundNode(l,t),2),d=g[0],h=g[1];i=Math.min(d,i),r=Math.min(h,r),u<=n&&(o=Math.min(c,o),a=Math.max(c,a))}return[o,a,i,r]},s=function(t,n,i){for(var r=e.hierarchical,o=0;o<n.length;o++){var a=n[o],s=r.distributionOrdering[a];if(s.length>1)for(var l=0;l<s.length-1;l++){var u=s[l],c=s[l+1];r.hasSameParent(u,c)&&r.inSameSubNetwork(u,c)&&t(u,c,i)}}},l=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.direction.getPosition(n),l=e.direction.getPosition(i),u=Math.abs(l-s),c=e.options.hierarchical.nodeSpacing;if(u>c){var g={},d={};o(n,g),o(i,d);var h=function(t,n){var i=e.hierarchical.getMaxLevel(t.id),r=e.hierarchical.getMaxLevel(n.id);return Math.min(i,r)}(n,i),p=a(g,h),A=a(d,h),f=p[1],C=A[0],I=A[2];if(Math.abs(f-C)>c){var v=f-C+c;v<-I+c&&(v=-I+c),v<0&&(e._shiftBlock(i.id,v),t=!0,!0===r&&e._centerParent(i))}}},u=function(i,r){for(var s=r.id,l=r.edges,u=e.hierarchical.levels[r.id],c=e.options.hierarchical.levelSeparation*e.options.hierarchical.levelSeparation,g={},d=[],h=0;h<l.length;h++){var p=l[h];if(p.toId!=p.fromId){var A=p.toId==s?p.from:p.to;g[l[h].id]=A,e.hierarchical.levels[A.id]<u&&d.push(p)}}var f=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==g[n[r].id]){var o=e.direction.getPosition(g[n[r].id])-t;i+=o/Math.sqrt(o*o+c)}return i},C=function(t,n){for(var i=0,r=0;r<n.length;r++)if(void 0!==g[n[r].id]){var o=e.direction.getPosition(g[n[r].id])-t;i-=c*Math.pow(o*o+c,-1.5)}return i},I=function(t,n){for(var i=e.direction.getPosition(r),o={},a=0;a<t;a++){var s=f(i,n),l=C(i,n);if(void 0!==o[i-=Math.max(-40,Math.min(40,Math.round(s/l)))])break;o[i]=a}return i},v=I(i,d);!function(i){var s=e.direction.getPosition(r);if(void 0===n[r.id]){var l={};o(r,l),n[r.id]=l}var u=a(n[r.id]),c=u[2],g=u[3],d=i-s,h=0;d>0?h=Math.min(d,g-e.options.hierarchical.nodeSpacing):d<0&&(h=-Math.min(-d,c-e.options.hierarchical.nodeSpacing)),0!=h&&(e._shiftBlock(r.id,h),t=!0)}(v),function(n){var i=e.direction.getPosition(r),o=Sk(e._getSpaceAroundNode(r),2),a=o[0],s=o[1],l=n-i,u=i;l>0?u=Math.min(i+(s-e.options.hierarchical.nodeSpacing),n):l<0&&(u=Math.max(i-(a-e.options.hierarchical.nodeSpacing),n)),u!==i&&(e.direction.setPosition(r,u),t=!0)}(v=I(i,l))};!0===this.options.hierarchical.blockShifting&&(function(n){var i=e.hierarchical.getLevels();i=TE(i).call(i);for(var r=0;r<n&&(t=!1,s(l,i,!0),!0===t);r++);}(5),function(){for(var t in e.body.nodes)Object.prototype.hasOwnProperty.call(e.body.nodes,t)&&e._centerParent(e.body.nodes[t])}()),!0===this.options.hierarchical.edgeMinimization&&function(n){var i=e.hierarchical.getLevels();i=TE(i).call(i);for(var r=0;r<n;r++){t=!1;for(var o=0;o<i.length;o++)for(var a=i[o],s=e.hierarchical.distributionOrdering[a],l=0;l<s.length;l++)u(1e3,s[l]);if(!0!==t)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var t=e.hierarchical.getLevels();t=TE(t).call(t);for(var n=0;n<t.length;n++)for(var i=t[n],r=e.hierarchical.distributionOrdering[i],o=0;o<r.length;o++)e._centerParent(r[o])}(),function(){for(var t=r(),n=0,o=0;o<t.length-1;o++){n+=t[o].max-t[o+1].min+e.options.hierarchical.treeSpacing,i(o+1,n)}}()}},{key:"_getSpaceAroundNode",value:function(e,t){var n=!0;void 0===t&&(n=!1);var i=this.hierarchical.levels[e.id];if(void 0!==i){var r=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i],s=1e9,l=1e9;if(0!==r){var u=a[r-1];if(!0===n&&void 0===t[u.id]||!1===n)s=o-this.direction.getPosition(u)}if(r!=a.length-1){var c=a[r+1];if(!0===n&&void 0===t[c.id]||!1===n){var g=this.direction.getPosition(c);l=Math.min(l,g-o)}}return[s,l]}return[0,0]}},{key:"_centerParent",value:function(e){if(this.hierarchical.parentReference[e.id])for(var t=this.hierarchical.parentReference[e.id],n=0;n<t.length;n++){var i=t[n],r=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(void 0!==o){var a=this._getCenterPosition(o),s=this.direction.getPosition(r),l=Sk(this._getSpaceAroundNode(r),2),u=l[0],c=l[1],g=s-a;(g<0&&Math.abs(g)<c-this.options.hierarchical.nodeSpacing||g>0&&Math.abs(g)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(r,a)}}}},{key:"_placeNodesByHierarchy",value:function(e){for(var t in this.positionedNodes={},e)if(Object.prototype.hasOwnProperty.call(e,t)){var n,i=tE(e[t]);i=this._indexArrayToNodes(i),qB(n=this.direction).call(n,i);for(var r=0,o=0;o<i.length;o++){var a=i[o];if(void 0===this.positionedNodes[a.id]){var s=this.options.hierarchical.nodeSpacing,l=s*r;r>0&&(l=this.direction.getPosition(i[o-1])+s),this.direction.setPosition(a,l,t),this._validatePositionAndContinue(a,t,l),r++}}}}},{key:"_placeBranchNodes",value:function(e,t){var n,i=this.hierarchical.childrenReference[e];if(void 0!==i){for(var r=[],o=0;o<i.length;o++)r.push(this.body.nodes[i[o]]);qB(n=this.direction).call(n,r);for(var a=0;a<r.length;a++){var s=r[a],l=this.hierarchical.levels[s.id];if(!(l>t&&void 0===this.positionedNodes[s.id]))return;var u=this.options.hierarchical.nodeSpacing,c=void 0;c=0===a?this.direction.getPosition(this.body.nodes[e]):this.direction.getPosition(r[a-1])+u,this.direction.setPosition(s,c,l),this._validatePositionAndContinue(s,l,c)}var g=this._getCenterPosition(r);this.direction.setPosition(this.body.nodes[e],g,t)}}},{key:"_validatePositionAndContinue",value:function(e,t,n){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[t]){var i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(n-i<this.options.hierarchical.nodeSpacing){var r=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,r)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}},{key:"_indexArrayToNodes",value:function(e){for(var t=[],n=0;n<e.length;n++)t.push(this.body.nodes[e[n]]);return t}},{key:"_getDistribution",value:function(){var e,t,n={};for(e in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,e)){t=this.body.nodes[e];var i=void 0===this.hierarchical.levels[e]?0:this.hierarchical.levels[e];this.direction.fix(t,i),void 0===n[i]&&(n[i]={}),n[i][e]=t}return n}},{key:"_getActiveEdges",value:function(e){var t=this,n=[];return hD(e.edges,(function(e){var i;-1!==cT(i=t.body.edgeIndices).call(i,e.id)&&n.push(e)})),n}},{key:"_getHubSizes",value:function(){var e=this,t={};hD(this.body.nodeIndices,(function(n){var i=e.body.nodes[n],r=e._getActiveEdges(i).length;t[r]=!0}));var n=[];return hD(t,(function(e){n.push(Number(e))})),qB(n).call(n,(function(e,t){return t-e})),n}},{key:"_determineLevelsByHubsize",value:function(){for(var e=this,t=function(t,n){e.hierarchical.levelDownstream(t,n)},n=this._getHubSizes(),i=function(){var i=n[r];if(0===i)return 1;hD(e.body.nodeIndices,(function(n){var r=e.body.nodes[n];i===e._getActiveEdges(r).length&&e._crawlNetwork(t,n)}))},r=0;r<n.length&&!i();++r);}},{key:"_determineLevelsCustomCallback",value:function(){var e=this;this._crawlNetwork((function(t,n,i){var r=e.hierarchical.levels[t.id];void 0===r&&(r=e.hierarchical.levels[t.id]=1e5);var o=(XW.cloneOptions(t,"node"),XW.cloneOptions(n,"node"),void XW.cloneOptions(i,"edge"));e.hierarchical.levels[n.id]=r+o})),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var e,t=this,n=QL(e=this.body.nodeIndices).call(e,(function(e,n){return e.set(n,t.body.nodes[n]),e}),new qM);"roots"===this.options.hierarchical.shakeTowards?this.hierarchical.levels=function(e){return NH((function(t){var n,i;return PH(n=PS(i=t.edges).call(i,(function(t){return e.has(t.toId)}))).call(n,(function(e){return e.from===t}))}),(function(e,t){return t<e}),"to",e)}(n):this.hierarchical.levels=function(e){return NH((function(t){var n,i;return PH(n=PS(i=t.edges).call(i,(function(t){return e.has(t.toId)}))).call(n,(function(e){return e.to===t}))}),(function(e,t){return t>e}),"from",e)}(n),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var e=this;this._crawlNetwork((function(t,n){e.hierarchical.levels[n.id]>e.hierarchical.levels[t.id]&&e.hierarchical.addRelation(t.id,n.id)})),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1?arguments[1]:void 0,i={},r=function n(r,o){if(void 0===i[r.id]){var a;e.hierarchical.setTreeIndex(r,o),i[r.id]=!0;for(var s=e._getActiveEdges(r),l=0;l<s.length;l++){var u=s[l];!0===u.connected&&(a=u.toId==r.id?u.from:u.to,r.id!=a.id&&(t(r,a,u),n(a,o)))}}};if(void 0===n)for(var o=0,a=0;a<this.body.nodeIndices.length;a++){var s=this.body.nodeIndices[a];if(void 0===i[s])r(this.body.nodes[s],o),o+=1}else{var l=this.body.nodes[n];if(void 0===l)return void console.error("Node not found:",n);r(l)}}},{key:"_shiftBlock",value:function(e,t){var n=this,i={};!function e(r){if(!i[r]){i[r]=!0,n.direction.shift(r,t);var o=n.hierarchical.childrenReference[r];if(void 0!==o)for(var a=0;a<o.length;a++)e(o[a])}}(e)}},{key:"_findCommonParent",value:function(e,t){var n=this,i={};return function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var a=r[o];t[a]=!0,e(t,a)}}(i,e),function e(t,i){var r=n.hierarchical.parentReference[i];if(void 0!==r)for(var o=0;o<r.length;o++){var a=r[o];if(void 0!==t[a])return{foundParent:a,withChild:i};var s=e(t,a);if(null!==s.foundParent)return s}return{foundParent:null,withChild:i}}(i,t)}},{key:"setDirectionStrategy",value:function(){var e="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction;this.direction=e?new xH(this):new _H(this)}},{key:"_getCenterPosition",value:function(e){for(var t=1e9,n=-1e9,i=0;i<e.length;i++){var r=void 0;if(void 0!==e[i].id)r=e[i];else{var o=e[i];r=this.body.nodes[o]}var a=this.direction.getPosition(r);t=Math.min(t,a),n=Math.max(n,a)}return.5*(t+n)}}]),e}();function FH(e,t){var n="undefined"!==typeof Ok&&Sy(e)||e["@@iterator"];if(!n){if(Gk(e)||(n=function(e,t){var n;if(!e)return;if("string"===typeof e)return LH(e,t);var i=Rk(n=Object.prototype.toString.call(e)).call(n,8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return sy(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return LH(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function LH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}uC("div.vis-network div.vis-manipulation {\n  box-sizing: content-box;\n\n  border-width: 0;\n  border-bottom: 1px;\n  border-style: solid;\n  border-color: #d6d9d8;\n  background: #ffffff; /* Old browsers */\n  background: -moz-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* FF3.6+ */\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0%, #ffffff),\n    color-stop(48%, #fcfcfc),\n    color-stop(50%, #fafafa),\n    color-stop(100%, #fcfcfc)\n  ); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* Opera 11.10+ */\n  background: -ms-linear-gradient(\n    top,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* IE10+ */\n  background: linear-gradient(\n    to bottom,\n    #ffffff 0%,\n    #fcfcfc 48%,\n    #fafafa 50%,\n    #fcfcfc 100%\n  ); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#fcfcfc',GradientType=0 ); /* IE6-9 */\n\n  padding-top: 4px;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 28px;\n}\n\ndiv.vis-network div.vis-edit-mode,\ndiv.vis-network button.vis-edit-mode {\n  position: absolute;\n  left: 0;\n  top: 5px;\n  height: 30px;\n}\n\n/* FIXME: shouldn't the vis-close button be a child of the vis-manipulation div? */\n\ndiv.vis-network button.vis-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 30px;\n  height: 30px;\n\n  background-color: transparent;\n  background-position: 20px 3px;\n  background-repeat: no-repeat;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADvGaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3htcDpDcmVhdGVEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNC0wMi0xNFQxMjowNToxNyswMTowMDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjk4MmM2MGIwLWUzZjMtMDk0MC04MjU0LTFiZTliNWE0ZTE4MzwveG1wTU06T3JpZ2luYWxEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06SGlzdG9yeT4KICAgICAgICAgICAgPHJkZjpTZXE+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmNyZWF0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo5ODJjNjBiMC1lM2YzLTA5NDAtODI1NC0xYmU5YjVhNGUxODM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMTRUMTE6NTU6MzUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjIxODYxNmM2LTM1MWMtNDI0OS04YWFkLWJkZDQ2ZTczNWE0NDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0xNFQxMTo1NTozNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjU0YmM5YmQtMWI2Yi1jYjRhLTllOWQtNWY2MzgxNDVjZjk0PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAyLTE0VDEyOjA1OjE3KzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+cZUZMwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAA2ElEQVR42gDLADT/AS0tLUQFBQUVFxcXtPHx8fPl5eUNCAgITCkpKesEHx8fGgYGBjH+/v4a+Pj4qgQEBFU6OjodMTExzwQUFBSvEBAQEfX19SD19fVqNDQ0CElJSd/9/f2vAwEBAfrn5+fkBwcHLRYWFgsXFxfz29vbo9LS0uwDDQ0NDfPz81orKysXIyMj+ODg4Avh4eEa/f391gMkJCRYPz8/KUhISOMCAgKh8fHxHRsbGx4UFBQQBDk5OeY7Ozv7CAgItPb29vMEBASaJSUlTQ0NDesDAEwpT0Ko8Ri2AAAAAElFTkSuQmCC');\n  border: none;\n  cursor: pointer;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network button.vis-close:hover {\n  opacity: 0.6;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button,\ndiv.vis-network div.vis-edit-mode button.vis-button {\n  float: left;\n  font-family: verdana;\n  font-size: 12px;\n  border: none;\n  box-sizing: content-box;\n  -moz-border-radius: 15px;\n  border-radius: 15px;\n  background-color: transparent;\n  background-position: 0px 0px;\n  background-repeat: no-repeat;\n  height: 24px;\n  margin-left: 10px;\n  cursor: pointer;\n  padding: 0px 8px 0px 8px;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.5);\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-back {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpmOWQ3OGY4ZC1lNzY0LTc1NDgtODZiNy1iNmQ1OGMzZDg2OTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTU6MDE6MDkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmI2YjQwMjVkLTAxNjQtMzU0OC1hOTdlLTQ4ZmYxMWM3NTYzMzwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNTowMTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOmY5ZDc4ZjhkLWU3NjQtNzU0OC04NmI3LWI2ZDU4YzNkODY5Nzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4jq1U/AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAVTSURBVHjanFVfTFNnFP+d77ve8qeVFbBrpcVgRrCRFikFByLxwSAaE32oRCHD6JMxxhhn8G2RxxH3MsOTbyYsmCAxPMmMMYtkIUYmK60OO0qAK23BFlNob0uh3x7WS5jLZPpLbm6+k/P9zrm5v9855PF4UFhYCABgjIExBgAgIqRSqRIi6gDQRkQ1RGTB3wgR0e8AHgH4Sa/XR/EBiAiJRAJ04cIF5Ofng4g2n0gkUkxENwF0c843LzHGQEQQQkCLExEA9ALotVgsUQAQQmgNQhJCbF5kjCEUCl0moj4t5na7fTU1NUpVVVXUYrEkASAcDhe8efOmxOfzWScmJqoBdBNR99LS0hWz2dynNSSEAF28eBGFhYVgjCEcDn9HRD1EhIMHD3o9Hs9kWVlZAh9BKBQqGB4edr58+dKZ+6JbJpOpBwBWV1fB6+rqIMsyIpHIFcZYL2MMra2tY5cuXRrfuXNnBtvAYDBk3G63oqpqZm5uzgrgSDKZjBoMhueZTAbc5XIhFouVEtFTxhiOHTs2dv78eS8+Efv374+oqpqZnZ21cs5PJJPJPlmWkyynnBuMMTQ0NHi7uro+mVyDx+Pxulwu71ZOlkqlSonoJhGhvb39s8k1nDx50ss5hyRJN9PpdKlERB2aWjSVaEilUvzBgwcORVEs5eXloXPnzk1sV8BkMiUdDofP7/dXZ7PZDilnIhw4cGBeS1pbW2P37t1zBwKBikQiUUREWFhYsHHO0d7evm0Ru90+/+rVq2rO+XGJiJxEhMrKyhgAjI6OWoeHh5tWVla+4JzDZrO9bW5unhwcHGzz+/32np4e+xaDbfoHAMxmc6ijo2O0oqIiJkkSNjY2HBIRmRljMJvNyWfPnln7+/tPMMZQXl6+0NbW9qK2tjYcj8floaEhqKpq+HCkbD3PzMwYBgYG0NXV9UuusFna2kEgELAQEQ4dOvSis7PzN41Ar9dnrl27NqCNkv/C3bt3zy4tLVmICJxzEBFJRBQmorLFxcWCqqqq0Pj4eO3Y2JhbUZTdra2tL2pra8OJRGLHnTt3zkqS9K+huHU4EhHMZnMoGo0W5OIh7nK5jjLGKq1W69vDhw8rRqMxMjc3t2t5eXnX5ORklc/nM+fl5SWnpqa+0uv1K/n5+Ws6nW5NluXNd15e3ppOp1uz2WyzZ86cGQ0Gg6ZAIFCZzWZ/lYjokRDiuN/vt7W0tMw3NTUpbrd78P79++5gMFgRiUTKHj58WMYYQ3V19etTp05tq6Lp6Wkb5xxCiEfc7XZPM8a6FxcXTfX19a/1en2Gcy5qamreNjY2/qGq6joRZe12+9Tp06e3JY/FYgWPHz8+mhvr3/CWlpbk+vp6PmOseWVlBS6XS9GSJUkSdrs93NDQ8Oe+ffvC/8fJIyMjddFo9Esi6pVleVjT2m0A8Hq9zqGhIefnjoknT544A4GAM/eDbxMReFNTE0pKSpKqqsaI6Pj8/LxVVdWM3W6PfCr5xMTE1zllXS0uLn6aSqXAGxsbodPpoNfrn6uqCs75EUVRrJFIZMfevXsXdTrdxseIE4mEPDIyUu/3++tynd8yGo29RIR0Og26fv06ioqKwBgD5xzv3r27zBjrIyJIkgSHwzFZWVmp7NmzJ1ZaWpoAgGg0WqgoSvHMzIw1GAw6tvjhitFo7NPW5fv370Hd3d0oKCgA53zTQMvLy+VCiKuSJH0rSdLmztZytIWv5RPRD0T0Y3Fx8dzWfby6ugopHo//w4mcc8iyPMc5v5FOp7/PZrOdQohWInIC2C2EgBBigYi8Qoifs9lsv06nWyIiaFxagXg8jr8GAGxuIe7LBeWhAAAAAElFTkSuQmCC');\n}\n\ndiv.vis-network div.vis-manipulation div.vis-none:hover {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n  cursor: default;\n}\ndiv.vis-network div.vis-manipulation div.vis-none:active {\n  box-shadow: 1px 1px 8px rgba(0, 0, 0, 0);\n}\ndiv.vis-network div.vis-manipulation div.vis-none {\n  padding: 0px;\n  line-height: 23px;\n}\ndiv.vis-network div.vis-manipulation div.notification {\n  margin: 2px;\n  font-weight: bold;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-add {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0YjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo2OWVmYWE1NS01ZTI5LTIzNGUtYTUzMy0xNDkxYjM1NDNmYmE8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDA6MjkrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVkNWIwNmQwLTVmMjAtOGE0NC1hMzIwLWZmMTEzMzQwNDc0Yjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MDoyOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjY5ZWZhYTU1LTVlMjktMjM0ZS1hNTMzLTE0OTFiMzU0M2ZiYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz5WKqp9AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYXSURBVHjafFZtUFTXGX7e9z27sveuMCwYV8ElrA7YSFYHtJUPkaaI0aRqG8wP00zUzljDINNSA/2ROtpO24SxnahlxjYd7SSjmUkymcxYlDhQPzHGisEVp8HwYWCVVVgEsrsuLnL74+5uqTF9Z+7cO/d8PO95zvO851BlZSV0XQcAMDOYGQBARDhX3JRmMDYZwLPMWAzGHACYIgwS46oBNBNwtOL8CwE8EkSEUCgE2rJlC2w2G4go8Zwo/bMDgnoG6gxLfAAAYvPDMCCszKTAMIAGAhrWnf15AAAMwwARIRKJgDZv3gy73Q4iAjPjxIr9VVOMRhbAYKB8zvrO0llrfEsdKwLZek6YAPSFvtSu3GtLawu0ZJ6625SHGBQB1T88t6MxvopgMAjaunUrdF0HM+P4yv27DMYeJmB1RqW3Jnf3tQX2p0L4P9EXuqEd7PmDp+XuMU9sRbvXnnt1TxxACgoKYLVacbzsQDUJGkSATe6qi28uPtzusM6Kxie6NHLGUX3lxVUNX9StPHnn4wy3njuUYcu6n2pNi66avcEXnByP/nv8aiaIyrqz2gO5A9+9FI1GIfn5+WhZdTAdjFMkwMvZOy7uWnTAOz3L4Yk71m3t69fdfTDoUGTBeHTUfiHQ6lo7Z2OXJvpDAChKe+aOCdKRKWxZ2+1qb3yyd3GYmRkQ7GQBVs99wfv6on3eR2k4PdTkDEbH7IuS8/svld/561PJS/pDk1/bzwx94pze7xc5v/H+YPY6r5BAkdrJzODTK46lE6PeYEJt7u+8j+OZwCBiEAgAoNgKJoEQf6PvNvdrXgtZoNhSf7q0KZ3B2AQmVMze0Jmt54S/DcDCVig2NcvEUGxJAE4Pl+YOr0iv6BRSIPAmBeBZAmHlE2sH4p1uhrq1s0MnnEQMBsf8wRASAICQQCCITN1X7/sOuc0kgOVp3/fPs2WHv+coG7gQOJUnLGsUCTxEjPzUohEA+NfIWUdtx0+efzA1kSSkIGyBAQNCKgHAEBAJ3u79U7kiAcWoem/gb5Fd33nrH3kp+SMWtuAB+GllMJxMjCx9QRgA3uiqL5kwHiTlpxb3smlfMDGYGPP1hcMAkJvs8ScpfdJspdj+MK6Pf+5+u29vyb4lR4+BGEziVESAkEpw6Av1OhUpHCz4qOXbzFWz4Ncdj/v/o08Lt92ODDgZDCEFJYoUGH4mzugP92puPTf0pD3H7wvfdFZdqSxnMtWjoGAAmG9fOLxjwesdjT2/XzIQ7ks3sycYMSEwGHNtWf5bkX5NkYCJBxUBXiGV0XHvosOt54Zey33j/K+8P33++vjnbiGJbbLE+J9SANAb6nJ2B79wcUwETAwQQ7fMjPzMvfP8ja87HUIKMOiaAqMZhrGmLdAy78eZrwwsTS0eObTs+IdtgVanxBUExqGbb5VzrIISGIoUXsmqbgEhJldCQWqRf27SvPAn/o8XmgLhZsUkR4ll37mhk3n94Z4OlzY/7NLcYZfm7o1z2zT4vsvUNSXqprBCkmiTFbPX90/fh8GIT2sf+zTPdDMf4dVnNg4z+E0ixsGeBs9jd5ViSgLHjCb/peaR+MD3d4/ZJg2llyuG2Vwy7QWAs8PNnn1f7vkGSGxAzE6mk+kxkx/p/4unffSCR0hAoL1EBCYiPNdWNcwkNQTCR7feWX6g+7f/A7I8rcw/U6UEe0Ndrhc/W7mtL9ztmqlSgstSS/zTJ28dalpOpkRryrwbhwBACgsLMWPGDOT4ll3qyeqAkJTdCF7P/CrUY/GkLL1rE+2hTbSH8+0Lb/WEuhzhyaA905blf9Vd/895WnZwLHrPevir/cvOB1oLYpTtLrm6oYGIMDExAaqtrUVKSgqYGSKCk0WHq5ikkWEWtNL0imv5qUW+RclLRjJsrhBAuH1/QL8R7HR4xy5nescuP23E6hOA6mLv+sb4uTw6Ogqqq6uDpmkQkcStorX4XRcM1FjZ+kvFFjCJKU1WpkNJJUqIMtX1RyLeX3JtQ0JRhmGYZ/L27duRnJycuFGISOJ9pqh5lrB6iYgqGOxRrOaa54DcZmKvkJxk8JHC9rKh+KVhOsD4+Dj+MwADIf8n5m4xGwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-edit,\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozOWNhNzE5ZC03YzNlLTUyNGEtYmY1NS03NGVmMmM1MzE0YTc8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDVUMTQ6MTI6MjUrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjY5OTM3ZGZjLTJjNzQtYTU0YS05OTIzLTQyMmZhNDNkMjljNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNVQxNDoxMjoyNSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjM5Y2E3MTlkLTdjM2UtNTI0YS1iZjU1LTc0ZWYyYzUzMTRhNzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ykninAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYpSURBVHjafFZtTFvnFX7Oea+NudiY2Hwam4CBlgQwXdKREDKUoYg0jbRJ29RJ2VZ1mjRFUxSpA3VTfkzJfkQbS7spU6rtx5Z2UtppScjaHxvLuiatWi2jLEoMIUDCh23g2gbj7+tPuPvhOurawPl1dc99n+c55z33fV46ceIEZFkGADAziAgAQERoe/9ZK4GPM/AcgbsIXAcABCgMvkfAqAa89eDoJyF8LogIqqqChoaGYDAYHr8kItS8uc8iIH6iAa9IkAo5EAQX8pqmgUVBCBggYFgDhv0/GAsBgKZpICJkMhnQ4OAgZFkGEYGZUXmp+0cS+CKBwWA0DVRPOg5Zl2q6zaHyJlnVAMQXVTkwHrUqH0Xsvn+tdQAAMQDgpPLS2MViFY8rkGUZzIzaS/t/xqCzGggtz9e697zsnKhoLUtim4jOq/LE6x7X0nsh16dEZ5a/O3a2SCAOHjwInU6Hujd6ThJ4mCDQ+b2G232v7v6vwarPbQn8MGlMr+X0kpE3Wr5Zt5hL5HPhqYSdQIfKJ+yhxDPKWC6Xg+jt7UXD5b5KBt1kCHS85Ljd8/On3NupfnhFaZj4rWff1B98B1R/hnUmKd36bdtCNl4g0en4edNE/cXwLq8qMTMIPAQwmo/WuHvObA8+9c58k/dKtD0TyZWXN5YGA7ej7epKxspM//7SoNOdWc/Jyq2wiwhDzPxT8cP0jys3VMM7OmL0/77zn4Ydui3b8uiK0jD7RrA77c9Wd57cefPpF+2T6bWsFPWkaiPTCWvTsZpHFU+XrS+8G3AR08F6X+1FJvBxQQzHQOWk2SmrW4FPX/U2LVwPuDZj+fJKl2khPpeyAqA9rzR/YqwuiWXX8taN/CabGkrVuq9YJlkQQDjOAJ5jAhz9Vt9W4N5/rNp8I+vtMV/aZm4zLnUNNt0urdYnF68HWoJj4Wo1mLGUNRr8LEgDgNqeCh8xQIKOsgC7iAjVe83rT9zQa8uNM28u70kspessu8q8zq/V3NcZpVzb9+0zmVhOvvvrhaMVzrJg0zeq7xMVCCwdpnWSGBqjUyJwLTFgbvxie3w31uoWR1Y74r60rdxZqrR8q85t2W2MGCp12bm/KC3hyaSTiMhxuGrKcahqpbjOaDOoEhOEoFqJQCCJvqA85I6bfTdDjQlf2lbxVNlS6wt19yy7jRHZZlDnrinNj/6sHMhnNw2Ogco7O79e5fm/xQywRBBCEAuwn4gQ96bkYj4Vyuq9N1Z3Bj4Od5bs0MXt/dZZ21ctiqFan174q985P+Lfp+U1g7XDON/1ctP458WlVjLyJhOISZE0wM0S1QfuRC3lTjkJAKKEtNC9eIOhSh9xHLZOJRZTFuXDsEoStLkR/768ummsaJG9Pb9oe+9J+xaeSVokiQDSJphAo5uaBuWjiKP4QTqS1cUWU7ayesN66wu22frD1vmVW6GW6T8u9eVjGyZzs+w78Nqu0a2mbvVu1KEJQAgeZRL0liQYyx+GOmKeQpu0rMYsAJPNEFGD2dLodLIy6c9Ys7G8yeSUl3tf2/X3rcBVJSOv34l3sCBogi7z1LH/rBHjl4IJ93/ncQFAnjeImJD0Z8zuCwu9q3djDXqTlAKID5xv+9t2R8n8VcUFBljQ8Gyfe40BYBM4DwDLt8Kue79ZcFkbzfEdbUbv+oN4c9KTtsfm1MbYQqqh+2zrVZYKs/7Ef+byimt1POYiJhDhPBFBIiIEXhxfs7/dfYoIF+auBfYTE/pebx/V8hqBP2ODvD34yvuh/WCAmU75Bx6sIgaI/v5+6PV6JLqUsYr7dpDAoehs0h73pHTWrvKgThYbRSt9UmSjef3MpaUvBz4O72UmADgTOPJguGiZor+/HyUlJWBmJFz+D8xTtlUiOpbwpmrmrweeSXrT+g11k4SBN3RGKUcAVCVdFhyP1nreDbY//NPyEXUlU/Pp4XYycGT6V0Ux2WwWdO7cOZSWlkII8diX7SPPNgDaKdbxoNAxwATBAEkEEgSWCEQAqPAMwqvMdCEwMO0tVqZpWsGTT58+DaPR+PhGIYQAAAgh0P7B3ioW/B0iGiCGiwXbCuOHFSJys6AbYFye2T+xWhT3WYJEIoH/DQBMw3kes8OJPgAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-edit-mode button.vis-button.vis-edit.vis-edit-mode {\n  background-color: #fcfcfc;\n  border: 1px solid #cccccc;\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-connect {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDo3ZWRhMjI0MC0yYTQxLTNlNDQtYWM2My1iNzNiYTE5OWI3Y2E8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6Mzg6NTcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjlmYjUwMDU0LWE3ODEtMWQ0OC05ZTllLTU2ZWQ5YzhlYjdjNjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDozODo1NyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjdlZGEyMjQwLTJhNDEtM2U0NC1hYzYzLWI3M2JhMTk5YjdjYTwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4ubxs+AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAUtSURBVHjajJZ/bNT1Gcdfz/P53PV6B4W7VltLqdAaplIOiMOoyxxJCSs/Gv/yB4gzJroAosmmDklwkYWR0bQsdmkykoojTpcsWYLxD/lRZdMQkTHRtkLZRqG0tIVe7662vTu43n32x/VKZ/jh89cn38/zvN7P5/l88zwf2blzJz6fDwARQUSm1n8s31CM0/VAnbNmsUPuAsDpgEO+Bg4C7//iyv5hvmMiQiqVQpqamvB6vVNwEeG1JZtCBrYi/MrkAwDNgjhwAlbzICBLA0rDb0+/839C6XQaaWxspLCw8Dp86cbNmqVFJQddE6KzdjZ9D89g+B6fSyCOcyn1nxil+O9xKg5HqWFSHGXLjrP7W/ICqVQK2bNnDz6fDxFh65KNvxbHDhF4rJj2bXPo+IGfcW5h5xL4f99P+FCEMIAob75x9t0dAMlkElNXV4e1lteXbNqiQoMaeOFOjrdU868SD2luYyEP6dUh+sYmSHeOU6GO5Z8VLx5+NNZxIpPJ5AS2L3upROCoCvz8Lo7vnkf77cAHhpiz/zIL9vWz8L8p/NvupmM0Q7pjnAoLqz8tDrc8MnQqYVUVhVdF4LEg7b+rvDn8wDDlH0WoPpukLJImSBaMwjcJqmwWts2jPZLG/8kwYVFeVdXXZcFf4yVDc2cNKfBFmD9X+0ncCP58F48eG+Feo2CAUkvs4dl0V/uJvdXLiiV+ut++n7YLSfxPfMMG54ChzB3WIesVWB2i82bw1AR6fJR7C4VsfYiv6u/k3A9nEgP4zXke8DiYHyAOMK+QxPIgnZ9GqSHr1itQJ8DK2fTerDQ+S/bHRXQJaHSCwNIZ2Xh+7+S3VAmwNMBA/tuPZtErgKquUmdMWIFlRURvdamRNEXGwIWrlP47pTMzLiunxghGMwTLvcTWlHAp77s4QNSrYMQtss6ZMgWqCm5cHoDHO1nbk6K8zEN8+3zatv2Hn1b59EqJZdxmYUERg9P9KwpIiAOTdWUWBXuLzB/vZG3P1Un4PNp2d1MbmyD45TWCxuCsQm0x56bHGHFYEZwxok7toAA9Sfw3hCcoL/NOwi9QO5wmWO1j4JEgZxTkodmcWRGkf3pcX0r8xoAaBixKu4U5/xwndM+0tpAvS6mP+PZK2nb1UBvPEKwKMLDvPj4ESGc55lGy303sdJKQdZB2rkMdctAB/4gzN+/Q2ENNd4LyUi/xN+bTtquX2thk5nk4wI3gAF+OMNcA1nFQDfK+BY5GqbkwWabTY5QZhXWlnNx1ntrY1Rz87fuvw29m/Sn8J+PUGAFj5T19baA1IspuBZp7cx1x4SwG1cEf+lgRSROs8jGwb+Ht4QB/GSSsAhYano39LWIBxNEIbP14hPDuiyS2VtJuHXQlKKvxM/jiXDq/D/xPlwifGMkJZB2NIoKpr69nxeiZxLHicFSFVWfGqBidIP3LSjrWltD94CyufF/4kQgPuVz2Lz93+dDRa9eu5QQ8Hg8/iXee+Dy4CKMs7xqn4nwKz9IirhQqmVuB42m8ey+x7LMoD6iAON782eChhqmRuXfvXgKBAKqKqtI0/8nNKrQI4BVYXkzHgzPpC88gWuHL/caXrhLoGiN0apSKr0ZZRBZM7q2w5ZnLR1oAnHOMjY0hra2tFBQUYIyZmstvVT1Z6eDlAuEVq7merxmwueNPDXy9PvybjKP5mctHLk4/XTKZRJqbm/H7/VNw1VyEMYbW4FN3WNWnnchKoy5sHeVGBRX6VWi3ymFx7r11Ix8MTX/y5C2RSPC/AQB61erowbpqSwAAAABJRU5ErkJggg==');\n}\n\ndiv.vis-network div.vis-manipulation button.vis-button.vis-delete {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAEEOaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAyMSA3OS4xNTQ5MTEsIDIwMTMvMTAvMjktMTE6NDc6MTYgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE0LTAxLTIyVDE5OjI0OjUxKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6RUE2MEEyNEUxOTg0RTMxMUFEQUZFRkU2RUMzMzNFMDM8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDEtMjNUMTk6MTg6MDcrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDUzYgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDowNmE3NWYwMy04MDdhLWUzNGYtYjk1Zi1jZGU2MjM0Mzg4OGY8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTQtMDItMDRUMTQ6NDE6MDQrMDE6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjc3NDkzYmUxLTEyZGItOTg0NC1iNDYyLTg2NGVmNGIzMzM3MTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wMi0wNFQxNDo0MTowNCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06RGVyaXZlZEZyb20gcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICA8c3RSZWY6aW5zdGFuY2VJRD54bXAuaWlkOjA2YTc1ZjAzLTgwN2EtZTM0Zi1iOTVmLWNkZTYyMzQzODg4Zjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpFQTc2MkY5Njc0ODNFMzExOTQ4QkQxM0UyQkU3OTlBMTwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgICAgPHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjczQjYyQUFEOTE4M0UzMTE5NDhCRDEzRTJCRTc5OUExPC9zdFJlZjpvcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgICAgIDxwaG90b3Nob3A6SUNDUHJvZmlsZT5zUkdCIElFQzYxOTY2LTIuMTwvcGhvdG9zaG9wOklDQ1Byb2ZpbGU+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDA5MC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDkwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4aYJzYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAYGSURBVHjalJZ7UJTnFcZ/73m/72PdJY1RbhoQp6lkXRAvmIYxdCUadLVOozPNtGObap1JsKipjiShbdoRbeKEiQHpQK3xj0xa03aamTbaTGyAYV1QGeqFi+JyiZFLAlmESBkWRmS3fyzslGkmnZ5/v/M873Oe75zzvqqoqAibzQaAiKCUAkApRdHIK/NFsx2NR91nOSILADDoJyzNaM4xxbtvPHh0iC+JiYkJ1OHDh4mJiUEpFSXPv/ziPC28TIiXDCOSrAClQDSEpsCwJPIhrEBRQpiSytXlQwDhcBilFPfu3UMVFxdjt9ujFTzfcLBADCoEEAFr1ZbrrNjch2vtEImPBgHob7fTcWE+bVXJNJ/NiFQlEGLvieXHKmYqGB8fRx05cgSbzYaIsPvywV8pKFaA7fGtLTzz61YWpo/xVTHQbufsq5lcez9zWuWhk5mvFwMEg0H0+vXrMU2Tn1wp3CtCiQ5DjGd3A/m/v8IDCZP8r4iNmyRrWx/j/5qktykZpXKzAjVDVxPzGqemptDr1q1jX3NRnIJarcDKK2hgR2ULXRfncv7UYv7xpovhnhiW5Mz+kefeSKO6LJ1A1xzEuk/Ojm4mRibpuZaMZW3OCtRUND60NmiICCIUShisx7a2sLMiQn4s77uEQgIabnqdfHIlgT1/qQeg8vs5dHhdCNB1wYn3RIiC995j26stjAbsNH+YiZJCESnS1Y/XxIXu8r4YIPv/VkVs3CTnTy2ms34xro1+sp9po6sxlTu34ultmsPVvy6is86FCHgO+DDs49zpjufBpCG+seYOC9OHaTidieicb9ouVAhKtouAseI710ma7pLuqwmgYfHqAFt+6WdLoQ/LBl11Lm7VudAa8vb72PCin9TlAWIsGGhLACD+kSAZnusYBii1XQAPYWDllt6ov2lrBkDBR2+6Ofuak2//3M+G/T4wAAPW7fPhKfRTVeqk9qQbFKRmDUTxS3N7QYGYmwzCkqklBGlPDEcTNv+sg9tNCbTXuvBWujE0bHrZj9JE1B/wU1Pm5PwJN6YBS9a2kVvQEcWnrh5GTFD3lxkYkqRMgYQlwVldUvDnen73LHTUuqitdKM0eAr9AFQfd1J/yo2aJn+2sn4Wdn5qEFODJskgBIjx5T0uCrQA08pnIjS9PERDjPnfOKXAMEBECUoGEIHBj+2zkt76UQ6dXheGAev3+cg74Kf6uJPqcicbfuond7cPy4SOiy7+tD9nFvZurx00KOk3CNEC+mE+vjSPBc7IWqgqTaPT60IMcO/xsXGa3HfKjRgRdbl7/KDg0jtubje6aHj7c7J3dgLQ2zoPwwQ91SooOQdAW1VKVMHty0kA5Bb48BycJn/LjWFGbLv4thvvb53kFvjJ+XEdWkPfjQVR/CcNKYgGMc8JWt5Fa2j+MIPPuyI2pa4IoHSkt6vLIuRaQ9q32khzt4GCxtNu6k46GeiIR2lIfDQQsafPzq1LGRGL9Gk9d+vrwewvfHPQOoexQVjxdB/auk/zmaUMdsfz6bVUtIalT7bxveP1ZHh6GPDPYeSzeD69kcpIfxymFWLNrka+ljhBTWkWwz2JiJT84YHnz2iPx0P20PkmRF5i6HYiwZFJsn/YzdezbzE3cQibY5xV266z6RfXohakb+xB9CjanCD9qTbW7Grk4WV38VZm0l6dhQiEw9taHSuDqrS0FIfDwXM3X9mHMsvRAk/sauDpQy38P+GtzOTGB9mEpkD0C2dS8n8zOjqK9ng8WJZFU+JTjasGvaCNXPpvJBPoMlm0OoDNMfWVxONfWNSUPUZ7TUQ56tCZlPwSgMnJSVRpaSmxsbFE1raw82ZxAZZRQUiBYUKGp5UlOX2krBzmoUVjiIKhHge9rfPo+Wcy3ZeXIYASgL1/X5RfMXMvj46OosrLy7HZbGitUUohIuzoem0RofALaOsghgWGjky0MiJTL8b0lOvI8hN1DKXKP0jd3TNTWDgcJhgMoo4ePYrD4Yi+KmaeLlprnrtXFo9h/AAlG1AqE8yFmBrC+jO0bgH9EVpO/1F2Dc5g//OAsbEx/j0Af+USsQynL1UAAAAASUVORK5CYII=');\n}\n/* top right bottom left */\ndiv.vis-network div.vis-manipulation div.vis-label,\ndiv.vis-network div.vis-edit-mode div.vis-label {\n  margin: 0 0 0 23px;\n  line-height: 25px;\n}\ndiv.vis-network div.vis-manipulation div.vis-separator-line {\n  float: left;\n  display: inline-block;\n  width: 1px;\n  height: 21px;\n  background-color: #bdbdbd;\n  margin: 0px 7px 0 15px; /*top right bottom left*/\n}\n\n/* TODO: is this redundant?\ndiv.network-navigation_wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n}\n*/\n");var BH=function(){function e(t,n,i,r){var o,a,s=this;Ty(this,e),this.body=t,this.canvas=n,this.selectionHandler=i,this.interactionHandler=r,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Mf(this.options,this.defaultOptions),this.body.emitter.on("destroy",(function(){s._clean()})),this.body.emitter.on("_dataChanged",nC(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",nC(a=this._restore).call(a,this))}return Fw(e,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(e,t,n){void 0!==t&&(void 0!==t.locale?this.options.locale=t.locale:this.options.locale=n.locale,void 0!==t.locales?this.options.locales=t.locales:this.options.locales=n.locales),void 0!==e&&("boolean"===typeof e?this.options.enabled=e:(this.options.enabled=!0,cD(this.options,e)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),r=n+i,o=this.options.locales[this.options.locale],a=!1;!1!==this.options.addNode&&(this._createAddNodeButton(o),a=!0),!1!==this.options.addEdge&&(!0===a?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),1===n&&"function"===typeof this.options.editNode?(!0===a?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):1===i&&0===n&&!1!==this.options.editEdge&&(!0===a?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),0!==r&&(n>0&&!1!==this.options.deleteNode||0===n&&!1!==this.options.deleteEdge)&&(!0===a&&this._createSeperator(4),this._createDeleteButton(o)),this._bindElementEvents(this.closeDiv,nC(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",nC(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){var e;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var t,n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,nC(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",nC(e=this._performAddNode).call(e,this))}},{key:"editNode",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var t=this.selectionHandler.getSelectedNodes()[0];if(void 0!==t){if(this.inMode="editNode","function"!==typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==t.isCluster){var n=cD({},t.options,!1);if(n.x=t.x,n.y=t.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(n,(function(t){null!==t&&void 0!==t&&"editNode"===e.inMode&&e.body.data.nodes.getDataSet().update(t),e.showManipulatorToolbar()}))}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){var e,t,n,i,r;if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var o,a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,nC(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",nC(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",nC(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",nC(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",nC(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",nC(r=this._dragStartEdge).call(r,this)),this._temporaryBindUI("onHold",(function(){}))}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==Mw(this.options.editEdge)||"function"!==typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var e,t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,nC(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],void 0!==this.edgeBeingEditedId){var n,i,r,o,a=this.body.edges[this.edgeBeingEditedId],s=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(s.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[s.id]=s,this.body.nodeIndices.push(s.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",nC(n=this._controlNodeTouch).call(n,this)),this._temporaryBindUI("onTap",(function(){})),this._temporaryBindUI("onHold",(function(){})),this._temporaryBindUI("onDragStart",nC(i=this._controlNodeDragStart).call(i,this)),this._temporaryBindUI("onDrag",nC(r=this._controlNodeDrag).call(r,this)),this._temporaryBindUI("onDragEnd",nC(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",(function(){})),this._temporaryBindEvent("beforeDrawing",(function(e){var t=a.edgeType.findBorderPositions(e);!1===s.selected&&(s.x=t.from.x,s.y=t.from.y),!1===l.selected&&(l.x=t.to.x,l.y=t.to.y)})),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var u=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(u.from.id,u.to.id)}}},{key:"deleteSelected",value:function(){var e=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var t=this.selectionHandler.getSelectedNodeIds(),n=this.selectionHandler.getSelectedEdgeIds(),i=void 0;if(t.length>0){for(var r=0;r<t.length;r++)if(!0===this.body.nodes[t[r]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"===typeof this.options.deleteNode&&(i=this.options.deleteNode)}else n.length>0&&"function"===typeof this.options.deleteEdge&&(i=this.options.deleteEdge);if("function"===typeof i){var o={nodes:t,edges:n};if(2!==i.length)throw new Error("The function for delete does not support two arguments (data, callback)");i(o,(function(t){null!==t&&void 0!==t&&"delete"===e.inMode?(e.body.data.edges.getDataSet().remove(t.edges),e.body.data.nodes.getDataSet().remove(t.nodes),e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar()):(e.body.emitter.emit("startSimulation"),e.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().remove(n),this.body.data.nodes.getDataSet().remove(t),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){var e,t;(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",!0===this.editMode?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",!0===this.editMode?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv)&&(this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",null!==(e=null===(t=this.options.locales[this.options.locale])||void 0===t?void 0:t.close)&&void 0!==e?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(e,t){var n=cD({},this.options.controlNodeStyle);n.id="targetNode"+hV(),n.hidden=!1,n.physics=!1,n.x=e,n.y=t;var i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:t,bottom:t},i}},{key:"_createEditButton",value:function(){var e;this._clean(),this.manipulationDOM={},iD(this.editModeDiv);var t=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,nC(e=this.toggleEditMode).call(e,this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(iD(this.editModeDiv),iD(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanupDOMEventListeners",value:function(){var e,t,n=FH(QE(e=this._domEventListenerCleanupQueue).call(e,0));try{for(n.s();!(t=n.n()).done;){(0,t.value)()}}catch(i){n.e(i)}finally{n.f()}}},{key:"_removeManipulationDOM",value:function(){this._clean(),iD(this.manipulationDiv),iD(this.editModeDiv),iD(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}},{key:"_createAddNodeButton",value:function(e){var t,n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,nC(t=this.addNodeMode).call(t,this))}},{key:"_createAddEdgeButton",value:function(e){var t,n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,nC(t=this.addEdgeMode).call(t,this))}},{key:"_createEditNodeButton",value:function(e){var t,n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,nC(t=this.editNode).call(t,this))}},{key:"_createEditEdgeButton",value:function(e){var t,n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,nC(t=this.editEdgeMode).call(t,this))}},{key:"_createDeleteButton",value:function(e){var t,n;n=this.options.rtl?"vis-delete-rtl":"vis-delete";var i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,nC(t=this.deleteSelected).call(t,this))}},{key:"_createBackButton",value:function(e){var t,n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,nC(t=this.showManipulatorToolbar).call(t,this))}},{key:"_createButton",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}},{key:"_createDescription",value:function(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}},{key:"_temporaryBindEvent",value:function(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}},{key:"_temporaryBindUI",value:function(e,t){if(void 0===this.body.eventListeners[e])throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+fT(tE(this.body.eventListeners)));this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t}},{key:"_unbindTemporaryUIs",value:function(){for(var e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var e=0;e<this.temporaryEventFunctions.length;e++){var t=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,n)}this.temporaryEventFunctions=[]}},{key:"_bindElementEvents",value:function(e,t){var n=new FD(e,{});nG(n,t),this._domEventListenerCleanupQueue.push((function(){n.destroy()}));var i=function(e){var n=e.keyCode,i=e.key;"Enter"!==i&&" "!==i&&13!==n&&32!==n||t()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push((function(){e.removeEventListener("keyup",i,!1)}))}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var e=0;e<this.temporaryIds.edges.length;e++){var t;this.body.edges[this.temporaryIds.edges[e]].disconnect(),delete this.body.edges[this.temporaryIds.edges[e]];var n,i=cT(t=this.body.edgeIndices).call(t,this.temporaryIds.edges[e]);if(-1!==i)QE(n=this.body.edgeIndices).call(n,i,1)}for(var r=0;r<this.temporaryIds.nodes.length;r++){var o;delete this.body.nodes[this.temporaryIds.nodes[r]];var a,s=cT(o=this.body.nodeIndices).call(o,this.temporaryIds.nodes[r]);if(-1!==s)QE(a=this.body.nodeIndices).call(a,s,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Mf({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],r=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var o=n.isOverlappingWith(t),a=i.isOverlappingWith(t);!0===o?(this.selectedControlNode=n,r.edgeType.from=n):!0===a&&(this.selectedControlNode=i,r.edgeType.to=i),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(e){this.body.emitter.emit("disablePhysics");var t=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(t);void 0!==this.selectedControlNode?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;a>=0;a--)if(r[a]!==this.selectedControlNode.id){o=this.body.nodes[r[a]];break}if(void 0!==o&&void 0!==this.selectedControlNode)if(!0===o.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var s=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===s.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(e){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Mf({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;var t=this.lastTouch,n=this.selectionHandler.getNodeAt(t);if(void 0!==n)if(!0===n.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);var r=this.body.functions.createEdge({id:"connectionEdge"+hV(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[r.id]=r,this.body.edgeIndices.push(r.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(r.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;a>=0;a--){var s;if(-1===cT(s=this.temporaryIds.nodes).call(s,r[a])){o=this.body.nodes[r[a]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),void 0!==this.temporaryIds.nodes[0]){var l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(t.x),l.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}},{key:"_finishConnect",value:function(e){var t=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(t),i=void 0;void 0!==this.temporaryIds.edges[0]&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var r=this.selectionHandler._getAllNodesOverlappingWith(n),o=void 0,a=r.length-1;a>=0;a--){var s;if(-1===cT(s=this.temporaryIds.nodes).call(s,r[a])){o=this.body.nodes[r[a]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==o&&(!0===o.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[i]&&void 0!==this.body.nodes[o.id]&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(e){var t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}},{key:"_performAddNode",value:function(e){var t=this,n={id:hV(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if("function"===typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(n,(function(e){null!==e&&void 0!==e&&"addNode"===t.inMode&&t.body.data.nodes.getDataSet().add(e),t.showManipulatorToolbar()}))}else this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(e,t){var n=this,i={from:e,to:t};if("function"===typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(i,(function(e){null!==e&&void 0!==e&&"addEdge"===n.inMode&&(n.body.data.edges.getDataSet().add(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(e,t){var n=this,i={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label},r=this.options.editEdge;if("object"===Mw(r)&&(r=r.editWithoutDrag),"function"===typeof r){if(2!==r.length)throw new Error("The function for edit does not support two arguments (data, callback)");r(i,(function(e){null===e||void 0===e||"editEdge"!==n.inMode?(n.body.edges[i.id].updateEdgeType(),n.body.emitter.emit("_redraw"),n.showManipulatorToolbar()):(n.body.data.edges.getDataSet().update(e),n.selectionHandler.unselectAll(),n.showManipulatorToolbar())}))}else this.body.data.edges.getDataSet().update(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),e}(),ZH="string",VH="boolean",UH="number",WH="array",GH="object",HH=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],YH={borderWidth:{number:UH},borderWidthSelected:{number:UH,undefined:"undefined"},brokenImage:{string:ZH,undefined:"undefined"},chosen:{label:{boolean:VH,function:"function"},node:{boolean:VH,function:"function"},__type__:{object:GH,boolean:VH}},color:{border:{string:ZH},background:{string:ZH},highlight:{border:{string:ZH},background:{string:ZH},__type__:{object:GH,string:ZH}},hover:{border:{string:ZH},background:{string:ZH},__type__:{object:GH,string:ZH}},__type__:{object:GH,string:ZH}},opacity:{number:UH,undefined:"undefined"},fixed:{x:{boolean:VH},y:{boolean:VH},__type__:{object:GH,boolean:VH}},font:{align:{string:ZH},color:{string:ZH},size:{number:UH},face:{string:ZH},background:{string:ZH},strokeWidth:{number:UH},strokeColor:{string:ZH},vadjust:{number:UH},multi:{boolean:VH,string:ZH},bold:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},boldital:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},ital:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},mono:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},__type__:{object:GH,string:ZH}},group:{string:ZH,number:UH,undefined:"undefined"},heightConstraint:{minimum:{number:UH},valign:{string:ZH},__type__:{object:GH,boolean:VH,number:UH}},hidden:{boolean:VH},icon:{face:{string:ZH},code:{string:ZH},size:{number:UH},color:{string:ZH},weight:{string:ZH,number:UH},__type__:{object:GH}},id:{string:ZH,number:UH},image:{selected:{string:ZH,undefined:"undefined"},unselected:{string:ZH,undefined:"undefined"},__type__:{object:GH,string:ZH}},imagePadding:{top:{number:UH},right:{number:UH},bottom:{number:UH},left:{number:UH},__type__:{object:GH,number:UH}},label:{string:ZH,undefined:"undefined"},labelHighlightBold:{boolean:VH},level:{number:UH,undefined:"undefined"},margin:{top:{number:UH},right:{number:UH},bottom:{number:UH},left:{number:UH},__type__:{object:GH,number:UH}},mass:{number:UH},physics:{boolean:VH},scaling:{min:{number:UH},max:{number:UH},label:{enabled:{boolean:VH},min:{number:UH},max:{number:UH},maxVisible:{number:UH},drawThreshold:{number:UH},__type__:{object:GH,boolean:VH}},customScalingFunction:{function:"function"},__type__:{object:GH}},shadow:{enabled:{boolean:VH},color:{string:ZH},size:{number:UH},x:{number:UH},y:{number:UH},__type__:{object:GH,boolean:VH}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:VH,array:WH},borderRadius:{number:UH},interpolation:{boolean:VH},useImageSize:{boolean:VH},useBorderWithImage:{boolean:VH},coordinateOrigin:{string:["center","top-left"]},__type__:{object:GH}},size:{number:UH},title:{string:ZH,dom:"dom",undefined:"undefined"},value:{number:UH,undefined:"undefined"},widthConstraint:{minimum:{number:UH},maximum:{number:UH},__type__:{object:GH,boolean:VH,number:UH}},x:{number:UH},y:{number:UH},__type__:{object:GH}},qH={configure:{enabled:{boolean:VH},filter:{boolean:VH,string:ZH,array:WH,function:"function"},container:{dom:"dom"},showButton:{boolean:VH},__type__:{object:GH,boolean:VH,string:ZH,array:WH,function:"function"}},edges:{arrows:{to:{enabled:{boolean:VH},scaleFactor:{number:UH},type:{string:HH},imageHeight:{number:UH},imageWidth:{number:UH},src:{string:ZH},__type__:{object:GH,boolean:VH}},middle:{enabled:{boolean:VH},scaleFactor:{number:UH},type:{string:HH},imageWidth:{number:UH},imageHeight:{number:UH},src:{string:ZH},__type__:{object:GH,boolean:VH}},from:{enabled:{boolean:VH},scaleFactor:{number:UH},type:{string:HH},imageWidth:{number:UH},imageHeight:{number:UH},src:{string:ZH},__type__:{object:GH,boolean:VH}},__type__:{string:["from","to","middle"],object:GH}},endPointOffset:{from:{number:UH},to:{number:UH},__type__:{object:GH,number:UH}},arrowStrikethrough:{boolean:VH},background:{enabled:{boolean:VH},color:{string:ZH},size:{number:UH},dashes:{boolean:VH,array:WH},__type__:{object:GH,boolean:VH}},chosen:{label:{boolean:VH,function:"function"},edge:{boolean:VH,function:"function"},__type__:{object:GH,boolean:VH}},color:{color:{string:ZH},highlight:{string:ZH},hover:{string:ZH},inherit:{string:["from","to","both"],boolean:VH},opacity:{number:UH},__type__:{object:GH,string:ZH}},dashes:{boolean:VH,array:WH},font:{color:{string:ZH},size:{number:UH},face:{string:ZH},background:{string:ZH},strokeWidth:{number:UH},strokeColor:{string:ZH},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:UH},multi:{boolean:VH,string:ZH},bold:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},boldital:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},ital:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},mono:{color:{string:ZH},size:{number:UH},face:{string:ZH},mod:{string:ZH},vadjust:{number:UH},__type__:{object:GH,string:ZH}},__type__:{object:GH,string:ZH}},hidden:{boolean:VH},hoverWidth:{function:"function",number:UH},label:{string:ZH,undefined:"undefined"},labelHighlightBold:{boolean:VH},length:{number:UH,undefined:"undefined"},physics:{boolean:VH},scaling:{min:{number:UH},max:{number:UH},label:{enabled:{boolean:VH},min:{number:UH},max:{number:UH},maxVisible:{number:UH},drawThreshold:{number:UH},__type__:{object:GH,boolean:VH}},customScalingFunction:{function:"function"},__type__:{object:GH}},selectionWidth:{function:"function",number:UH},selfReferenceSize:{number:UH},selfReference:{size:{number:UH},angle:{number:UH},renderBehindTheNode:{boolean:VH},__type__:{object:GH}},shadow:{enabled:{boolean:VH},color:{string:ZH},size:{number:UH},x:{number:UH},y:{number:UH},__type__:{object:GH,boolean:VH}},smooth:{enabled:{boolean:VH},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:UH},forceDirection:{string:["horizontal","vertical","none"],boolean:VH},__type__:{object:GH,boolean:VH}},title:{string:ZH,undefined:"undefined"},width:{number:UH},widthConstraint:{maximum:{number:UH},__type__:{object:GH,boolean:VH,number:UH}},value:{number:UH,undefined:"undefined"},__type__:{object:GH}},groups:{useDefaultGroups:{boolean:VH},__any__:YH,__type__:{object:GH}},interaction:{dragNodes:{boolean:VH},dragView:{boolean:VH},hideEdgesOnDrag:{boolean:VH},hideEdgesOnZoom:{boolean:VH},hideNodesOnDrag:{boolean:VH},hover:{boolean:VH},keyboard:{enabled:{boolean:VH},speed:{x:{number:UH},y:{number:UH},zoom:{number:UH},__type__:{object:GH}},bindToWindow:{boolean:VH},autoFocus:{boolean:VH},__type__:{object:GH,boolean:VH}},multiselect:{boolean:VH},navigationButtons:{boolean:VH},selectable:{boolean:VH},selectConnectedEdges:{boolean:VH},hoverConnectedEdges:{boolean:VH},tooltipDelay:{number:UH},zoomView:{boolean:VH},zoomSpeed:{number:UH},__type__:{object:GH}},layout:{randomSeed:{undefined:"undefined",number:UH,string:ZH},improvedLayout:{boolean:VH},clusterThreshold:{number:UH},hierarchical:{enabled:{boolean:VH},levelSeparation:{number:UH},nodeSpacing:{number:UH},treeSpacing:{number:UH},blockShifting:{boolean:VH},edgeMinimization:{boolean:VH},parentCentralization:{boolean:VH},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:GH,boolean:VH}},__type__:{object:GH}},manipulation:{enabled:{boolean:VH},initiallyActive:{boolean:VH},addNode:{boolean:VH,function:"function"},addEdge:{boolean:VH,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:GH,boolean:VH,function:"function"}},deleteNode:{boolean:VH,function:"function"},deleteEdge:{boolean:VH,function:"function"},controlNodeStyle:YH,__type__:{object:GH,boolean:VH}},nodes:YH,physics:{enabled:{boolean:VH},barnesHut:{theta:{number:UH},gravitationalConstant:{number:UH},centralGravity:{number:UH},springLength:{number:UH},springConstant:{number:UH},damping:{number:UH},avoidOverlap:{number:UH},__type__:{object:GH}},forceAtlas2Based:{theta:{number:UH},gravitationalConstant:{number:UH},centralGravity:{number:UH},springLength:{number:UH},springConstant:{number:UH},damping:{number:UH},avoidOverlap:{number:UH},__type__:{object:GH}},repulsion:{centralGravity:{number:UH},springLength:{number:UH},springConstant:{number:UH},nodeDistance:{number:UH},damping:{number:UH},__type__:{object:GH}},hierarchicalRepulsion:{centralGravity:{number:UH},springLength:{number:UH},springConstant:{number:UH},nodeDistance:{number:UH},damping:{number:UH},avoidOverlap:{number:UH},__type__:{object:GH}},maxVelocity:{number:UH},minVelocity:{number:UH},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:VH},iterations:{number:UH},updateInterval:{number:UH},onlyDynamicEdges:{boolean:VH},fit:{boolean:VH},__type__:{object:GH,boolean:VH}},timestep:{number:UH},adaptiveTimestep:{boolean:VH},wind:{x:{number:UH},y:{number:UH},__type__:{object:GH}},__type__:{object:GH,boolean:VH}},autoResize:{boolean:VH},clickToUse:{boolean:VH},locale:{string:ZH},locales:{__any__:{any:"any"},__type__:{object:GH}},height:{string:ZH},width:{string:ZH},__type__:{object:GH}},KH={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},XH=function(e,t,n){var i;return!(!vS(e).call(e,"physics")||!vS(i=KH.physics.solver).call(i,t)||n.physics.solver===t||"wind"===t)},QH=function(){function e(){Ty(this,e)}return Fw(e,[{key:"getDistances",value:function(e,t,n){for(var i={},r=e.edges,o=0;o<t.length;o++){var a={};i[t[o]]=a;for(var s=0;s<t.length;s++)a[t[s]]=o==s?0:1e9}for(var l=0;l<n.length;l++){var u=r[n[l]];!0===u.connected&&void 0!==i[u.fromId]&&void 0!==i[u.toId]&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}for(var c=t.length,g=0;g<c;g++)for(var d=t[g],h=i[d],p=0;p<c-1;p++)for(var A=t[p],f=i[A],C=p+1;C<c;C++){var I=t[C],v=i[I],m=Math.min(f[I],f[d]+h[I]);f[I]=m,v[A]=m}return i}}]),e}(),JH=function(){function e(t,n,i){Ty(this,e),this.body=t,this.springLength=n,this.springConstant=i,this.distanceSolver=new QH}return Fw(e,[{key:"setOptions",value:function(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}},{key:"solve",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();for(var r=0,o=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),a=1e9,s=0,l=0,u=0,c=0,g=0;a>.01&&r<o;){r+=1;var d=Sk(this._getHighestEnergyNode(n),4);for(s=d[0],a=d[1],l=d[2],u=d[3],c=a,g=0;c>1&&g<5;){g+=1,this._moveNode(s,l,u);var h=Sk(this._getEnergy(s),3);c=h[0],l=h[1],u=h[2]}}}},{key:"_getHighestEnergyNode",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=0,r=t[0],o=0,a=0,s=0;s<t.length;s++){var l=t[s];if(!0!==n[l].predefinedPosition||!0===n[l].isCluster&&!0===e||!0!==n[l].options.fixed.x||!0!==n[l].options.fixed.y){var u=Sk(this._getEnergy(l),3),c=u[0],g=u[1],d=u[2];i<c&&(i=c,r=l,o=g,a=d)}}return[r,i,o,a]}},{key:"_getEnergy",value:function(e){var t=Sk(this.E_sums[e],2),n=t[0],i=t[1];return[Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),n,i]}},{key:"_moveNode",value:function(e,t,n){for(var i=this.body.nodeIndices,r=this.body.nodes,o=0,a=0,s=0,l=r[e].x,u=r[e].y,c=this.K_matrix[e],g=this.L_matrix[e],d=0;d<i.length;d++){var h=i[d];if(h!==e){var p=r[h].x,A=r[h].y,f=c[h],C=g[h],I=1/Math.pow(Math.pow(l-p,2)+Math.pow(u-A,2),1.5);o+=f*(1-C*Math.pow(u-A,2)*I),a+=f*(C*(l-p)*(u-A)*I),s+=f*(1-C*Math.pow(l-p,2)*I)}}var v=(t/o+n/a)/(a/o-s/a),m=-(a*v+t)/o;r[e].x+=m,r[e].y+=v,this._updateE_matrix(e)}},{key:"_createL_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(var i=0;i<t.length;i++){this.L_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.L_matrix[t[i]][t[r]]=n*e[t[i]][t[r]]}}},{key:"_createK_matrix",value:function(e){var t=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(var i=0;i<t.length;i++){this.K_matrix[t[i]]={};for(var r=0;r<t.length;r++)this.K_matrix[t[i]][t[r]]=n*Math.pow(e[t[i]][t[r]],-2)}}},{key:"_createE_matrix",value:function(){var e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(var n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(var i=0;i<e.length;i++){for(var r=e[i],o=t[r].x,a=t[r].y,s=0,l=0,u=i;u<e.length;u++){var c=e[u];if(c!==r){var g=t[c].x,d=t[c].y,h=1/Math.sqrt(Math.pow(o-g,2)+Math.pow(a-d,2));this.E_matrix[r][u]=[this.K_matrix[r][c]*(o-g-this.L_matrix[r][c]*(o-g)*h),this.K_matrix[r][c]*(a-d-this.L_matrix[r][c]*(a-d)*h)],this.E_matrix[c][i]=this.E_matrix[r][u],s+=this.E_matrix[r][u][0],l+=this.E_matrix[r][u][1]}}this.E_sums[r]=[s,l]}}},{key:"_updateE_matrix",value:function(e){for(var t=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],r=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,s=n[e].y,l=0,u=0,c=0;c<t.length;c++){var g=t[c];if(g!==e){var d=i[c],h=d[0],p=d[1],A=n[g].x,f=n[g].y,C=1/Math.sqrt(Math.pow(a-A,2)+Math.pow(s-f,2)),I=r[g]*(a-A-o[g]*(a-A)*C),v=r[g]*(s-f-o[g]*(s-f)*C);i[c]=[I,v],l+=I,u+=v;var m=this.E_sums[g];m[0]+=I-h,m[1]+=v-p}}this.E_sums[e]=[l,u]}}]),e}();function $H(e,t,n){var i,r,o,a,s=this;if(!(this instanceof $H))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Ij,clickToUse:!1},Mf(this.options,this.defaultOptions),this.body={container:e,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:nC(i=this.on).call(i,this),off:nC(r=this.off).call(r,this),emit:nC(o=this.emit).call(o,this),once:nC(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new mj((function(){return s.body.emitter.emit("_requestRedraw")})),this.groups=new KM,this.canvas=new rG(this.body),this.selectionHandler=new mH(this.body,this.canvas),this.interactionHandler=new cG(this.body,this.canvas,this.selectionHandler),this.view=new oG(this.body,this.canvas),this.renderer=new eG(this.body,this.canvas),this.physics=new KW(this.body),this.layoutEngine=new RH(this.body),this.clustering=new $W(this.body),this.manipulation=new BH(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new UU(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new FW(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new JH(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(n),this.setData(t)}gC($H.prototype),$H.prototype.setOptions=function(e){var t=this;if(null===e&&(e=void 0),void 0!==e){!0===ZD.validate(e,qH)&&console.error("%cErrors have been found in the supplied options object.",BD);if(lD(["locale","locales","clickToUse"],this.options,e),void 0!==e.locale&&(e.locale=function(e,t){try{var n=Sk(t.split(/[-_ /]/,2),2),i=n[0],r=n[1],o=null!=i?i.toLowerCase():null,a=null!=r?r.toUpperCase():null;if(o&&a){var s,l=o+"-"+a;if(Object.prototype.hasOwnProperty.call(e,l))return l;console.warn(zk(s="Unknown variant ".concat(a," of language ")).call(s,o,"."))}if(o){var u=o;if(Object.prototype.hasOwnProperty.call(e,u))return u;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(t,", falling back to English.")),"en"}catch(z$){return console.error(z$),console.warn("Unexpected error while normalizing locale ".concat(t,", falling back to English.")),"en"}}(e.locales||this.options.locales,e.locale)),e=this.layoutEngine.setOptions(e.layout,e),this.canvas.setOptions(e),this.groups.setOptions(e.groups),this.nodesHandler.setOptions(e.nodes),this.edgesHandler.setOptions(e.edges),this.physics.setOptions(e.physics),this.manipulation.setOptions(e.manipulation,e,this.options),this.interactionHandler.setOptions(e.interaction),this.renderer.setOptions(e.interaction),this.selectionHandler.setOptions(e.interaction),void 0!==e.groups&&this.body.emitter.emit("refreshNodes"),"configure"in e&&(this.configurator||(this.configurator=new RD(this,this.body.container,KH,this.canvas.pixelRatio,XH)),this.configurator.setOptions(e.configure)),this.configurator&&!0===this.configurator.options.enabled){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};cD(n.nodes,this.nodesHandler.options),cD(n.edges,this.edgesHandler.options),cD(n.layout,this.layoutEngine.options),cD(n.interaction,this.selectionHandler.options),cD(n.interaction,this.renderer.options),cD(n.interaction,this.interactionHandler.options),cD(n.manipulation,this.manipulation.options),cD(n.physics,this.physics.options),cD(n.global,this.canvas.options),cD(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==e.clickToUse?!0===e.clickToUse?void 0===this.activator&&(this.activator=new zD(this.canvas.frame),this.activator.on("change",(function(){t.body.emitter.emit("activate")}))):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},$H.prototype._updateVisibleIndices=function(){var e=this.body.nodes,t=this.body.edges;for(var n in this.body.nodeIndices=[],this.body.edgeIndices=[],e)Object.prototype.hasOwnProperty.call(e,n)&&(this.clustering._isClusteredNode(n)||!1!==e[n].options.hidden||this.body.nodeIndices.push(e[n].id));for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i],o=e[r.fromId],a=e[r.toId],s=void 0!==o&&void 0!==a;!this.clustering._isClusteredEdge(i)&&!1===r.options.hidden&&s&&!1===o.options.hidden&&!1===a.options.hidden&&this.body.edgeIndices.push(r.id)}},$H.prototype.bindEventListeners=function(){var e=this;this.body.emitter.on("_dataChanged",(function(){e.edgesHandler._updateState(),e.body.emitter.emit("_dataUpdated")})),this.body.emitter.on("_dataUpdated",(function(){e.clustering._updateState(),e._updateVisibleIndices(),e._updateValueRange(e.body.nodes),e._updateValueRange(e.body.edges),e.body.emitter.emit("startSimulation"),e.body.emitter.emit("_requestRedraw")}))},$H.prototype.setData=function(e){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),e&&e.dot&&(e.nodes||e.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(e&&e.options),e&&e.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var t=fj(e.dot);this.setData(t)}else if(e&&e.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var n=Cj(e.gephi);this.setData(n)}else this.nodesHandler.setData(e&&e.nodes,!0),this.edgesHandler.setData(e&&e.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},$H.prototype.destroy=function(){for(var e in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,e)&&delete this.body.nodes[e];for(var t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];iD(this.body.container)},$H.prototype._updateValueRange=function(e){var t,n=void 0,i=void 0,r=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=e[t].getValue();void 0!==o&&(n=void 0===n?o:Math.min(o,n),i=void 0===i?o:Math.max(o,i),r+=o)}if(void 0!==n&&void 0!==i)for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&e[t].setValueRange(n,i,r)},$H.prototype.isActive=function(){return!this.activator||this.activator.active},$H.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},$H.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},$H.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},$H.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},$H.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},$H.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},$H.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},$H.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},$H.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},$H.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},$H.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)},$H.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)},$H.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)},$H.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)},$H.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)},$H.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},$H.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},$H.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},$H.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},$H.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},$H.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},$H.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},$H.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},$H.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},$H.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},$H.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},$H.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)},$H.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},$H.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},$H.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},$H.prototype.getConnectedNodes=function(e){return void 0!==this.body.nodes[e]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},$H.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},$H.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},$H.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},$H.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},$H.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},$H.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},$H.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)},$H.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)},$H.prototype.getNodeAt=function(){var e=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},$H.prototype.getEdgeAt=function(){var e=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==e&&void 0!==e.id?e.id:e},$H.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},$H.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},$H.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()},$H.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},$H.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},$H.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},$H.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},$H.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},$H.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},$H.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},$H.prototype.getOptionsFromConfigurator=function(){var e={};return this.configurator&&(e=this.configurator.getOptions.apply(this.configurator)),e};const eY=e=>{const t=document.createElement("div");return t.innerHTML=e,t},tY=t=>{let{onSelectNode:n}=t;const{id:i}=ge(),r=(0,e.useRef)(null),[o,a]=(0,e.useState)([]),[s,l]=(0,e.useState)([]);let u,c=!1,g=new xV,d=new xV,h=g.get({returnType:"Object"}),p=d.get({returnType:"Object"});(0,e.useEffect)((()=>{We("/api/v1/tr/solution/".concat(i,"/"),(e=>{var t,n;a(null===e||void 0===e||null===(t=e.nodes)||void 0===t?void 0:t.map((e=>({...e,title:eY(null===e||void 0===e?void 0:e.title)})))),l(null===e||void 0===e||null===(n=e.edges)||void 0===n?void 0:n.map((e=>({...e,title:eY(null===e||void 0===e?void 0:e.title)}))))}))}),[]),(0,e.useEffect)((()=>{const e=r.current;g=new xV(o),d=new xV(s),h=g.get({returnType:"Object"}),p=d.get({returnType:"Object"});const t={autoResize:!1,width:"unset",layout:{improvedLayout:!0,clusterThreshold:500,hierarchical:{treeSpacing:50,levelSeparation:250,parentCentralization:!1,sortMethod:"directed",shakeTowards:"leaves"}},edges:{scaling:{customScalingFunction:function(e,t,n,i){if(t===e)return.5;var r=1/(t-e);return Math.max(0,(i-e)*r)},min:2,max:15},smooth:{type:"cubicBezier",forceDirection:"vertical",roundness:.6},arrows:{to:!0}},nodes:{physics:!0,shape:"ellipse",margin:{top:20,bottom:20,left:35,right:35},scaling:{customScalingFunction:function(e,t,n,i){return i/n},min:25,max:250},widthConstraint:{maximum:150}},interaction:{hover:!1,selectConnectedEdges:!1},physics:{enabled:!0,hierarchicalRepulsion:{nodeDistance:250,avoidOverlap:.5},solver:"hierarchicalRepulsion"}};return u=new $H(e,{nodes:g,edges:d},t),u.on("click",A),()=>{u.on("click",A),u.destroy()}}),[o,s]);const A=e=>{if(e.nodes.length>0){var t,i;c=!0;var r=e.nodes[0];for(var o in n({node:h[[r]],edges:Object.entries(p).filter((e=>{let[t,n]=e;return u.getConnectedEdges(r).includes(t)})).map((e=>{let[t,n]=e;return n}))}),Object.keys(p).forEach((e=>{var t,n;void 0!==(null===(t=p[[e]])||void 0===t||null===(n=t.color)||void 0===n?void 0:n.color)&&(p[[e]].color.opacity=1)})),h)h[o].color="rgba(200,200,200,0.5)",void 0===h[o].hiddenLabel&&(h[o].hiddenLabel=h[o].label,h[o].label=void 0);var a=u.getConnectedNodes(r),s=u.getConnectedEdges(r),l=[];for(t=1;t<2;t++)for(i=0;i<a.length;i++)l=l.concat(u.getConnectedNodes(a[i]));for(t=0;t<l.length;t++)h[l[t]].color="rgba(150,150,150,0.75)",void 0!==h[l[t]].hiddenLabel&&(h[l[t]].label=h[l[t]].hiddenLabel,h[l[t]].hiddenLabel=void 0);for(t=0;t<a.length;t++)h[a[t]].color=void 0,void 0!==h[a[t]].hiddenLabel&&(h[a[t]].label=h[a[t]].hiddenLabel,h[a[t]].hiddenLabel=void 0);h[r].color=void 0,void 0!==h[r].hiddenLabel&&(h[r].label=h[r].hiddenLabel,h[r].hiddenLabel=void 0),Object.keys(p).forEach((e=>{var t,n;s.includes(e)||void 0!==(null===(t=p[[e]])||void 0===t||null===(n=t.color)||void 0===n?void 0:n.color)&&(p[[e]].color.color="#2b7ce9",p[[e]].color.opacity=.25)}))}else if(!0===c){for(o in h)h[o].color=void 0,void 0!==h[o].hiddenLabel&&(h[o].label=h[o].hiddenLabel,h[o].hiddenLabel=void 0);Object.keys(p).forEach((e=>{var t,n;void 0!==(null===(t=p[[e]])||void 0===t||null===(n=t.color)||void 0===n?void 0:n.color)&&(p[[e]].color.opacity=1)})),c=!1}var A=[];for(o in h)h.hasOwnProperty(o)&&A.push(h[o]);for(var f in g.update(A),A=[],p)p.hasOwnProperty(f)&&A.push(p[f]);d.update(A)};return(0,ye.jsx)("div",{ref:r,style:{position:"absolute",top:0,width:"100%",height:"850px"}})},nY=e=>{let{edge:t,node:n}=e;return(0,ye.jsx)("div",{className:"flow-network-edge-display",children:(0,ye.jsx)(Nn,{className:"mb-2",children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsx)(Xg,{Label:(null===n||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.from)?"To":"From",Value:(null===n||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.from)?t.to:t.from,break:!0}),(0,ye.jsx)(Xg,{Label:"Margin",Value:(0,ye.jsxs)("span",{children:[Bg(null===t||void 0===t?void 0:t.margin,0)," ( ",Bg(parseFloat(null===t||void 0===t?void 0:t.margin)/parseFloat(null===t||void 0===t?void 0:t.value),2),"/bu )"]}),break:!0}),(0,ye.jsx)(Xg,{Label:"Qty",Value:(0,ye.jsxs)("span",{children:[Lg((null===t||void 0===t?void 0:t.value)/1e3,1),"kbu"]}),break:!0}),(null===t||void 0===t?void 0:t.freight_cost)>0&&(0,ye.jsx)(Xg,{Label:"Freight",Value:Lg(null===t||void 0===t?void 0:t.freight_cost,2),break:!0})]})})})},iY=[{header:"Key",accessor:e=>(0,ye.jsx)("span",{className:"clickable",onClick:()=>rt(null===e||void 0===e?void 0:e.node_key),children:Yg(null===e||void 0===e?void 0:e.node_key,50)}),FilterKey:"node_key__in",center:!0},{header:"Node Type",accessor:"node_type_desc",FilterKey:"node_type_desc__in",center:!0},{header:"Priority Type",accessor:"priority_type_desc",FilterKey:"priority_type_desc__in",center:!0},{header:"Period",accessor:"period.code",FilterKey:"period.code__in",center:!0},{header:"Qty",accessor:e=>{const t=parseFloat(null===e||void 0===e?void 0:e.quantity),n=parseFloat(null===e||void 0===e?void 0:e.beginning_inventory)||0;return"inv"===(null===e||void 0===e?void 0:e.node_type)?Fg(t>0?t:n,!0):Fg(t,!0)},center:!0},{header:"Qty Alloc",accessor:"quantity_allocated",formatter:Fg,formatterArgs:[!0],center:!0},{header:"Qty Rem",accessor:e=>{const t=parseFloat(null===e||void 0===e?void 0:e.quantity),n=parseFloat(null===e||void 0===e?void 0:e.beginning_inventory)||0,i=t>0?t:n,r=parseFloat(null===e||void 0===e?void 0:e.quantity_allocated)||0;return"inv"===(null===e||void 0===e?void 0:e.node_type)?Fg(i+r,!0):Fg(i-r,!0)},FilterKey:"quantity_remaining__gtabs",center:!0},{header:"Value",accessor:e=>{const t=parseFloat(null===e||void 0===e?void 0:e.value),n=parseFloat(null===e||void 0===e?void 0:e.beginning_value)||0,i=(null===e||void 0===e?void 0:e.beginning_inventory)>0?n:t;return Lg(i,2)},center:!0},{header:"Comm",accessor:"commodity.commodity_code",FilterKey:"commodity.commodity_code__in",center:!0},{header:"Ship Mode",accessor:"ship_mode_desc",FilterKey:"ship_mode_desc__in",center:!0},{header:"Freight Terms",accessor:"freight_terms_desc",FilterKey:"freight_terms_desc__in",center:!0},{header:"Mkt Zone",accessor:"market_zone.name",FilterKey:"market_zone.name__in",center:!0},{header:"Facility",accessor:"facility.display_name",FilterKey:"facility.display_name__in",center:!0},{header:"Trading Partner",accessor:"trading_partner.display_name",FilterKey:"trading_partner.display_name__in",center:!0},{header:"Errors",accessor:hd,FilterKey:"errors__notnull",style:{width:"8%"},center:!0},{header:"To Options",accessor:e=>{var t;const n=null===e||void 0===e||null===(t=e.to_options)||void 0===t?void 0:t.map((e=>null===e||void 0===e?void 0:e.label));return Yg(Zg(n),50,!0)},center:!0},{header:"Active",accessor:"active",formatter:qg,center:!0}],rY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C,I,v,m,y,b,x,_,w;let{initial:k,onCreate:E,onUpdate:S,task:T}=t;const{filters:O}=(0,e.useContext)(qt),P=(0,e.useContext)(tn),[D,j]=(0,e.useState)(void 0),[M,N]=(0,e.useState)(void 0),[z,R]=(0,e.useState)(void 0),[F,L]=(0,e.useState)(void 0),[B,Z]=(0,e.useState)(void 0),[V,U]=(0,e.useState)(void 0),[W,G]=(0,e.useState)(void 0),[H,Y]=(0,e.useState)(void 0),[q,K]=(0,e.useState)(""),[X,Q]=(0,e.useState)(""),[J,$]=(0,e.useState)(""),[ee,te]=(0,e.useState)(""),[ne,ie]=(0,e.useState)(void 0),[re,oe]=(0,e.useState)(void 0),[ae,se]=(0,e.useState)(!1);(0,e.useEffect)((()=>{var e;if(void 0!==k){var t,n,i,r,o;if(Q(parseInt((null===k||void 0===k?void 0:k.quantity)||"")),$((null===k||void 0===k?void 0:k.value)||""),te((null===k||void 0===k?void 0:k.notes)||""),K((null===k||void 0===k?void 0:k.priority)||""),j(_t(P.commodities,null===k||void 0===k?void 0:k.commodity)),N(_t(P.shipModes,null===k||void 0===k?void 0:k.ship_mode)),R(_t(P.freightTerms,null===k||void 0===k?void 0:k.freight_terms)),L(_t(P.periods,null===k||void 0===k?void 0:k.period)),Z(_t(St,null===k||void 0===k?void 0:k.node_type)),U(_t(P.mktZones,null===k||void 0===k||null===(t=k.market_zone)||void 0===t?void 0:t.id)),null!==k&&void 0!==k&&k.facility)G({id:null===k||void 0===k||null===(n=k.facility)||void 0===n?void 0:n.id,label:null===k||void 0===k||null===(i=k.facility)||void 0===i?void 0:i.display_name});if(null!==k&&void 0!==k&&k.in_trading_partner)Y({id:null===k||void 0===k||null===(r=k.trading_partner)||void 0===r?void 0:r.id,label:null===k||void 0===k||null===(o=k.trading_partner)||void 0===o?void 0:o.display_name});ie(null===k||void 0===k?void 0:k.to_options),oe(null===k||void 0===k?void 0:k.from_options)}else 1===(null===O||void 0===O||null===(e=O.commodity_in)||void 0===e?void 0:e.length)&&j(null===O||void 0===O?void 0:O.commodity_in[0])}),[null===O||void 0===O?void 0:O.commodity_in,k,T,P]);const[le,ue]=(0,e.useState)(Fe),ce=[{field:"commodity",value:D,notNull:!0},{field:"ship_mode",value:M,notNull:!0},{field:"period",value:F,notNull:!0},{field:"quantity",value:X,notNull:!0},{field:"value",value:J,notNull:!0},{field:"priority",value:q,notNull:!0}],ge=()=>{j(void 0),N(void 0),R(void 0),L(void 0),U(void 0),G(void 0),Y(void 0),Q(""),K(""),$(""),te(""),ie(void 0),oe(void 0)};return(0,ye.jsx)("div",{className:"flow-node-form",children:(0,ye.jsxs)("div",{className:"flow-node-form-container",children:[(0,ye.jsxs)(Un,{center:!0,children:[(0,ye.jsx)(Wn,{colSize:"3",children:(0,ye.jsx)(xs,{id:"commodity",label:"Commodity",compressed:!0,disabled:null===k||void 0===k?void 0:k.commodity,valid:null===le||void 0===le||null===(n=le.formErrors)||void 0===n||null===(i=n.commodity)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=le.formErrors)||void 0===r||null===(o=r.commodity)||void 0===o?void 0:o.message,options:P.commodities,value:D,onChange:j},"commodity")}),(0,ye.jsx)(Wn,{colSize:"3",children:(0,ye.jsx)(xs,{id:"ship_mode",label:"Ship Mode",compressed:!0,disabled:null===k||void 0===k?void 0:k.ship_mode,valid:null===le||void 0===le||null===(a=le.formErrors)||void 0===a||null===(s=a.ship_mode)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=le.formErrors)||void 0===l||null===(u=l.ship_mode)||void 0===u?void 0:u.message,options:P.shipModes,value:M,onChange:N},"ship_mode")}),(0,ye.jsx)(Wn,{colSize:"3",children:(0,ye.jsx)(xs,{id:"freight_terms",label:"Freight Terms",compressed:!0,disabled:null===k||void 0===k?void 0:k.freight_terms,options:P.freightTerms,value:z,onChange:R},"freight_terms")}),(0,ye.jsx)(Wn,{colSize:"3",children:(0,ye.jsx)(xs,{id:"period",label:"Period",compressed:!0,disabled:null===k||void 0===k?void 0:k.period,valid:null===le||void 0===le||null===(c=le.formErrors)||void 0===c||null===(g=c.period)||void 0===g?void 0:g.valid,inputInvalidText:null===(d=le.formErrors)||void 0===d||null===(h=d.period)||void 0===h?void 0:h.message,options:P.periods,value:F,onChange:L},"period")})]}),(0,ye.jsxs)(Un,{center:!0,className:"mt-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-3",children:(0,ye.jsx)(xs,{id:"node_type",label:"Node Type",compressed:!0,disabled:null===k||void 0===k?void 0:k.node_type,options:St,value:B,onChange:Z},"node_type")}),(0,ye.jsx)(Wn,{colSize:"lg-3",children:(0,ye.jsx)(xs,{id:"market_zone",label:"Market Zone",compressed:!0,options:P.mktZones,value:V,onChange:U},"market_zone")}),(0,ye.jsx)(Wn,{colSize:"lg-3",children:(0,ye.jsx)(nd,{active:!0,compressed:!0,label:"Facility",value:W,onChange:G})}),(0,ye.jsx)(Wn,{colSize:"lg-3",children:(0,ye.jsx)(Is,{id:"trading_partner",label:"Trading Partner",compressed:!0,url:"/api/v1/cust/tp/",value:H,onChange:Y},"trading_partner")})]}),(0,ye.jsxs)(Un,{center:!0,className:"mt-2",children:[(0,ye.jsxs)(Wn,{colSize:"lg-4",className:"float-right",children:[(0,ye.jsx)(Vn,{children:"Quantity"}),(0,ye.jsx)(Fn,{id:"quantity",compressed:!0,valid:null===le||void 0===le||null===(p=le.formErrors)||void 0===p||null===(A=p.quantity)||void 0===A?void 0:A.valid,inputInvalidText:null===(f=le.formErrors)||void 0===f||null===(C=f.quantity)||void 0===C?void 0:C.message,value:X,onChange:Q})]}),(0,ye.jsxs)(Wn,{colSize:"lg-4",className:"float-right",children:[(0,ye.jsx)(Vn,{children:"Value"}),(0,ye.jsx)(zn,{id:"value",compressed:!0,valid:null===le||void 0===le||null===(I=le.formErrors)||void 0===I||null===(v=I.value)||void 0===v?void 0:v.valid,inputInvalidText:null===(m=le.formErrors)||void 0===m||null===(y=m.value)||void 0===y?void 0:y.message,value:J,onChange:$})]}),(0,ye.jsxs)(Wn,{colSize:"lg-4",className:"float-right",children:[(0,ye.jsx)(Vn,{children:"Priority"}),(0,ye.jsx)(zn,{id:"priority",compressed:!0,type:"numeric",inputProps:{min:0,max:10},valid:null===le||void 0===le||null===(b=le.formErrors)||void 0===b||null===(x=b.priority)||void 0===x?void 0:x.valid,inputInvalidText:null===(_=le.formErrors)||void 0===_||null===(w=_.priority)||void 0===w?void 0:w.message,value:q,onChange:K})]})]}),(0,ye.jsxs)(Un,{className:"mt-1",children:[(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(td,{active:!0,compressed:!0,disabled:0===((null===re||void 0===re?void 0:re.length)||0)&&(null===B||void 0===B?void 0:B.id)===wt,label:"From Options",value:re,onChange:oe})}),(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(td,{active:!0,compressed:!0,disabled:0===((null===ne||void 0===ne?void 0:ne.length)||0)&&(null===B||void 0===B?void 0:B.id)===kt,label:"To Options",value:ne,onChange:ie})})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"id_notes",label:"Notes",elementType:"textarea",rows:2,compressed:!0,value:ee,onChange:te})})})}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(se(!0),!Re(ce,ue))return se(!1);const e={commodity:null===D||void 0===D?void 0:D.id,ship_mode:null===M||void 0===M?void 0:M.id,freight_terms:null===z||void 0===z?void 0:z.id,period:null===F||void 0===F?void 0:F.id,node_type:null!==B&&void 0!==B&&B.id?null===B||void 0===B?void 0:B.id:null,market_zone:null!==V&&void 0!==V&&V.id?null===V||void 0===V?void 0:V.id:null,facility:null!==W&&void 0!==W&&W.id?null===W||void 0===W?void 0:W.id:null,trading_partner:null!==H&&void 0!==H&&H.id?null===H||void 0===H?void 0:H.id:null,quantity:X,priority:q,value:J,notes:ee||null,to_options:(null===ne||void 0===ne?void 0:ne.length)>0?null===ne||void 0===ne?void 0:ne.map((e=>e.id)):null,from_options:(null===re||void 0===re?void 0:re.length)>0?null===re||void 0===re?void 0:re.map((e=>e.id)):null};return void 0===E||void 0!==(null===k||void 0===k?void 0:k.id)&&!T?void 0!==S&&void 0!==k?S(e,(()=>{ge(),se(!1)})):void 0:E(e,(()=>{ge(),se(!1)}))},isLoading:ae,Text:"Submit"})})})]})})},oY=[{header:"Cont",accessor:"contract_src_id",center:!0},{header:"Trading Partner",accessor:"trading_partner_display_name",center:!0},{header:"Qty",accessor:"contract_balance",formatter:Fg,center:!0},{header:"Basis",accessor:"basis",formatter:Lg,center:!0},{header:"Delv Basis",accessor:"delivery_basis",center:!0},{header:"Merchant",accessor:"trader_raw",center:!0}],aY=t=>{var n,i,r,o;let{flowEdge:a,initial:s,onCreate:l,onUpdate:u}=t;const{currentUser:c,QtyUnits:g,users:d}=(0,e.useContext)(tn),[h,p]=(0,e.useState)(""),[A,f]=(0,e.useState)(void 0),[C,I]=(0,e.useState)(void 0),[v,m]=(0,e.useState)(!1);(0,e.useEffect)((()=>{var e;void 0!==s?(p(null===s||void 0===s?void 0:s.quantity),f(_t(g,null===s||void 0===s?void 0:s.quantity_unit)),I(_t(d,null===s||void 0===s||null===(e=s.planned_by)||void 0===e?void 0:e.id))):(I(_t(d,null===c||void 0===c?void 0:c.id)),!0===(null===a||void 0===a?void 0:a.allocateAll)&&(p(100),f(_t(g,null===a||void 0===a?void 0:a.allocateType))))}),[s]);const[y,b]=(0,e.useState)(Fe),x=[{field:"quantity",value:h,notNull:!0},{field:"quantity_unit",value:A,notNull:!0},{field:"planned_by",value:C,notNull:!0}];return(0,ye.jsxs)("div",{className:"flow-edge-plan-flow-form",style:{borderTop:"0.1rem solid #e3e6f0",marginTop:"0.25rem",paddingTop:"0.25rem"},children:[(0,ye.jsxs)(Un,{className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"md-3",children:(0,ye.jsx)(zn,{compressed:!0,type:"numeric",label:"Quantity",value:h,onChange:p})}),(0,ye.jsx)(Wn,{colSize:"md-5",children:(0,ye.jsx)(xs,{id:"quantity_unit",label:"Quantity Type",compressed:!0,valid:null===y||void 0===y||null===(n=y.formErrors)||void 0===n||null===(i=n.quantity_unit)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=y.formErrors)||void 0===r||null===(o=r.quantity_unit)||void 0===o?void 0:o.message,options:g,value:A,onChange:f},"quantity_unit")}),(0,ye.jsx)(Wn,{colSize:"md-4",children:(0,ye.jsx)(xs,{id:"planned_by",label:"Planned By",compressed:!0,options:d,value:C,onChange:I},"planned_by")})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{className:"float-right",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(!Re(x,b))return m(!1);const e={edge:null===a||void 0===a?void 0:a.id,quantity:h,quantity_unit:null===A||void 0===A?void 0:A.id,planned_by:null===C||void 0===C?void 0:C.id};void 0===s?l(e,(()=>m(!1))):(e.id=null===s||void 0===s?void 0:s.id,u(e,(()=>m(!1))))},isLoading:v,Text:"Submit"})})})]})},sY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h;let{crudCallback:p,displayKey:A,edge:f,onEditNode:C,onViewNodeDetail:I}=t;const{addErrorAlert:v,addSuccessAlert:m}=(0,e.useContext)(be),[y,b]=(0,e.useState)(!1),[x,_]=(0,e.useState)(void 0),[w,k]=(0,e.useState)(void 0);void 0===A&&(A="from_node");return(0,ye.jsx)(Nn,{hover:!0,className:"mb-2",children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsxs)("div",{className:"flow-edge-detail-container",children:[(0,ye.jsxs)("div",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%"},children:[(0,ye.jsxs)("div",{className:"flow-edge-details clickable",onClick:()=>b((e=>!e)),children:[(0,ye.jsxs)("span",{className:"font-h6 mr-2",children:[null===f||void 0===f||null===(n=f[A])||void 0===n?void 0:n.priority_type_desc,": ",null===f||void 0===f||null===(i=f[A])||void 0===i?void 0:i.place_display," (",null===f||void 0===f?void 0:f.edge_type_desc,")"]}),(0,ye.jsx)(mg,{className:"mr-1",tooltip:(0,ye.jsxs)("span",{children:[(0,ye.jsx)(Xg,{Label:"Value",Value:Bg(null===f||void 0===f||null===(r=f[A])||void 0===r?void 0:r.value),className:"mr-1 ",break:!0,conditional:!0,basic:!0}),(0,ye.jsx)(Xg,{Label:"Freight",Value:Bg(null===f||void 0===f?void 0:f.freight_cost),className:"mr-1 ",break:!0,conditional:!0,basic:!0})]}),text:"(".concat(Bg(null===f||void 0===f?void 0:f.per_unit_margin),")")}),(0,ye.jsx)(Xg,{Label:"Flow",Value:Fg(null===f||void 0===f?void 0:f.plan_flow),parentClassName:"mr-1",inline:!0,conditional:!0})]}),(0,ye.jsxs)("div",{style:{display:"flex",justifyContent:"end",marginTop:"0.25rem"},children:[void 0!==I&&(0,ye.jsx)("i",{className:"fas fa-info-circle clickable fa-lg mr-2",onClick:()=>I(null===f||void 0===f?void 0:f[A])}),C&&"planned"===(null===f||void 0===f||null===(o=f[A])||void 0===o?void 0:o.priority_type)&&(0,ye.jsx)("i",{className:"fas fa-edit clickable fa-lg mr-2",onClick:()=>C(null===f||void 0===f?void 0:f[A])}),f.edge_type!==jt&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("i",{className:"fas fa-angle-double-right clickable fa-lg mr-2",onClick:()=>{_(void 0===(null===x||void 0===x?void 0:x.id)?{...f,allocateAll:!0,allocateType:ht}:void 0),k(void 0)}}),(0,ye.jsx)("i",{className:"fas fa-plus clickable fa-lg",onClick:()=>{_(void 0===(null===x||void 0===x?void 0:x.id)?f:void 0),k(void 0)}})]})]})]}),(0,ye.jsxs)("div",{style:{display:"inline-flex",justifyContent:"space-between",width:"100%"},children:[(0,ye.jsx)("div",{style:{justifyContent:"start"},children:(0,ye.jsxs)("small",{children:[(null===f||void 0===f?void 0:f[A].node_type)===Et?(0,ye.jsx)(Xg,{Label:"Avail Qty",Value:Fg((null===f||void 0===f||null===(a=f[A])||void 0===a?void 0:a.beginning_inventory)||(null===f||void 0===f||null===(s=f[A])||void 0===s?void 0:s.quantity_remaining)),parentClassName:"mr-1",inline:!0,conditional:!0}):(0,ye.jsx)(Xg,{Label:"Avail Qty",Value:Fg(null===f||void 0===f||null===(l=f[A])||void 0===l?void 0:l.quantity_remaining),parentClassName:"mr-1",inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Freight Terms",Value:(null===f||void 0===f||null===(u=f.from_node)||void 0===u?void 0:u.freight_terms_desc)||(null===f||void 0===f||null===(c=f.to_node)||void 0===c?void 0:c.freight_terms_desc),parentClassName:"mr-1",inline:!0,conditional:!0}),(null===f||void 0===f||null===(g=f[A])||void 0===g?void 0:g.quantity)!==(null===f||void 0===f?void 0:f.max_flow)&&(0,ye.jsx)(Xg,{Label:"Max Qty",Value:Fg(null===f||void 0===f?void 0:f.max_flow),className:"mr-1 ",inline:!0,conditional:!0})]})}),(0,ye.jsx)("div",{style:{justifyContent:"end"},children:(0,ye.jsx)("span",{className:"small clickable",onClick:()=>{var e;return rt(null===f||void 0===f||null===(e=f[A])||void 0===e?void 0:e.node_key,(()=>m("Copied to clipboard!")))},children:null===f||void 0===f||null===(d=f[A])||void 0===d?void 0:d.node_key})})]})]}),y&&(0,ye.jsx)("div",{className:"flow-ege-plan-flows m-2",children:null===f||void 0===f||null===(h=f.plan_flows)||void 0===h?void 0:h.map(((e,t)=>{var n;return(0,ye.jsxs)(Nn,{compressed:!0,className:"mb-2",children:[(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsxs)("span",{className:"mr-2",children:[Fg(null===e||void 0===e?void 0:e.quantity_actual)," (",null===e||void 0===e?void 0:e.planned_flow_type_desc,")"]}),"static"===(null===e||void 0===e?void 0:e.quantity_unit)?(0,ye.jsx)(Xg,{Label:"Qty",Value:"".concat(Fg(null===e||void 0===e?void 0:e.quantity)," ").concat(null===e||void 0===e?void 0:e.quantity_unit_desc),className:"mr-1 ",inline:!0,conditional:!0}):(0,ye.jsx)(Xg,{Label:"Qty",Value:"".concat(Rg(parseFloat((null===e||void 0===e?void 0:e.quantity)/100),0)," ").concat(null===e||void 0===e?void 0:e.quantity_unit_desc),className:"mr-1 ",inline:!0,conditional:!0})]}),(0,ye.jsxs)(Mn,{children:[f.edge_type!==jt&&(0,ye.jsxs)("span",{className:"edge-flow-plan-actions",children:[(0,ye.jsx)("i",{className:"fas fa-edit ml-2 clickable",onClick:()=>{_(void 0===(null===x||void 0===x?void 0:x.id)?f:void 0),k(e)}}),(0,ye.jsx)("i",{className:"fas fa-ban ml-2 icon-negative clickable",onClick:()=>{var t;Ye("/api/v1/tr/flow-edge-plan-flow/".concat(null===(t=e)||void 0===t?void 0:t.id,"/"),(()=>{void 0!==p&&p(),m("Deleted Edge Planned Flow")}),(()=>{v("Failed to Delete Edge Planned Flow")}))}})]}),(0,ye.jsxs)("small",{className:"float-right",children:[(0,ye.jsx)(mg,{tooltip:"Planned By",text:null===e||void 0===e||null===(n=e.planned_by)||void 0===n?void 0:n.full_name})," ",Wg(null===e||void 0===e?void 0:e.updated_on,!0,!0)]})]})]},t)}))}),(null===x||void 0===x?void 0:x.id)===(null===f||void 0===f?void 0:f.id)&&(0,ye.jsx)(aY,{flowEdge:x,initial:w,onCreate:(e,t)=>((e,t)=>{Ge("/api/v1/tr/flow-edge-plan-flow/",e,(()=>{m("Added Edge Planned Flow"),void 0!==t&&t(),void 0!==p&&p(),_(void 0),k(void 0)}),(()=>{v("Failed to Create Edge Planned Flow")}))})(e,t),onUpdate:(e,t)=>((e,t)=>{He("/api/v1/tr/flow-edge-plan-flow/".concat(null===e||void 0===e?void 0:e.id,"/"),e,(()=>{m("Updated Edge Planned Flow"),void 0!==t&&t(),void 0!==p&&p(),_(void 0),k(void 0)}),(()=>{v("Failed to Update Edge Planned Flow")}))})(e,t)})]})})},lY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A;let{nodeDetail:f}=t;const[C,I]=(0,e.useState)([]),[v,m]=(0,e.useState)([]),y=(null===f||void 0===f||null===(n=f.flow_version)||void 0===n?void 0:n.id)||(null===f||void 0===f?void 0:f.flow_version);(0,e.useEffect)((()=>{void 0!==(null===f||void 0===f?void 0:f.id)&&(We("/api/v1/tr/flow-edge/?flow_version=".concat(y,"&to_node=").concat(null===f||void 0===f?void 0:f.id,"&page_size=100"),(e=>I(null===e||void 0===e?void 0:e.results))),We("/api/v1/tr/flow-edge/?flow_version=".concat(y,"&from_node=").concat(null===f||void 0===f?void 0:f.id,"&page_size=100"),(e=>m(null===e||void 0===e?void 0:e.results))))}),[f,y]);const b=()=>{We("/api/v1/tr/flow-edge/?flow_version=".concat(y,"&to_node=").concat(null===f||void 0===f?void 0:f.id,"&page_size=100"),(e=>I(null===e||void 0===e?void 0:e.results))),We("/api/v1/tr/flow-edge/?flow_version=".concat(y,"&from_node=").concat(null===f||void 0===f?void 0:f.id,"&page_size=100"),(e=>m(null===e||void 0===e?void 0:e.results)))};return(0,ye.jsxs)("div",{className:"flow-node-detail",children:[(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"lg-6",children:[(0,ye.jsx)(Xg,{Label:"Purch/Sale",Value:null===f||void 0===f?void 0:f.node_type_desc,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Place",Value:null===f||void 0===f?void 0:f.place_display,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Commodity",Value:null===f||void 0===f||null===(i=f.commodity)||void 0===i?void 0:i.commodity_code,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Period",Value:null===f||void 0===f||null===(r=f.period)||void 0===r?void 0:r.name,conditional:!0})]}),(0,ye.jsxs)(Wn,{colSize:"lg-6",children:[(0,ye.jsx)(Xg,{Label:"Quantity",Value:Fg(null===f||void 0===f?void 0:f.quantity),conditional:!0}),(0,ye.jsx)(Xg,{Label:"Value",Value:Bg(null===f||void 0===f?void 0:f.value),conditional:!0}),(0,ye.jsx)(Xg,{Label:"Ship Mode",Value:null===f||void 0===f?void 0:f.ship_mode_desc,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Freight Terms",Value:null===f||void 0===f?void 0:f.freight_terms_desc,conditional:!0})]})]}),(0,ye.jsx)(Xg,{Label:"To Options",Value:Zg(null===f||void 0===f||null===(o=f.to_options)||void 0===o?void 0:o.map((e=>null===e||void 0===e?void 0:e.label))),conditional:!0,break:!0}),(0,ye.jsx)(Xg,{Label:"From Options",Value:Zg(null===f||void 0===f||null===(a=f.from_options)||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.label))),conditional:!0,break:!0}),Dt.includes(null===f||void 0===f?void 0:f.node_type)&&(0,ye.jsxs)("div",{className:"flow-node-contracts my-2",children:[(0,ye.jsx)("div",{className:"font-h6 text-center",children:"Contracts"}),(0,ye.jsx)(Dg,{hover:!0,small:!0,flat:!0,responsive:!0,sortKey:"-contract_balance",data:null===f||void 0===f||null===(s=f.meta)||void 0===s?void 0:s.contract_detail,tableColumns:oY})]}),Pt.includes(f.node_type)&&(0,ye.jsx)("div",{className:"flow-node-from-options mb-2",children:(0,ye.jsx)(Nn,{hover:!0,children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsx)("div",{className:"font-h5 mb-0 text-center",children:"From Flow"}),(null===(l=C.filter((e=>e.plan_flow>0)))||void 0===l?void 0:l.length)>0&&(0,ye.jsx)("div",{className:"font-h6 text-center",children:"Allocated"}),null===(u=Pe(C.filter((e=>0!==e.plan_flow)),"-plan_flow"))||void 0===u?void 0:u.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"from_node",edge:e},t))),(null===(c=C.filter((e=>0===e.plan_flow&&e.edge_type!==jt)))||void 0===c?void 0:c.length)>0&&(0,ye.jsx)("div",{className:"font-h6 text-center",children:"Available"}),null===(g=Pe(C.filter((e=>0===e.plan_flow&&e.edge_type!==jt)),"-per_unit_margin"))||void 0===g?void 0:g.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"from_node",edge:e},t)))]})})}),Ot.includes(f.node_type)&&(0,ye.jsx)("div",{className:"flow-to-from-options",children:(0,ye.jsx)(Nn,{hover:!0,children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsx)("div",{className:"font-h5 mb-0 text-center",children:"To Flow"}),(null===(d=v.filter((e=>e.plan_flow>0)))||void 0===d?void 0:d.length)>0&&(0,ye.jsx)("div",{className:"font-h6 text-center",children:"Allocated"}),null===(h=Pe(v.filter((e=>0!==e.plan_flow)),"-plan_flow"))||void 0===h?void 0:h.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"to_node",edge:e,crudCallback:b},t))),(null===(p=v.filter((e=>0===e.plan_flow&&e.edge_type!==jt)))||void 0===p?void 0:p.length)>0&&(0,ye.jsx)("div",{className:"font-h6 text-center",children:"Available"}),null===(A=Pe(v.filter((e=>0===e.plan_flow&&e.edge_type!==jt)),"-per_unit_margin"))||void 0===A?void 0:A.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"to_node",edge:e,crudCallback:b},t)))]})})})]})},uY=e=>{let{context:t,data:n}=e;const{setEditNode:i,setNodeDetail:r,setActivateNode:o,setDeactivateNode:a}=t;return(0,ye.jsxs)("div",{className:"flow-node-actions",children:[Tt.includes(n.node_type)&&(0,ye.jsx)("i",{className:"fas fa-edit clickable mr-2",title:"Edit",onClick:()=>i(n)}),(0,ye.jsx)("i",{className:"fas fa-info-circle clickable mr-2",title:"Detail",onClick:()=>r(n)}),null!==n&&void 0!==n&&n.active?(0,ye.jsx)("i",{class:"fas fa-ban mr-2 clickable",title:"Deactivate",onClick:()=>a(n)}):(0,ye.jsx)("i",{class:"fas fa-check mr-2 clickable",title:"Activate",onClick:()=>o(n)})]})},cY=e=>{const{className:t,id:n,muted:i,primary:r,verticalCenter:o,...a}=e,s=Cn()({"text-muted":i,"vertical-center":o,[t]:t});return(0,ye.jsx)("span",{id:"".concat(n,"Dropdown"),className:s,type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",...a,children:e.children})},gY=e=>{const{className:t,id:n,primary:i,...r}=e,o=Cn()({"dropdown-menu":!0,"dropdown-primary":i,[t]:t});return(0,ye.jsx)("div",{className:o,"aria-labelledby":"".concat(n,"Dropdown"),...r,children:e.children})},dY=e=>{const{clickable:t,className:n,...i}=e,r=Cn()({"dropdown-item":!0,clickable:t,[n]:n});return(0,ye.jsx)("div",{className:r,...i,children:e.children})},hY=e=>{let{className:t}=e;const n=Cn()({"dropdown-divider":!0,[t]:t});return(0,ye.jsx)("div",{className:n,role:"separator"})},pY=e=>{let{className:t,context:n,data:i,display:r,Element:o,borderRight:a,borderRightDouble:s,borderTop:l,bottom:u,center:c,header:g,hover:d,width:h,...p}=e;const A={width:"".concat(6.5*(h||1),"rem")},f=Cn()({"cell-component":!0,hover:d,"cell-center":c,"cell-header":g,"cell-vertical-center":!u,"cell-vertical-bottom":u,"border-right":a,"border-double-right":s,"border-top":l,[t]:t});return(0,ye.jsx)("div",{className:f,style:A,...p,children:o?(0,ye.jsx)(o,{data:i,...n}):r&&r(i)})},AY=e=>{var t;return null===(t=Object.keys(e).filter((e=>!["elevator","facility"].includes(e))))||void 0===t?void 0:t.length},fY=e=>Object.keys(e).filter((e=>!["elevator","facility"].includes(e))),CY=e=>"truck"===e?(0,ye.jsx)(mg,{tooltip:"Truck",text:(0,ye.jsx)("i",{className:"fas fa-truck fa-lg"})}):"barge"===e?(0,ye.jsx)(mg,{tooltip:"Barge",text:(0,ye.jsx)("i",{className:"fas fa-ship fa-lg"})}):e,IY=e=>{let{header:t,flowPeriods:n}=e;return(0,ye.jsxs)("div",{className:"flow-stack flow-period-container",children:[(0,ye.jsx)(pY,{borderRightDouble:!0}),(0,ye.jsx)(pY,{borderRightDouble:!0}),(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6 text-center",children:"Period"}),borderRightDouble:!0,center:!0,bottom:!0,header:t}),Object.entries(n||{}).map(((e,t)=>{let[n,i]=e;return(0,ye.jsx)(pY,{data:i,display:e=>null===e||void 0===e?void 0:e.name,borderRightDouble:!0,borderTop:!0,center:!0},t)}))]})},vY=t=>{var n;let{inventoryFlow:i}=t;const{setFlowFacilityDest:r}=(0,e.useContext)(Qt);return(0,ye.jsx)("div",{className:"flow-stack flow-inventory-beginning-container",children:(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>{},borderRight:!0,center:!0,bottom:!0,width:1}),(0,ye.jsx)(pY,{display:()=>{},borderRight:!0,center:!0,bottom:!0,width:1}),(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"Beg Inv"}),center:!0,bottom:!0,header:!0,borderRight:!0}),Object.values((null===i||void 0===i||null===(n=i.flow)||void 0===n?void 0:n.inventory)||{}).map(((e,t)=>(0,ye.jsx)(pY,{className:"clickable",data:e,borderRight:!0,borderTop:!0,center:!0,hover:!0,display:e=>Fg((null===e||void 0===e?void 0:e.beginning_inventory)||0,!0),onClick:()=>r(e)},t)))]})})},mY=t=>{var n;let{inventoryFlow:i}=t;const{setFlowFacilityDest:r}=(0,e.useContext)(Qt);return(0,ye.jsx)("div",{className:"flow-stack flow-inventory-beginning-container",children:(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>{},borderRight:!0,center:!0,bottom:!0,width:1}),(0,ye.jsx)(pY,{display:()=>{},borderRight:!0,center:!0,bottom:!0,width:1}),(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"End Inv"}),center:!0,bottom:!0,header:!0,borderRight:!0}),Object.values((null===i||void 0===i||null===(n=i.flow)||void 0===n?void 0:n.inventory)||{}).map(((e,t)=>(0,ye.jsx)(pY,{className:"clickable",data:e,borderRight:!0,borderTop:!0,center:!0,hover:!0,display:e=>Fg((null===e||void 0===e?void 0:e.ending_inventory)||0,!0),onClick:()=>r(e)},t)))]})})},yY=t=>{let{onCreate:n,onUpdate:i,onDelete:r,text:o}=t;const[a,s]=(0,e.useState)(!1),l=Cn()({"text-container":!0,hover:a}),u=Cn()({"fas fa-plus":void 0!==n,"fas fa-edit":void 0!==i,"push-icon":!0,show:!0,clickable:!0,"mr-1":!0}),c=Cn()({"fas fa-ban":!0,"icon-negative":!0,"push-icon":!0,show:!0,clickable:!0});return(0,ye.jsxs)("div",{className:l,onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{setTimeout((()=>{s(!1)}),91500)},children:[(0,ye.jsx)("div",{className:"text".concat(a?" push-left":""),children:o}),a&&(0,ye.jsxs)("span",{style:{display:"contents"},children:[(0,ye.jsx)("i",{className:u,onClick:n||i}),r&&(0,ye.jsx)("i",{className:c,onClick:r})]})]})},bY=(e,t)=>t===mt?Fg((null===e||void 0===e?void 0:e.planned_flow)||0):t===yt?Fg((null===e||void 0===e?void 0:e.available_flow)||0):t===bt?"".concat(Fg(((null===e||void 0===e?void 0:e.planned_flow)||0)/1e3),"k / ").concat(Fg(((null===e||void 0===e?void 0:e.available_flow)||0)/1e3),"k"):void 0,xY=t=>{let{data:n}=t;const{srcDisplayType:i}=(0,e.useContext)(Qt);return(0,ye.jsx)(mg,{className:"cell-value",tooltip:(0,ye.jsx)(Xg,{Label:"Available",Value:Fg((null===n||void 0===n?void 0:n.available_flow)||0),basic:!0}),text:bY(n,i)})},_Y=t=>{var n,i,r;let{inventoryFlow:o}=t;const{periods:a}=(0,e.useContext)(tn),{setEditNode:s,setFlowFacilityOrig:l}=(0,e.useContext)(Qt),u=AY(null===o||void 0===o||null===(n=o.flow)||void 0===n?void 0:n.inbound);return(0,ye.jsx)("div",{className:"flow-stack flow-inbound-container",children:(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"Inbound"}),borderRightDouble:!0,center:!0,bottom:!0,width:u}),(0,ye.jsx)(pY,{display:()=>{},borderRightDouble:!0,center:!0,bottom:!0,header:!0,width:u}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(i=fY(null===o||void 0===o||null===(r=o.flow)||void 0===r?void 0:r.inbound))||void 0===i?void 0:i.map(((t,n)=>{var i,r;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(t)}),center:!0,bottom:!0,...n===u-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.values((null===o||void 0===o||null===(i=o.flow)||void 0===i||null===(r=i.inbound)||void 0===r?void 0:r[t])||{}).map(((i,r)=>(0,e.createElement)(pY,{className:"clickable",data:i,display:e=>(0,ye.jsx)(yY,{text:(0,ye.jsx)(xY,{data:e}),edit:null===e||void 0===e?void 0:e.node,onCreate:null!==e&&void 0!==e&&e.node?void 0:()=>{s(((e,t,n)=>{var i,r;const o=null===e||void 0===e||null===(i=e.nodes)||void 0===i?void 0:i.map((e=>{var t,n,i,r;return{id:null===e||void 0===e||null===(t=e.to_node)||void 0===t||null===(n=t.facility)||void 0===n?void 0:n.id,label:null===e||void 0===e||null===(i=e.to_node)||void 0===i||null===(r=i.facility)||void 0===r?void 0:r.display_name}}));return{ship_mode:t,commodity:null===e||void 0===e||null===(r=e.commodity)||void 0===r?void 0:r.id,period:null===e||void 0===e?void 0:e.period,node_type:wt,to_options:o}})(e,t))},onUpdate:null!==e&&void 0!==e&&e.node?()=>{s(null===e||void 0===e?void 0:e.node)}:void 0}),...n===u-1?{borderRightDouble:!0}:{borderRight:!0},borderTop:!0,center:!0,hover:!0,key:r,onClick:()=>l(i)})))]},n)}))})]})})},wY=(e,t)=>t===mt?Fg((null===e||void 0===e?void 0:e.planned_flow)||0):t===yt?Fg((null===e||void 0===e?void 0:e.available_flow)||0):t===bt?"".concat(Fg(((null===e||void 0===e?void 0:e.planned_flow)||0)/1e3),"k / ").concat(Fg(((null===e||void 0===e?void 0:e.available_flow)||0)/1e3),"k"):void 0,kY=t=>{let{data:n}=t;const{srcDisplayType:i}=(0,e.useContext)(Qt);return(0,ye.jsx)(mg,{className:"cell-value",tooltip:(0,ye.jsx)(Xg,{Label:"Available",Value:Fg((null===n||void 0===n?void 0:n.available_flow)||0),basic:!0}),text:wY(n,i)})},EY=t=>{var n,i,r,o,a;let{inventoryFlow:s}=t;const{setFlowFacilityDest:l}=(0,e.useContext)(Qt),u=null===(n=Object.values(null===s||void 0===s||null===(i=s.flow)||void 0===i?void 0:i.outbound))||void 0===n?void 0:n.length,c=Te(Object.values(null===s||void 0===s||null===(r=s.flow)||void 0===r?void 0:r.outbound).map((e=>AY(e))));return(0,ye.jsx)("div",{className:"flow-stack flow-outbound-container",children:c>0&&(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"Outbound"}),borderRightDouble:!0,center:!0,bottom:!0,width:c}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(o=Object.values(null===s||void 0===s||null===(a=s.flow)||void 0===a?void 0:a.outbound))||void 0===o?void 0:o.map(((e,t)=>{var n;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>{var t;return(0,ye.jsx)("span",{className:"small",children:null===e||void 0===e||null===(t=e.facility)||void 0===t?void 0:t.display_name})},...t===u-1?{borderRightDouble:!0}:{borderRight:!0},center:!0,header:!0,bottom:!0,width:AY(e)}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(n=fY(e))||void 0===n?void 0:n.map(((n,i)=>(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(n)}),center:!0,bottom:!0,...t===u-1&&i===AY(e)-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.values((null===e||void 0===e?void 0:e[n])||{}).map(((n,r)=>(0,ye.jsx)(pY,{className:"clickable",data:n,Element:kY,borderTop:!0,center:!0,hover:!0,onClick:()=>l(n),...t===u-1&&i===AY(e)-1?{borderRightDouble:!0}:{borderRight:!0}},r)))]},i)))})]},t)}))})]})})},SY=e=>{var t,n,i,r;let{inventoryFlow:o}=e;return(0,ye.jsxs)("div",{className:"flow-inventory-detail",style:{borderBottom:"1px solid #e3e6f0",paddingBottom:"0.75rem",marginBottom:"0.5rem"},children:[(0,ye.jsx)(Un,{className:"mx-2 mb-1 pb-1",children:(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsxs)("div",{className:"font-h4",children:[null===o||void 0===o||null===(t=o.commodity)||void 0===t?void 0:t.commodity_code,": ",null===o||void 0===o||null===(n=o.facility)||void 0===n?void 0:n.display_name]}),(0,ye.jsx)(Xg,{Label:"OB",Value:Fg(null===o||void 0===o||null===(i=o.metrics)||void 0===i?void 0:i.outbound_flow),className:"mr-1",conditional:!0,inline:!0})]})}),(0,ye.jsxs)("div",{style:{display:"flex"},children:[(0,ye.jsx)(IY,{header:!0,flowPeriods:null===o||void 0===o||null===(r=o.flow)||void 0===r?void 0:r.periods}),(0,ye.jsx)(vY,{inventoryFlow:o}),(0,ye.jsx)(_Y,{inventoryFlow:o}),(0,ye.jsx)(EY,{inventoryFlow:o}),(0,ye.jsx)(mY,{inventoryFlow:o})]})]})},TY=()=>{const{filters:t,loading:n,setFilters:i,setInventoryFlows:r}=(0,e.useContext)(Qt),{commodities:o}=(0,e.useContext)(tn);return(0,ye.jsx)("div",{className:"flow-item-filter",children:(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-3",className:"px-1",children:(0,ye.jsx)(_s,{compressed:!0,placeholder:"Filter Commodity...",value:null===t||void 0===t?void 0:t.commodity_ids,options:o,onChange:e=>i("commodity_ids",e)})}),(0,ye.jsx)(Wn,{colSize:"xl-6",className:"px-1",children:(0,ye.jsx)(Is,{id:"facility",placeholder:"Filter Facility...",compressed:!0,isMulti:!0,url:"/api/v1/cust/f/",defaultParams:{page_size:5,external:!1,is_internal:!0},value:null===t||void 0===t?void 0:t.facility_ids,onChange:e=>i("facility_ids",e)},"facility")}),(0,ye.jsx)(Wn,{colSize:"auto",className:"px-1",style:{display:"inline-flex",alignItems:"center"},children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(ws,{id:"allocate-only",label:"Allocate Only",checked:null===t||void 0===t?void 0:t.allocated_only,onChange:e=>i("allocated_only",!(null!==t&&void 0!==t&&t.allocated_only))})})}),(0,ye.jsx)(Wn,{colSize:"auto",className:"px-1",style:{display:"inline-flex",alignItems:"center"},children:(0,ye.jsx)("i",{className:"fas fa-sync fa-lg clickable".concat(n?" fa-spin":""," ml-2"),onClick:()=>r()})})]})})},OY=t=>{var n,i,r,o,a;let{flowOrig:s}=t;const{setEditNode:l,setFlowNodeDetail:u}=(0,e.useContext)(Qt),{addSuccessAlert:c}=(0,e.useContext)(be),g=(null===s||void 0===s||null===(n=s.nodes)||void 0===n?void 0:n.map((e=>{var t;return parseFloat(null===e||void 0===e?void 0:e.to_node.value)*parseFloat(null===e||void 0===e||null===(t=e.to_node)||void 0===t?void 0:t.quantity)})))/(null===s||void 0===s||null===(i=s.nodes)||void 0===i?void 0:i.map((e=>{var t;return parseFloat(null===e||void 0===e||null===(t=e.to_node)||void 0===t?void 0:t.quantity)})));return(0,ye.jsxs)("div",{className:"flow-node-context",children:[(0,ye.jsxs)("div",{className:"flow-node-context-header mb-2",children:[(0,ye.jsx)(Xg,{Label:"Bushels",Value:Fg(null===s||void 0===s?void 0:s.planned_flow),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Planned Margin",Value:Bg(null===s||void 0===s?void 0:s.planned_margin,0),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Planned Margin Unit",Value:Bg(null===s||void 0===s?void 0:s.planned_margin_per_unit),inline:!0,conditional:!0}),(0,ye.jsx)("br",{}),(0,ye.jsx)(Xg,{Label:"Avail Bushels",Value:Fg(null===s||void 0===s?void 0:s.available_flow),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Avail Margin",Value:Bg(null===s||void 0===s?void 0:s.available_margin,0),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Avail Margin Unit",Value:Bg(null===s||void 0===s?void 0:s.available_margin_per_unit),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Dest Value",Value:Bg(g),inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Key",Value:(0,ye.jsx)("span",{className:"small clickable",onClick:()=>{var e,t,n;return rt(null===s||void 0===s||null===(e=s.nodes)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.to_node)||void 0===n?void 0:n.node_key,(()=>c("Copied to clipboard!")))},children:null===s||void 0===s||null===(r=s.nodes)||void 0===r||null===(o=r[0])||void 0===o||null===(a=o.to_node)||void 0===a?void 0:a.node_key}),inline:!0,conditional:!0})]}),Object.values((null===s||void 0===s?void 0:s.nodes)||{}).map(((e,t)=>{var n,i,r,o,a,c,g,d,h;return(0,ye.jsx)(Nn,{className:"mb-2",children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsx)(Xg,{Label:"To",Value:null===e||void 0===e||null===(n=e.to_node)||void 0===n?void 0:n.place_display,inline:!0,conditional:!0}),"dir_ship"===(null===s||void 0===s?void 0:s.source_type)&&(0,ye.jsx)("i",{className:"fas fa-plus clickable ml-2",onClick:()=>l((e=>{var t,n,i;const r=null===e||void 0===e||null===(t=e.nodes)||void 0===t?void 0:t.map((e=>{var t,n,i,r;return{id:null===e||void 0===e||null===(t=e.to_node)||void 0===t||null===(n=t.facility)||void 0===n?void 0:n.id,label:null===e||void 0===e||null===(i=e.to_node)||void 0===i||null===(r=i.facility)||void 0===r?void 0:r.display_name}}));return{ship_mode:null===e||void 0===e?void 0:e.ship_mode,commodity:null===e||void 0===e||null===(n=e.commodity)||void 0===n?void 0:n.id,facility:null===e||void 0===e?void 0:e.facility,period:{...null===e||void 0===e?void 0:e.period,label:null===e||void 0===e||null===(i=e.period)||void 0===i?void 0:i.name},node_type:wt,to_options:r}})(s))}),(null===e||void 0===e||null===(i=e.from_edges)||void 0===i||null===(r=i.filter((e=>0!==e.plan_flow&&e.edge_type!==jt)))||void 0===r?void 0:r.length)>0&&(0,ye.jsxs)("div",{className:"flow-context-allocated-flow",children:[(0,ye.jsx)("div",{className:"font-h6",children:"Allocated Flow"}),null===e||void 0===e||null===(o=e.from_edges)||void 0===o||null===(a=o.filter((e=>0!==e.plan_flow)))||void 0===a?void 0:a.map(((e,t)=>(0,ye.jsx)(sY,{edge:e,onEditNode:e=>l(e),onViewNodeDetail:e=>u(e)},t)))]}),(null===e||void 0===e||null===(c=e.from_edges)||void 0===c||null===(g=c.filter((e=>0===e.plan_flow&&e.edge_type!==jt)))||void 0===g?void 0:g.length)>0&&(0,ye.jsxs)("div",{className:"flow-context-available-flow",children:[(0,ye.jsx)("div",{className:"font-h6",children:"Available Flow"}),null===e||void 0===e||null===(d=e.from_edges)||void 0===d||null===(h=d.filter((e=>0===e.plan_flow&&e.edge_type!==jt)))||void 0===h?void 0:h.map(((e,t)=>(0,ye.jsx)(sY,{edge:e,onEditNode:e=>l(e),onViewNodeDetail:e=>u(e)},t)))]})]})},t)}))]})},PY=t=>{var n,i,r,o,a,s,l,u,c,g;let{flowDest:d}=t;const{addSuccessAlert:h}=(0,e.useContext)(be),{setFlowNodeDetail:p}=(0,e.useContext)(Qt);return(0,ye.jsxs)("div",{className:"flow-node-context",children:[(0,ye.jsxs)("div",{className:"flow-node-context-header mb-2",children:[(0,ye.jsx)(Xg,{Label:"Bushels",Value:Fg(null===d||void 0===d?void 0:d.planned_flow),className:"mr-1 ",inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Value",Value:Bg(null===d||void 0===d||null===(n=d.node)||void 0===n?void 0:n.value),className:"mr-1 ",inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Planned Margin",Value:Bg(null===d||void 0===d?void 0:d.planned_margin,0),className:"mr-1 ",inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Planned Margin Unit",Value:Bg(null===d||void 0===d?void 0:d.planned_margin_per_unit),className:"mr-1 ",inline:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Node Key",Value:(0,ye.jsx)("span",{className:"small clickable",onClick:()=>{var e;return rt(null===d||void 0===d||null===(e=d.node)||void 0===e?void 0:e.node_key,(()=>h("Copied to clipboard!")))},children:null===d||void 0===d||null===(i=d.node)||void 0===i?void 0:i.node_key}),className:"mr-1 ",inline:!0,conditional:!0})]}),(null===d||void 0===d||null===(r=d.from_edges)||void 0===r||null===(o=r.filter((e=>0!==e.plan_flow)))||void 0===o?void 0:o.length)>0&&(0,ye.jsxs)("div",{className:"flow-context-allocated-flow",children:[(0,ye.jsx)("div",{className:"font-h6",children:"Allocated Flow"}),null===d||void 0===d||null===(a=d.from_edges)||void 0===a||null===(s=a.filter((e=>0!==e.plan_flow)))||void 0===s?void 0:s.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"from_node",edge:e,onViewNodeDetail:e=>p(e)},t)))]}),(null===d||void 0===d||null===(l=d.from_edges)||void 0===l||null===(u=l.filter((e=>0===e.plan_flow)))||void 0===u?void 0:u.length)>0&&(0,ye.jsxs)("div",{className:"flow-context-available-flow",children:[(0,ye.jsx)("div",{className:"font-h6",children:"Available Flow"}),null===d||void 0===d||null===(c=d.from_edges)||void 0===c||null===(g=c.filter((e=>0===e.plan_flow)))||void 0===g?void 0:g.map(((e,t)=>(0,ye.jsx)(sY,{displayKey:"from_node",edge:e,onViewNodeDetail:e=>p(e)},t)))]})]})},DY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A;let{id:f}=t;const{addErrorAlert:C,addSuccessAlert:I,addPendingTask:v}=(0,e.useContext)(be),{editNode:m,filters:y,flowVersion:b,flowFacilityDest:x,flowFacilityOrig:_,flowNodeDetail:w,inventoryFlows:k,loading:E,srcDisplayType:S,setEditNode:T,setFlowFacilityDest:O,setFlowFacilityOrig:P,setFlowNodeDetail:D,setFlowVersionID:j,setLoading:M,setSrcDisplayType:N}=(0,e.useContext)(Qt);(0,e.useEffect)((()=>{void 0!==b&&(document.title="Flow Inventory: ".concat((null===b||void 0===b?void 0:b.version_name)||(null===b||void 0===b?void 0:b.version)))}),[b]),(0,e.useEffect)((()=>{j(f)}),[f,j]);return(0,ye.jsxs)("div",{className:"flow-inventory-view",children:[(0,ye.jsxs)("div",{className:"flow-header-container",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:f}),(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsxs)("span",{className:"font-h4",children:["Flow Inventory ",(null===b||void 0===b?void 0:b.version_name)||(null===b||void 0===b?void 0:b.version)]}),(0,ye.jsx)(cY,{id:"network-actions",children:(0,ye.jsx)("div",{className:"vertical-center ml-2",children:(0,ye.jsx)(On,{variant:"icon-clear",floatRight:!0,small:!0,children:(0,ye.jsx)("i",{className:"fas fa-ellipsis-v px-1"})})})}),(0,ye.jsxs)(gY,{primary:!0,id:"network-actions",children:[(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>T({}),children:[(0,ye.jsx)("i",{className:"fas fa-map-marker-alt mr-2",title:"Add Node"}),"Add Node"]}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(M(!0),void He("api/v1/tr/comm-flow-v/".concat(f,"/sync-needs/"),{},(e=>{v(null===e||void 0===e?void 0:e.current_task),I("Synced Needs"),M(!1)}))),children:[(0,ye.jsx)("i",{className:"fas fa-cogs mr-2".concat(E?" fa-spin":""),title:"Sync Needs"}),"Sync Needs"]}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(()=>{var e,t;M(!0);const n={commodity_ids:null===y||void 0===y||null===(e=y.commodity_ids)||void 0===e?void 0:e.map((e=>e.id)).join(","),facility_ids:null===y||void 0===y||null===(t=y.facility_ids)||void 0===t?void 0:t.map((e=>e.id)).join(",")};He("api/v1/tr/comm-flow-v/".concat(f,"/balance-network/"),n,(e=>{v(null===e||void 0===e?void 0:e.current_task),I("Balance Network Task Started"),M(!1)}))})(),children:[(0,ye.jsx)("i",{className:"fas fa-balance-scale mr-2".concat(E?" fa-spin":""),title:"Balance Network"}),"Balance Network"]}),(0,ye.jsx)(hY,{}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(M(!0),void He("api/v1/tr/comm-flow-v/".concat(f,"/clear-inactive-items/"),{},(()=>{I("In-Active items in Network Cleared Out"),M(!1)}),(()=>{C("Unable to Clear Out In-Active items in Network")}))),children:[(0,ye.jsx)("i",{className:"fas fa-eraser mr-2".concat(E?" fa-spin":""),title:"Clear Inactive Items"}),"Clear Inactive Items"]})]})]}),(0,ye.jsx)(Wn,{children:(0,ye.jsx)(TY,{})})]}),(0,ye.jsx)(Un,{className:"my-2",children:(0,ye.jsx)(Wn,{colSize:"xl-12",style:{flexGrow:1,display:"flex",justifyContent:"center",marginTop:"auto"},children:(0,ye.jsx)(Jg,{id:"src-display",labels:{left:{title:"Planned",value:mt},center:{title:"Avail",value:yt},right:{title:"Both",value:bt}},value:S,onChange:N,style:{container:{backgroundColor:"#4e73df",boxShadow:"1px 1px 10px 1px rgb(78, 115, 223, 0.5)"}}})})})]}),(0,ye.jsx)("div",{className:"flow-body-container",children:null===k||void 0===k?void 0:k.map(((e,t)=>(0,ye.jsx)(SY,{inventoryFlow:e},t)))}),(0,ye.jsx)(sd,{size:"80w",compressed:!0,title:"".concat(null===_||void 0===_||null===(n=_.nodes)||void 0===n||null===(i=n[0])||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.place_display,": ").concat(null===_||void 0===_?void 0:_.ship_mode_desc," ").concat(null===_||void 0===_||null===(o=_.period)||void 0===o?void 0:o.name," (").concat(Fg(null===_||void 0===_||null===(a=_.nodes)||void 0===a||null===(s=a[0])||void 0===s||null===(l=s.to_node)||void 0===l?void 0:l.quantity),")"),show:void 0!==_,onClose:()=>P(void 0),children:(0,ye.jsx)(OY,{flowOrig:_})}),(0,ye.jsx)(sd,{size:"80w",title:"".concat(null===x||void 0===x||null===(u=x.node)||void 0===u?void 0:u.place_display,": ").concat(null===x||void 0===x||null===(c=x.node)||void 0===c?void 0:c.node_type_desc," ").concat(null===x||void 0===x||null===(g=x.node)||void 0===g||null===(d=g.period)||void 0===d?void 0:d.name," (").concat(Fg(null===x||void 0===x||null===(h=x.node)||void 0===h?void 0:h.quantity),")"),show:void 0!==x,onClose:()=>O(void 0),children:(0,ye.jsx)(PY,{flowDest:x})}),(0,ye.jsx)(sd,{size:"70w",midHigh:!0,title:"".concat(null===w||void 0===w?void 0:w.priority_type_desc,": ").concat(null===w||void 0===w||null===(p=w.commodity)||void 0===p?void 0:p.commodity_code," ").concat(null===w||void 0===w?void 0:w.place_display,": ").concat(null===w||void 0===w||null===(A=w.period)||void 0===A?void 0:A.name),show:void 0!==w,onClose:()=>D(void 0),children:(0,ye.jsx)(lY,{nodeDetail:w})}),(0,ye.jsx)(hu,{compressed:!0,shadow:"lg",size:"xl",title:"Create/Update Node",FormElement:rY,initial:m,flowVersion:f,show:void 0!==m,onCreate:(e,t)=>((e,t)=>{e.flow_version=f,Ge("api/v1/tr/flow-node/",e,(()=>{I("Node Added"),T(void 0),void 0!==t&&t()}),(()=>{C("Unable to Create Flow Node")}))})(e,t),onUpdate:(e,t)=>((e,t)=>{e.flow_version=f,He("api/v1/tr/flow-node/".concat(m.id,"/"),e,(()=>{I("Node Updated"),T(void 0),void 0!==t&&t()}),(()=>{C("Unable to Update Flow Node")}))})(e,t),onClose:()=>{T(void 0)}})]})},jY=()=>{const{filters:t,loading:n,setFilters:i,setFacilityFlows:r}=(0,e.useContext)(Qt),{commodities:o}=(0,e.useContext)(tn);return(0,ye.jsx)("div",{className:"flow-item-filter",children:(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-3",className:"px-1",children:(0,ye.jsx)(_s,{compressed:!0,placeholder:"Filter Commodity...",value:null===t||void 0===t?void 0:t.commodity_ids,options:o,onChange:e=>i("commodity_ids",e)})}),(0,ye.jsx)(Wn,{colSize:"xl-6",className:"px-1",children:(0,ye.jsx)(Is,{id:"facility",placeholder:"Filter Facility...",compressed:!0,isMulti:!0,url:"/api/v1/cust/f/",defaultParams:{page_size:5,external:!0,is_internal:!1},value:null===t||void 0===t?void 0:t.facility_ids,onChange:e=>i("facility_ids",e)},"facility")}),(0,ye.jsx)(Wn,{colSize:"auto",className:"px-1",style:{display:"inline-flex",alignItems:"center"},children:(0,ye.jsx)("i",{className:"fas fa-sync fa-lg clickable".concat(n?" fa-spin":""," ml-2"),onClick:()=>r()})})]})})},MY=t=>{var n,i,r,o,a,s,l,u;let{facilityFlow:c}=t;const{addSuccessAlert:g}=(0,e.useContext)(be),{setEditNode:d,setFlowFacilityDest:h}=(0,e.useContext)(Qt),{periods:p}=(0,e.useContext)(tn),A=null===(n=Object.values(null===c||void 0===c||null===(i=c.flow)||void 0===i?void 0:i.contracted))||void 0===n?void 0:n.length,f=null===(r=Object.values(null===c||void 0===c||null===(o=c.flow)||void 0===o?void 0:o.contract_planned))||void 0===r?void 0:r.length,C=e=>{((e,t,n)=>{Ye("api/v1/tr/flow-node/".concat(e,"/"),(e=>{void 0!==t&&t(e)}),(()=>{void 0!==n&&n()}))})(e,(()=>g("Deleted Node")))};return(0,ye.jsxs)("div",{className:"flow-stack flow-contracted-container",children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6 text-center",children:"Cak"}),borderRightDouble:!0,center:!0,bottom:!0,width:A+f}),(0,ye.jsxs)("div",{style:{display:"flex"},children:[(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6 text-center",children:"Cont"}),borderRight:!0,center:!0,bottom:!0,width:A}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(a=fY((null===c||void 0===c||null===(s=c.flow)||void 0===s?void 0:s.contracted)||{}))||void 0===a?void 0:a.map(((e,t)=>{var n,i;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(e)}),center:!0,bottom:!0,borderRight:!0}),Object.entries((null===c||void 0===c||null===(n=c.flow)||void 0===n||null===(i=n.contracted)||void 0===i?void 0:i[e])||{}).map(((e,t)=>{let[n,i]=e;return(0,ye.jsx)(pY,{className:"clickable",data:i,borderRight:!0,borderTop:!0,center:!0,hover:!0,display:e=>{var t;return Fg((null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.quantity)||0)},onClick:()=>h(i)},t)}))]},t)}))})]}),(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6 text-center",children:"Plan"}),borderRightDouble:!0,center:!0,bottom:!0,width:f}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(l=fY((null===c||void 0===c||null===(u=c.flow)||void 0===u?void 0:u.contract_planned)||{}))||void 0===l?void 0:l.map(((e,t)=>{var n,i;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(e)}),center:!0,bottom:!0,...t===f-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.entries((null===c||void 0===c||null===(n=c.flow)||void 0===n||null===(i=n.contract_planned)||void 0===i?void 0:i[e])||{}).map(((n,i)=>{let[r,o]=n;return(0,ye.jsx)(pY,{data:o,borderTop:!0,center:!0,hover:!0,display:t=>{var n;return(0,ye.jsx)(yY,{text:(0,ye.jsx)("div",{className:"clickable",onClick:()=>h(o),children:Fg((null===t||void 0===t||null===(n=t.node)||void 0===n?void 0:n.quantity)||0)}),onCreate:null!==t&&void 0!==t&&t.node?void 0:()=>d(((e,t,n,i,r)=>{var o,a;return(null===e||void 0===e?void 0:e.node)||{ship_mode:n,commodity:null===t||void 0===t||null===(o=t.commodity)||void 0===o?void 0:o.id,facility:null===t||void 0===t?void 0:t.facility,period:null===(a=r.filter((e=>{var t;return i===(null===e||void 0===e||null===(t=e.extra)||void 0===t?void 0:t.code)})))||void 0===a?void 0:a[0],node_type:kt}})(t,c,e,r,p)),onUpdate:null!==t&&void 0!==t&&t.node?()=>d(null===t||void 0===t?void 0:t.node):void 0,onDelete:null!==t&&void 0!==t&&t.node?()=>{var e;return C(null===t||void 0===t||null===(e=t.node)||void 0===e?void 0:e.id)}:void 0})},...t===f-1?{borderRightDouble:!0}:{borderRight:!0}},i)}))]},t)}))})]})]})]})},NY=e=>{let{data:t}=e;const n=parseFloat(null===t||void 0===t?void 0:t.total_allocated)/parseFloat(null===t||void 0===t?void 0:t.total_qty)*100||0;return(0,ye.jsx)("div",{style:{width:"100%"},children:(0,ye.jsx)(mg,{tooltip:(0,ye.jsxs)("div",{children:[(0,ye.jsxs)("span",{className:"text-center",children:[Rg(n/100,1)," Allocated"]}),(0,ye.jsx)(Xg,{Label:"Total",Value:Fg((null===t||void 0===t?void 0:t.total_allocated)||0),break:!0,conditional:!0,basic:!0}),(0,ye.jsx)(Xg,{Label:"Cak",Value:Fg((null===t||void 0===t?void 0:t.contracted_allocated)||0),break:!0,conditional:!0,basic:!0}),(0,ye.jsx)(Xg,{Label:"Cak Planned",Value:Fg((null===t||void 0===t?void 0:t.contract_planned_allocated)||0),break:!0,conditional:!0,basic:!0}),(0,ye.jsx)("hr",{className:"my-1",style:{background:"white"}}),"To Allocate",(0,ye.jsx)(Xg,{Label:"Total",Value:Fg((null===t||void 0===t?void 0:t.total_qty)-(null===t||void 0===t?void 0:t.total_allocated)||0),break:!0,conditional:!0,basic:!0}),(0,ye.jsx)(Xg,{Label:"Cak",Value:Fg((null===t||void 0===t?void 0:t.contracted_qty)-(null===t||void 0===t?void 0:t.contracted_allocated)||0),break:!0,conditional:!0,basic:!0}),(0,ye.jsx)(Xg,{Label:"Cak Planned",Value:Fg((null===t||void 0===t?void 0:t.contract_planned_qty)-(null===t||void 0===t?void 0:t.contract_planned_allocated)||0),break:!0,conditional:!0,basic:!0})]}),text:(0,ye.jsx)("span",{children:(null===t||void 0===t?void 0:t.total_qty)>0&&(0,ye.jsx)(Qg,{danger:n>101,value:n})})})})},zY=t=>{var n,i,r,o,a;let{facilityFlow:s}=t;const l=AY(null===s||void 0===s||null===(n=s.flow)||void 0===n?void 0:n.contract_allocated);return(0,ye.jsxs)("div",{className:"flow-stack flow-contracted-allocated-container",children:[(0,ye.jsx)(pY,{borderRightDouble:!0,center:!0,bottom:!0,width:AY(null===s||void 0===s||null===(i=s.flow)||void 0===i?void 0:i.contract_allocated)}),(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6 text-center",children:"Flow"}),borderRightDouble:!0,center:!0,bottom:!0,width:AY(null===s||void 0===s||null===(r=s.flow)||void 0===r?void 0:r.contract_allocated)}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(o=fY(null===s||void 0===s||null===(a=s.flow)||void 0===a?void 0:a.contract_allocated))||void 0===o?void 0:o.map(((t,n)=>{var i,r;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(t)}),center:!0,bottom:!0,...n===l-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.entries((null===s||void 0===s||null===(i=s.flow)||void 0===i||null===(r=i.contract_allocated)||void 0===r?void 0:r[t])||{}).map(((t,i)=>{let[r,o]=t;return(0,e.createElement)(pY,{data:o,Element:NY,...n===l-1?{borderRightDouble:!0}:{borderRight:!0},borderTop:!0,center:!0,key:i})}))]},n)}))})]})},RY=(e,t)=>t===mt?Fg((null===e||void 0===e?void 0:e.planned_flow)||0,!0):t===yt?Fg((null===e||void 0===e?void 0:e.available_flow)||0):t===bt?"".concat(Fg(((null===e||void 0===e?void 0:e.planned_flow)||0)/1e3),"k / ").concat(Fg(((null===e||void 0===e?void 0:e.available_flow)||0)/1e3),"k"):void 0,FY=t=>{let{data:n}=t;const{srcDisplayType:i}=(0,e.useContext)(Qt);return(0,ye.jsx)(mg,{className:"cell-value",tooltip:(0,ye.jsx)(Xg,{Label:"Available",Value:Fg((null===n||void 0===n?void 0:n.available_flow)||0),basic:!0}),text:RY(n,i)})},LY=(e,t)=>{var n,i,r;const o=Te(null===e||void 0===e||null===(n=e.nodes)||void 0===n||null===(i=n[0])||void 0===i||null===(r=i.from_edges)||void 0===r?void 0:r.map((e=>{var t;return parseFloat(null===e||void 0===e||null===(t=e.from_node)||void 0===t?void 0:t.beginning_inventory)||parseFloat(null===e||void 0===e?void 0:e.from_node.quantity)})));return t===mt?Fg((null===e||void 0===e?void 0:e.planned_flow)||0,!0):t===yt?Fg(o||0):t===bt?(0,ye.jsxs)("span",{children:[Fg(((null===e||void 0===e?void 0:e.planned_flow)||0)/1e3,!0),"k /",Fg((o||0)/1e3),"k"]}):void 0},BY=t=>{var n,i,r,o,a;let{data:s}=t;const{srcDisplayType:l}=(0,e.useContext)(Qt);return(0,ye.jsx)(mg,{className:"cell-value",tooltip:(0,ye.jsx)(Xg,{Label:"Available",Value:Fg((null===s||void 0===s||null===(n=s.nodes)||void 0===n||null===(i=n[0])||void 0===i||null===(r=i.from_edges)||void 0===r||null===(o=r[0])||void 0===o||null===(a=o.from_node)||void 0===a?void 0:a.beginning_inventory)||(null===s||void 0===s?void 0:s.available_flow)||0),basic:!0}),text:LY(s,l)})},ZY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h;let{facilityFlow:p}=t;const{setFlowFacilityOrig:A}=(0,e.useContext)(Qt),f=AY(null===p||void 0===p||null===(n=p.flow)||void 0===n||null===(i=n.source)||void 0===i?void 0:i.dir_ship),C=null===(r=Object.values(null===p||void 0===p||null===(o=p.flow)||void 0===o||null===(a=o.source)||void 0===a?void 0:a.elevator))||void 0===r?void 0:r.length,I=Te(Object.values(null===p||void 0===p||null===(s=p.flow)||void 0===s||null===(l=s.source)||void 0===l?void 0:l.elevator).map((e=>AY(e))));return(0,ye.jsxs)("div",{className:"flow-stack flow-source-container",children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"Org"}),center:!0,bottom:!0,borderRightDouble:!0,width:f+I}),(0,ye.jsxs)("div",{style:{display:"flex"},children:[(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:"Dir Ship"}),borderRightDouble:!0,center:!0,bottom:!0,width:f}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(u=fY(null===p||void 0===p||null===(c=p.flow)||void 0===c||null===(g=c.source)||void 0===g?void 0:g.dir_ship))||void 0===u?void 0:u.map(((t,n)=>{var i,r,o;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(t)}),center:!0,bottom:!0,...n===f-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.entries((null===p||void 0===p||null===(i=p.flow)||void 0===i||null===(r=i.source)||void 0===r||null===(o=r.dir_ship)||void 0===o?void 0:o[t])||{}).map(((t,i)=>{let[r,o]=t;return(0,e.createElement)(pY,{className:"clickable",data:o,Element:FY,...n===f-1?{borderRightDouble:!0}:{borderRight:!0},borderTop:!0,center:!0,hover:!0,key:i,onClick:()=>A(o)})}))]},n)}))})]}),(0,ye.jsx)("div",{style:{display:"flex"},children:Object.values((null===p||void 0===p||null===(d=p.flow)||void 0===d||null===(h=d.source)||void 0===h?void 0:h.elevator)||{}).map(((t,n)=>{var i;return(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>{var e,n;return(0,ye.jsx)("span",{className:"font-h6",children:(null===t||void 0===t||null===(e=t.elevator)||void 0===e?void 0:e.short_display)||(null===t||void 0===t||null===(n=t.elevator)||void 0===n?void 0:n.display_name)})},center:!0,bottom:!0,width:AY(t),...n===C-1?{borderRightDouble:!0}:{borderRight:!0}}),(0,ye.jsx)("div",{style:{display:"flex"},children:null===(i=fY(t))||void 0===i?void 0:i.map(((i,r)=>(0,ye.jsxs)("div",{children:[(0,ye.jsx)(pY,{display:()=>(0,ye.jsx)("span",{className:"font-h6",children:CY(i)}),center:!0,bottom:!0,...n===C-1&&r===AY(t)-1?{borderRightDouble:!0}:{borderRight:!0}}),Object.entries((null===t||void 0===t?void 0:t[i])||{}).map(((i,o)=>{let[a,s]=i;return(0,e.createElement)(pY,{className:"clickable",data:s,Element:BY,borderTop:!0,center:!0,hover:!0,...n===C-1&&r===AY(t)-1?{borderRightDouble:!0}:{borderRight:!0},key:o,onClick:()=>A(s)})}))]},r)))})]},n)}))})]})]})},VY=e=>{var t,n,i,r,o,a,s;let{facilityFlow:l}=e;return(0,ye.jsxs)("div",{className:"flow-facility-detail",style:{borderBottom:"1px solid #e3e6f0",paddingBottom:"0.75rem",marginBottom:"0.5rem"},children:[(0,ye.jsx)(Un,{className:"mx-2 mb-1 pb-1",children:(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsxs)("div",{className:"font-h4",children:[null===l||void 0===l||null===(t=l.commodity)||void 0===t?void 0:t.commodity_code,": ",null===l||void 0===l||null===(n=l.facility)||void 0===n?void 0:n.display_name]}),(0,ye.jsx)(Xg,{Label:"Cak",Value:Fg(null===l||void 0===l||null===(i=l.metrics)||void 0===i?void 0:i.contract_quantity),className:"mr-1",conditional:!0,inline:!0}),(0,ye.jsx)(Xg,{Label:"Cak Plan",Value:Fg(null===l||void 0===l||null===(r=l.metrics)||void 0===r?void 0:r.contract_planned_quantity),className:"mr-1",conditional:!0,inline:!0}),(0,ye.jsx)(Xg,{Label:"Cak Allcoated",Value:Fg(null===l||void 0===l||null===(o=l.metrics)||void 0===o?void 0:o.contract_quantity_allocated),className:"mr-1",conditional:!0,inline:!0}),(0,ye.jsx)(Xg,{Label:"Cak Plan Allocated",Value:Fg(null===l||void 0===l||null===(a=l.metrics)||void 0===a?void 0:a.contract_planned_quantity_allocated),className:"mr-1",conditional:!0,inline:!0})]})}),(0,ye.jsxs)("div",{style:{display:"flex"},children:[(0,ye.jsx)(IY,{flowPeriods:null===l||void 0===l||null===(s=l.flow)||void 0===s?void 0:s.periods}),(0,ye.jsx)(zY,{facilityFlow:l}),(0,ye.jsx)(MY,{facilityFlow:l}),(0,ye.jsx)(ZY,{facilityFlow:l})]})]})},UY=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f;let{id:C}=t;const{addErrorAlert:I,addSuccessAlert:v,addPendingTask:m}=(0,e.useContext)(be),{editNode:y,filters:b,facilityFlows:x,flowFacilityDest:_,flowFacilityOrig:w,flowNodeDetail:k,flowVersion:E,loading:S,srcDisplayType:T,setEditNode:O,setFlowFacilityDest:P,setFlowFacilityOrig:D,setFlowNodeDetail:j,setFlowVersionID:M,setLoading:N,setSrcDisplayType:z}=(0,e.useContext)(Qt);(0,e.useEffect)((()=>{void 0!==E&&(document.title="Flow Facility: ".concat((null===E||void 0===E?void 0:E.version_name)||(null===E||void 0===E?void 0:E.version)))}),[E]),(0,e.useEffect)((()=>{M(C)}),[C,M]);return(0,ye.jsxs)("div",{className:"flow-facility-view",children:[(0,ye.jsxs)("div",{className:"flow-header-container",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:C}),(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsxs)("span",{className:"font-h4",children:["Flow Facility ",(null===E||void 0===E?void 0:E.version_name)||(null===E||void 0===E?void 0:E.version)]}),(0,ye.jsx)(cY,{id:"network-actions",children:(0,ye.jsx)("div",{className:"vertical-center ml-2",children:(0,ye.jsx)(On,{variant:"icon-clear",floatRight:!0,small:!0,children:(0,ye.jsx)("i",{className:"fas fa-ellipsis-v px-1"})})})}),(0,ye.jsxs)(gY,{primary:!0,id:"network-actions",children:[(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>O({}),children:[(0,ye.jsx)("i",{className:"fas fa-map-marker-alt mr-2",title:"Add Node"}),"Add Node"]}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(N(!0),void He("api/v1/tr/comm-flow-v/".concat(C,"/sync-needs/"),{},(e=>{m(null===e||void 0===e?void 0:e.current_task),v("Synced Needs"),N(!1)}),(()=>{I("Unable to Sync Flow Needs")}))),children:[(0,ye.jsx)("i",{className:"fas fa-cogs mr-2".concat(S?" fa-spin":""),title:"Sync Needs"}),"Sync Needs"]}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(()=>{var e;N(!0);const t={commodity_ids:null===b||void 0===b||null===(e=b.commodity_ids)||void 0===e?void 0:e.map((e=>e.id)).join(",")};He("api/v1/tr/comm-flow-v/".concat(C,"/balance-network/"),t,(e=>{m(null===e||void 0===e?void 0:e.current_task),v("Balance Network Task Started"),N(!1)}),(()=>{I("Unable to Balance Flow")}))})(),children:[(0,ye.jsx)("i",{className:"fas fa-balance-scale mr-2".concat(S?" fa-spin":""),title:"Balance Network"}),"Balance Network"]}),(0,ye.jsx)(hY,{}),(0,ye.jsxs)(dY,{className:"text-muted clickable",onClick:()=>(N(!0),void He("api/v1/tr/comm-flow-v/".concat(C,"/clear-inactive-items/"),{},(()=>{v("In-Active items in Network Cleared Out"),N(!1)}),(()=>{I("Unable to Clear Out In-Active items in Network")}))),children:[(0,ye.jsx)("i",{className:"fas fa-eraser mr-2".concat(S?" fa-spin":""),title:"Clear Inactive Items"}),"Clear Inactive Items"]})]})]}),(0,ye.jsx)(Wn,{children:(0,ye.jsx)(jY,{})})]}),(0,ye.jsx)(Un,{className:"my-2",children:(0,ye.jsx)(Wn,{colSize:"xl-12",style:{flexGrow:1,display:"flex",justifyContent:"center",marginTop:"auto"},children:(0,ye.jsx)(Jg,{id:"src-display",labels:{left:{title:"Planned",value:mt},center:{title:"Avail",value:yt},right:{title:"Both",value:bt}},value:T,onChange:z,style:{container:{backgroundColor:"#4e73df",boxShadow:"1px 1px 10px 1px rgb(78, 115, 223, 0.5)"}}})})})]}),(0,ye.jsx)("div",{className:"flow-body-container",children:null===x||void 0===x?void 0:x.map(((e,t)=>(0,ye.jsx)(VY,{facilityFlow:e},t)))}),(0,ye.jsx)(sd,{size:"80w",compressed:!0,title:"".concat(null===w||void 0===w?void 0:w.source_display," -> ").concat(null===w||void 0===w||null===(n=w.nodes)||void 0===n||null===(i=n[0])||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.place_display,": ").concat(null===w||void 0===w?void 0:w.ship_mode_desc," ").concat(null===w||void 0===w||null===(o=w.period)||void 0===o?void 0:o.name," (").concat(Fg(null===w||void 0===w||null===(a=w.nodes)||void 0===a||null===(s=a[0])||void 0===s||null===(l=s.to_node)||void 0===l?void 0:l.quantity),")"),show:void 0!==w,onClose:()=>D(void 0),children:(0,ye.jsx)(OY,{flowOrig:w})}),(0,ye.jsx)(sd,{size:"80w",title:"".concat(null===_||void 0===_||null===(u=_.node)||void 0===u?void 0:u.place_display,": ").concat(null===_||void 0===_||null===(c=_.node)||void 0===c?void 0:c.node_type_desc," ").concat(null===_||void 0===_||null===(g=_.node)||void 0===g?void 0:g.ship_mode_desc," ").concat(null===_||void 0===_||null===(d=_.node)||void 0===d||null===(h=d.period)||void 0===h?void 0:h.name," (").concat(Fg(null===_||void 0===_||null===(p=_.node)||void 0===p?void 0:p.quantity),")"),show:void 0!==_,onClose:()=>P(void 0),children:(0,ye.jsx)(PY,{flowDest:_})}),(0,ye.jsx)(sd,{size:"70w",midHigh:!0,title:"".concat(null===k||void 0===k?void 0:k.priority_type_desc,": ").concat(null===k||void 0===k||null===(A=k.commodity)||void 0===A?void 0:A.commodity_code," ").concat(null===k||void 0===k?void 0:k.place_display,": ").concat(null===k||void 0===k||null===(f=k.period)||void 0===f?void 0:f.name),show:void 0!==k,onClose:()=>j(void 0),children:(0,ye.jsx)(lY,{nodeDetail:k})}),(0,ye.jsx)(hu,{compressed:!0,shadow:"lg",size:"xl",title:"Create/Update Node",FormElement:rY,initial:y,flowVersion:C,show:void 0!==y,onCreate:(e,t)=>((e,t)=>{e.flow_version=C,Ge("api/v1/tr/flow-node/",e,(()=>{v("Node Added"),O(void 0),void 0!==t&&t()}),(()=>{I("Unable to Create Flow Node")}))})(e,t),onUpdate:(e,t)=>((e,t)=>{e.flow_version=C,He("api/v1/tr/flow-node/".concat(y.id,"/"),e,(()=>{v("Node Updated"),O(void 0),void 0!==t&&t()}),(()=>{I("Unable to Update Flow Node")}))})(e,t),onClose:()=>{O(void 0)}})]})};function WY(t){let{chartVersion:n="current",chartPackages:i=["corechart","controls"],chartLanguage:r="en",mapsApiKey:o}=t;const[a,s]=(0,e.useState)(null),[l,u]=(0,e.useState)(!1);var c,g,d;return c="https://www.gstatic.com/charts/loader.js",g=()=>{const e=null===window||void 0===window?void 0:window.google;e&&(e.charts.load(n,{packages:i,language:r,mapsApiKey:o}),e.charts.setOnLoadCallback((()=>{s(e)})))},d=()=>{u(!0)},(0,e.useEffect)((()=>{if(!document)return;const e=document.querySelector('script[src="'.concat(c,'"]'));if(null===e||void 0===e?void 0:e.dataset.loaded)return void(null===g||void 0===g||g());const t=e||document.createElement("script");e||(t.src=c);const n=()=>{t.dataset.loaded="1",null===g||void 0===g||g()};return t.addEventListener("load",n),d&&t.addEventListener("error",d),e||document.head.append(t),()=>{t.removeEventListener("load",n),d&&t.removeEventListener("error",d)}}),[]),[a,l]}function GY(t){let{onLoad:n,onError:i,...r}=t;const[o,a]=WY(r);return(0,e.useEffect)((()=>{o&&n&&n(o)}),[o]),(0,e.useEffect)((()=>{a&&i&&i()}),[a]),null}const HY={legend_toggle:!1,options:{},legendToggle:!1,getChartWrapper:()=>{},spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{}};let YY=0;const qY=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],{Provider:KY,Consumer:XY}=e.createContext(HY),QY=t=>{let{children:n,value:i}=t;return e.createElement(KY,{value:i},n)},JY=t=>{let{render:n}=t;return e.createElement(XY,null,(e=>n(e)))};class $Y extends e.Component{componentDidMount(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()}componentWillUnmount(){const{google:e,googleChartWrapper:t}=this.props;window.removeEventListener("resize",this.onResize),e.visualization.events.removeAllListeners(t),"Timeline"===t.getChartType()&&t.getChart()&&t.getChart().clearChart()}componentDidUpdate(){this.draw(this.props)}render(){return null}constructor(){super(...arguments),this.state={hiddenColumns:[]},this.listenToLegendToggle=()=>{const{google:e,googleChartWrapper:t}=this.props;e.visualization.events.addListener(t,"select",(()=>{const e=t.getChart().getSelection(),n=t.getDataTable();if(0===e.length||e[0].row||!n)return;const i=e[0].column,r=this.getColumnID(n,i);this.state.hiddenColumns.includes(r)?this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns.filter((e=>e!==r))]}))):this.setState((e=>({...e,hiddenColumns:[...e.hiddenColumns,r]})))}))},this.applyFormatters=(e,t)=>{const{google:n}=this.props;for(let i of t)switch(i.type){case"ArrowFormat":new n.visualization.ArrowFormat(i.options).format(e,i.column);break;case"BarFormat":new n.visualization.BarFormat(i.options).format(e,i.column);break;case"ColorFormat":{const t=new n.visualization.ColorFormat(i.options),{ranges:r}=i;for(let e of r)t.addRange(...e);t.format(e,i.column);break}case"DateFormat":new n.visualization.DateFormat(i.options).format(e,i.column);break;case"NumberFormat":new n.visualization.NumberFormat(i.options).format(e,i.column);break;case"PatternFormat":new n.visualization.PatternFormat(i.options).format(e,i.column);break}},this.getColumnID=(e,t)=>e.getColumnId(t)||e.getColumnLabel(t),this.draw=async e=>{let{data:t,diffdata:n,rows:i,columns:r,options:o,legend_toggle:a,legendToggle:s,chartType:l,formatters:u,spreadSheetUrl:c,spreadSheetQueryParameters:g}=e;const{google:d,googleChartWrapper:h}=this.props;let p,A=null;if(n){const e=d.visualization.arrayToDataTable(n.old),t=d.visualization.arrayToDataTable(n.new);A=d.visualization[l].prototype.computeDiff(e,t)}p=null!==t?Array.isArray(t)?d.visualization.arrayToDataTable(t):new d.visualization.DataTable(t):i&&r?d.visualization.arrayToDataTable([r,...i]):c?await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((i,r)=>{const o="".concat(n.headers?"headers=".concat(n.headers):"headers=0"),a="".concat(n.query?"&tq=".concat(encodeURIComponent(n.query)):""),s="".concat(n.gid?"&gid=".concat(n.gid):""),l="".concat(n.sheet?"&sheet=".concat(n.sheet):""),u="".concat(n.access_token?"&access_token=".concat(n.access_token):""),c="".concat(o).concat(s).concat(l).concat(a).concat(u),g="".concat(t,"/gviz/tq?").concat(c);new e.visualization.Query(g).send((e=>{e.isError()?r("Error in query:  ".concat(e.getMessage()," ").concat(e.getDetailedMessage())):i(e.getDataTable())}))}))}(d,c,g):d.visualization.arrayToDataTable([]);const f=p.getNumberOfColumns();for(let I=0;I<f;I+=1){const e=this.getColumnID(p,I);if(this.state.hiddenColumns.includes(e)){const e=p.getColumnLabel(I),t=p.getColumnId(I),n=p.getColumnType(I);p.removeColumn(I),p.addColumn({label:e,id:t,type:n})}}const C=h.getChart();"Timeline"===h.getChartType()&&C&&C.clearChart(),h.setChartType(l),h.setOptions(o||{}),h.setDataTable(p),h.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(p),A&&(h.setDataTable(A),h.draw()),u&&(this.applyFormatters(p,u),h.setDataTable(p),h.draw()),!0!==s&&!0!==a||this.grayOutHiddenColumns({options:o})},this.grayOutHiddenColumns=e=>{let{options:t}=e;const{googleChartWrapper:n}=this.props,i=n.getDataTable();if(!i)return;const r=i.getNumberOfColumns();if(!1===this.state.hiddenColumns.length>0)return;const o=Array.from({length:r-1}).map(((e,n)=>{const r=this.getColumnID(i,n+1);return this.state.hiddenColumns.includes(r)?"#CCCCCC":t&&t.colors?t.colors[n]:qY[n]}));n.setOptions({...t,colors:o}),n.draw()},this.onResize=()=>{const{googleChartWrapper:e}=this.props;e.draw()}}}class eq extends e.Component{componentDidMount(){}componentWillUnmount(){}shouldComponentUpdate(){return!1}render(){const{google:t,googleChartWrapper:n,googleChartDashboard:i}=this.props;return e.createElement(JY,{render:r=>e.createElement($Y,Object.assign({},r,{google:t,googleChartWrapper:n,googleChartDashboard:i}))})}}class tq extends e.Component{shouldComponentUpdate(){return!1}listenToEvents(e){let{chartEvents:t,google:n,googleChartWrapper:i}=e;if(t){n.visualization.events.removeAllListeners(i);for(let e of t){var r=this;const{eventName:t,callback:o}=e;n.visualization.events.addListener(i,t,(function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];o({chartWrapper:i,props:r.props,google:n,eventArgs:t})}))}}}componentDidMount(){var e;const{google:t,googleChartWrapper:n}=this.props;this.listenToEvents({chartEvents:(null===(e=this.propsFromContext)||void 0===e?void 0:e.chartEvents)||null,google:t,googleChartWrapper:n})}render(){return this.props,e.createElement(JY,{render:e=>(this.propsFromContext=e,null)})}constructor(e){super(e),this.propsFromContext=null}}let nq=0;class iq extends e.Component{componentDidMount(){const{options:e,google:t,chartType:n,chartWrapperParams:i,toolbarItems:r,getChartEditor:o,getChartWrapper:a}=this.props,s={chartType:n,options:e,containerId:this.getGraphID(),...i},l=new t.visualization.ChartWrapper(s);l.setOptions(e||{}),a&&a(l,t);const u=new t.visualization.Dashboard(this.dashboard_ref),c=this.addControls(l,u);r&&t.visualization.drawToolbar(this.toolbar_ref.current,r);let g=null;o&&(g=new t.visualization.ChartEditor,o({chartEditor:g,chartWrapper:l,google:t})),this.setState({googleChartEditor:g,googleChartControls:c,googleChartDashboard:u,googleChartWrapper:l,isReady:!0})}componentDidUpdate(){if(!this.state.googleChartWrapper)return;if(!this.state.googleChartDashboard)return;if(!this.state.googleChartControls)return;const{controls:e}=this.props;if(e)for(let t=0;t<e.length;t+=1){const{controlType:n,options:i,controlWrapperParams:r}=e[t];r&&"state"in r&&this.state.googleChartControls[t].control.setState(r.state),this.state.googleChartControls[t].control.setOptions(i),this.state.googleChartControls[t].control.setControlType(n)}}shouldComponentUpdate(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls}render(){const{width:t,height:n,options:i,style:r}=this.props,o={height:n||i&&i.height,width:t||i&&i.width,...r};return this.props.render?e.createElement("div",{ref:this.dashboard_ref,style:o},e.createElement("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):e.createElement("div",{ref:this.dashboard_ref,style:o},this.renderControl((e=>{let{controlProp:t}=e;return"bottom"!==t.controlPosition})),this.renderChart(),this.renderControl((e=>{let{controlProp:t}=e;return"bottom"===t.controlPosition})),this.renderToolBar())}constructor(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r;super(...n),r=this,this.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},this.graphID=null,this.dashboard_ref=e.createRef(),this.toolbar_ref=e.createRef(),this.getGraphID=()=>{const{graphID:e,graph_id:t}=this.props;let n;return e||t?n=e&&!t?e:t&&!e?t:e:this.graphID?n=this.graphID:(YY+=1,n="reactgooglegraph-".concat(YY)),this.graphID=n,this.graphID},this.getControlID=(e,t)=>{let n;return nq+=1,n="undefined"===typeof e?"googlechart-control-".concat(t,"-").concat(nq):e,n},this.addControls=(e,t)=>{const{google:n,controls:i}=this.props,r=i?i.map(((e,t)=>{const{controlID:i,controlType:r,options:o,controlWrapperParams:a}=e,s=this.getControlID(i,t);return{controlProp:e,control:new n.visualization.ControlWrapper({containerId:s,controlType:r,options:o,...a})}})):null;if(!r)return null;t.bind(r.map((e=>{let{control:t}=e;return t})),e);for(let a of r){const{control:t,controlProp:i}=a,{controlEvents:r=[]}=i;for(let a of r){var o=this;const{callback:i,eventName:r}=a;n.visualization.events.removeListener(t,r,i),n.visualization.events.addListener(t,r,(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];i({chartWrapper:e,controlWrapper:t,props:o.props,google:n,eventArgs:a})}))}}return r},this.renderChart=()=>{const{width:t,height:n,options:i,style:r,className:o,rootProps:a,google:s}=this.props,l={height:n||i&&i.height,width:t||i&&i.width,...r};return e.createElement("div",Object.assign({id:this.getGraphID(),style:l,className:o},a),this.state.isReady&&null!==this.state.googleChartWrapper?e.createElement(e.Fragment,null,e.createElement(eq,{googleChartWrapper:this.state.googleChartWrapper,google:s,googleChartDashboard:this.state.googleChartDashboard}),e.createElement(tq,{googleChartWrapper:this.state.googleChartWrapper,google:s})):null)},this.renderControl=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>!0;return r.state.isReady&&null!==r.state.googleChartControls?e.createElement(e.Fragment,null,r.state.googleChartControls.filter((e=>{let{controlProp:n,control:i}=e;return t({control:i,controlProp:n})})).map((t=>{let{control:n,controlProp:i}=t;return e.createElement("div",{key:n.getContainerId(),id:n.getContainerId()})}))):null},this.renderToolBar=()=>this.props.toolbarItems?e.createElement("div",{ref:this.toolbar_ref}):null}}class rq extends e.Component{render(){const{chartLanguage:t,chartPackages:n,chartVersion:i,mapsApiKey:r,loader:o,errorElement:a}=this.props;return e.createElement(QY,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?e.createElement(iq,Object.assign({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&a?a:o,e.createElement(GY,{chartLanguage:t,chartPackages:n,chartVersion:i,mapsApiKey:r,onLoad:this.onLoad,onError:this.onError}))}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}isFullyLoaded(e){const{controls:t,toolbarItems:n,getChartEditor:i}=this.props;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!t||e.visualization.ChartWrapper)&&(!i||e.visualization.ChartEditor)&&(!n||e.visualization.drawToolbar)}constructor(){super(...arguments),this._isMounted=!1,this.state={loadingStatus:"loading",google:null},this.onLoad=e=>{if(this.props.onLoad&&this.props.onLoad(e),this.isFullyLoaded(e))this.onSuccess(e);else{const e=setInterval((()=>{const t=window.google;this._isMounted?t&&this.isFullyLoaded(t)&&(clearInterval(e),this.onSuccess(t)):clearInterval(e)}),1e3)}},this.onSuccess=e=>{this.setState({loadingStatus:"ready",google:e})},this.onError=()=>{this.setState({loadingStatus:"errored"})}}}var oq;rq.defaultProps=HY,function(e){e.annotation="annotation",e.annotationText="annotationText",e.certainty="certainty",e.emphasis="emphasis",e.interval="interval",e.scope="scope",e.style="style",e.tooltip="tooltip",e.domain="domain"}(oq||(oq={}));const aq=t=>(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)($g,{className:"mb-2"}),(0,ye.jsx)(rq,{chartType:"Sankey",width:"100%",height:"700px",data:[],options:{title:"Flow Diagram",sankey:{iterations:64,link:{color:{fill:"#4e73df",fillOpacity:.7},colorMode:"gradient",interactivity:!0},node:{nodePadding:90,interactivity:!0,width:10,labelPadding:6}},enableInteractivity:!0,tooltip:{isHtml:!0,trigger:"selection"}},chartEvents:[{eventName:"select",callback:e=>{let{chartWrapper:t,google:n}=e;const i=t.getChart().getSelection();if(1===i.length){const[e]=i,{row:n,column:r,name:o}=e;t.getDataTable()}}}]})]}),sq=[{header:"Commodity",accessor:"commodity.commodity_code",FilterKey:"commodity",style:{width:"6%"},center:!0},{header:"Ship Mode",accessor:"ship_mode_desc",FilterKey:"ship_mode",style:{width:"6%"},center:!0},{header:"Period",accessor:"period.name",FilterKey:"period",style:{width:"5%"},center:!0},{header:"Quantity",accessor:"quantity",FilterKey:"quantity",formatter:Fg,style:{width:"5%"},center:!0},{header:"Quantity Unit",accessor:"quantity_unit_desc",center:!0,FilterKey:"quantity_unit",style:{width:"6%"},FilterOptions:At,FilterNullable:!0},{header:"Orig Mkt Zone",accessor:"origin_market_zone.name",FilterKey:"origin_market_zone",style:{width:"10%"},center:!0},{header:"Orig Freight Terms",accessor:"origin_freight_terms_desc",FilterKey:"origin_freight_terms",style:{width:"6%"},center:!0},{header:"Orig Facility",accessor:"origin_facility.display_name",style:{width:"10%"},center:!0},{header:"Orig Trading Partner",accessor:"origin_trading_partner.display_name",center:!0,style:{width:"10%"},FilterKey:"origin_trading_partner"},{header:"Dest Mkt Zone",accessor:"destination_market_zone.name",FilterKey:"destination_market_zone",center:!0,style:{width:"10%"}},{header:"Dest Freight Terms",accessor:"destination_freight_terms_desc",FilterKey:"destination_freight_terms",style:{width:"6%"},center:!0},{header:"Dest Facility",accessor:"destination_facility.display_name",style:{width:"10%"},center:!0},{header:"Dest Trading Partner",accessor:"destination_trading_partner.display_name",center:!0,style:{width:"10%"},FilterKey:"origin_trading_partner"}],lq=t=>{const{id:n}=ge();return(0,e.useEffect)((()=>{document.title="Flow Items"}),[]),(0,ye.jsx)("div",{className:"flow-items",children:(0,ye.jsxs)(we,{children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:n}),(0,ye.jsx)(ad,{hover:!0,small:!0,flat:!0,responsive:!0,title:"Flow Items",tableColumns:sq,apiURL:"api/v1/tr/comm-flow-item/",defaultFilters:{flow_version:n},filters:!0,paginationSize:20})]})})},uq=t=>{let{flowVersion:n,onCreate:i,onUpdate:r}=t;const{users:o}=(0,e.useContext)(tn),[a,s]=(0,e.useState)(""),[l,u]=(0,e.useState)(void 0),[c,g]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{void 0!==(null===n||void 0===n?void 0:n.version_name)&&(s((null===n||void 0===n?void 0:n.version_name)||""),u(_t(at,null===n||void 0===n?void 0:n.key_version)),g(xt(o,null===n||void 0===n?void 0:n.merchants)))}),[n]);return(0,ye.jsxs)("div",{className:"flow-version-form",children:[(0,ye.jsxs)(Un,{className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"version_name",label:"Name",compressed:!0,value:a,onChange:s})})}),(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(xs,{id:"key-version",label:"Key Version",compressed:!0,options:at,value:l,onChange:u},"key-version")}),(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(_s,{id:"merchants",label:"Merchants",compressed:!0,options:o,value:c,onChange:g},"merchants")})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{const e=(null===c||void 0===c?void 0:c.length)>0?c.map((e=>e.id)):null;void 0===n.id?i({version_name:a,key_version:null===l||void 0===l?void 0:l.id,merchants:e}):r({version_name:a,key_version:null===l||void 0===l?void 0:l.id,merchants:e})},isLoading:!1,Text:"Submit"})})})]})},cq=t=>{const{addSuccessAlert:n}=(0,e.useContext)(be),[i,r]=(0,e.useState)([]),[o,a]=(0,e.useState)(!1),[s,l]=(0,e.useState)(!1),[u,c]=(0,e.useState)(!1),[g,d]=(0,e.useState)(!1);(0,e.useEffect)((()=>{We("api/v1/tr/comm-flow-v/",(e=>r(e.results)))}),[r]);return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)($g,{}),(0,ye.jsxs)("div",{className:"flow-versions",children:[(0,ye.jsxs)("span",{className:"font-h4",children:["Flow Versions",(0,ye.jsx)("i",{className:"fas fa-plus clickable ml-2",onClick:()=>l({})})]}),null===i||void 0===i?void 0:i.map(((e,t)=>{var n;return(0,ye.jsxs)(Nn,{compressed:!0,className:"mb-2",children:[(0,ye.jsxs)(jn,{children:[(0,ye.jsxs)(Ie,{to:v$(I$.flow_version_detail,null===e||void 0===e?void 0:e.id),className:"text-muted",style:{textDecoration:"None"},children:[null===e||void 0===e?void 0:e.display_name,(0,ye.jsxs)("span",{className:"ml-1",children:["(",null!==e&&void 0!==e&&e.active?"Active":"Draft",")"]})]},t),(0,ye.jsxs)("span",{className:"flow-version-actions float-right",children:[!e.active&&(0,ye.jsx)("i",{className:"fas fa-toggle-on clickable fa-lg mr-2",onClick:()=>c(e)}),(0,ye.jsx)("i",{className:"far fa-copy clickable fa-lg mr-2",onClick:()=>a(e)}),(0,ye.jsx)("i",{className:"fas fa-edit clickable fa-lg mr-2",onClick:()=>l(e)}),(0,ye.jsx)("i",{className:"far fa-trash-alt clickable fa-lg mr-2",onClick:()=>d(e)})]})]}),(0,ye.jsxs)(Mn,{children:[(0,ye.jsx)("span",{children:Wg(null===e||void 0===e?void 0:e.updated_on)},"date"),(0,ye.jsx)("span",{className:"float-right",children:null===e||void 0===e||null===(n=e.updated_by)||void 0===n?void 0:n.full_name},"name")]})]},t)}))]}),(0,ye.jsx)(hu,{compressed:!0,shadow:"lg",size:"lg",title:"Edit",FormElement:uq,show:s,flowVersion:s,onCreate:e=>{e.commodity_flow=1,Ge("api/v1/tr/comm-flow-draft/",e,(e=>{r((t=>[e,...t])),n("Added Draft Flow Version")})),l(void 0)},onUpdate:e=>{He("api/v1/tr/comm-flow-v/".concat(null===s||void 0===s?void 0:s.id,"/"),e,(e=>{r((t=>[e,...t.filter((t=>t.id!==e.id))])),n("Updated Flow Version")})),l(void 0)},onClose:()=>{l(!1)}}),(0,ye.jsx)(du,{show:o,onDecline:()=>a(void 0),onConfirm:()=>{He("api/v1/tr/comm-flow-v/".concat(null===o||void 0===o?void 0:o.id,"/copy/"),{},(e=>{r((t=>[e,...t])),n("Copied Flow Version")})),a(void 0)},confirmText:"Copy",helperTitle:"Copy ".concat(null===o||void 0===o?void 0:o.display_name)}),(0,ye.jsx)(du,{show:u,onDecline:()=>c(void 0),onConfirm:()=>{He("api/v1/tr/comm-flow-v/".concat(null===u||void 0===u?void 0:u.id,"/activate/"),{},(e=>{r((t=>[e,...t.filter((t=>(null===t||void 0===t?void 0:t.id)!==e.id))])),n("Activated Flow Version")})),c(void 0)},confirmText:"Activate",helperTitle:"Activate ".concat(null===u||void 0===u?void 0:u.display_name)}),(0,ye.jsx)(du,{show:g,onDecline:()=>d(void 0),onConfirm:()=>{const e=null===g||void 0===g?void 0:g.id;He("api/v1/tr/comm-flow-v/".concat(e,"/deactivate/"),{},(()=>{r((t=>[...t.filter((t=>(null===t||void 0===t?void 0:t.id)!==e))])),n("Archived Flow Version")})),d(void 0)},confirmText:"Archive",helperTitle:"Archive ".concat(null===g||void 0===g?void 0:g.display_name)})]})},gq=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C,I,v,m,y,b;let{flowVersion:x,initial:_,onCreate:w,onUpdate:k,task:E}=t;const{addErrorAlert:S}=(0,e.useContext)(be),{filters:T}=(0,e.useContext)(qt),O=(0,e.useContext)(tn),[P,D]=(0,e.useState)(void 0),[j,M]=(0,e.useState)(void 0),[N,z]=(0,e.useState)(void 0),[R,F]=(0,e.useState)(void 0),[L,B]=(0,e.useState)(void 0),[Z,V]=(0,e.useState)(void 0),[U,W]=(0,e.useState)(void 0),[G,H]=(0,e.useState)(void 0),[Y,q]=(0,e.useState)(void 0),[K,X]=(0,e.useState)(void 0),[Q,J]=(0,e.useState)(void 0),[$,ee]=(0,e.useState)(""),[te,ne]=(0,e.useState)(void 0),[ie,re]=(0,e.useState)(""),[oe,ae]=(0,e.useState)(void 0),[se,le]=(0,e.useState)(void 0),[ue,ce]=(0,e.useState)(lt),[ge,de]=(0,e.useState)(!1);(0,e.useEffect)((()=>{var e;if(void 0!==_){var t,n,i,r,o,a,s,l,u,c,g,d;if(ee((null===_||void 0===_?void 0:_.quantity)||""),ne(_t(O.QtyUnits,null===_||void 0===_?void 0:_.quantity_unit)),re((null===_||void 0===_?void 0:_.notes)||""),D(_t(O.commodities,null===_||void 0===_?void 0:_.commodity)),M(_t(O.shipModes,null===_||void 0===_?void 0:_.ship_mode)),z(_t(O.periods,null===_||void 0===_?void 0:_.period)),F(_t(O.mktZones,null===_||void 0===_||null===(t=_.origin_market_zone)||void 0===t?void 0:t.id)),B(_t(O.freightTerms,null===_||void 0===_?void 0:_.origin_freight_terms)),null!==_&&void 0!==_&&_.origin_facility)V({id:null===_||void 0===_||null===(i=_.origin_facility)||void 0===i?void 0:i.id,label:null===_||void 0===_||null===(r=_.origin_facility)||void 0===r||null===(o=r.trading_partner)||void 0===o?void 0:o.name});if(null!==_&&void 0!==_&&_.origin_trading_partner)W({id:null===_||void 0===_||null===(a=_.origin_trading_partner)||void 0===a?void 0:a.id,label:null===_||void 0===_||null===(s=_.origin_trading_partner)||void 0===s?void 0:s.name});if(H(_t(O.mktZones,null===_||void 0===_||null===(n=_.destination_market_zone)||void 0===n?void 0:n.id)),q(_t(O.freightTerms,null===_||void 0===_?void 0:_.destination_freight_terms)),null!==_&&void 0!==_&&_.destination_facility)X({id:null===_||void 0===_||null===(l=_.destination_facility)||void 0===l?void 0:l.id,label:null===_||void 0===_||null===(u=_.destination_facility)||void 0===u||null===(c=u.trading_partner)||void 0===c?void 0:c.name});if(null!==_&&void 0!==_&&_.destination_trading_partner)J({id:null===_||void 0===_||null===(g=_.destination_trading_partner)||void 0===g?void 0:g.id,label:null===_||void 0===_||null===(d=_.destination_trading_partner)||void 0===d?void 0:d.name});if(void 0!==E){var h,p,A,f,C;if(void 0!==(null===_||void 0===_?void 0:_.origin_market_zone))H(_t(O.mktZones,null===_||void 0===_||null===(f=_.origin_market_zone)||void 0===f?void 0:f.id));if(void 0!==(null===_||void 0===_?void 0:_.destination_market_zone))F(_t(O.mktZones,null===_||void 0===_||null===(C=_.destination_market_zone)||void 0===C?void 0:C.id));void 0!==(null===_||void 0===_||null===(h=_.origin_trading_partner)||void 0===h?void 0:h.id)?ce(ut):void 0!==(null===_||void 0===_||null===(p=_.origin_facility)||void 0===p?void 0:p.id)?ce(lt):void 0!==(null===_||void 0===_||null===(A=_.destination_facility)||void 0===A?void 0:A.id)&&ce(st),void 0!==(null===_||void 0===_?void 0:_.origin_freight_terms)&&q(_t(O.freightTerms,null===_||void 0===_?void 0:_.origin_freight_terms)),void 0!==(null===_||void 0===_?void 0:_.destination_freight_terms)&&B(_t(O.freightTerms,null===_||void 0===_?void 0:_.destination_freight_terms))}}else 1===(null===T||void 0===T||null===(e=T.commodity_in)||void 0===e?void 0:e.length)&&D(null===T||void 0===T?void 0:T.commodity_in[0])}),[null===T||void 0===T?void 0:T.commodity_in,_,E,O]),(0,e.useEffect)((()=>{if([P,j,N,R,L].every((e=>!Ee(e)))){ae(void 0);const e={orig_dest:"orig",commodity:null===P||void 0===P?void 0:P.id,ship_mode:null===j||void 0===j?void 0:j.id,period:null===N||void 0===N?void 0:N.id,origin_market_zone:null===R||void 0===R?void 0:R.id,origin_freight_terms:null===L||void 0===L?void 0:L.id,origin_facility:null===Z||void 0===Z?void 0:Z.id,origin_trading_partner:null===U||void 0===U?void 0:U.id,level:void 0===(null===Z||void 0===Z?void 0:Z.id)&&void 0===(null===U||void 0===U?void 0:U.id)?"market_zone":"trading_partner"};Ge("api/v1/tr/comm-flow-needs/",e,(e=>ae(e)),(e=>S(qe(e))))}}),[P,j,N,R,L,Z,U]),(0,e.useEffect)((()=>{if([P,j,N,G,Y].every((e=>!Ee(e)))){le(void 0);const e={orig_dest:"dest",commodity:null===P||void 0===P?void 0:P.id,ship_mode:null===j||void 0===j?void 0:j.id,period:null===N||void 0===N?void 0:N.id,destination_market_zone:null===G||void 0===G?void 0:G.id,destination_freight_terms:null===Y||void 0===Y?void 0:Y.id,destination_facility:null===K||void 0===K?void 0:K.id,destination_trading_partner:null===Q||void 0===Q?void 0:Q.id,level:void 0===(null===K||void 0===K?void 0:K.id)&&void 0===(null===Q||void 0===Q?void 0:Q.id)?"market_zone":"trading_partner"};Ge("api/v1/tr/comm-flow-needs/",e,(e=>le(e)),(e=>S(qe(e))))}}),[P,j,N,G,Y,K,Q]);const[he,pe]=(0,e.useState)(Fe),Ae=[{field:"commodity",value:P,notNull:!0},{field:"ship_mode",value:j,notNull:!0},{field:"period",value:N,notNull:!0},{field:"quantity",value:$,notNull:!0},{field:"quantity_unit",value:te,notNull:!0}];return(0,e.useEffect)((()=>{var e,t,n,i,r,o,a,s;void 0!==(null===Z||void 0===Z?void 0:Z.id)&&(Ee(null===Z||void 0===Z||null===(e=Z.extra)||void 0===e||null===(t=e.market_zone)||void 0===t?void 0:t.id)||(void 0===(null===R||void 0===R?void 0:R.id)?F({id:null===Z||void 0===Z||null===(r=Z.extra)||void 0===r||null===(o=r.market_zone)||void 0===o?void 0:o.id,label:null===Z||void 0===Z||null===(a=Z.extra)||void 0===a||null===(s=a.market_zone)||void 0===s?void 0:s.name}):(null===R||void 0===R?void 0:R.id)!==(null===Z||void 0===Z||null===(n=Z.extra)||void 0===n||null===(i=n.market_zone)||void 0===i?void 0:i.id)&&S("Origin Market Zone and Trading Partner Mismatch")))}),[Z]),(0,e.useEffect)((()=>{var e,t,n,i,r;void 0!==(null===Q||void 0===Q?void 0:Q.id)&&(Ee(null===Q||void 0===Q||null===(e=Q.extra)||void 0===e||null===(t=e.market_zone)||void 0===t?void 0:t.id)||(void 0===(null===G||void 0===G?void 0:G.id)?H(null===Q||void 0===Q||null===(r=Q.extra)||void 0===r?void 0:r.market_zone):(null===G||void 0===G?void 0:G.id)!==(null===Q||void 0===Q||null===(n=Q.extra)||void 0===n||null===(i=n.market_zone)||void 0===i?void 0:i.id)&&S("Destination Market Zone and Trading Partner Mismatch")))}),[Q]),(0,e.useEffect)((()=>{void 0!==$&&""!==$&&($>100?ne(_t(O.QtyUnits,gt)):void 0!==U&&(null===oe||void 0===oe?void 0:oe.quantity)<-1*(null===se||void 0===se?void 0:se.quantity)||"inventory"===(null===se||void 0===se?void 0:se.node_type)?ne(_t(O.QtyUnits,ht)):ne(_t(O.QtyUnits,pt)))}),[$]),(0,ye.jsx)("div",{className:"flow-item-form",children:(0,ye.jsxs)("div",{className:"flow-item-form-container",children:[(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",center:!0,className:"mb-2",children:(0,ye.jsx)(Jg,{labels:{left:{title:"IB",value:st},center:{title:"Dir Ship",value:ut},right:{title:"OB",value:lt}},value:ue,onChange:ce,style:{container:{backgroundColor:"#4e73df",boxShadow:"1px 1px 10px 1px rgb(78, 115, 223, 0.5)"}}})})}),(0,ye.jsxs)(Un,{center:!0,children:[(0,ye.jsx)(Wn,{colSize:"4",children:(0,ye.jsx)(xs,{id:"commodity",label:"Commodity",compressed:!0,disabled:_,valid:null===he||void 0===he||null===(n=he.formErrors)||void 0===n||null===(i=n.commodity)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=he.formErrors)||void 0===r||null===(o=r.commodity)||void 0===o?void 0:o.message,options:O.commodities,value:P,onChange:D},"commodity")}),(0,ye.jsx)(Wn,{colSize:"4",children:(0,ye.jsx)(xs,{id:"ship_mode",label:"Ship Mode",compressed:!0,disabled:_,valid:null===he||void 0===he||null===(a=he.formErrors)||void 0===a||null===(s=a.ship_mode)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=he.formErrors)||void 0===l||null===(u=l.ship_mode)||void 0===u?void 0:u.message,options:O.shipModes,value:j,onChange:M},"ship_mode")}),(0,ye.jsx)(Wn,{colSize:"4",children:(0,ye.jsx)(xs,{id:"period",label:"Period",compressed:!0,disabled:_,valid:null===he||void 0===he||null===(c=he.formErrors)||void 0===c||null===(g=c.period)||void 0===g?void 0:g.valid,inputInvalidText:null===(d=he.formErrors)||void 0===d||null===(h=d.period)||void 0===h?void 0:h.message,options:O.periods,value:N,onChange:z},"period")})]}),(0,ye.jsxs)(Un,{center:!0,className:"mt-2",children:[(0,ye.jsxs)(Wn,{colSize:"lg-6",children:[(0,ye.jsx)("div",{className:"font-h5 text-center",children:"Origin"}),(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsx)("span",{className:"flow-point-label flow-point-label-1",children:"Mkt Zone"}),(0,ye.jsx)("span",{className:"flow-point-input-1",children:(0,ye.jsx)(xs,{id:"origin_market_zone",compressed:!0,disabled:null===_||void 0===_?void 0:_.origin_market_zone,options:O.mktZones,value:R,onChange:F},"origin_market_zone")})]}),(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-2",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Freight Terms"]}),(0,ye.jsx)("span",{className:"flow-point-input-2",children:(0,ye.jsx)(xs,{id:"origin_freight_terms",compressed:!0,disabled:null===_||void 0===_?void 0:_.origin_freight_terms,options:O.freightTerms,value:L,onChange:B},"origin_freight_terms")})]}),[lt].includes(ue)&&(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-3",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Inventory: Elevator"]}),(0,ye.jsx)("span",{className:"flow-point-input-3",children:(0,ye.jsx)(xs,{id:"origin_facility",compressed:!0,disabled:null===_||void 0===_?void 0:_.origin_facility,options:O.internalFacilities,value:Z,onChange:V},"origin_facility")})]}),[st,ut].includes(ue)&&(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-4",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Trading Partner"]}),(0,ye.jsx)("span",{className:"flow-point-input-4",children:(0,ye.jsx)(Is,{id:"origin_trading_partner",compressed:!0,disabled:null===_||void 0===_?void 0:_.origin_trading_partner,url:"/api/v1/cust/tp/",value:U,onChange:W},"origin_trading_partner")})]}),void 0!==oe&&(0,ye.jsxs)("div",{className:"flow-origin-needs",children:[(0,ye.jsx)(Xg,{Label:"Quantity",Value:Fg((null===oe||void 0===oe?void 0:oe.quantity)||0),break:!0}),(0,ye.jsx)(Xg,{Label:"Unit Value",Value:Bg((null===oe||void 0===oe?void 0:oe.unit_value)||0),break:!0})]})]}),(0,ye.jsxs)(Wn,{colSize:"lg-6",children:[(0,ye.jsx)("div",{className:"font-h5 text-center",children:"Destination"}),(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsx)("span",{className:"flow-point-label flow-point-label-1",children:"Mkt Zone"}),(0,ye.jsx)("span",{className:"flow-point-input-1",children:(0,ye.jsx)(xs,{id:"destination_market_zone",compressed:!0,disabled:null===_||void 0===_?void 0:_.destination_market_zone,options:O.mktZones,value:G,onChange:H},"destination_market_zone")})]}),(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-2",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Freight Terms"]}),(0,ye.jsx)("span",{className:"flow-point-input-2",children:(0,ye.jsx)(xs,{id:"destination_freight_terms",compressed:!0,disabled:null===_||void 0===_?void 0:_.destination_freight_terms,options:O.freightTerms,value:Y,onChange:q},"destination_freight_terms")})]}),[st].includes(ue)&&(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-3",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Inventory: Elevator"]}),(0,ye.jsx)("span",{className:"flow-point-input-3",children:(0,ye.jsx)(xs,{id:"destination_facility",compressed:!0,disabled:null===_||void 0===_?void 0:_.destination_facility,options:O.internalFacilities,value:K,onChange:X},"destination_facility")})]}),[ut,lt].includes(ue)&&(0,ye.jsxs)("div",{className:"flow-point",children:[(0,ye.jsxs)("span",{className:"flow-point-label flow-point-label-4",children:[(0,ye.jsx)("i",{className:"fas fa-level-up-alt fa-rotate-90 mr-2"}),"Trading Partner"]}),(0,ye.jsx)("span",{className:"flow-point-input-4",children:(0,ye.jsx)(Is,{id:"destination_trading_partner",compressed:!0,defaultParams:{extra:"market_zone",include_address:!1},extraName:"extra",disabled:null===_||void 0===_?void 0:_.destination_trading_partner,url:"/api/v1/cust/tp/",value:Q,onChange:J},"destination_trading_partner")})]}),void 0!==se&&(0,ye.jsxs)("div",{className:"dest-origin-needs",children:[(0,ye.jsx)(Xg,{Label:"Quantity",Value:Fg((null===se||void 0===se?void 0:se.quantity)||0),break:!0}),(0,ye.jsx)(Xg,{Label:"Unit Value",Value:Bg((null===se||void 0===se?void 0:se.unit_value)||0),break:!0}),void 0!==(null===se||void 0===se?void 0:se.detail)&&(0,ye.jsxs)("div",{className:"small",children:[(0,ye.jsx)("hr",{className:"my-1"}),null===se||void 0===se||null===(p=se.detail)||void 0===p?void 0:p.map(((e,t)=>{var n;return(0,ye.jsx)("span",{className:"clickable",onClick:()=>{var t,n;return J({id:null===e||void 0===e||null===(t=e.trading_partner)||void 0===t?void 0:t.id,label:null===e||void 0===e||null===(n=e.trading_partner)||void 0===n?void 0:n.display_name})},children:(0,ye.jsx)(Xg,{Label:null===e||void 0===e||null===(n=e.trading_partner)||void 0===n?void 0:n.display_name,Value:"".concat(Fg(null===e||void 0===e?void 0:e.quantity)," (").concat(Bg((null===e||void 0===e?void 0:e.unit_value)||0),")"),break:!0,conditional:!0})},t)}))]})]})]})]}),(0,ye.jsxs)(Un,{center:!0,className:"mt-2",children:[(0,ye.jsxs)(Wn,{colSize:"lg-4",className:"float-right",children:[(0,ye.jsx)(Vn,{children:"Quantity"}),(0,ye.jsx)(Fn,{id:"quantity",compressed:!0,valid:null===he||void 0===he||null===(A=he.formErrors)||void 0===A||null===(f=A.quantity)||void 0===f?void 0:f.valid,inputInvalidText:null===(C=he.formErrors)||void 0===C||null===(I=C.quantity)||void 0===I?void 0:I.message,value:$,onChange:ee})]}),(0,ye.jsxs)(Wn,{colSize:"lg-4",className:"float-left",children:[(0,ye.jsx)(Vn,{children:"Quantity Type"}),(0,ye.jsx)(xs,{id:"quantity_unit",compressed:!0,valid:null===he||void 0===he||null===(v=he.formErrors)||void 0===v||null===(m=v.quantity_unit)||void 0===m?void 0:m.valid,inputInvalidText:null===(y=he.formErrors)||void 0===y||null===(b=y.quantity_unit)||void 0===b?void 0:b.message,options:O.QtyUnits,value:te,onChange:ne},"quantity_unit")]})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"id_notes",label:"Notes",elementType:"textarea",rows:2,compressed:!0,value:ie,onChange:re})})})}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(de(!0),!Re(Ae,pe))return de(!1);if(void 0===w||void 0!==_&&!E){if(void 0!==k&&void 0!==_){const e={quantity:$,quantity_unit:null===te||void 0===te?void 0:te.id,notes:ie||null};return k(e),void de(!1)}}else{const e={flow_version:null===x||void 0===x?void 0:x.id,commodity:null===P||void 0===P?void 0:P.id,ship_mode:null===j||void 0===j?void 0:j.id,period:null===N||void 0===N?void 0:N.id,origin_market_zone:null===R||void 0===R?void 0:R.id,origin_freight_terms:null===L||void 0===L?void 0:L.id,origin_facility:null===Z||void 0===Z?void 0:Z.id,origin_trading_partner:null===U||void 0===U?void 0:U.id,destination_market_zone:null===G||void 0===G?void 0:G.id,destination_freight_terms:null===Y||void 0===Y?void 0:Y.id,destination_facility:null===K||void 0===K?void 0:K.id,destination_trading_partner:null===Q||void 0===Q?void 0:Q.id,quantity:$,quantity_unit:null===te||void 0===te?void 0:te.id,notes:ie||null};w(e,(()=>{D(void 0),M(void 0),z(void 0),F(void 0),B(void 0),V(void 0),W(void 0),H(void 0),q(void 0),X(void 0),J(void 0),ee(""),ne(void 0),re(""),ae(void 0),le(void 0),de(!1)}))}},isLoading:ge,Text:"Submit"})})})]})})},dq=(e,t,n)=>{var i,r;return n=(null===(i=n)||void 0===i?void 0:i.id)||n,"function"===typeof t?t(e,n):"Array"===e.constructor.name?(null===e||void 0===e||null===(r=e[0])||void 0===r?void 0:r[t])===n:(null===e||void 0===e?void 0:e[t])===n},hq=e=>(0,ye.jsx)("div",{className:"abstract-row",children:e.children}),pq=t=>{const{colLabels:n,colLabelAccessor:i,data:r,widthCls:o}=t;return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("div",{className:"grid-cell grid-row-label abstract-cell"}),null===n||void 0===n?void 0:n.map((e=>(0,ye.jsx)("div",{className:"grid-cell grid-col-label ".concat(o),children:(0,ye.jsx)("span",{className:"grid-col-label-internal",children:i?i(e,r):(null===e||void 0===e?void 0:e.label)||e})},(null===e||void 0===e?void 0:e.id)||e)))]})},Aq=e=>{const{colLabel:t,rowLabel:n,data:i,colAccessor:r,rowAccessor:o,valueAccessor:a,widthCls:s}=e,l=((e,t,n,i,r,o)=>((e,t)=>{return"function"===typeof t?t(e):"Array"===e.constructor.name?null===e||void 0===e||null===(n=e[0])||void 0===n?void 0:n[t]:null===e||void 0===e?void 0:e[t];var n})(e.filter((e=>dq(e,t,n)&&dq(e,i,r))),o))(i,r,t,o,n,a);return(0,ye.jsx)("div",{className:"grid-cell grid-cell-value ".concat(s),children:l})},fq=t=>{const[n,i]=(0,e.useState)({}),{colLabels:r,rowLabel:o,rowLabelAccessor:a,...s}=t;return(0,ye.jsxs)(hq,{children:[(0,ye.jsx)("div",{className:"grid-cell grid-row-label",children:a?a(o,n,i):(null===o||void 0===o?void 0:o.label)||o}),null===r||void 0===r?void 0:r.map((e=>(0,ye.jsx)(Aq,{colLabel:e,rowLabel:o,setRowState:i,...s},(null===e||void 0===e?void 0:e.id)||e)))]})},Cq=e=>{const{data:t,colLabels:n,rowLabels:i,colLabelAccessor:r,rowLabelAccessor:o,noHeader:a,...s}=e,l="grid-cell-".concat(null===n||void 0===n?void 0:n.length);return(0,ye.jsxs)("div",{className:"grid-container",children:[void 0===a&&(0,ye.jsx)(hq,{children:(0,ye.jsx)(pq,{colLabels:n,colLabelAccessor:r,data:t,widthCls:l})}),null===i||void 0===i?void 0:i.map((e=>(0,ye.jsx)(fq,{data:t,colLabels:n,rowLabel:e,rowLabelAccessor:o,widthCls:l,...s},(null===e||void 0===e?void 0:e.id)||e)))]})},Iq=t=>{var n,i;let{val:r,setFlowItem:o,onDeleteFlowItem:a}=t;const{flowToHighlight:s,flowFromHighlight:l,setFlowFromHighlight:u,setFlowToHighlight:c}=(0,e.useContext)(qt),[g,d]=(0,e.useState)(!1),h=((null===r||void 0===r?void 0:r.map((e=>{var t,n,i,r;return(null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.to_node)||void 0===n?void 0:n.node_place_key)===(null===s||void 0===s?void 0:s.node_place_key)&&(null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.node_period_key)===(null===s||void 0===s?void 0:s.node_period_key)&&(null===e||void 0===e?void 0:e.edge_type)===st})))||[]).includes(!0)||((null===r||void 0===r?void 0:r.map((e=>{var t,n,i,r;return(null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.from_node)||void 0===n?void 0:n.node_place_key)===(null===l||void 0===l?void 0:l.node_place_key)&&(null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.from_node)||void 0===r?void 0:r.node_period_key)===(null===l||void 0===l?void 0:l.node_period_key)&&(null===e||void 0===e?void 0:e.edge_type)===lt})))||[]).includes(!0),p=Cn()({"value-item-accessor":!0,"text-center":!0,active:h}),A={begin_inventory:157887,ending_inventory:null},f=Te(null===r||void 0===r||null===(n=r.filter((e=>e.flow_type===st)))||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.quantity))),C=Te(null===r||void 0===r||null===(i=r.filter((e=>e.flow_type===lt)))||void 0===i?void 0:i.map((e=>null===e||void 0===e?void 0:e.quantity))),I=(null===A||void 0===A?void 0:A.begin_inventory)+f+C||A.ending_inventory;return(0,ye.jsxs)("div",{className:p,children:[(0,ye.jsxs)("div",{className:"justify-content-center",style:{display:"grid"},children:[(0,ye.jsx)(Xg,{Label:"Begin Inv",Value:Fg(A.begin_inventory),break:!0}),(0,ye.jsx)(Xg,{Label:"+ IB",Value:Fg(f),parentClassName:"ml-3",break:!0}),(0,ye.jsx)(Xg,{Label:"- OB",Value:Fg(C),parentClassName:"ml-3",break:!0}),(0,ye.jsx)(Xg,{Label:"Ending Inv",Value:Fg(I),break:!0})]}),(0,ye.jsx)("div",{className:"edges",children:g&&(0,ye.jsx)(Nn,{compressed:!0,children:(0,ye.jsx)(jn,{children:null===r||void 0===r?void 0:r.map(((t,n)=>{var i,r,s,l,g,d,h,p,A,f;return(0,ye.jsxs)("div",{className:"value-item-edge",onMouseEnter:()=>{var e,n;return(null===t||void 0===t?void 0:t.edge_type)===lt?c(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.to_node):u(null===t||void 0===t||null===(n=t.key)||void 0===n?void 0:n.from_node)},onMouseLeave:()=>c(void 0),children:[(null===t||void 0===t||null===(i=t.key)||void 0===i?void 0:i.edge_type)===lt?null===t||void 0===t||null===(r=t.key)||void 0===r||null===(s=r.to_node)||void 0===s?void 0:s.node_place_label:(null===t||void 0===t||null===(l=t.key)||void 0===l?void 0:l.edge_type)===st?null===t||void 0===t||null===(g=t.key)||void 0===g||null===(d=g.from_node)||void 0===d?void 0:d.node_place_label:(null===t||void 0===t||null===(h=t.key)||void 0===h?void 0:h.edge_type)===ct?null===t||void 0===t||null===(p=t.key)||void 0===p||null===(A=p.from_node)||void 0===A?void 0:A.node_period_label:"Unknown",(0,ye.jsx)("div",{children:null===t||void 0===t||null===(f=t.flow_items)||void 0===f?void 0:f.map(((t,n)=>(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)("span",{className:"clickable",onClick:()=>o(t),children:[t.flow_type_desc,": ",Mg(null===t||void 0===t?void 0:t.quantity,null===t||void 0===t?void 0:t.quantity_unit)]}),(0,ye.jsx)("span",{className:"ml-1 clickable",onClick:()=>o(t),children:(0,ye.jsx)("i",{className:"fas fa-edit"})}),(0,ye.jsx)("span",{className:"ml-2 clickable",onClick:()=>a(null===t||void 0===t?void 0:t.id),children:(0,ye.jsx)("i",{className:"fas fa-ban icon-danger"})}),(0,ye.jsx)("br",{})]},n)))})]},n)}))})})}),(0,ye.jsx)("div",{className:"expand-option",onClick:()=>d((e=>!e)),children:g?(0,ye.jsx)("i",{className:"fas fa-minus fa-sm"}):(0,ye.jsx)("i",{className:"fas fa-plus fa-sm"})})]})},vq=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f;let{val:C}=t;const[I,v]=(0,e.useState)(!1),m=null===C||void 0===C?void 0:C[0];return(0,ye.jsx)("div",{className:"value-item-container text-center",children:!Ee(C)&&(0,ye.jsxs)(e.Fragment,{children:[I&&(0,ye.jsxs)("div",{className:"financials",children:[(0,ye.jsx)(Xg,{Label:"Margin",Value:(null===m||void 0===m||null===(n=m.margin)||void 0===n?void 0:n.quantity)&&zg(null===m||void 0===m||null===(i=m.margin)||void 0===i?void 0:i.quantity,null===m||void 0===m||null===(r=m.margin)||void 0===r?void 0:r.unit_value),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Inbound",Value:(null===m||void 0===m||null===(o=m.inbound)||void 0===o?void 0:o.quantity)&&Ng(-1*(null===m||void 0===m||null===(a=m.inbound)||void 0===a?void 0:a.quantity),null===m||void 0===m||null===(s=m.inbound)||void 0===s?void 0:s.unit_value),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Outbound",Value:(null===m||void 0===m||null===(l=m.outbound)||void 0===l?void 0:l.quantity)&&Ng(-1*(null===m||void 0===m||null===(u=m.outbound)||void 0===u?void 0:u.quantity),null===m||void 0===m||null===(c=m.outbound)||void 0===c?void 0:c.unit_value),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Purchases",Value:(null===m||void 0===m||null===(g=m.purchases)||void 0===g?void 0:g.quantity)&&Ng(null===m||void 0===m||null===(d=m.purchases)||void 0===d?void 0:d.quantity,null===m||void 0===m||null===(h=m.purchases)||void 0===h?void 0:h.unit_value),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Sales",Value:(null===m||void 0===m||null===(p=m.sales)||void 0===p?void 0:p.quantity)&&Ng(null===m||void 0===m||null===(A=m.sales)||void 0===A?void 0:A.quantity,null===m||void 0===m||null===(f=m.sales)||void 0===f?void 0:f.unit_value),break:!0,conditional:!0})]}),(0,ye.jsx)("div",{className:"expand-option",onClick:()=>v((e=>!e)),children:I?(0,ye.jsx)("i",{className:"fas fa-minus fa-sm"}):(0,ye.jsx)("i",{className:"fas fa-plus fa-sm"})})]})})},mq=t=>{var n,i,r,o,a,s,l;let{nodeKey:u,edges:c,nodes:g,outbound:d,inbound:h}=t;const p=null===g||void 0===g||null===(n=g.filter((e=>{var t,n;return(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.node_period_key)===(null===u||void 0===u?void 0:u.node_period_key)&&(null===e||void 0===e||null===(n=e.key)||void 0===n?void 0:n.node_place_key)===(null===u||void 0===u?void 0:u.node_place_key)})))||void 0===n||null===(i=n[0])||void 0===i?void 0:i.ledger;return(0,ye.jsxs)("div",{className:"flow-ledger",children:[(0,ye.jsx)(Xg,{Label:"Start",Value:Ng(null===p||void 0===p||null===(r=p.start)||void 0===r?void 0:r.quantity,null===p||void 0===p||null===(o=p.start)||void 0===o?void 0:o.unit_value),conditional:!0,break:!0},"start"),null===p||void 0===p||null===(a=p.entries)||void 0===a?void 0:a.map(((t,n)=>(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)(Xg,{Label:null===t||void 0===t?void 0:t.entry_type_label,Value:Ng(null===t||void 0===t?void 0:t.quantity,null===t||void 0===t?void 0:t.unit_value),conditional:!0,break:!0},n),["purch_qty","sale_qty"].includes(null===t||void 0===t?void 0:t.entry_type)&&(null===t||void 0===t?void 0:t.entry_type_label)]},n))),(0,ye.jsx)(Xg,{Label:"End",Value:Ng(null===p||void 0===p||null===(s=p.end)||void 0===s?void 0:s.quantity,null===p||void 0===p||null===(l=p.end)||void 0===l?void 0:l.unit_value),conditional:!0,break:!0},"end")]})},yq=t=>{var n,i;let{val:r,edges:o,nodes:a,setFlowItem:s,onDeleteFlowItem:l}=t;const{flowFromHighlight:u,setFlowToHighlight:c}=(0,e.useContext)(qt),g=((null===r||void 0===r?void 0:r.map((e=>{var t,n,i,r;return(null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.from_node)||void 0===n?void 0:n.node_place_key)===(null===u||void 0===u?void 0:u.node_place_key)&&(null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.from_node)||void 0===r?void 0:r.node_period_key)===(null===u||void 0===u?void 0:u.node_period_key)})))||[]).includes(!0),d=Cn()({"value-item-accessor":!0,"text-center":!0,active:g}),[h,p]=(0,e.useState)(!1);return(0,ye.jsx)("div",{className:d,children:!Ee(r)&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("div",{className:"value-item-accessor",children:Fg(Te(null===r||void 0===r?void 0:r.map((e=>null===e||void 0===e?void 0:e.quantity))))}),(0,ye.jsx)("div",{className:"edges",children:h&&(0,ye.jsx)(Nn,{compressed:!0,children:(0,ye.jsxs)(jn,{children:[(0,ye.jsx)(mq,{nodeKey:null===r||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.key)||void 0===i?void 0:i.from_node,edges:o,nodes:a}),null===r||void 0===r?void 0:r.map(((t,n)=>{var i,r,o;return(0,ye.jsxs)("div",{className:"value-item-edge",onMouseEnter:()=>{var e;return c(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.to_node)},onMouseLeave:()=>c(void 0),children:[null===t||void 0===t||null===(i=t.key)||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.node_place_label,(0,ye.jsx)("div",{children:null===t||void 0===t||null===(o=t.flow_items)||void 0===o?void 0:o.map(((t,n)=>(0,ye.jsxs)(e.Fragment,{children:[t.flow_type_desc,": ",Mg(null===t||void 0===t?void 0:t.quantity,null===t||void 0===t?void 0:t.quantity_unit),(0,ye.jsx)("span",{className:"ml-1 clickable",onClick:()=>s(t),children:(0,ye.jsx)("i",{className:"fas fa-edit"})}),(0,ye.jsx)("span",{className:"ml-2 clickable",onClick:()=>l(null===t||void 0===t?void 0:t.id),children:(0,ye.jsx)("i",{className:"fas fa-ban icon-danger"})}),(0,ye.jsx)("br",{})]},n)))})]},n)}))]})})}),(0,ye.jsx)("div",{className:"expand-option",onClick:()=>p((e=>!e)),children:h?(0,ye.jsx)("i",{className:"fas fa-minus fa-sm"}):(0,ye.jsx)("i",{className:"fas fa-plus fa-sm"})})]})})},bq=t=>{var n,i;let{val:r,nodes:o,setFlowItem:a,onDeleteFlowItem:s}=t;const{flowToHighlight:l,setFlowFromHighlight:u}=(0,e.useContext)(qt),c=((null===r||void 0===r?void 0:r.map((e=>{var t,n,i,r;return(null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.to_node)||void 0===n?void 0:n.node_place_key)===(null===l||void 0===l?void 0:l.node_place_key)&&(null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.node_period_key)===(null===l||void 0===l?void 0:l.node_period_key)})))||[]).includes(!0),g=Cn()({"value-item-accessor":!0,"text-center":!0,active:c}),[d,h]=(0,e.useState)(!1);return(0,ye.jsx)("div",{className:g,children:!Ee(r)&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("div",{className:"value-item-accessor",children:Fg(Te(null===r||void 0===r?void 0:r.map((e=>null===e||void 0===e?void 0:e.quantity))))}),(0,ye.jsx)("div",{className:"edges",children:d&&(0,ye.jsx)(Nn,{compressed:!0,children:(0,ye.jsxs)(jn,{children:[(0,ye.jsx)(mq,{nodeKey:null===r||void 0===r||null===(n=r[0])||void 0===n||null===(i=n.key)||void 0===i?void 0:i.to_node,nodes:o}),null===r||void 0===r?void 0:r.map(((t,n)=>{var i,r,o;return(0,ye.jsxs)("div",{className:"value-item-edge",onMouseEnter:()=>{var e;return u(null===t||void 0===t||null===(e=t.key)||void 0===e?void 0:e.from_node)},onMouseLeave:()=>u(void 0),children:[null===t||void 0===t||null===(i=t.key)||void 0===i||null===(r=i.from_node)||void 0===r?void 0:r.node_place_label,(0,ye.jsx)("div",{children:null===t||void 0===t||null===(o=t.flow_items)||void 0===o?void 0:o.map(((t,n)=>(0,ye.jsxs)(e.Fragment,{children:[t.flow_type_desc,": ",Mg(null===t||void 0===t?void 0:t.quantity,null===t||void 0===t?void 0:t.quantity_unit),(0,ye.jsx)("span",{className:"ml-1 clickable",onClick:()=>a(t),children:(0,ye.jsx)("i",{className:"fas fa-edit"})}),(0,ye.jsx)("span",{className:"ml-1 clickable",onClick:()=>s(null===t||void 0===t?void 0:t.id),children:(0,ye.jsx)("i",{className:"fas fa-ban icon-danger"})}),(0,ye.jsx)("br",{})]},n)))})]},n)}))]})})}),(0,ye.jsx)("div",{className:"expand-option",onClick:()=>h((e=>!e)),children:d?(0,ye.jsx)("i",{className:"fas fa-minus fa-sm"}):(0,ye.jsx)("i",{className:"fas fa-plus fa-sm"})})]})})},xq=e=>parseInt(e.split(":")[0]),_q=e=>{var t,n,i,r,o;if(Ee(null===e||void 0===e?void 0:e.edges))return{nodes:[],colLabels:[],inboundSchedule:[],outboundSchedule:[],facilitySchedule:[],financialSchedule:[],inboundLabels:[],outboundLabels:[],facilityLabels:[]};const a=Oe([...null===e||void 0===e||null===(t=e.edges)||void 0===t?void 0:t.map((e=>{var t,n,i,r,o,a;return{id:null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.from_node)||void 0===n?void 0:n.node_period_key,label:null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.from_node)||void 0===r?void 0:r.node_period_label,start:xq(null===e||void 0===e||null===(o=e.key)||void 0===o||null===(a=o.from_node)||void 0===a?void 0:a.node_period_key)}})),...null===e||void 0===e||null===(n=e.edges)||void 0===n?void 0:n.map((e=>{var t,n,i,r,o,a;return{id:null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.to_node)||void 0===n?void 0:n.node_period_key,label:null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.node_period_label,start:xq(null===e||void 0===e||null===(o=e.key)||void 0===o||null===(a=o.to_node)||void 0===a?void 0:a.node_period_key)}}))]).sort(((e,t)=>e.start-t.start)),s=null===e||void 0===e||null===(i=e.edges)||void 0===i?void 0:i.filter((e=>{var t;return[st,ut].includes(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.edge_type)})),l=null===e||void 0===e||null===(r=e.edges)||void 0===r?void 0:r.filter((e=>{var t;return[lt,ut].includes(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.edge_type)})),u=null===e||void 0===e||null===(o=e.edges)||void 0===o?void 0:o.filter((e=>{var t;return Ct.includes(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.edge_type)})),c=Oe((null===s||void 0===s?void 0:s.map((e=>{var t,n,i,r;return{id:null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.from_node)||void 0===n?void 0:n.node_place_key,label:null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.from_node)||void 0===r?void 0:r.node_place_label}})))||[]),g=Oe((null===l||void 0===l?void 0:l.map((e=>{var t,n,i,r;return{id:null===e||void 0===e||null===(t=e.key)||void 0===t||null===(n=t.to_node)||void 0===n?void 0:n.node_place_key,label:null===e||void 0===e||null===(i=e.key)||void 0===i||null===(r=i.to_node)||void 0===r?void 0:r.node_place_label}})))||[]),d=Oe((null===u||void 0===u?void 0:u.map((e=>(e=>{var t,n,i,r,o,a,s,l,u,c,g,d,h,p,A;return(null===e||void 0===e||null===(t=e.key)||void 0===t?void 0:t.edge_type)===st?{id:null===e||void 0===e||null===(r=e.key)||void 0===r||null===(o=r.to_node)||void 0===o?void 0:o.node_place_key,label:null===e||void 0===e||null===(a=e.key)||void 0===a||null===(s=a.to_node)||void 0===s?void 0:s.node_place_label}:(null===e||void 0===e||null===(n=e.key)||void 0===n?void 0:n.edge_type)===lt?{id:null===e||void 0===e||null===(l=e.key)||void 0===l||null===(u=l.from_node)||void 0===u?void 0:u.node_place_key,label:null===e||void 0===e||null===(c=e.key)||void 0===c||null===(g=c.from_node)||void 0===g?void 0:g.node_place_label}:Ct.includes(null===e||void 0===e||null===(i=e.key)||void 0===i?void 0:i.edge_type)?{id:null===e||void 0===e||null===(d=e.key)||void 0===d||null===(h=d.to_node)||void 0===h?void 0:h.node_place_key,label:null===e||void 0===e||null===(p=e.key)||void 0===p||null===(A=p.to_node)||void 0===A?void 0:A.node_place_label}:{id:null,label:""}})(e))))||[]),h=null===e||void 0===e?void 0:e.financials;return{edges:(null===e||void 0===e?void 0:e.edges)||[],nodes:(null===e||void 0===e?void 0:e.nodes)||[],colLabels:a,inboundSchedule:s,outboundSchedule:l,facilitySchedule:u,financialSchedule:h,inboundLabels:c,outboundLabels:g,facilityLabels:d}},wq=t=>{const{flowSchedule:n,onDeleteFlowItem:i}=t,{setFlowItem:r}=(0,e.useContext)(qt),{edges:o,nodes:a,colLabels:s,inboundSchedule:l,outboundSchedule:u,facilitySchedule:c,financialSchedule:g,inboundLabels:d,outboundLabels:h,facilityLabels:p}=_q(n);return(0,ye.jsx)("div",{className:"flow-item-schedule",children:(0,ye.jsx)(Un,{children:(0,ye.jsxs)(Wn,{colSize:"xl-12",children:[(0,ye.jsx)("span",{className:"font-h5 strong",children:"Flow Item Schedule"}),!Ee(d)&&(0,ye.jsxs)(Un,{className:"flow-schedule-group",children:[(0,ye.jsx)(Wn,{colSize:"auto",className:"flow-schedule-group-display",children:(0,ye.jsx)("span",{className:"label",children:"Orig"})}),(0,ye.jsx)(Wn,{className:"flow-schedule-group-col",children:(0,ye.jsx)(Cq,{data:l,colLabels:s,rowLabels:d,colAccessor:(e,t)=>{var n,i;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.from_node)||void 0===i?void 0:i.node_period_key)===t},rowAccessor:(e,t)=>{var n,i;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.from_node)||void 0===i?void 0:i.node_place_key)===t},valueAccessor:e=>(0,ye.jsx)(yq,{val:e,edges:o,nodes:a,setFlowItem:r,onDeleteFlowItem:i})})})]}),!Ee(p)&&(0,ye.jsxs)(Un,{className:"flow-schedule-group",children:[(0,ye.jsx)(Wn,{colSize:"auto",className:"flow-schedule-group-display",children:(0,ye.jsx)("span",{className:"label",children:"Facility"})}),(0,ye.jsx)(Wn,{className:"flow-schedule-group-col",children:(0,ye.jsx)(Cq,{data:c,colLabels:s,rowLabels:p,noHeader:!0,colAccessor:(e,t)=>{var n,i;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.to_node)||void 0===i?void 0:i.node_period_key)===t},rowAccessor:(e,t)=>{var n,i,r,o;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.to_node)||void 0===i?void 0:i.node_place_key)===t||(null===e||void 0===e||null===(r=e.key)||void 0===r||null===(o=r.from_node)||void 0===o?void 0:o.node_place_key)===t},valueAccessor:e=>(0,ye.jsx)(Iq,{val:e,nodes:a,setFlowItem:r,onDeleteFlowItem:i})})})]}),!Ee(h)&&(0,ye.jsxs)(Un,{className:"flow-schedule-group",children:[(0,ye.jsx)(Wn,{colSize:"auto",className:"flow-schedule-group-display",children:(0,ye.jsx)("span",{className:"label",children:"EM"})}),(0,ye.jsx)(Wn,{className:"flow-schedule-group-col",children:(0,ye.jsx)(Cq,{data:u,colLabels:s,rowLabels:h,noHeader:!0,colAccessor:(e,t)=>{var n,i;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.to_node)||void 0===i?void 0:i.node_period_key)===t},rowAccessor:(e,t)=>{var n,i;return(null===e||void 0===e||null===(n=e.key)||void 0===n||null===(i=n.to_node)||void 0===i?void 0:i.node_place_key)===t},valueAccessor:e=>(0,ye.jsx)(bq,{val:e,nodes:a,setFlowItem:r,onDeleteFlowItem:i})})})]}),!Ee(g)&&(0,ye.jsxs)(Un,{className:"flow-schedule-group",children:[(0,ye.jsx)(Wn,{colSize:"auto",className:"flow-schedule-group-display",children:(0,ye.jsx)("span",{className:"label",children:"Financials"})}),(0,ye.jsx)(Wn,{className:"flow-schedule-group-col",children:(0,ye.jsx)(Cq,{data:g,colLabels:s,rowLabels:[null],noHeader:!0,colAccessor:(e,t)=>{var n;return(null===e||void 0===e||null===(n=e.period_key)||void 0===n?void 0:n.key)===t},rowAccessor:()=>!0,valueAccessor:e=>(0,ye.jsx)(vq,{val:e})})})]})]})})})},kq=t=>{const{filters:n,setFilters:i,setSchedule:r}=(0,e.useContext)(qt),{commodities:o,mktZones:a}=(0,e.useContext)(tn);return(0,ye.jsx)("div",{className:"flow-item-filter",children:(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-3",className:"px-1",children:(0,ye.jsx)(_s,{compressed:!0,placeholder:"Filter Market Zone...",value:null===n||void 0===n?void 0:n.market_zone_in,options:a,onChange:e=>i("market_zone_in",e)})}),(0,ye.jsx)(Wn,{colSize:"xl-4",className:"px-1",children:(0,ye.jsx)(_s,{compressed:!0,placeholder:"Filter Commodity...",value:null===n||void 0===n?void 0:n.commodity_in,options:o,onChange:e=>i("commodity_in",e)})}),(0,ye.jsx)(Wn,{colSize:"xl-3",className:"px-1",children:(0,ye.jsx)(Is,{id:"facility",placeholder:"Filter Facility...",compressed:!0,isMulti:!0,url:"/api/v1/cust/f/",defaultParams:{page_size:5},value:null===n||void 0===n?void 0:n.facility_in,onChange:e=>i("facility_in",e)},"facility")}),(0,ye.jsx)(Wn,{colSize:"auto",className:"px-1",style:{display:"inline-flex",alignItems:"center"},children:(0,ye.jsx)("i",{className:"fas fa-filter fa-lg clickable ml-2",onClick:()=>r()})})]})})},Eq=e=>(0,ye.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",fill:e.fill||"white",...e,children:(0,ye.jsx)("path",{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5 .6 9.1 .9 13.7 .9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1 .8-12.1 1.2-18.2 1.2z"})}),Sq=e=>(0,ye.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",fill:e.fill||"white",...e,children:(0,ye.jsx)("path",{d:"M96 64C96 28.65 124.7 0 160 0H266.3C292.5 0 316 15.93 325.8 40.23L373.7 160H480V126.2C480 101.4 485.8 76.88 496.9 54.66L499.4 49.69C507.3 33.88 526.5 27.47 542.3 35.38C558.1 43.28 564.5 62.5 556.6 78.31L554.1 83.28C547.5 96.61 544 111.3 544 126.2V160H600C622.1 160 640 177.9 640 200V245.4C640 261.9 631.5 277.3 617.4 286.1L574.1 313.2C559.9 307.3 544.3 304 528 304C488.7 304 453.9 322.9 431.1 352H352C352 369.7 337.7 384 320 384H311.8C310.1 388.8 308.2 393.5 305.1 398.1L311.8 403.9C324.3 416.4 324.3 436.6 311.8 449.1L289.1 471.8C276.6 484.3 256.4 484.3 243.9 471.8L238.1 465.1C233.5 468.2 228.8 470.1 224 471.8V480C224 497.7 209.7 512 192 512H160C142.3 512 128 497.7 128 480V471.8C123.2 470.1 118.5 468.2 113.9 465.1L108.1 471.8C95.62 484.3 75.36 484.3 62.86 471.8L40.24 449.1C27.74 436.6 27.74 416.4 40.24 403.9L46.03 398.1C43.85 393.5 41.9 388.8 40.19 384H32C14.33 384 0 369.7 0 352V320C0 302.3 14.33 288 32 288H40.19C41.9 283.2 43.85 278.5 46.03 273.9L40.24 268.1C27.74 255.6 27.74 235.4 40.24 222.9L62.86 200.2C71.82 191.3 84.78 188.7 96 192.6L96 64zM160 64V160H304.7L266.3 64H160zM176 256C131.8 256 96 291.8 96 336C96 380.2 131.8 416 176 416C220.2 416 256 380.2 256 336C256 291.8 220.2 256 176 256zM440 424C440 394.2 454.8 367.9 477.4 352C491.7 341.9 509.2 336 528 336C530.7 336 533.3 336.1 535.9 336.3C580.8 340.3 616 378.1 616 424C616 472.6 576.6 512 528 512C479.4 512 440 472.6 440 424zM528 448C541.3 448 552 437.3 552 424C552 410.7 541.3 400 528 400C514.7 400 504 410.7 504 424C504 437.3 514.7 448 528 448z"})}),Tq=t=>{var n;let{id:i}=t;const{addErrorAlert:r,addSuccessAlert:o}=(0,e.useContext)(be),{flowVersion:a,flowSchedule:s,flowItem:l,setFlowVersionID:u,setSchedule:c,setFlowItem:g}=(0,e.useContext)(qt);(0,e.useEffect)((()=>{document.title="Flow Version"}),[]),(0,e.useEffect)((()=>{void 0!==a&&(document.title="Flow ".concat(null===a||void 0===a?void 0:a.display_name))}),[a]);const[d,h]=(0,e.useState)(!1),[p,A]=(0,e.useState)(void 0),[f,C]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{u(i)}),[i,u]);(0,e.useEffect)((()=>{void 0!==l&&h(!0)}),[l]);return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)(ed,{route:I$.flow_version_list}),(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsxs)("span",{className:"font-h4",children:["Flow Version ",(null===a||void 0===a?void 0:a.version_name)||(null===a||void 0===a?void 0:a.version),(0,ye.jsx)("i",{className:"fas fa-plus text-muted no-underline clickable ml-2",onClick:()=>h((e=>!e))}),(0,ye.jsx)(Ie,{to:v$(I$.flow_items,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-stream"})})]}),(0,ye.jsx)("br",{}),(0,ye.jsxs)("span",{className:"font-h4",children:["Network",(0,ye.jsx)(Ie,{to:v$(I$.flow_contract_planning,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-file-contract mr-2"})}),(0,ye.jsx)(Ie,{to:v$(I$.flow_nodes,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-map-marker-alt mr-2"})}),(0,ye.jsx)(Ie,{to:v$(I$.flow_edges,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-code-branch mr-2"})}),(0,ye.jsx)(Ie,{to:v$(I$.flow_network,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fab fa-connectdevelop mr-2"})}),(0,ye.jsx)(Ie,{to:v$(I$.flow_facility,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("div",{style:{display:"inline-flex",top:"0.15rem",position:"relative"},children:(0,ye.jsx)(Eq,{height:"22px",fill:"#858796"})})}),(0,ye.jsx)(Ie,{to:v$(I$.flow_inventory,null===a||void 0===a?void 0:a.id),className:"text-muted ml-2",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-warehouse mr-2"})})]})]}),(0,ye.jsx)(Wn,{children:(0,ye.jsx)(kq,{})})]}),(0,ye.jsx)(wq,{flowSchedule:s,onDeleteFlowItem:e=>{C(e)}}),(0,ye.jsx)(hu,{compressed:!0,shadow:"lg",size:"xl",title:"Flow Version ".concat((null===a||void 0===a?void 0:a.version_name)||(null===a||void 0===a?void 0:a.version)),FormElement:gq,initial:(null===l||void 0===l||null===(n=l.flow_items)||void 0===n?void 0:n[0])||l,flowVersion:a,itemFormError:p,show:d,onCreate:(e,t)=>{Ge("/api/v1/tr/comm-flow-item/",e,(e=>{c((t=>[...t,e])),o("Added Flow Item"),h(!1),A(void 0),void 0!==t&&t()}),(e=>{r(qe(e)),A(qe(e))}))},onUpdate:(e,t)=>{He("/api/v1/tr/comm-flow-item/".concat(null===l||void 0===l?void 0:l.id,"/"),e,(e=>{c((t=>[...t.filter((t=>t.id!==e.id)),e])),o("Updated Flow Item"),h(!1),A(void 0),g(void 0)}),(e=>{r(qe(e)),A(qe(e))}))},onClose:()=>{h(!1),g(void 0)}}),(0,ye.jsx)(du,{show:f,onDecline:()=>C(void 0),onConfirm:()=>{Ye("/api/v1/tr/comm-flow-item/".concat(f,"/"),(()=>{c((e=>[...e.filter((e=>e.id!==f))])),o("Deleted Flow Item"),C(void 0)}),(e=>{r(qe(e))}))},confirmText:"Delete",helperTitle:"Delete Flow Item"})]})},Oq=e=>{const{id:t}=ge();return(0,ye.jsx)(Kt,{children:(0,ye.jsx)(Tq,{id:t})})},Pq=t=>{const n=[],i=[...new Set(null===n||void 0===n?void 0:n.map((e=>e.x)))],r=[...new Set(null===n||void 0===n?void 0:n.map((e=>e.y)))];return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)($g,{className:"mb-1"}),(0,ye.jsx)("div",{style:{width:"55%",border:"2px solid darkgrey",borderRadius:".25rem"},children:(0,ye.jsx)(Cq,{data:[],xLabels:i,yLabels:r,xAccessor:"x",yAccessor:"y",valueAccessor:"value"})})]})},Dq={flow_item_option:{exact:!0,path:"flow-item-option/",name:"Flow Option",render:t=>{var n;const[i,r]=(0,e.useState)(void 0),[o,a]=(0,e.useState)(!1);return(0,ye.jsxs)("div",{className:"freight-rate-request-container",children:[(0,ye.jsx)($g,{}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-3",children:(0,ye.jsx)(rd,{loading:o,setLoading:a,onSubmit:e=>{a(!0),Ge("/api/v1/tr/comm-flow-option/",e,(e=>{r(e),Xe(a)}),(()=>Xe(a)))},onClear:()=>r(void 0)})}),(0,ye.jsx)(Wn,{colSize:"xl-4",children:i&&(0,ye.jsxs)(e.Fragment,{children:[o&&(0,ye.jsx)("i",{className:"fas fa-sync fa-spin fa-2x icon-primary mx-1"}),(0,ye.jsxs)("div",{className:"flow-option-summary",children:[(0,ye.jsx)("h4",{children:null!==i&&void 0!==i&&i.fufilled?"Success":"Not fullfilled"}),(0,ye.jsxs)("div",{className:"justify-content-between mt-1",style:{display:"flex"},children:[(0,ye.jsx)(Xg,{Label:"Margin/Unit",Value:Bg(i.margin_per_unit,3),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Margin Total",Value:Bg(i.total_margin,0),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Applied Units",Value:Fg(i.applied_quantity),break:!0,conditional:!0})]})]}),null===i||void 0===i||null===(n=i.options)||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,ye.jsx)(Nn,{className:"mt-1",children:(0,ye.jsxs)(jn,{compressed:!0,children:[null===e||void 0===e||null===(n=e.origin)||void 0===n?void 0:n.display_name,(0,ye.jsxs)("span",{className:"float-right",children:[Bg(e.margin,2),(0,ye.jsx)("i",{className:"fas fa-hand-holding-usd ml-1"})]}),(0,ye.jsxs)("div",{className:"justify-content-between mt-1",style:{display:"flex"},children:[(0,ye.jsxs)("span",{title:"Origin Value",children:[(0,ye.jsx)("i",{className:"fas fa-dollar-sign mr-1"}),Lg(e.origin_value,2)]}),(0,ye.jsxs)("span",{title:"Freight",children:[(0,ye.jsx)("i",{className:"fas fa-truck mr-1"}),Bg(e.freight.rate_per_unit,2)]}),(0,ye.jsxs)("span",{title:"Origin Delivered Value",children:[(0,ye.jsx)("i",{className:"fas fa-calculator mr-1"}),Bg(e.origin_delv_value,2)]}),(0,ye.jsxs)("span",{title:"Origin Quantity Available",children:[(0,ye.jsx)("i",{className:"fas fa-pallet mr-1"}),Fg(e.origin_quantity)]}),(0,ye.jsxs)("span",{title:"Origin Quantity Applied",children:[(0,ye.jsx)("i",{className:"fa fa-arrow-right mr-1"}),Fg(e.applied_quantity)]})]})]})},t)}))]})})]})]})}},flow_contract_planning:{exact:!1,path:"flow-contract-planning/:id",name:"Flow Contract Planning",render:t=>{const{id:n}=ge(),{addPendingTask:i,addSuccessAlert:r}=(0,e.useContext)(be),{users:o}=(0,e.useContext)(tn),[a,s]=(0,e.useState)(!1),[l,u]=(0,e.useState)(void 0),c=void 0!==n?{flow_planning:n,status:"open"}:{status:"open"},g=[...ld.map((e=>"trader__in"===(null===e||void 0===e?void 0:e.FilterKey)?{...e,FilterOptions:o}:e)),{header:"Actions",accessor:"",ActionElementPrepend:cd,center:!0,style:{width:"5%"}},{header:"Linked",accessor:"flow_planning_active",center:!0,formatter:qg,FilterKey:"flow_planning_active",FilterOptions:Gt,FilterNullable:!0,style:{width:"7.5%"}},{header:"Node",accessor:dd,center:!0,FilterKey:"flow_node",style:{width:"7.5%"}}];(0,e.useEffect)((()=>{document.title="Flow Contract Planning"}),[]);return(0,ye.jsxs)("div",{className:"flow-contract-planning",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:n}),(0,ye.jsxs)(we,{children:[(0,ye.jsxs)("span",{className:"font-h4",children:["Contracts",(0,ye.jsx)("i",{className:"fas fa-cogs clickable ml-2".concat(a?" fa-spin":""),onClick:()=>(s(!0),void He("api/v1/tr/comm-flow-v/".concat(n,"/sync-needs/"),{},(e=>{i(null===e||void 0===e?void 0:e.current_task),r("Synced Needs"),s(!1)})))}),(0,ye.jsx)("i",{className:"fas fa-balance-scale clickable ml-2".concat(a?" fa-spin":""),title:"Balance Network",onClick:()=>(s(!0),void He("api/v1/tr/comm-flow-v/".concat(n,"/balance-network/"),{},(e=>{i(null===e||void 0===e?void 0:e.current_task),r("Balance Network Task Started"),s(!1)})))}),(0,ye.jsx)("i",{className:"fas fa-ban clickable icon-warning ml-2".concat(a?" fa-spin":""),onClick:()=>(s(!0),void He("api/v1/tr/comm-flow-v/".concat(n,"/clear-needs/"),{},(()=>{r("Clear Needs"),s(!1)})))})]}),(0,ye.jsx)(ad,{hover:!0,small:!0,flat:!0,responsive:!0,context:{flowVersion:n,setContractDetail:u,addSuccessAlert:r},tableColumns:g,apiURL:"api/v1/wh/c-detail/",defaultFilters:c,filters:!0,paginationSize:20})]}),(0,ye.jsx)(sd,{size:"50w",title:"Contract Detail",show:void 0!==l,onClose:()=>u(void 0),children:(0,ye.jsx)(gd,{contractDetail:l})})]})}},flow_nodes:{exact:!1,path:"flow-nodes/:id",name:"Flow Nodes",render:t=>{var n,i;const{id:r}=ge(),{addPendingTask:o,addErrorAlert:a,addSuccessAlert:s}=(0,e.useContext)(be),[l,u]=(0,e.useState)(),[c,g]=(0,e.useState)(),[d,h]=(0,e.useState)(),[p,A]=(0,e.useState)(),[f,C]=(0,e.useState)(!1),[I,v]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{We("/api/v1/tr/flow-node/?flow_version=".concat(r,"&page_size=1000"),(e=>{u(null===e||void 0===e?void 0:e.results)}))}),[r]);const m=[{header:"Actions",accessor:"",ActionElementPrepend:uY,center:!0,style:{width:"5%"}},...iY];(0,e.useEffect)((()=>{document.title="Flow Nodes"}),[]);const y=()=>{C(!0),We("/api/v1/tr/flow-node/?flow_version=".concat(r,"&page_size=1000"),(e=>{u(null===e||void 0===e?void 0:e.results),C(!1)}),(()=>{a("Failed to fetch Network Nodes"),C(!1)}))};return(0,ye.jsxs)("div",{className:"flow-contract-planning",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:r}),(0,ye.jsxs)(we,{children:[(0,ye.jsxs)("div",{className:"font-h4 mb-2",children:["Nodes",(0,ye.jsx)("i",{className:"fas fa-cogs clickable ml-2".concat(f?" fa-spin":""),title:"Sync Needs",onClick:()=>(C(!0),void He("api/v1/tr/comm-flow-v/".concat(r,"/sync-needs/"),{async_sync:!0},(e=>{o(null===e||void 0===e?void 0:e.current_task),s("Synced Needs"),C(!1)}),(()=>{a("Failed to Sync Network")})))}),(0,ye.jsx)("i",{className:"fas fa-balance-scale clickable ml-2".concat(f?" fa-spin":""),title:"Balance Network",onClick:()=>(C(!0),void He("api/v1/tr/comm-flow-v/".concat(r,"/balance-network/"),{},(e=>{o(null===e||void 0===e?void 0:e.current_task),s("Balance Network Task Started"),C(!1)})))}),(0,ye.jsx)("i",{className:"fas fa-sync clickable ml-2".concat(f?" fa-spin":""),title:"Refresh Data",onClick:()=>y()}),(0,ye.jsx)("i",{className:"fas fa-plus clickable ml-2",title:"Create Node",onClick:()=>g({})})]}),(0,ye.jsx)(Dg,{hover:!0,small:!0,flat:!0,debug:!0,responsive:!0,onRefresh:()=>y(),data:l,context:{setEditNode:g,setNodeDetail:v,setActivateNode:A,setDeactivateNode:h},tableColumns:m,filters:!0,paginationSize:20})]}),(0,ye.jsx)(sd,{size:"60w",title:"".concat(null===I||void 0===I?void 0:I.priority_type_desc,": ").concat(null===I||void 0===I||null===(n=I.commodity)||void 0===n?void 0:n.commodity_code," ").concat(null===I||void 0===I?void 0:I.place_display,": ").concat(null===I||void 0===I||null===(i=I.period)||void 0===i?void 0:i.name),show:void 0!==I,onClose:()=>v(void 0),children:(0,ye.jsx)(lY,{nodeDetail:I})}),(0,ye.jsx)(hu,{compressed:!0,shadow:"lg",size:"xl",title:"Create/Update Node",FormElement:rY,initial:void 0!==(null===c||void 0===c?void 0:c.id)?c:void 0,flowVersion:r,show:void 0!==c,onCreate:(e,t)=>{e.flow_version=r,Ge("api/v1/tr/flow-node/",e,(e=>{s("Node Added"),g(void 0),u((t=>[e,...t])),void 0!==t&&t()}),(()=>{a("Failed to Create Node")}))},onUpdate:(e,t)=>{e.flow_version=r,He("api/v1/tr/flow-node/".concat(c.id,"/"),e,(e=>{s("Node Updated"),g(void 0),u((t=>[e,...t.filter((t=>(null===t||void 0===t?void 0:t.id)!==e.id))])),void 0!==t&&t()}),(()=>{a("Failed to Update Node")}))},onClose:()=>{g(void 0)}}),(0,ye.jsx)(du,{show:d,onDecline:()=>h(void 0),onConfirm:e=>{He("api/v1/tr/flow-node/".concat(d.id,"/deactivate/"),{},(t=>{s("Node Deactivated"),h(void 0),u((e=>[t,...e.filter((e=>(null===e||void 0===e?void 0:e.id)!==t.id))])),void 0!==e&&e()}),(()=>{a("Failed to Deactivate Node")}))},confirmText:"Deactivate",helperTitle:"Deactivate Flow Node"}),(0,ye.jsx)(du,{show:p,onDecline:()=>A(void 0),onConfirm:e=>{He("api/v1/tr/flow-node/".concat(p.id,"/activate/"),{},(t=>{s("Node Activated"),A(void 0),u((e=>[t,...e.filter((e=>(null===e||void 0===e?void 0:e.id)!==t.id))])),void 0!==e&&e()}),(()=>{a("Failed to Activate Node")}))},confirmText:"Activate",helperTitle:"Activate Flow Node"})]})}},flow_edges:{exact:!1,path:"flow-edges/:id",name:"Flow Edges",render:t=>{const{id:n}=ge(),{addPendingTask:i,addSuccessAlert:r}=(0,e.useContext)(be),[o,a]=(0,e.useState)(),[s,l]=(0,e.useState)(),[u,c]=(0,e.useState)(!1),[g,d]=(0,e.useState)(void 0);(0,e.useEffect)((()=>{c(!0),We("/api/v1/tr/flow-edge/?flow_version=".concat(n,"&page_size=1000"),(e=>{a(null===e||void 0===e?void 0:e.results),c(!1)}))}),[n]);const h=[...pd,{header:"Actions",accessor:"",ActionElementPrepend:Ad,center:!0,style:{width:"5%"}}];(0,e.useEffect)((()=>{document.title="Flow Edges"}),[]);return(0,ye.jsxs)("div",{className:"flow-contract-planning",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:n}),(0,ye.jsxs)(we,{children:[(0,ye.jsxs)("div",{className:"font-h4 mb-2",children:["Edges",(0,ye.jsx)("i",{className:"fas fa-cogs clickable ml-2".concat(u?" fa-spin":""),onClick:()=>(c(!0),void He("api/v1/tr/comm-flow-v/".concat(n,"/sync-needs/"),{},(e=>{i(null===e||void 0===e?void 0:e.current_task),r("Synced Needs"),c(!1)})))}),(0,ye.jsx)("i",{className:"fas fa-sync clickable ml-2".concat(u?" fa-spin":""),onClick:()=>(c(!0),void We("/api/v1/tr/flow-edge/?flow_version=".concat(n,"&page_size=1000"),(e=>{a(null===e||void 0===e?void 0:e.results),c(!1)})))})]}),(0,ye.jsx)(Dg,{hover:!0,small:!0,flat:!0,debug:!0,responsive:!0,data:o,context:{setEditEdge:l,setEdgeDetail:d},tableColumns:h,filters:!0,paginationSize:20})]}),(0,ye.jsx)(sd,{size:"50w",title:"Edge Detail",show:void 0!==g,onClose:()=>d(void 0),children:(0,ye.jsx)("pre",{children:JSON.stringify(g,null,2)})})]})}},flow_facility:{exact:!1,path:"flow-facility/:id",name:"Flow Facility",render:e=>{const{id:t}=ge();return(0,ye.jsx)(Jt,{children:(0,ye.jsx)(UY,{id:t})})}},flow_inventory:{exact:!1,path:"flow-inventory/:id",name:"Flow Inventory",render:e=>{const{id:t}=ge();return(0,ye.jsx)(Jt,{children:(0,ye.jsx)(DY,{id:t})})}},flow_network:{params:!0,exact:!1,path:"flow-network/:id",name:"Flow Netowrk",render:()=>{var t,n,i,r,o;const{id:a}=ge(),[s,l]=(0,e.useState)(void 0);return(0,ye.jsxs)("div",{className:"flow-network",children:[(0,ye.jsx)(ed,{route:I$.flow_version_detail,id:a}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"lg-8",children:(0,ye.jsx)(tY,{onSelectNode:l})}),(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(Nn,{children:(0,ye.jsxs)(jn,{children:[(0,ye.jsxs)("div",{className:"font-h4 mb-2",children:["Node: ",null===s||void 0===s||null===(t=s.node)||void 0===t?void 0:t.label,(0,ye.jsx)(Xg,{Label:"Bushels",Value:Lg(null===s||void 0===s||null===(n=s.node)||void 0===n?void 0:n.value,0),break:!0}),(0,ye.jsx)(Xg,{Label:"Basis",Value:Lg(null===s||void 0===s||null===(i=s.node)||void 0===i||null===(r=i.meta)||void 0===r?void 0:r.value,2),break:!0})]}),null===(o=Pe((null===s||void 0===s?void 0:s.edges)||[],"-value"))||void 0===o?void 0:o.map(((e,t)=>(0,ye.jsx)(nY,{edge:e,node:null===s||void 0===s?void 0:s.node},t)))]})})})]})]})}}},jq={contracts:{exact:!0,path:"contracts/",name:"Contracts",render:e=>(0,ye.jsx)("div",{className:"contract-list",children:(0,ye.jsxs)(we,{children:[(0,ye.jsx)(ed,{route:I$.home}),(0,ye.jsx)(ad,{hover:!0,small:!0,debug:!0,title:"Contracts",tableColumns:ld,apiURL:"api/v1/wh/c/",sortKey:"-contract_balance",filters:!0,paginationSize:20})]})})}},Mq=[{indx:0,data:{}}],Nq=(0,e.createContext)({data:Mq,maxIndx:()=>0,onChange:(e,t,n)=>{},onAdd:()=>{},onRemove:e=>{}}),zq=t=>{const[n,i]=(0,e.useState)(Mq);return(0,ye.jsx)(Nq.Provider,{value:{data:n,maxIndx:()=>Math.max(...n.map((e=>e.indx))||[0]),onChange:(e,t,n)=>{((e,t,n)=>{i((i=>{const r=i.filter((t=>t.indx===e))[0];return[...i.filter((t=>t.indx!==e)),{indx:e,data:{...null===r||void 0===r?void 0:r.data,[t]:n}}]}))})(e,t,n)},onAdd:()=>{i((e=>{const t=Math.max(...e.map((e=>e.indx))||[0])+1;return[...e,{indx:t,data:{}}]}))},onRemove:e=>{i((t=>[...t.filter((t=>t.indx!==e))]))}},children:t.children})},Rq=e=>{let{data:t,onChange:n}=e;return(0,ye.jsxs)("div",{className:"base-form",children:[(0,ye.jsx)(Zn,{className:"mr-2",children:(0,ye.jsx)(zn,{id:"name",name:"name",label:"Name",value:t.name,onChange:e=>n("name",e)},"name")}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"address",name:"address",label:"Address",value:t.address,onChange:e=>n("address",e)},"address")})]})},Fq=t=>{let{indx:n,BaseForm:i}=t;const{data:r,maxIndx:o,onAdd:a,onChange:s,onRemove:l}=(0,e.useContext)(Nq);return(0,ye.jsxs)("div",{className:"multi-line-form-row",children:[(0,ye.jsx)(i,{data:r.filter((e=>e.indx===n))[0],onChange:(e,t)=>s(n,e,t)}),(0,ye.jsx)("div",{className:"multi-line-form-row-actions",children:n===o()?(0,ye.jsx)("button",{className:"btn btn-sm btn-outline-primary strong",onClick:()=>a(),children:"+"}):(0,ye.jsx)("button",{className:"btn btn-sm btn-outline-danger strong",onClick:()=>l(n),children:"-"})})]})},Lq=t=>{const{data:n}=(0,e.useContext)(Nq);return(0,ye.jsx)("div",{className:"multi-line-form",children:(0,ye.jsx)("div",{className:"form-area",children:Pe(n,"indx").map(((e,t)=>(0,ye.jsx)(Fq,{indx:null===e||void 0===e?void 0:e.indx,BaseForm:Rq},t)))})})};var Bq=n(7161);const Zq=function(e,t){};var Vq=class extends Error{constructor(e){super("react-collapsed: ".concat(e))}},Uq=function(){return Zq(arguments.length<=0?void 0:arguments[0],"[react-collapsed] -- ".concat(arguments.length<=1?void 0:arguments[1]))};function Wq(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t})),(0,e.useCallback)((function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return null===(e=n.current)||void 0===e?void 0:e.call(n,...i)}),[])}var Gq="(prefers-reduced-motion: reduce)";var Hq=t["useId".toString()]||(()=>{});var Yq="undefined"!==typeof window?e.useLayoutEffect:e.useEffect,qq=!1,Kq=0,Xq=()=>++Kq;function Qq(t){const n=function(){const e=Hq();return null!==e&&void 0!==e?e:""}(),i=function(t){const n=t||(qq?Xq():null),[i,r]=e.useState(n);return Yq((()=>{null===i&&r(Xq())}),[]),e.useEffect((()=>{!1===qq&&(qq=!0)}),[]),null!=i?String(i):void 0}(t);return"string"===typeof t?t:"string"===typeof n?n:i}function Jq(e){e.id&&cancelAnimationFrame(e.id)}function $q(e){return null!==e&&void 0!==e&&e.current?e.current.scrollHeight:(Uq(!0,"Was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\nconst collapseProps = getCollapseProps({refKey: 'innerRef'})"),0)}function eK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((e=>null==e))?null:e=>{t.forEach((t=>{!function(e,t){if(null!=e)if("function"===typeof e)e(t);else try{e.current=t}catch(z$){throw new Vq('Cannot assign value "'.concat(t,'" to ref "').concat(e,'"'))}}(t,e)}))}}var tK="undefined"===typeof window?e.useEffect:e.useLayoutEffect;function nK(){let{duration:t,easing:n="cubic-bezier(0.4, 0, 0.2, 1)",onTransitionStateChange:i=(()=>{}),isExpanded:r,defaultExpanded:o=!1,hasDisabledAnimation:a,id:s,...l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=Wq(i),c=Qq(s?"".concat(s):void 0),[g,d]=function(t,n,i){const[r,o]=(0,e.useState)(n),a=(0,e.useRef)("undefined"!==typeof t),s=a.current?t:r,l=Wq(i),u=(0,e.useCallback)((e=>{const t="function"===typeof e?e(s):e;a.current||o(t),null===l||void 0===l||l(t)}),[l,s]);return(0,e.useEffect)((()=>{Uq(!(a.current&&null==t),"`isExpanded` state is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),Uq(!(!a.current&&null!=t),"`isExpanded` state is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")}),[t]),[s,u]}(r,o),h=(0,e.useRef)(g),[p,A]=(0,e.useState)(!1),f=function(){const[t,n]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{if("undefined"===typeof window||"function"!==typeof window.matchMedia)return;const e=window.matchMedia(Gq);n(e.matches);const t=e=>{n(e.matches)};return e.addEventListener?(e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}):e.addListener?(e.addListener(t),()=>{e.removeListener(t)}):void 0}),[]),t}(),C=null!==a&&void 0!==a?a:f,I=(0,e.useRef)(),v=(0,e.useRef)(),m=(0,e.useRef)(null),[y,b]=(0,e.useState)(null);!function(t){let n=e=>{};n=e=>{if(null===e||void 0===e||!e.current)return;const{paddingTop:t,paddingBottom:n}=window.getComputedStyle(e.current);Uq(!(t&&"0px"!==t||n&&"0px"!==n),"Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element. Example:\n\nBefore:   <div {...getCollapseProps({style: {padding: 10}})}>{children}</div>\n\nAfter:   <div {...getCollapseProps()}>\n             <div style={{padding: 10}}>\n                 {children}\n             </div>\n          </div>")},(0,e.useEffect)((()=>{n(t)}),[t])}(m);const x="".concat(l.collapsedHeight||0,"px");function _(e){if(!m.current)return;const t=m.current;for(const n in e){const i=e[n];i?t.style[n]=i:t.style.removeProperty(n)}}return tK((()=>{if(!m.current)return;if(g===h.current)return;function e(e){return C?0:null!==t&&void 0!==t?t:function(e){if(!e||"string"===typeof e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}(e)}h.current=g;const i=t=>"height ".concat(e(t),"ms ").concat(n),r=e=>{v.current&&Jq(v.current),v.current=function(e,t){const n=performance.now(),i={};return function r(){i.id=requestAnimationFrame((i=>{i-n>t?e():r()}))}(),i}((function(){g?(_({height:"",overflow:"",transition:"",display:""}),u("expandEnd")):(_({transition:""}),u("collapseEnd")),A(!1)}),e)};return A(!0),I.current=g?requestAnimationFrame((()=>{u("expandStart"),_({display:"block",overflow:"hidden",height:x}),I.current=requestAnimationFrame((()=>{u("expanding");const t=$q(m);r(e(t)),m.current&&(m.current.style.transition=i(t),m.current.style.height="".concat(t,"px"))}))})):requestAnimationFrame((()=>{u("collapseStart");const t=$q(m);r(e(t)),_({transition:i(t),height:"".concat(t,"px")}),I.current=requestAnimationFrame((()=>{u("collapsing"),_({height:x,overflow:"hidden"})}))})),()=>{I.current&&cancelAnimationFrame(I.current),v.current&&Jq(v.current)}}),[g,x,C,t,n,u]),{isExpanded:g,setExpanded:d,getToggleProps(e){const{disabled:t,onClick:n,refKey:i,...r}={refKey:"ref",onClick(){},disabled:!1,...e},o=y?"BUTTON"===y.tagName:void 0,a=null===e||void 0===e?void 0:e[i||"ref"],s={id:"react-collapsed-toggle-".concat(c),"aria-controls":"react-collapsed-panel-".concat(c),"aria-expanded":g,onClick(e){t||(null===n||void 0===n||n(e),d((e=>!e)))},[i||"ref"]:eK(a,b)},l={type:"button",disabled:!!t||void 0},u={"aria-disabled":!!t||void 0,role:"button",tabIndex:t?-1:0};return!1===o?{...s,...u,...r}:!0===o?{...s,...l,...r}:{...s,...l,...u,...r}},getCollapseProps(e){const{style:t,refKey:n}={refKey:"ref",style:{},...e},i=null===e||void 0===e?void 0:e[n||"ref"];return{id:"react-collapsed-panel-".concat(c),"aria-hidden":!g,"aria-labelledby":"react-collapsed-toggle-".concat(c),role:"region",...e,[n||"ref"]:eK(m,i),style:{boxSizing:"border-box",...p||g?{}:{display:"0px"===x?"none":"block",height:x,overflow:"hidden"},...t}}}}}const iK=e=>{var t,n;let{label:i,dateRange:r,setDateRange:o}=e;const{getCollapseProps:a,getToggleProps:s,setExpanded:l}=nK({duration:350});return(0,ye.jsxs)("div",{className:"expandable-date-range-container",children:[(0,ye.jsx)(Vn,{children:i}),(0,ye.jsxs)("div",{className:"date-range-display-container",...s(),children:[(0,ye.jsx)("span",{className:"date-range-diplay",children:Ug(null===r||void 0===r||null===(t=r[0])||void 0===t?void 0:t.startDate)}),(0,ye.jsx)("span",{className:"date-range-diplay",children:Ug(null===r||void 0===r||null===(n=r[0])||void 0===n?void 0:n.endDate)})]}),(0,ye.jsx)("div",{className:"expandable-date-range",children:(0,ye.jsx)("div",{...a(),children:(0,ye.jsx)(Bq.C0,{rangeColors:["#4e73df","#3ecf8e","#fed14c"],showDateDisplay:!1,showPreview:!1,weekStartsOn:1,onChange:e=>(e=>{o([e.selection]),e.selection.startDate!==e.selection.endDate&&l((e=>!e))})(e),moveRangeOnFirstSelection:!1,ranges:r,direction:"vertical"})})})]})},rK=(e,t,n,i)=>t(e)+n*i,oK=(e,t,n,i)=>t(e)-n*i,aK=e=>{let{label:t,large:n,value:i,onChange:r,valid:o,inputInvalidText:a,multiple:s,step:l,quickOptions:u}=e;return s=s||1,(0,ye.jsxs)("div",{className:"quantity-input-container",children:[(0,ye.jsxs)(Vn,{children:[t,(u||[3,5,10]).map(((e,t)=>(0,ye.jsx)(Gn,{large:n,number:e,onClick:()=>r(rK(i,parseInt,e,s))},t))),(u||[3,5,10]).map(((e,t)=>(0,ye.jsx)(Gn,{largelarge:n,number:-1*e,onClick:()=>r(oK(i,parseInt,e,s))},t)))]}),(0,ye.jsxs)("div",{className:"input-group",children:[(0,ye.jsx)(zn,{value:i,valid:o,onChange:r}),(0,ye.jsxs)("div",{className:"input-group-append",children:[(0,ye.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:()=>r(rK(i,parseInt,l,s)),children:(0,ye.jsx)("i",{className:"fas fa-plus fa-lg"})}),(0,ye.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:()=>r(oK(i,parseInt,l,s)),children:(0,ye.jsx)("i",{className:"fas fa-minus fa-lg"})})]})]}),!1===o&&void 0!==a&&(0,ye.jsx)("div",{className:"invalid-feedback",style:{display:"unset"},children:a})]})},sK=e=>{let{releaseType:t,origTradingPartner:n,destTradingPartner:i,setOrigTradingPartner:r,setDestTradingPartner:o}=e;return t===Mt?(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(id,{active:!0,label:"Origination Trading Partner",value:n,onChange:r})})}):t===Nt?(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(id,{active:!0,label:"Destination Trading Partner",value:i,onChange:o})})}):t===zt?(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(id,{active:!0,label:"Origination Trading Partner",value:n,onChange:r})}),(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(id,{active:!0,label:"Destination Trading Partner",value:i,onChange:o})})]}):(0,ye.jsx)("span",{})},lK=t=>{var n,i,r,o,a,s,l,u,c,g,d,h;let{cloneRelease:p,parentRelease:A,onClose:f}=t;const C=(0,e.useContext)(tn),{dateRangeDefault:I,submitCreateRelease:v,setDateRangeDefault:m}=(0,e.useContext)(gn),[y,b]=(0,e.useState)("flow"),[x,_]=(0,e.useState)(Rt),[w,k]=(0,e.useState)(void 0),[E,S]=(0,e.useState)(void 0),[T,O]=(0,e.useState)(void 0),[P,D]=(0,e.useState)(void 0),[j,M]=(0,e.useState)(0),[N,z]=(0,e.useState)(void 0),[R,F]=(0,e.useState)(""),[L,B]=(0,e.useState)([I]),[Z,V]=(0,e.useState)(Fe),U=[{field:"commodity",value:T,notNull:!0},{field:"ship_mode",value:P,notNull:!0},{field:"planQuantity",value:j,notNull:!0}];(0,e.useEffect)((()=>{const e=p||A;var t,n,i,r,o,a;void 0!==e&&(O(_t(C.commodities,null===e||void 0===e||null===(t=e.commodity)||void 0===t?void 0:t.id)),D(_t(C.shipModes,null===e||void 0===e?void 0:e.ship_mode)),S({id:null===e||void 0===e||null===(n=e.dest_trading_partner)||void 0===n?void 0:n.id,label:null===e||void 0===e||null===(i=e.dest_trading_partner)||void 0===i?void 0:i.display_name}),B((t=>{var n;return[{startDate:new Date(e.start_date+" 18:00:00 GMT-0600"),endDate:new Date(e.end_date+" 18:00:00 GMT-0600"),key:null===t||void 0===t||null===(n=t[0])||void 0===n?void 0:n.key}]})),z(_t(null===C||void 0===C?void 0:C.users,null===e||void 0===e||null===(r=e.responsible_user)||void 0===r?void 0:r.id)),k({id:null===e||void 0===e||null===(o=e.orig_trading_partner)||void 0===o?void 0:o.id,label:null===e||void 0===e||null===(a=e.orig_trading_partner)||void 0===a?void 0:a.display_name}),M(parseInt((null===p||void 0===p?void 0:p.plan_quantity)/1e3)||""))}),[p,A]);return(0,ye.jsxs)("div",{className:"release-form-container",children:[(0,ye.jsx)(Un,{className:"mb-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",center:!0,children:(0,ye.jsx)(Jg,{id:"release-type",labels:{left:{title:"Orig",value:Mt},center:{title:"Flow",value:zt},right:{title:"Sales",value:Nt}},value:y,onChange:b,style:{container:{backgroundColor:"#4e73df",boxShadow:"1px 1px 10px 1px rgb(78, 115, 223, 0.5)"}}})})}),y===zt&&(0,ye.jsx)(Un,{className:"mb-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",center:!0,children:(0,ye.jsx)(Jg,{id:"freight-ownership",labels:{left:{title:"Dir Ship",value:Ft},center:{title:"WT",value:Rt},right:{title:"Merchant",value:Lt}},value:x,onChange:_,style:{container:{backgroundColor:"#4e73df",boxShadow:"1px 1px 10px 1px rgb(78, 115, 223, 0.5)"}}})})}),(0,ye.jsxs)(Un,{center:!0,className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(xs,{id:"commodity",label:"Commodity",compressed:!0,valid:null===Z||void 0===Z||null===(n=Z.formErrors)||void 0===n||null===(i=n.commodity)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=Z.formErrors)||void 0===r||null===(o=r.commodity)||void 0===o?void 0:o.message,options:C.commodities,value:T,onChange:O},"commodity")}),(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(xs,{id:"ship_mode",label:"Ship Mode",compressed:!0,valid:null===Z||void 0===Z||null===(a=Z.formErrors)||void 0===a||null===(s=a.ship_mode)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=Z.formErrors)||void 0===l||null===(u=l.ship_mode)||void 0===u?void 0:u.message,options:C.shipModes,value:P,onChange:D},"ship_mode")}),(0,ye.jsx)(Wn,{colSize:"lg-4",children:(0,ye.jsx)(xs,{id:"responsible_user",label:"Responsible User",compressed:!0,options:C.users,value:N,onChange:z},"responsible_user")})]}),(0,ye.jsx)(Un,{center:!0,className:"release-form mb-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(sK,{releaseType:y,origTradingPartner:w,destTradingPartner:E,setOrigTradingPartner:k,setDestTradingPartner:S})})}),(0,ye.jsxs)(Un,{className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(iK,{label:"Delivery Range",dateRange:L,setDateRange:B})}),(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(aK,{label:"Planned Loads",quickOptions:[3,5,10],value:j,valid:null===Z||void 0===Z||null===(c=Z.formErrors)||void 0===c||null===(g=c.planQuantity)||void 0===g?void 0:g.valid,inputInvalidText:null===(d=Z.formErrors)||void 0===d||null===(h=d.planQuantity)||void 0===h?void 0:h.message,onChange:M,multiple:1,step:1})})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"id_notes",label:"Notes",elementType:"textarea",rows:2,compressed:!0,value:R,onChange:F})})})}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{var e,t,n,i;if(!Re(U,V))return;m(null===L||void 0===L?void 0:L[0]);const r={parent:null===A||void 0===A?void 0:A.id,freight_ownership:y===zt?x:Bt,plan_quantity:1e3*j,commodity:null===T||void 0===T?void 0:T.id,ship_mode:null===P||void 0===P?void 0:P.id,orig_trading_partner:null===w||void 0===w?void 0:w.id,dest_trading_partner:null===E||void 0===E?void 0:E.id,start_date:null===L||void 0===L||null===(e=L[0])||void 0===e||null===(t=e.startDate)||void 0===t?void 0:t.toLocaleDateString(),end_date:null===L||void 0===L||null===(n=L[0])||void 0===n||null===(i=n.endDate)||void 0===i?void 0:i.toLocaleDateString(),responsible_user:null===N||void 0===N?void 0:N.id,notes:""===R?null:R};v(r,(()=>f()))},isLoading:!1,Text:"Submit"})})})]})},uK=e=>{if(!Ee(e))return"".concat(Lg(e/1e3,1),"k")},cK=[{header:"Active",accessor:"active",FilterKey:"active",formatter:qg,center:!0,FilterOptions:Gt,FilterNullable:!0,style:{width:"5%"}},{header:"Status",accessor:"status_desc",FilterKey:"status",center:!0},{header:"Commodity",accessor:"commodity.commodity_code",FilterKey:"commodity",center:!0},{header:"Ship Mode",accessor:"ship_mode_desc",FilterKey:"ship_mode",center:!0},{header:"Responsible",accessor:"responsible_user.full_name",FilterKey:"responsible_user",center:!0},{header:"Origin",accessor:"orig_trading_partner.display_name",FilterKey:"orig_trading_partner",center:!0},{header:"Destination",accessor:"dest_trading_partner.display_name",FilterKey:"dest_trading_partner",center:!0},{header:"Start",accessor:"start_date",FilterKey:"start_date",center:!0,formatter:Wg},{header:"End",accessor:"end_date",FilterKey:"end_date",center:!0,formatter:Wg},{header:"Planned Qty",accessor:"plan_quantity",FilterKey:"plan_quantity",formatter:uK,center:!0},{header:"Executed Qty",accessor:"executed_quantity",FilterKey:"executed_quantity",formatter:uK,center:!0},{header:"Audited Qty",accessor:"audited_quantity",FilterKey:"audited_quantity",formatter:uK,center:!0},{header:"Remaining Qty",accessor:"remaining_quantity",FilterKey:"remaining_quantity",formatter:uK,center:!0}],gK=t=>{var n,i,r,o;let{inital:a,onClose:s}=t;const{users:l}=(0,e.useContext)(tn),{dateRangeDefault:u,submitUpdateRelease:c}=(0,e.useContext)(gn),[g,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(0),[A,f]=(0,e.useState)(void 0),[C,I]=(0,e.useState)([u]),[v,m]=(0,e.useState)(Fe),y=[{field:"planQuantity",value:h,notNull:!0}];(0,e.useEffect)((()=>{var e;void 0!==a?(d((null===a||void 0===a?void 0:a.notes)||""),p(Math.round(((null===a||void 0===a?void 0:a.plan_quantity)||0)/1e3,0)),f(_t(l,null===a||void 0===a||null===(e=a.responsible_user)||void 0===e?void 0:e.id)),I((e=>{var t;return[{startDate:new Date(a.start_date+" 18:00:00 GMT-0600"),endDate:new Date(a.end_date+" 18:00:00 GMT-0600"),key:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.key}]}))):(d(""),p(0),f(void 0),I([u]))}),[a]);return(0,ye.jsxs)("div",{className:"release-form-container",children:[(0,ye.jsx)("h3",{className:"text-center",children:"Update Release"}),(0,ye.jsxs)("div",{className:"justify-content-center",children:[(0,ye.jsxs)(Un,{className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(xs,{id:"responsible_user",label:"Responsible User",options:l,value:A,onChange:f},"responsible_user")}),(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsx)(aK,{label:"Planned Loads",quickOptions:[3,5,10],valid:null===v||void 0===v||null===(n=v.formErrors)||void 0===n||null===(i=n.planQuantity)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=v.formErrors)||void 0===r||null===(o=r.planQuantity)||void 0===o?void 0:o.message,value:h,onChange:p,multiple:1,step:1})})]}),(0,ye.jsx)(Un,{className:"mb-2",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(iK,{label:"Delivery Range",dateRange:C,setDateRange:I})})}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{id:"id_notes",label:"Notes",elementType:"textarea",rows:2,compressed:!0,value:g,onChange:d})})})})]}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{var e,t,n,i;if(!Re(y,m))return;const r={notes:""===g?null:g,plan_quantity:1e3*h,responsible_user:null!==A&&void 0!==A&&A.id?null===A||void 0===A?void 0:A.id:null,start_date:null===C||void 0===C||null===(e=C[0])||void 0===e||null===(t=e.startDate)||void 0===t?void 0:t.toLocaleDateString(),end_date:null===C||void 0===C||null===(n=C[0])||void 0===n||null===(i=n.endDate)||void 0===i?void 0:i.toLocaleDateString()};c(r,null===a||void 0===a?void 0:a.id,(()=>s()))},isLoading:!1,Text:"Submit"})})})]})},dK=e=>{var t,n;let{task:i,contractQty:r}=e;const o=(null===i||void 0===i||null===(t=i.assigned_payload)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.display)||{};var a,s;return"mkt_plan"===(null===i||void 0===i?void 0:i.task_type)?(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"auto",children:["(",null===o||void 0===o?void 0:o.purch_sale,") ",null===o||void 0===o?void 0:o.ship_mode,":",(0,ye.jsx)("strong",{className:"mx-1",children:Fg(r)}),(0,ye.jsxs)("span",{className:"mr-1",children:[null===o||void 0===o?void 0:o.uom," ",null===o||void 0===o?void 0:o.commodity," ",null===o||void 0===o?void 0:o.freight_terms," ",null===o||void 0===o?void 0:o.market_zone]}),(0,ye.jsx)(mg,{tooltip:null===o||void 0===o?void 0:o.period,text:null===o||void 0===o?void 0:o.period_adjusted})]}),(0,ye.jsxs)(Wn,{colSize:"auto",children:[(0,ye.jsx)("strong",{children:"Delv:"})," ",Oe(null===i||void 0===i||null===(a=i.assigned_payload)||void 0===a||null===(s=a.contracts)||void 0===s?void 0:s.map((e=>e.delivery_basis||""))).join(", ")]})]}):(0,ye.jsx)("span",{})},hK=e=>{var t,n;let{taskPayload:i,onSubmit:r}=e;const{task:o,medium:a}=i,s=(null===o||void 0===o||null===(t=o.assigned_payload)||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.initial)||{};return"mkt_plan"===(null===o||void 0===o?void 0:o.task_type)?(0,ye.jsx)(gq,{flowVersion:void 0,initial:s,onCreate:e=>r(null===i||void 0===i?void 0:i.task,{task_medium:a,response_payload:e}),task:!0}):(0,ye.jsx)("span",{})},pK=(t,n)=>{var i,r;return"mkt_plan"===t.task_type?(0,ye.jsxs)("span",{className:"task-type-display",children:[(0,ye.jsx)("i",{className:"fas fa-balance-scale-right mr-1"}),n?(0,ye.jsxs)(e.Fragment,{children:[null===t||void 0===t?void 0:t.task_type_desc,": ",null===t||void 0===t||null===(r=t.trading_partner)||void 0===r?void 0:r.display_name]}):(0,ye.jsx)(e.Fragment,{children:null===t||void 0===t?void 0:t.task_type_desc})]}):(0,ye.jsx)("span",{className:"task-type-display",children:n?(0,ye.jsxs)(e.Fragment,{children:[null===t||void 0===t?void 0:t.task_type_desc,": ",null===t||void 0===t||null===(i=t.trading_partner)||void 0===i?void 0:i.display_name]}):(0,ye.jsx)(e.Fragment,{children:null===t||void 0===t?void 0:t.task_type_desc})})},AK=t=>{var n,i,r,o;let{task:a}=t;const{selectTask:s,selectSkipTask:l,selectTradingPartner:u}=(0,e.useContext)(sn),c=null===a||void 0===a||null===(n=a.assigned_payload)||void 0===n||null===(i=n.contracts)||void 0===i?void 0:i.map((e=>parseFloat(e.contract_balance))).reduce(((e,t)=>e+t),0);return(0,ye.jsxs)(Nn,{compressed:!0,className:"mb-2",children:[(0,ye.jsxs)(jn,{children:[pK(a),(0,ye.jsxs)("span",{className:"trading-partner-task-actions float-right",children:[(0,ye.jsx)("i",{className:"fas fa-angle-double-right clickable fa-lg mr-2",onClick:()=>l(a)}),(0,ye.jsx)("i",{className:"fas fa-phone clickable fa-lg mr-2",onClick:()=>s(Zt,a)}),(0,ye.jsx)("i",{className:"fas fa-sms clickable clickable fa-lg mr-2",onClick:()=>s(Vt,a)}),(0,ye.jsx)("i",{className:"fas fa-envelope-open-text clickable fa-lg mr-2",onClick:()=>s(Ut,a)}),(0,ye.jsxs)("span",{className:"fa-stack fa-sm clickable",onClick:()=>s(Wt,a),children:[(0,ye.jsx)("i",{className:"far fa-circle fa-stack-2x"}),(0,ye.jsx)("i",{className:"fas fa-ellipsis-h fa-stack-1x"})]})]}),(0,ye.jsx)("div",{className:"clickable strong mr-1",onClick:()=>u(null===a||void 0===a?void 0:a.trading_partner),children:null===a||void 0===a||null===(r=a.trading_partner)||void 0===r?void 0:r.display_name}),(0,ye.jsx)("div",{className:"task-display-details",children:(0,ye.jsx)(dK,{task:a,contractQty:c})})]}),(0,ye.jsxs)(Mn,{children:[(0,ye.jsx)("span",{children:null!==a&&void 0!==a&&a.completed_on?(0,ye.jsxs)("span",{children:["Completed: ",Wg(null===a||void 0===a?void 0:a.completed_on)]}):(0,ye.jsxs)("span",{children:["Created: ",Wg(null===a||void 0===a?void 0:a.created_on)]})},"date"),(0,ye.jsxs)("span",{className:"float-right",children:["Assigned To: ",null===a||void 0===a||null===(o=a.assigned_to)||void 0===o?void 0:o.full_name]},"name")]})]})},fK=e=>{let{taskPayload:t,onSubmit:n}=e;return(0,ye.jsx)(hK,{taskPayload:t,onSubmit:n})},CK=t=>{let{skipPayload:n,onSubmit:i}=t;const[r,o]=(0,e.useState)("");return(0,ye.jsxs)("div",{className:"task-skip-form",children:[(0,ye.jsx)(Un,{className:"mb-2",children:(0,ye.jsx)(Wn,{colSize:"xl-12",children:(0,ye.jsx)(zn,{compressed:!0,label:(0,ye.jsxs)("span",{children:[(0,ye.jsx)("strong",{children:"Postpone:"}),(0,ye.jsx)(Gn,{large:!0,number:1,onClick:()=>o($e(1,void 0,!0))}),(0,ye.jsx)(Gn,{large:!0,number:3,onClick:()=>o($e(3,void 0,!0))}),(0,ye.jsx)(Gn,{large:!0,number:5,onClick:()=>o($e(5,void 0,!0))}),(0,ye.jsx)(Gn,{large:!0,number:10,onClick:()=>o($e(10,void 0,!0))})]}),id:"postpone-days",elementType:"date",value:r,onChange:e=>{o(e.target.value)}})})}),(0,ye.jsx)(Un,{children:(0,ye.jsxs)(Wn,{colSize:"lg-12",children:[(0,ye.jsx)(Dn,{className:"float-left",buttonType:"btn-warning",onClick:()=>i(n,null),isLoading:!1,Text:"Skip"}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>i(n,""!==r?r:null),isLoading:!1,Text:"Postpone"})]})})]})},IK=[{header:"P/S",accessor:"purch_sale",formatter:e=>null===e||void 0===e?void 0:e.toString().toUpperCase(),center:!0},{header:"Num",accessor:"contract_src_id",center:!0},{header:"Delv Window",accessor:"delivery_window_desc",center:!0},{header:"Comm",accessor:"commodity.commodity_code",center:!0},{header:"Ship Mode",accessor:"ship_mode_desc",center:!0},{header:"Terms",accessor:"freight_terms_raw",center:!0},{header:"Mkt Zone",accessor:"market_zone.name",center:!0},{header:"Balance",accessor:"contract_balance",formatter:Fg,center:!0},{header:"Basis",accessor:"basis",formatter:Lg,center:!0}],vK=t=>{let{data:n}=t;return(0,ye.jsx)("div",{className:"trading-partner-active-contracts",children:(null===n||void 0===n?void 0:n.length)>0&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("h5",{className:"mt-2",children:"Active Contracts"}),(0,ye.jsx)(Dg,{small:!0,flat:!0,responsive:!0,data:n,tableColumns:IK})]})})},mK=t=>{var n,i,r,o,a;const{onCreate:s,onUpdate:l,tradingPartner:u}=t,{commodities:c,internalFacilities:g,mktZones:d}=(0,e.useContext)(tn),[h,p]=(0,e.useState)(""),[A,f]=(0,e.useState)(""),[C,I]=(0,e.useState)(void 0),[v,m]=(0,e.useState)(void 0),[y,b]=(0,e.useState)(""),[x,_]=(0,e.useState)(void 0),[w,k]=(0,e.useState)(void 0),[E,S]=(0,e.useState)(!0),[T,O]=(0,e.useState)(!1),[P,D]=(0,e.useState)({id:It,label:"Grain"}),[j,M]=(0,e.useState)(!1);(0,e.useEffect)((()=>{var e;if(void 0!==(null===u||void 0===u||null===(e=u.facility)||void 0===e?void 0:e.id)){var t,n,i,r,o,a,s,l,h,A,C,v,y,x;if(p((null===u||void 0===u||null===(t=u.facility)||void 0===t?void 0:t.external_display)||""),f((null===u||void 0===u||null===(n=u.facility)||void 0===n?void 0:n.short_display)||""),!Ee(null===u||void 0===u||null===(i=u.facility)||void 0===i?void 0:i.parent_facility))I({id:null===u||void 0===u||null===(C=u.facility)||void 0===C||null===(v=C.parent_facility)||void 0===v?void 0:v.id,label:null===u||void 0===u||null===(y=u.facility)||void 0===y||null===(x=y.parent_facility)||void 0===x?void 0:x.display_name});m(_t(d,null===u||void 0===u||null===(r=u.facility)||void 0===r?void 0:r.market_zone_default)||void 0),b((null===u||void 0===u||null===(o=u.facility)||void 0===o?void 0:o.market_zone_adj)||""),_(xt(c,null===u||void 0===u||null===(a=u.facility)||void 0===a?void 0:a.commodities)),k(xt(g,null===u||void 0===u||null===(s=u.facility)||void 0===s?void 0:s.default_from_facilities)),O((null===u||void 0===u||null===(l=u.facility)||void 0===l?void 0:l.allow_offsite_storage)||!1),S((null===u||void 0===u||null===(h=u.facility)||void 0===h?void 0:h.active)||!0),D(_t(vt,null===u||void 0===u||null===(A=u.facility)||void 0===A?void 0:A.facility_type))}}),[null===u||void 0===u?void 0:u.facility,c,g,d]);const[N,z]=(0,e.useState)(Fe),R=[{field:"market_zone_adj",value:y,validators:[Ne]}];return(0,ye.jsxs)("div",{className:"facility-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(nd,{active:!0,label:"Parent Facility",value:C,onChange:I})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"External Display",helpText:"External description of facility, aka Decherd Penile Hill or Guntersville East",id:"external_display",value:h,onChange:p})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Short Display",helpText:"Short description of facility, aka Decherd or Gunt East",id:"short_display",value:A,onChange:f})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(xs,{label:"Default Market Zone",options:d,value:v,onChange:m})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Market Zone Adjustment",helpText:"Per Unit Adjustment, typically negative for delivery to Facility",id:"market_zone_adj",value:y,valid:null===N||void 0===N||null===(n=N.formErrors)||void 0===n||null===(i=n.market_zone_adj)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=N.formErrors)||void 0===r||null===(o=r.market_zone_adj)||void 0===o?void 0:o.message,onChange:b})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(xs,{label:"Facility Type",options:vt,value:P,onChange:D})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(_s,{id:"commodities",label:"Commodities Handled",options:c,value:x,onChange:_})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(_s,{id:"default_from_facilities",label:"Default Origination Facilities",options:g,value:w,onChange:k})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(ws,{label:"Allow Offsite Storage",checked:T,onChange:()=>O((e=>!e))})}),(null===u||void 0===u||null===(a=u.facility)||void 0===a?void 0:a.id)&&(0,ye.jsx)(Zn,{children:(0,ye.jsx)(ws,{label:"Active",checked:E,onChange:()=>S((e=>!e))})}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(M(!0),!Re(R,z))return M(!1);if(void 0!==s&&Ee(null===u||void 0===u?void 0:u.facility)){const e={external_display:""!==h?h:null,short_display:""!==A?A:null,parent_facility:null===C||void 0===C?void 0:C.id,trading_partner:u.id,market_zone_default:null===v||void 0===v?void 0:v.id,market_zone_adj:y,commodities:(null===x||void 0===x?void 0:x.length)>0?x.map((e=>e.id)):null,default_from_facilities:(null===w||void 0===w?void 0:w.length)>0?w.map((e=>e.id)):null,active:!0,allow_offsite_storage:T,facility_type:null===P||void 0===P?void 0:P.id};s(e)}else if(void 0!==l){const e={external_display:""!==h?h:null,short_display:""!==A?A:null,parent_facility:null===C||void 0===C?void 0:C.id,market_zone_default:null===v||void 0===v?void 0:v.id,market_zone_adj:y,commodities:(null===x||void 0===x?void 0:x.length)>0?x.map((e=>e.id)):null,default_from_facilities:(null===w||void 0===w?void 0:w.length)>0?w.map((e=>e.id)):null,active:E,allow_offsite_storage:T,facility_type:null===P||void 0===P?void 0:P.id};l(e)}M(!1)},isLoading:j,Text:"Submit"})]})},yK=t=>{var n,i,r,o;const{tradingPartner:a,onLink:s}=t,{addAlert:l}=(0,e.useContext)(be),[u,c]=(0,e.useState)(void 0),[g,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(Fe),A=[{field:"selected_item",value:null===u||void 0===u?void 0:u.id,notNull:!0}];return(0,ye.jsxs)("div",{className:"trading-partner-link-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(Is,{id:"trading-partner-link",url:"/api/v1/cust/tp/",defaultParams:{id_exclude:null===a||void 0===a?void 0:a.id,include_address:!0,page_size:5},valid:null===h||void 0===h||null===(n=h.formErrors)||void 0===n||null===(i=n.selected_item)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=h.formErrors)||void 0===r||null===(o=r.selected_item)||void 0===o?void 0:o.message,value:u,defaultInputValue:null===a||void 0===a?void 0:a.display_name,onChange:c})}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:e=>{if(d(!0),!Re(A,p))return d(!1);if("src"===(null===a||void 0===a?void 0:a.source_type)){const e={parent_trading_partner:u.id,child_trading_partner:a.id};s(e)}else{if("master"!==(null===a||void 0===a?void 0:a.source_type))return l("danger","Unable to link associated item"),void d(!1);{const e={parent_trading_partner:a.id,child_trading_partner:u.id};s(e)}}d(!1)},isLoading:g,Text:"Submit"})]})},bK=t=>{var n,i,r,o,a,s,l,u;const{onSubmit:c,tradingPartner:g}=t,{tradingPartnerTypes:d}=(0,e.useContext)(tn),[h,p]=(0,e.useState)(""),[A,f]=(0,e.useState)(""),[C,I]=(0,e.useState)(""),[v,m]=(0,e.useState)(""),[y,b]=(0,e.useState)(""),[x,_]=(0,e.useState)(""),[w,k]=(0,e.useState)(void 0),[E,S]=(0,e.useState)(!1),[T,O]=(0,e.useState)(!0),[P,D]=(0,e.useState)(!1);(0,e.useEffect)((()=>{p((null===g||void 0===g?void 0:g.name)||""),f((null===g||void 0===g?void 0:g.dba)||""),I((null===g||void 0===g?void 0:g.contact_name)||""),m((null===g||void 0===g?void 0:g.phone)||""),b((null===g||void 0===g?void 0:g.email)||""),_((null===g||void 0===g?void 0:g.mobile_phone)||""),k(xt(d,(null===g||void 0===g?void 0:g.trading_partner_type)||[])),S((null===g||void 0===g?void 0:g.is_internal)||!1),O((null===g||void 0===g?void 0:g.active)||!0)}),[g,d]);const[j,M]=(0,e.useState)(Fe),N=[{field:"name",value:h,notNull:!0},{field:"email",value:y,validators:[Me]}];return(0,ye.jsxs)("div",{className:"trading-partner-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Name",id:"id",value:h,valid:null===j||void 0===j||null===(n=j.formErrors)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=j.formErrors)||void 0===r||null===(o=r.name)||void 0===o?void 0:o.message,onChange:p})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"DBA",value:A,onChange:f})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Contact Name",value:C,onChange:I})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(Cs,{label:"Phone",value:v,onChange:m})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Email",value:y,valid:null===j||void 0===j||null===(a=j.formErrors)||void 0===a||null===(s=a.email)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=j.formErrors)||void 0===l||null===(u=l.email)||void 0===u?void 0:u.message,onChange:b})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(Cs,{label:"Mobile Phone",value:x,onChange:_})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(_s,{label:"Trading Partner Type",options:d,value:w,onChange:k})}),(0,ye.jsx)(ws,{label:"Is Internal",checked:E,onChange:()=>S((e=>!e))}),(0,ye.jsx)(ws,{label:"Active",checked:T,onChange:()=>O((e=>!e))}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(D(!0),!Re(N,M))return D(!1);if(void 0!==c){const e={name:h,dba:A,contact_name:C,phone:v,email:y,mobile_phone:x,trading_partner_type:w?w.map((e=>e.id)):null,is_internal:E,active:T};c(e)}D(!1)},isLoading:P,Text:"Submit"})]})},xK=t=>{var n,i,r,o;const{onUpdate:a,facility:s}=t,{operationalMetricTypes:l,shipModes:u}=(0,e.useContext)(tn),[c,g]=(0,e.useState)(void 0),[d,h]=(0,e.useState)(void 0),[p,A]=(0,e.useState)(""),[f,C]=(0,e.useState)(!1),[I,v]=(0,e.useState)(Fe),m=[{field:"metric_type",value:c,notNull:!0}];return(0,ye.jsxs)("div",{className:"production-consumption-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(xs,{id:"ship_mode",label:"Ship Mode",compressed:!0,options:u,value:d,onChange:h},"ship_mode")}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(xs,{id:"metric_type",label:"Metric Type",compressed:!0,valid:null===I||void 0===I||null===(n=I.formErrors)||void 0===n||null===(i=n.metric_type)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=I.formErrors)||void 0===r||null===(o=r.metric_type)||void 0===o?void 0:o.message,options:l,value:c,onChange:g},"metric_type")}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Amount",elementType:"number",compressed:!0,value:p,onChange:A})}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(C(!0),!Re(m,v))return C(!1);if(void 0!==a){const e={facility:null===s||void 0===s?void 0:s.id,metric_type:null===c||void 0===c?void 0:c.id,ship_mode:null===d||void 0===d?void 0:d.id,metric_amount:Ee(p)?null:p};a(e)}C(!1)},isLoading:f,Text:"Submit"})]})},_K=t=>{var n,i,r,o,a,s,l,u;const{onUpdate:c,facility:g}=t,{storageTypes:d}=(0,e.useContext)(tn),[h,p]=(0,e.useState)(void 0),[A,f]=(0,e.useState)(""),[C,I]=(0,e.useState)(!1),[v,m]=(0,e.useState)(Fe),y=[{field:"storage_type",value:h,notNull:!0},{field:"storage_amount",value:A,notNull:!0}];return(0,ye.jsxs)("div",{className:"storage-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(xs,{id:"storage_type",label:"Type",compressed:!0,valid:null===v||void 0===v||null===(n=v.formErrors)||void 0===n||null===(i=n.storage_type)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=v.formErrors)||void 0===r||null===(o=r.storage_type)||void 0===o?void 0:o.message,options:d,value:h,onChange:p},"storage_type")}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Amount",elementType:"number",compressed:!0,valid:null===v||void 0===v||null===(a=v.formErrors)||void 0===a||null===(s=a.storage_amount)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=v.formErrors)||void 0===l||null===(u=l.storage_amount)||void 0===u?void 0:u.message,value:A,onChange:f})}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(I(!0),!Re(y,m))return I(!1);if(void 0!==c){const e={facility:null===g||void 0===g?void 0:g.id,storage_type:null===h||void 0===h?void 0:h.id,storage_amount:Ee(A)?null:A};c(e)}I(!1)},isLoading:C,Text:"Submit"})]})},wK=t=>{var n;const{onUpdate:i,tradingPartner:r,setTradingPartner:o}=t,{addAlert:a}=(0,e.useContext)(be),[s,l]=(0,e.useState)(!1),[u,c]=(0,e.useState)(!1),[g,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(!1),[A,f]=(0,e.useState)(!1),C=e=>{var t,n;void 0===(null===r||void 0===r||null===(t=r.facility)||void 0===t?void 0:t.id)?Ge("api/v1/cust/f/",e,(e=>o(e))):He("api/v1/cust/f/".concat(null===r||void 0===r||null===(n=r.facility)||void 0===n?void 0:n.id,"/"),e,(e=>o(e)));c(!1)};return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)("div",{className:"font-h5 mb-0",id:"trading-partner-actions",children:[(0,ye.jsx)("span",{className:"strong",children:"Action:"}),(0,ye.jsx)("i",{className:"fas fa-edit fa-lg clickable ml-2",onClick:()=>l((e=>!e))}),(0,ye.jsx)(mg,{tooltip:null!==r&&void 0!==r&&r.facility?"Update Facility: ".concat(null===r||void 0===r||null===(n=r.facility)||void 0===n?void 0:n.id):"Create Facility",text:(0,ye.jsx)("i",{className:"fas fa-building fa-lg clickable ml-2".concat(null!==r&&void 0!==r&&r.facility?"":" icon-danger"),onClick:()=>c(!0)})}),!Ee(null===r||void 0===r?void 0:r.facility)&&(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("i",{className:"fas fa-warehouse fa-lg clickable ml-2",title:"Storage","data-toggle":"tooltip",onClick:()=>f((e=>!e))}),(0,ye.jsx)("i",{className:"far fa-chart-bar fa-lg clickable ml-2",title:"Production/Consumption","data-toggle":"tooltip",onClick:()=>p((e=>!e))})]}),(0,ye.jsx)("i",{className:"fas fa-link fa-lg clickable ml-2","data-toggle":"tooltip",title:"Link",onClick:()=>d((e=>!e))})]}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:r?"".concat(r.name):"Create",FormElement:bK,tradingPartner:r,show:s,onClose:()=>l(!1),onSubmit:e=>{i(e),l(!1)}}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:null!==r&&void 0!==r&&r.facility?"Update":"Create",FormElement:mK,tradingPartner:r,show:u,onClose:()=>c(!1),onUpdate:C,onCreate:C}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:"master"===(null===r||void 0===r?void 0:r.source_type)?"Link Child":"Link Parent",FormElement:yK,tradingPartner:r,show:g,onClose:()=>d(!1),onLink:e=>{He("api/v1/cust/tp/".concat(null===r||void 0===r?void 0:r.id,"/link/"),e,(e=>o(e))),a("success","Linked Records"),d(!1)}}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:"Facility Operational",FormElement:xK,facility:null===r||void 0===r?void 0:r.facility,show:h,onClose:()=>p(!1),onUpdate:e=>{var t;He("api/v1/cust/f/".concat(null===r||void 0===r||null===(t=r.facility)||void 0===t?void 0:t.id,"/ops/"),e,(e=>o((t=>({...t,facility:e}))))),a("success","Update Operational Capacity"),p(!1)}}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:"Facility Storage",FormElement:_K,facility:null===r||void 0===r?void 0:r.facility,show:A,onClose:()=>f(!1),onUpdate:e=>{var t;He("api/v1/cust/f/".concat(null===r||void 0===r||null===(t=r.facility)||void 0===t?void 0:t.id,"/store/"),e,(e=>o((t=>({...t,facility:e}))))),a("success","Update Facility Storage"),f(!1)}})]})},kK=t=>{const{notes:n,onAddNote:i}=t,[r,o]=(0,e.useState)("");return(0,ye.jsxs)("div",{className:"trading-partner-notes",children:[(0,ye.jsx)(Un,{children:(0,ye.jsxs)(Wn,{colSize:"lg-12",children:[(0,ye.jsx)("h5",{children:"Notes"}),(0,ye.jsxs)("div",{className:"notes",children:[(0,ye.jsx)("textarea",{name:"notes",rows:"4",className:"textarea form-control notes",placeholder:"Add Status/Notes",id:"id_notes",value:r,onChange:e=>o(e.target.value)}),(0,ye.jsx)("button",{className:"btn btn-icon-clear btn-notes",onClick:()=>(i(r),void o("")),children:"Save"})]})]})}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:null===n||void 0===n?void 0:n.map(((e,t)=>{var n;return(0,ye.jsxs)(Nn,{compressed:!0,className:"mb-1",children:[(0,ye.jsx)(jn,{children:null===e||void 0===e?void 0:e.notes}),(0,ye.jsxs)(Mn,{children:[(0,ye.jsx)("span",{children:null===e||void 0===e||null===(n=e.created_by)||void 0===n?void 0:n.full_name}),(0,ye.jsx)("span",{className:"float-right",children:Wg(null===e||void 0===e?void 0:e.created_on)})]})]},t)}))})})]})},EK=t=>{var n,i,r,o,a,s,l,u;const{address:c,mailingAddress:g,onUpdate:d}=t,[h,p]=(0,e.useState)(""),[A,f]=(0,e.useState)(""),[C,I]=(0,e.useState)(""),[v,m]=(0,e.useState)(""),[y,b]=(0,e.useState)(""),[x,_]=(0,e.useState)(!1);(0,e.useEffect)((()=>{p((null===c||void 0===c?void 0:c.address_line_1)||""),f((null===c||void 0===c?void 0:c.address_line_2)||""),I((null===c||void 0===c?void 0:c.city_raw)||""),m((null===c||void 0===c?void 0:c.state_prov_raw)||""),b((null===c||void 0===c?void 0:c.zip_code_raw)||"")}),[c]);const[w,k]=(0,e.useState)(Fe),E=[{field:"city",value:C,notNull:!0},{field:"state",value:v,notNull:!0}];return(0,ye.jsxs)("div",{className:"address-form",children:[(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Address Line 1",value:h,onChange:p})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Address Line 2",value:A,onChange:f})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"City",value:C,valid:null===w||void 0===w||null===(n=w.formErrors)||void 0===n||null===(i=n.city)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=w.formErrors)||void 0===r||null===(o=r.city)||void 0===o?void 0:o.message,onChange:I})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"State Code",inputProps:{maxLength:"2"},value:v,valid:null===w||void 0===w||null===(a=w.formErrors)||void 0===a||null===(s=a.state)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=w.formErrors)||void 0===l||null===(u=l.state)||void 0===u?void 0:u.message,onChange:m})}),(0,ye.jsx)(Zn,{children:(0,ye.jsx)(zn,{label:"Zip Code",inputProps:{maxLength:"10"},value:y,onChange:b})}),(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(_(!0),!Re(E,k))return _(!1);let e={};void 0!==d&&(e={address:{address_line_1:h,address_line_2:A,city_raw:C,state_prov_raw:v,zip_code_raw:y}},void 0!==g&&(e={mailing_address:{address_line_1:h,address_line_2:A,city_raw:C,state_prov_raw:v,zip_code_raw:y}}),d(e)),_(!1)},isLoading:x,Text:"Submit"})]})};var SK=n(2963),TK=n(1120),OK=n(7326);function PK(e){if(!e)return null;if("string"===typeof e)return e;e.toJS&&(e=e.toJS());var t=e.layers.reduce((function(e,t){return Object.assign(e,(0,Hn.Z)({},t.id,t))}),{});return e.layers=e.layers.map((function(e){delete(e=Object.assign({},e)).interactive;var n=t[e.ref];return n&&(delete e.ref,void 0!==n.type&&(e.type=n.type),void 0!==n.source&&(e.source=n.source),void 0!==n["source-layer"]&&(e["source-layer"]=n["source-layer"]),void 0!==n.minzoom&&(e.minzoom=n.minzoom),void 0!==n.maxzoom&&(e.maxzoom=n.maxzoom),void 0!==n.filter&&(e.filter=n.filter),void 0!==n.layout&&(e.layout=e.layout||{},e.layout=Object.assign({},e.layout,n.layout))),e})),e}var DK=1e-6,jK="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});!function(){var e=function(){var e=new jK(4);return jK!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();function MK(e,t){var n,i,r,o=function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}([],t,e);return n=o,i=o,r=1/o[3],n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=i[3]*r,o}function NK(e,t){var n=e%t;return n<0?t+n:n}function zK(e,t,n){return n*t+(1-n)*e}function RK(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],g=t[8],d=t[9],h=t[10],p=t[11],A=t[12],f=t[13],C=t[14],I=t[15],v=n[0],m=n[1],y=n[2],b=n[3];return e[0]=v*i+m*s+y*g+b*A,e[1]=v*r+m*l+y*d+b*f,e[2]=v*o+m*u+y*h+b*C,e[3]=v*a+m*c+y*p+b*I,v=n[4],m=n[5],y=n[6],b=n[7],e[4]=v*i+m*s+y*g+b*A,e[5]=v*r+m*l+y*d+b*f,e[6]=v*o+m*u+y*h+b*C,e[7]=v*a+m*c+y*p+b*I,v=n[8],m=n[9],y=n[10],b=n[11],e[8]=v*i+m*s+y*g+b*A,e[9]=v*r+m*l+y*d+b*f,e[10]=v*o+m*u+y*h+b*C,e[11]=v*a+m*c+y*p+b*I,v=n[12],m=n[13],y=n[14],b=n[15],e[12]=v*i+m*s+y*g+b*A,e[13]=v*r+m*l+y*d+b*f,e[14]=v*o+m*u+y*h+b*C,e[15]=v*a+m*c+y*p+b*I,e}function FK(e,t,n){var i,r,o,a,s,l,u,c,g,d,h,p,A=n[0],f=n[1],C=n[2];return t===e?(e[12]=t[0]*A+t[4]*f+t[8]*C+t[12],e[13]=t[1]*A+t[5]*f+t[9]*C+t[13],e[14]=t[2]*A+t[6]*f+t[10]*C+t[14],e[15]=t[3]*A+t[7]*f+t[11]*C+t[15]):(i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],g=t[8],d=t[9],h=t[10],p=t[11],e[0]=i,e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=g,e[9]=d,e[10]=h,e[11]=p,e[12]=i*A+s*f+g*C+t[12],e[13]=r*A+l*f+d*C+t[13],e[14]=o*A+u*f+h*C+t[14],e[15]=a*A+c*f+p*C+t[15]),e}function LK(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}var BK=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(o=1/(i-r),e[10]=(r+i)*o,e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e};function ZK(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],g=e[9],d=e[10],h=e[11],p=e[12],A=e[13],f=e[14],C=e[15],I=t[0],v=t[1],m=t[2],y=t[3],b=t[4],x=t[5],_=t[6],w=t[7],k=t[8],E=t[9],S=t[10],T=t[11],O=t[12],P=t[13],D=t[14],j=t[15];return Math.abs(n-I)<=DK*Math.max(1,Math.abs(n),Math.abs(I))&&Math.abs(i-v)<=DK*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(r-m)<=DK*Math.max(1,Math.abs(r),Math.abs(m))&&Math.abs(o-y)<=DK*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(a-b)<=DK*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(s-x)<=DK*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(l-_)<=DK*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(u-w)<=DK*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(c-k)<=DK*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(g-E)<=DK*Math.max(1,Math.abs(g),Math.abs(E))&&Math.abs(d-S)<=DK*Math.max(1,Math.abs(d),Math.abs(S))&&Math.abs(h-T)<=DK*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(p-O)<=DK*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(A-P)<=DK*Math.max(1,Math.abs(A),Math.abs(P))&&Math.abs(f-D)<=DK*Math.max(1,Math.abs(f),Math.abs(D))&&Math.abs(C-j)<=DK*Math.max(1,Math.abs(C),Math.abs(j))}function VK(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function UK(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function WK(e){var t=e[0],n=e[1];return Math.hypot(t,n)}var GK=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e};!function(){var e=function(){var e=new jK(2);return jK!=Float32Array&&(e[0]=0,e[1]=0),e}()}();!function(){var e=function(){var e=new jK(3);return jK!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}();function HK(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var YK=Math.PI,qK=YK/4,KK=YK/180,XK=180/YK,QK=512,JK=4003e4,$K=1.5;function eX(e){return Math.pow(2,e)}function tX(e){return Math.log2(e)}function nX(e,t){var n=Tr(e,2),i=n[0],r=n[1];HK(Number.isFinite(i)&&Number.isFinite(t)),HK(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");var o=r*KK;return[(t*=QK)*(i*KK+YK)/(2*YK),t*(YK-Math.log(Math.tan(qK+.5*o)))/(2*YK)]}function iX(e,t){var n=Tr(e,2),i=n[0],r=n[1],o=i/(t*=QK)*(2*YK)-YK,a=2*(Math.atan(Math.exp(YK-r/t*(2*YK)))-qK);return[o*XK,a*XK]}function rX(e){var t=e.latitude,n=e.longitude,i=e.zoom,r=e.scale,o=e.highPrecision,a=void 0!==o&&o;r=void 0!==r?r:eX(i),HK(Number.isFinite(t)&&Number.isFinite(n)&&Number.isFinite(r));var s={},l=QK*r,u=Math.cos(t*KK),c=l/360,g=c/u,d=l/JK/u;if(s.pixelsPerMeter=[d,-d,d],s.metersPerPixel=[1/d,-1/d,1/d],s.pixelsPerDegree=[c,-g,d],s.degreesPerPixel=[1/c,-1/g,1/d],a){var h=KK*Math.tan(t*KK)/u,p=c*h/2,A=l/JK*h,f=A/g*d;s.pixelsPerDegree2=[0,-p,A],s.pixelsPerMeter2=[f,0,f]}return s}function oX(e){var t,n,i=e.height,r=e.pitch,o=e.bearing,a=e.altitude,s=e.center,l=void 0===s?null:s,u=e.flipY,c=void 0!==u&&u,g=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return FK(g,g,[0,0,-a]),LK(g,g,[1,1,1/i]),function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],g=t[10],d=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+u*i,e[5]=a*r+c*i,e[6]=s*r+g*i,e[7]=l*r+d*i,e[8]=u*r-o*i,e[9]=c*r-a*i,e[10]=g*r-s*i,e[11]=d*r-l*i}(g,g,-r*KK),function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],g=t[6],d=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+u*i,e[1]=a*r+c*i,e[2]=s*r+g*i,e[3]=l*r+d*i,e[4]=u*r-o*i,e[5]=c*r-a*i,e[6]=g*r-s*i,e[7]=d*r-l*i}(g,g,o*KK),c&&LK(g,g,[1,-1,1]),l&&FK(g,g,((t=[])[0]=-(n=l)[0],t[1]=-n[1],t[2]=-n[2],t)),g}function aX(e){var t=e.width,n=e.height,i=e.pitch,r=function(e){var t=e.width,n=e.height,i=e.altitude,r=void 0===i?$K:i,o=e.pitch,a=void 0===o?0:o,s=e.nearZMultiplier,l=void 0===s?1:s,u=e.farZMultiplier,c=void 0===u?1:u,g=a*KK,d=Math.atan(.5/r),h=Math.sin(d)*r/Math.sin(Math.PI/2-g-d),p=Math.cos(Math.PI/2-g)*h+r;return{fov:2*Math.atan(n/2/r),aspect:t/n,focalDistance:r,near:l,far:p*c}}({width:t,height:n,altitude:e.altitude,pitch:i,nearZMultiplier:e.nearZMultiplier,farZMultiplier:e.farZMultiplier}),o=r.fov,a=r.aspect,s=r.near,l=r.far;return BK([],o,a,s,l)}function sX(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Tr(e,3),r=i[0],o=i[1],a=i[2];if(HK(Number.isFinite(r)&&Number.isFinite(o),"invalid pixel coordinate"),Number.isFinite(a))return MK(t,[r,o,a,1]);var s=MK(t,[r,o,0,1]),l=MK(t,[r,o,1,1]),u=s[2],c=l[2];return function(e,t,n,i){var r=t[0],o=t[1];return e[0]=r+i*(n[0]-r),e[1]=o+i*(n[1]-o),e}([],s,l,u===c?0:((n||0)-u)/(c-u))}var lX=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],uX=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width,i=t.height,r=t.viewMatrix,o=void 0===r?lX:r,a=t.projectionMatrix,s=void 0===a?lX:a;(0,Kn.Z)(this,e),this.width=n||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=o,this.projectionMatrix=s;var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];RK(l,l,this.projectionMatrix),RK(l,l,this.viewMatrix),this.viewProjectionMatrix=l;var u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];LK(u,u,[this.width/2,-this.height/2,1]),FK(u,u,[1,-1,0]),RK(u,u,this.viewProjectionMatrix);var c=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],g=t[9],d=t[10],h=t[11],p=t[12],A=t[13],f=t[14],C=t[15],I=n*s-i*a,v=n*l-r*a,m=n*u-o*a,y=i*l-r*s,b=i*u-o*s,x=r*u-o*l,_=c*A-g*p,w=c*f-d*p,k=c*C-h*p,E=g*f-d*A,S=g*C-h*A,T=d*C-h*f,O=I*T-v*S+m*E+y*k-b*w+x*_;return O?(O=1/O,e[0]=(s*T-l*S+u*E)*O,e[1]=(r*S-i*T-o*E)*O,e[2]=(A*x-f*b+C*y)*O,e[3]=(d*b-g*x-h*y)*O,e[4]=(l*k-a*T-u*w)*O,e[5]=(n*T-r*k+o*w)*O,e[6]=(f*m-p*x-C*v)*O,e[7]=(c*x-d*m+h*v)*O,e[8]=(a*S-s*k+u*_)*O,e[9]=(i*k-n*S-o*_)*O,e[10]=(p*b-A*m+C*I)*O,e[11]=(g*m-c*b-h*I)*O,e[12]=(s*w-a*E-l*_)*O,e[13]=(n*E-i*w+r*_)*O,e[14]=(A*v-p*y-f*I)*O,e[15]=(c*y-g*v+d*I)*O,e):null}([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=u,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,Xn.Z)(e,[{key:"equals",value:function(t){return t instanceof e&&(t.width===this.width&&t.height===this.height&&ZK(t.projectionMatrix,this.projectionMatrix)&&ZK(t.viewMatrix,this.viewMatrix))}},{key:"project",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).topLeft,n=void 0===t||t,i=function(e,t){var n=Tr(e,3),i=n[0],r=n[1],o=n[2],a=void 0===o?0:o;return HK(Number.isFinite(i)&&Number.isFinite(r)&&Number.isFinite(a)),MK(t,[i,r,a,1])}(this.projectPosition(e),this.pixelProjectionMatrix),r=Tr(i,2),o=r[0],a=r[1],s=n?a:this.height-a;return 2===e.length?[o,s]:[o,s,i[2]]}},{key:"unproject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.topLeft,i=void 0===n||n,r=t.targetZ,o=Tr(e,3),a=o[0],s=o[1],l=o[2],u=i?s:this.height-s,c=r&&r*this.pixelsPerMeter,g=sX([a,u,l],this.pixelUnprojectionMatrix,c),d=Tr(this.unprojectPosition(g),3),h=d[0],p=d[1],A=d[2];return Number.isFinite(l)?[h,p,A]:Number.isFinite(r)?[h,p,r]:[h,p]}},{key:"projectPosition",value:function(e){var t=Tr(this.projectFlat(e),2);return[t[0],t[1],(e[2]||0)*this.pixelsPerMeter]}},{key:"unprojectPosition",value:function(e){var t=Tr(this.unprojectFlat(e),2);return[t[0],t[1],(e[2]||0)/this.pixelsPerMeter]}},{key:"projectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}},{key:"unprojectFlat",value:function(e){arguments.length>1&&void 0!==arguments[1]||this.scale;return e}}]),e}();function cX(e){var t=e.width,n=e.height,i=e.bounds,r=e.minExtent,o=void 0===r?0:r,a=e.maxZoom,s=void 0===a?24:a,l=e.padding,u=void 0===l?0:l,c=e.offset,g=void 0===c?[0,0]:c,d=Tr(i,2),h=Tr(d[0],2),p=h[0],A=h[1],f=Tr(d[1],2),C=f[0],I=f[1];if(Number.isFinite(u)){u={top:u,bottom:u,left:u,right:u}}else HK(Number.isFinite(u.top)&&Number.isFinite(u.bottom)&&Number.isFinite(u.left)&&Number.isFinite(u.right));var v=new gX({width:t,height:n,longitude:0,latitude:0,zoom:0}),m=v.project([p,I]),y=v.project([C,A]),b=[Math.max(Math.abs(y[0]-m[0]),o),Math.max(Math.abs(y[1]-m[1]),o)],x=[t-u.left-u.right-2*Math.abs(g[0]),n-u.top-u.bottom-2*Math.abs(g[1])];HK(x[0]>0&&x[1]>0);var _=x[0]/b[0],w=x[1]/b[1],k=(u.right-u.left)/2/_,E=(u.bottom-u.top)/2/w,S=[(y[0]+m[0])/2+k,(y[1]+m[1])/2+E],T=v.unproject(S),O=v.zoom+Math.log2(Math.abs(Math.min(_,w)));return{longitude:T[0],latitude:T[1],zoom:Math.min(O,s)}}var gX=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.width,r=n.height,o=n.latitude,a=void 0===o?0:o,s=n.longitude,l=void 0===s?0:s,u=n.zoom,c=void 0===u?0:u,g=n.pitch,d=void 0===g?0:g,h=n.bearing,p=void 0===h?0:h,A=n.altitude,f=void 0===A?1.5:A,C=n.nearZMultiplier,I=n.farZMultiplier;(0,Kn.Z)(this,t),i=i||1,r=r||1;var v=eX(c);f=Math.max(.75,f);var m=nX([l,a],v);m[2]=0;var y=aX({width:i,height:r,pitch:d,bearing:p,altitude:f,nearZMultiplier:C||1/r,farZMultiplier:I||1.01}),b=oX({height:r,center:m,pitch:d,bearing:p,altitude:f,flipY:!0});return(e=(0,SK.Z)(this,(0,TK.Z)(t).call(this,{width:i,height:r,viewMatrix:b,projectionMatrix:y}))).latitude=a,e.longitude=l,e.zoom=c,e.pitch=d,e.bearing=p,e.altitude=f,e.scale=v,e.center=m,e.pixelsPerMeter=rX((0,OK.Z)((0,OK.Z)(e))).pixelsPerMeter[2],Object.freeze((0,OK.Z)((0,OK.Z)(e))),e}return(0,Qn.Z)(t,e),(0,Xn.Z)(t,[{key:"projectFlat",value:function(e){return nX(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"unprojectFlat",value:function(e){return iX(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scale)}},{key:"getMapCenterByLngLatPosition",value:function(e){var t,n,i=e.lngLat,r=sX(e.pos,this.pixelUnprojectionMatrix),o=VK([],nX(i,this.scale),((t=[])[0]=-(n=r)[0],t[1]=-n[1],t));return iX(VK([],this.center,o),this.scale)}},{key:"getLocationAtPoint",value:function(e){var t=e.lngLat,n=e.pos;return this.getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"fitBounds",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.width,r=this.height,o=cX(Object.assign({width:i,height:r,bounds:e},n));return new t({width:i,height:r,longitude:o.longitude,latitude:o.latitude,zoom:o.zoom})}}]),t}(uX);let dX;dX="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;let hX=null,pX=null;const AX=dX.clearTimeout,fX=dX.setTimeout,CX=dX.cancelAnimationFrame||dX.mozCancelAnimationFrame||dX.webkitCancelAnimationFrame,IX=dX.requestAnimationFrame||dX.mozRequestAnimationFrame||dX.webkitRequestAnimationFrame;function vX(e){let t,n,i,r,o,a,s;const l="undefined"!==typeof document&&document.attachEvent;if(!l){a=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,i=t.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;a(this),this.__resizeRAF__&&hX(this.__resizeRAF__),this.__resizeRAF__=pX((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))};let e=!1,l="";i="animationstart";const u="Webkit Moz O ms".split(" ");let c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<u.length;n++)if(void 0!==t.style[u[n]+"AnimationName"]){g=u[n],l="-"+g.toLowerCase()+"-",i=c[n],e=!0;break}}n="resizeanim",t="@"+l+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",r=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,u){if(l)o.attachEvent("onresize",u);else{if(!o.__resizeTriggers__){const l=o.ownerDocument,u=dX.getComputedStyle(o);u&&"static"===u.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const i=(t||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=i:a.appendChild(n.createTextNode(i)),o.appendChild(a)}}(l),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const c=l.createElement("div");c.className="expand-trigger",c.appendChild(l.createElement("div"));const g=l.createElement("div");g.className="contract-trigger",o.__resizeTriggers__.appendChild(c),o.__resizeTriggers__.appendChild(g),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),i&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(i,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(u)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(N$){}}}}}null==CX||null==IX?(hX=AX,pX=function(e){return fX(e,20)}):(hX=function(e){let[t,n]=e;CX(t),AX(n)},pX=function(e){const t=IX((function(){AX(n),e()})),n=fX((function(){CX(t),e()}),20);return[t,n]});class mX extends e.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){var i,r,o,a;const s=window.getComputedStyle(this._parentNode)||{},l=parseFloat(null!==(i=s.paddingLeft)&&void 0!==i?i:"0"),u=parseFloat(null!==(r=s.paddingRight)&&void 0!==r?r:"0"),c=parseFloat(null!==(o=s.paddingTop)&&void 0!==o?o:"0"),g=parseFloat(null!==(a=s.paddingBottom)&&void 0!==a?a:"0"),d=this._parentNode.getBoundingClientRect(),h=d.height-c-g,p=d.width-l-u,A=this._parentNode.offsetHeight-c-g,f=this._parentNode.offsetWidth-l-u;(e||this.state.height===A&&this.state.scaledHeight===h)&&(t||this.state.width===f&&this.state.scaledWidth===p)||(this.setState({height:A,width:f,scaledHeight:h,scaledWidth:p}),"function"===typeof n&&n({height:A,scaledHeight:h,scaledWidth:p,width:f}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!==typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=vX(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:t,defaultHeight:n,defaultWidth:i,disableHeight:r=!1,disableWidth:o=!1,nonce:a,onResize:s,style:l={},tagName:u="div",...c}=this.props,{height:g,scaledHeight:d,scaledWidth:h,width:p}=this.state,A={overflow:"visible"},f={};let C=!1;return r||(0===g&&(C=!0),A.height=0,f.height=g,f.scaledHeight=d),o||(0===p&&(C=!0),A.width=0,f.width=p,f.scaledWidth=h),(0,e.createElement)(u,{ref:this._setRef,style:{...A,...l},...c},!C&&t(f))}}var yX="undefined"!==typeof window?window:n.g,bX=("undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document?document:{});var xX={container:s().object,gl:s().object,mapboxApiAccessToken:s().string,mapboxApiUrl:s().string,attributionControl:s().bool,preserveDrawingBuffer:s().bool,reuseMaps:s().bool,transformRequest:s().func,mapOptions:s().object,mapStyle:s().oneOfType([s().string,s().object]),visible:s().bool,asyncRender:s().bool,onLoad:s().func,onError:s().func,width:s().number,height:s().number,viewState:s().object,longitude:s().number,latitude:s().number,zoom:s().number,bearing:s().number,pitch:s().number,altitude:s().number},_X={container:bX.body,mapboxApiAccessToken:function(){var e=null;if("undefined"!==typeof window&&window.location){var t=window.location.search.match(/access_token=([^&\/]*)/);e=t&&t[1]}e||"undefined"===typeof process||(e=e||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_HOST_URL:"http://localhost:8000",REACT_APP_APP:"trade",REACT_APP_DEBUG:"true",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w"}.MapboxAccessToken||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_HOST_URL:"http://localhost:8000",REACT_APP_APP:"trade",REACT_APP_DEBUG:"true",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w"}.REACT_APP_MAPBOX_ACCESS_TOKEN);return e||"no-token"}(),mapboxApiUrl:"https://api.mapbox.com",preserveDrawingBuffer:!1,attributionControl:!0,reuseMaps:!1,mapOptions:{},mapStyle:"mapbox://styles/mapbox/light-v8",visible:!0,asyncRender:!1,onLoad:function(){},onError:function(e){e&&console.error(e.error)},width:0,height:0,longitude:0,latitude:0,zoom:0,bearing:0,pitch:0};function wX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"component";e.debug&&s().checkPropTypes(xX,e,"prop",t)}var kX=function(){function e(t){var n=this;if((0,Kn.Z)(this,e),(0,Hn.Z)(this,"mapboxgl",void 0),(0,Hn.Z)(this,"props",_X),(0,Hn.Z)(this,"_map",null),(0,Hn.Z)(this,"width",0),(0,Hn.Z)(this,"height",0),(0,Hn.Z)(this,"_fireLoadEvent",(function(){n.props.onLoad({type:"load",target:n._map})})),!t.mapboxgl)throw new Error("Mapbox not available");this.mapboxgl=t.mapboxgl,e.initialized||(e.initialized=!0,this._checkStyleSheet(this.mapboxgl.version)),this._initialize(t)}return(0,Xn.Z)(e,[{key:"finalize",value:function(){return this._destroy(),this}},{key:"setProps",value:function(e){return this._update(this.props,e),this}},{key:"resize",value:function(){return this._map.resize(),this}},{key:"redraw",value:function(){var e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}},{key:"getMap",value:function(){return this._map}},{key:"_reuse",value:function(t){this._map=e.savedMap;var n=this._map.getContainer(),i=t.container;for(i.classList.add("mapboxgl-map");n.childNodes.length>0;)i.appendChild(n.childNodes[0]);this._map._container=i,e.savedMap=null,t.mapStyle&&this._map.setStyle(t.mapStyle,{diff:!1}),this._map.isStyleLoaded()?this._fireLoadEvent():this._map.once("styledata",this._fireLoadEvent)}},{key:"_create",value:function(t){if(t.reuseMaps&&e.savedMap)this._reuse(t);else{if(t.gl){var n=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=function(){return HTMLCanvasElement.prototype.getContext=n,t.gl}}var i={container:t.container,center:[0,0],zoom:8,pitch:0,bearing:0,maxZoom:24,style:t.mapStyle,interactive:!1,trackResize:!1,attributionControl:t.attributionControl,preserveDrawingBuffer:t.preserveDrawingBuffer};t.transformRequest&&(i.transformRequest=t.transformRequest),this._map=new this.mapboxgl.Map(Object.assign({},i,t.mapOptions)),this._map.once("load",t.onLoad),this._map.on("error",t.onError)}return this}},{key:"_destroy",value:function(){this._map&&(e.savedMap?this._map.remove():(e.savedMap=this._map,this._map.off("load",this.props.onLoad),this._map.off("error",this.props.onError),this._map.off("styledata",this._fireLoadEvent)),this._map=null)}},{key:"_initialize",value:function(e){var t=this;wX(e=Object.assign({},_X,e),"Mapbox"),this.mapboxgl.accessToken=e.mapboxApiAccessToken||_X.mapboxApiAccessToken,this.mapboxgl.baseApiUrl=e.mapboxApiUrl,this._create(e);var n=e.container;Object.defineProperty(n,"offsetWidth",{get:function(){return t.width}}),Object.defineProperty(n,"clientWidth",{get:function(){return t.width}}),Object.defineProperty(n,"offsetHeight",{get:function(){return t.height}}),Object.defineProperty(n,"clientHeight",{get:function(){return t.height}});var i=this._map.getCanvas();i&&(i.style.outline="none"),this._updateMapViewport({},e),this._updateMapSize({},e),this.props=e}},{key:"_update",value:function(e,t){if(this._map){wX(t=Object.assign({},this.props,t),"Mapbox");var n=this._updateMapViewport(e,t),i=this._updateMapSize(e,t);t.asyncRender||!n&&!i||this.redraw(),this.props=t}}},{key:"_updateMapSize",value:function(e,t){var n=e.width!==t.width||e.height!==t.height;return n&&(this.width=t.width,this.height=t.height,this.resize()),n}},{key:"_updateMapViewport",value:function(e,t){var n=this._getViewState(e),i=this._getViewState(t),r=i.latitude!==n.latitude||i.longitude!==n.longitude||i.zoom!==n.zoom||i.pitch!==n.pitch||i.bearing!==n.bearing||i.altitude!==n.altitude;return r&&(this._map.jumpTo(this._viewStateToMapboxProps(i)),i.altitude!==n.altitude&&(this._map.transform.altitude=i.altitude)),r}},{key:"_getViewState",value:function(e){var t=e.viewState||e,n=t.longitude,i=t.latitude,r=t.zoom,o=t.pitch,a=void 0===o?0:o,s=t.bearing,l=void 0===s?0:s,u=t.altitude;return{longitude:n,latitude:i,zoom:r,pitch:a,bearing:l,altitude:void 0===u?1.5:u}}},{key:"_checkStyleSheet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.47.0";if("undefined"!==typeof bX)try{var t=bX.createElement("div");if(t.className="mapboxgl-map",t.style.display="none",bX.body.append(t),!("static"!==window.getComputedStyle(t).position)){var n=bX.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://api.tiles.mapbox.com/mapbox-gl-js/v".concat(e,"/mapbox-gl.css")),bX.head.append(n)}}catch(z$){}}},{key:"_viewStateToMapboxProps",value:function(e){return{center:[e.longitude,e.latitude],zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}}}]),e}();(0,Hn.Z)(kX,"initialized",!1),(0,Hn.Z)(kX,"propTypes",xX),(0,Hn.Z)(kX,"defaultProps",_X),(0,Hn.Z)(kX,"savedMap",null);var EX=n(5483),SX=n.n(EX),TX=85.05113,OX=-85.05113;function PX(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function DX(e,t){if(e===t)return!0;if(PX(e)&&PX(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!DX(e[n],t[n]))return!1;return!0}return Math.abs(e-t)<=1e-7}function jX(e,t,n){return Math.max(t,Math.min(n,e))}function MX(e,t,n){return PX(e)?e.map((function(e,i){return MX(e,t[i],n)})):n*t+(1-n)*e}function NX(e,t){if(!e)throw new Error(t||"react-map-gl: assertion failed.")}var zX=function(){function e(){(0,Kn.Z)(this,e),(0,Hn.Z)(this,"propNames",[])}return(0,Xn.Z)(e,[{key:"arePropsEqual",value:function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=(this.propNames||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(!DX(e[s],t[s]))return!1}}catch(l){i=!0,r=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw r}}return!0}},{key:"initializeProps",value:function(e,t){return{start:e,end:t}}},{key:"interpolateProps",value:function(e,t,n){NX(!1,"interpolateProps is not implemented")}},{key:"getDuration",value:function(e,t){return t.transitionDuration}}]),e}(),RX=.01,FX=["longitude","latitude","zoom"],LX={curve:1.414,speed:1.2};function BX(e,t,n){var i=(n=Object.assign({},LX,n)).curve,r=e.zoom,o=[e.longitude,e.latitude],a=eX(r),s=t.zoom,l=[t.longitude,t.latitude],u=eX(s-r),c=nX(o,a),g=nX(l,a),d=GK([],g,c),h=Math.max(e.width,e.height),p=h/u,A=WK(d),f=Math.max(A,RX),C=i*i,I=(p*p-h*h+C*C*f*f)/(2*h*C*f),v=(p*p-h*h-C*C*f*f)/(2*p*C*f),m=Math.log(Math.sqrt(I*I+1)-I),y=Math.log(Math.sqrt(v*v+1)-v);return{startZoom:r,startCenterXY:c,uDelta:d,w0:h,u1:A,S:(y-m)/i,rho:i,rho2:C,r0:m,r1:y}}var ZX={longitude:1,bearing:1};function VX(e){return Number.isFinite(e)||Array.isArray(e)}function UX(e,t,n){return function(e){return e in ZX}(e)&&Math.abs(n-t)>180&&(n=n<0?n+360:n-360),n}var WX=["longitude","latitude","zoom","bearing","pitch"],GX=["latitude","longitude","zoom","width","height"],HX=["bearing","pitch"],YX={speed:1.2,curve:1.414},qX=(function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Kn.Z)(this,t),e=(0,SK.Z)(this,(0,TK.Z)(t).call(this)),(0,Hn.Z)((0,OK.Z)(e),"speed",void 0),(0,Hn.Z)((0,OK.Z)(e),"propNames",WX),(0,Hn.Z)((0,OK.Z)(e),"props",void 0),e.props=Object.assign({},YX,n),e}(0,Qn.Z)(t,e),(0,Xn.Z)(t,[{key:"initializeProps",value:function(e,t){var n={},i={},r=!0,o=!1,a=void 0;try{for(var s,l=GX[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=e[u],g=t[u];NX(VX(c)&&VX(g),"".concat(u," must be supplied for transition")),n[u]=c,i[u]=UX(u,c,g)}}catch(m){o=!0,a=m}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}var d=!0,h=!1,p=void 0;try{for(var A,f=HX[Symbol.iterator]();!(d=(A=f.next()).done);d=!0){var C=A.value,I=e[C]||0,v=t[C]||0;n[C]=I,i[C]=UX(C,I,v)}}catch(m){h=!0,p=m}finally{try{d||null==f.return||f.return()}finally{if(h)throw p}}return{start:n,end:i}}},{key:"interpolateProps",value:function(e,t,n){var i=function(e,t,n){var i={},r=BX(e,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),o=r.startZoom,a=r.startCenterXY,s=r.uDelta,l=r.w0,u=r.u1,c=r.S,g=r.rho,d=r.rho2,h=r.r0;if(u<RX){for(var p=0;p<FX.length;p++){var A=FX[p],f=e[A],C=t[A];i[A]=zK(f,C,n)}return i}var I=n*c,v=Math.cosh(h)/Math.cosh(h+g*I),m=l*((Math.cosh(h)*Math.tanh(h+g*I)-Math.sinh(h))/d)/u,y=1/v,b=o+tX(y),x=UK([],s,m);VK(x,x,a),UK(x,x,y);var _=iX(x,eX(b));return i.longitude=_[0],i.latitude=_[1],i.zoom=b,i}(e,t,n,this.props),r=!0,o=!1,a=void 0;try{for(var s,l=HX[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i[u]=MX(e[u],t[u],n)}}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return i}},{key:"getDuration",value:function(e,t){var n=t.transitionDuration;return"auto"===n&&(n=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i=Object.assign({},LX,i),o=r.screenSpeed,a=r.speed,s=r.maxDuration,l=BX(e,t,i),u=l.S,c=l.rho,g=1e3*u;return n=Number.isFinite(o)?g/(o/c):g/a,Number.isFinite(s)&&n>s?0:n}(e,t,this.props)),n}}])}(zX),["longitude","latitude","zoom","bearing","pitch"]),KX=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Kn.Z)(this,t),e=(0,SK.Z)(this,(0,TK.Z)(t).call(this)),(0,Hn.Z)((0,OK.Z)(e),"around",void 0),Array.isArray(n)&&(n={transitionProps:n}),e.propNames=n.transitionProps||qX,n.around&&(e.around=n.around),e}return(0,Qn.Z)(t,e),(0,Xn.Z)(t,[{key:"initializeProps",value:function(e,t){var n={},i={};if(this.around){n.around=this.around;var r=new gX(e).unproject(this.around);Object.assign(i,t,{around:new gX(t).project(r),aroundLngLat:r})}var o=!0,a=!1,s=void 0;try{for(var l,u=this.propNames[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,g=e[c],d=t[c];NX(VX(g)&&VX(d),"".concat(c," must be supplied for transition")),n[c]=g,i[c]=UX(c,g,d)}}catch(h){a=!0,s=h}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}return{start:n,end:i}}},{key:"interpolateProps",value:function(e,t,n){var i={},r=!0,o=!1,a=void 0;try{for(var s,l=this.propNames[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i[u]=MX(e[u],t[u],n)}}catch(h){o=!0,a=h}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}if(t.around){var c=Tr(new gX(Object.assign({},t,i)).getMapCenterByLngLatPosition({lngLat:t.aroundLngLat,pos:MX(e.around,t.around,n)}),2),g=c[0],d=c[1];i.longitude=g,i.latitude=d}return i}}]),t}(zX),XX={minZoom:0,maxZoom:24,minPitch:0,maxPitch:60},QX=0,JX=0,$X=1.5,eQ=function(){function e(t){var n=t.width,i=t.height,r=t.latitude,o=t.longitude,a=t.zoom,s=t.bearing,l=void 0===s?JX:s,u=t.pitch,c=void 0===u?QX:u,g=t.altitude,d=void 0===g?$X:g,h=t.maxZoom,p=void 0===h?XX.maxZoom:h,A=t.minZoom,f=void 0===A?XX.minZoom:A,C=t.maxPitch,I=void 0===C?XX.maxPitch:C,v=t.minPitch,m=void 0===v?XX.minPitch:v,y=t.transitionDuration,b=t.transitionEasing,x=t.transitionInterpolator,_=t.transitionInterruption,w=t.startPanLngLat,k=t.startZoomLngLat,E=t.startBearing,S=t.startPitch,T=t.startZoom;(0,Kn.Z)(this,e),(0,Hn.Z)(this,"_viewportProps",void 0),(0,Hn.Z)(this,"_interactiveState",void 0),NX(Number.isFinite(n),"`width` must be supplied"),NX(Number.isFinite(i),"`height` must be supplied"),NX(Number.isFinite(o),"`longitude` must be supplied"),NX(Number.isFinite(r),"`latitude` must be supplied"),NX(Number.isFinite(a),"`zoom` must be supplied"),this._viewportProps=this._applyConstraints({width:n,height:i,latitude:r,longitude:o,zoom:a,bearing:l,pitch:c,altitude:d,maxZoom:p,minZoom:f,maxPitch:I,minPitch:m,transitionDuration:y,transitionEasing:b,transitionInterpolator:x,transitionInterruption:_}),this._interactiveState={startPanLngLat:w,startZoomLngLat:k,startBearing:E,startPitch:S,startZoom:T}}return(0,Xn.Z)(e,[{key:"getViewportProps",value:function(){return this._viewportProps}},{key:"getInteractiveState",value:function(){return this._interactiveState}},{key:"panStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startPanLngLat:this._unproject(t)})}},{key:"pan",value:function(e){var t=e.pos,n=e.startPos,i=this._interactiveState.startPanLngLat||this._unproject(n);if(!i)return this;var r=Tr(this._calculateNewLngLat({startPanLngLat:i,pos:t}),2),o=r[0],a=r[1];return this._getUpdatedMapState({longitude:o,latitude:a})}},{key:"panEnd",value:function(){return this._getUpdatedMapState({startPanLngLat:null})}},{key:"rotateStart",value:function(e){e.pos;return this._getUpdatedMapState({startBearing:this._viewportProps.bearing,startPitch:this._viewportProps.pitch})}},{key:"rotate",value:function(e){var t=e.deltaScaleX,n=void 0===t?0:t,i=e.deltaScaleY,r=void 0===i?0:i,o=this._interactiveState,a=o.startBearing,s=o.startPitch;if(!Number.isFinite(a)||!Number.isFinite(s))return this;var l=this._calculateNewPitchAndBearing({deltaScaleX:n,deltaScaleY:r,startBearing:a||0,startPitch:s||0}),u=l.pitch,c=l.bearing;return this._getUpdatedMapState({bearing:c,pitch:u})}},{key:"rotateEnd",value:function(){return this._getUpdatedMapState({startBearing:null,startPitch:null})}},{key:"zoomStart",value:function(e){var t=e.pos;return this._getUpdatedMapState({startZoomLngLat:this._unproject(t),startZoom:this._viewportProps.zoom})}},{key:"zoom",value:function(e){var t=e.pos,n=e.startPos,i=e.scale;NX(i>0,"`scale` must be a positive number");var r=this._interactiveState,o=r.startZoom,a=r.startZoomLngLat;Number.isFinite(o)||(o=this._viewportProps.zoom,a=this._unproject(n)||this._unproject(t)),NX(a,"`startZoomLngLat` prop is required for zoom behavior to calculate where to position the map.");var s=this._calculateNewZoom({scale:i,startZoom:o||0}),l=Tr(new gX(Object.assign({},this._viewportProps,{zoom:s})).getMapCenterByLngLatPosition({lngLat:a,pos:t}),2),u=l[0],c=l[1];return this._getUpdatedMapState({zoom:s,longitude:u,latitude:c})}},{key:"zoomEnd",value:function(){return this._getUpdatedMapState({startZoomLngLat:null,startZoom:null})}},{key:"_getUpdatedMapState",value:function(t){return new e(Object.assign({},this._viewportProps,this._interactiveState,t))}},{key:"_applyConstraints",value:function(e){var t=e.maxZoom,n=e.minZoom,i=e.zoom;e.zoom=jX(i,n,t);var r=e.maxPitch,o=e.minPitch,a=e.pitch;return e.pitch=jX(a,o,r),Object.assign(e,function(e){var t=e.width,n=e.height,i=e.longitude,r=e.latitude,o=e.zoom,a=e.pitch,s=void 0===a?0:a,l=e.bearing,u=void 0===l?0:l;(i<-180||i>180)&&(i=NK(i+180,360)-180),(u<-180||u>180)&&(u=NK(u+180,360)-180);var c=new gX({width:t,height:n,longitude:i,latitude:r,zoom:o}),g=c.project([i,TX])[1],d=c.project([i,OX])[1],h=0;return d-g<n&&(o+=Math.log2(n/(d-g)),g=(c=new gX({width:t,height:n,longitude:i,latitude:r,zoom:o})).project([i,TX])[1],d=c.project([i,OX])[1]),g>0?h=g:d<n&&(h=d-n),h&&(r=c.unproject([t/2,n/2+h])[1]),{width:t,height:n,longitude:i,latitude:r,zoom:o,pitch:s,bearing:u}}(e)),e}},{key:"_unproject",value:function(e){var t=new gX(this._viewportProps);return e&&t.unproject(e)}},{key:"_calculateNewLngLat",value:function(e){var t=e.startPanLngLat,n=e.pos;return new gX(this._viewportProps).getMapCenterByLngLatPosition({lngLat:t,pos:n})}},{key:"_calculateNewZoom",value:function(e){var t=e.scale,n=e.startZoom,i=this._viewportProps,r=i.maxZoom,o=i.minZoom;return jX(n+Math.log2(t),o,r)}},{key:"_calculateNewPitchAndBearing",value:function(e){var t=e.deltaScaleX,n=e.deltaScaleY,i=e.startBearing,r=e.startPitch;n=jX(n,-1,1);var o=this._viewportProps,a=o.minPitch,s=o.maxPitch,l=r;return n>0?l=r+n*(s-r):n<0&&(l=r-n*(a-r)),{pitch:l,bearing:i+180*t}}}]),e}();const tQ=(0,e.createContext)({viewport:null,map:null,mapContainer:null,onViewportChange:null,onViewStateChange:null,eventManager:null,isDragging:!1});function nQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nQ(n,!0).forEach((function(t){(0,Hn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nQ(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rQ={position:"absolute",width:"100%",height:"100%",overflow:"hidden"},oQ=Object.assign({},kX.propTypes,{width:s().oneOfType([s().number,s().string]),height:s().oneOfType([s().number,s().string]),onResize:s().func,preventStyleDiffing:s().bool,disableTokenWarning:s().bool,visible:s().bool,className:s().string,style:s().object,visibilityConstraints:s().object}),aQ=Object.assign({},kX.defaultProps,{preventStyleDiffing:!1,disableTokenWarning:!1,visible:!0,onResize:function(){},className:"",style:null,visibilityConstraints:XX}),sQ=function(t){function n(){var t,i;(0,Kn.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=(0,SK.Z)(this,(t=(0,TK.Z)(n)).call.apply(t,[this].concat(o))),(0,Hn.Z)((0,OK.Z)(i),"state",{accessTokenInvalid:!1}),(0,Hn.Z)((0,OK.Z)(i),"_mapbox",null),(0,Hn.Z)((0,OK.Z)(i),"_map",null),(0,Hn.Z)((0,OK.Z)(i),"_mapboxMapRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_mapContainerRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_queryParams",{}),(0,Hn.Z)((0,OK.Z)(i),"_width",0),(0,Hn.Z)((0,OK.Z)(i),"_height",0),(0,Hn.Z)((0,OK.Z)(i),"getMap",(function(){return i._map})),(0,Hn.Z)((0,OK.Z)(i),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i._map.queryRenderedFeatures(e,t)})),(0,Hn.Z)((0,OK.Z)(i),"_mapboxMapError",(function(e){401!==(e.error&&e.error.status||e.status)||i.state.accessTokenInvalid||(console.error("A valid API access token is required to use Mapbox data"),i.setState({accessTokenInvalid:!0})),i.props.onError(e)})),i}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){if(n.supported()){var e=this.props.mapStyle;this._mapbox=new kX(Object.assign({},this.props,{mapboxgl:SX(),width:this._width,height:this._height,container:this._mapboxMapRef.current,onError:this._mapboxMapError,mapStyle:PK(e)})),this._map=this._mapbox.getMap()}}},{key:"componentDidUpdate",value:function(e){this._mapbox&&(this._updateMapStyle(e,this.props),this._updateMapProps(this.props))}},{key:"componentWillUnmount",value:function(){this._mapbox&&(this._mapbox.finalize(),this._mapbox=null,this._map=null)}},{key:"_updateMapSize",value:function(e,t){this._width===e&&this._height===t||(this._width=e,this._height=t,this._updateMapProps(this.props))}},{key:"_updateMapStyle",value:function(e,t){var n=t.mapStyle;n!==e.mapStyle&&this._map.setStyle(PK(n),{diff:!this.props.preventStyleDiffing})}},{key:"_updateMapProps",value:function(e){this._mapbox&&this._mapbox.setProps(Object.assign({},e,{width:this._width,height:this._height}))}},{key:"_renderNoTokenWarning",value:function(){if(this.state.accessTokenInvalid&&!this.props.disableTokenWarning){return e.createElement("div",{key:"warning",id:"no-token-warning",style:{position:"absolute",left:0,top:0}},e.createElement("h3",{key:"header"},"NO_TOKEN_WARNING"),e.createElement("div",{key:"text"},"For information on setting up your basemap, read"),e.createElement("a",{key:"link",href:"https://uber.github.io/react-map-gl/#/Documentation/getting-started/about-mapbox-tokens"},"Note on Map Tokens"))}return null}},{key:"_renderOverlays",value:function(t){var n=this,i=t.width,r=void 0===i?Number(this.props.width):i,o=t.height,a=void 0===o?Number(this.props.height):o;return this._updateMapSize(r,a),e.createElement(tQ.Consumer,null,(function(t){var i=iQ({},t,{viewport:new gX(iQ({},n.props,{},n.props.viewState,{width:r,height:a})),map:n._map,mapContainer:t.mapContainer||n._mapContainerRef.current});return e.createElement(tQ.Provider,{value:i},e.createElement("div",{key:"map-overlays",className:"overlays",style:rQ},n.props.children))}))}},{key:"render",value:function(){var t=this.props,n=t.className,i=t.width,r=t.height,o=t.style,a=t.visibilityConstraints,s=Object.assign({position:"relative"},o,{width:i,height:r}),l=this.props.visible&&function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:XX;for(var i in n){var r=i.slice(0,3),o=(t=i.slice(3))[0].toLowerCase()+t.slice(1);if("min"===r&&e[o]<n[i])return!1;if("max"===r&&e[o]>n[i])return!1}return!0}(this.props.viewState||this.props,a),u=Object.assign({},rQ,{visibility:l?"inherit":"hidden"});return e.createElement("div",{key:"map-container",style:s,ref:this._mapContainerRef},e.createElement("div",{key:"map-mapbox",ref:this._mapboxMapRef,style:u,className:n}),e.createElement(mX,{key:"autosizer",disableWidth:Number.isFinite(i),disableHeight:Number.isFinite(r),onResize:this.props.onResize},this._renderOverlays.bind(this)),this._renderNoTokenWarning())}}],[{key:"supported",value:function(){return SX()&&SX().supported()}}]),n}(e.PureComponent);(0,Hn.Z)(sQ,"propTypes",oQ),(0,Hn.Z)(sQ,"defaultProps",aQ);var lQ=function(){};var uQ=1,cQ=2,gQ=3,dQ=4,hQ={transitionDuration:0,transitionEasing:function(e){return e},transitionInterpolator:new KX,transitionInterruption:uQ,onTransitionStart:lQ,onTransitionInterrupt:lQ,onTransitionEnd:lQ,onViewportChange:lQ,onStateChange:lQ},pQ=function(){function e(t,n){var i=this;(0,Kn.Z)(this,e),(0,Hn.Z)(this,"props",void 0),(0,Hn.Z)(this,"state",void 0),(0,Hn.Z)(this,"time",void 0),(0,Hn.Z)(this,"time",void 0),(0,Hn.Z)(this,"_animationFrame",null),(0,Hn.Z)(this,"_onTransitionFrame",(function(){i._animationFrame=requestAnimationFrame(i._onTransitionFrame),i._updateViewport()})),t&&(this.props=t),this.time=n||Date.now}return(0,Xn.Z)(e,[{key:"getViewportInTransition",value:function(){return this._animationFrame?this.state.propsInTransition:null}},{key:"processViewportChange",value:function(e){var t=this.props;if(this.props=e,this._shouldIgnoreViewportChange(t,e))return!1;if(this._isTransitionEnabled(e)){var n=Object.assign({},t),i=Object.assign({},e);if(this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this.state.interruption===cQ?Object.assign(n,this.state.endProps):Object.assign(n,this.state.propsInTransition),this.state.interruption===dQ)){var r=this.time(),o=(r-this.state.startTime)/this.state.duration;i.transitionDuration=this.state.duration-(r-this.state.startTime),i.transitionEasing=function(e,t){var n=e(t);return function(i){return 1/(1-n)*(e(i*(1-t)+t)-n)}}(this.state.easing,o),i.transitionInterpolator=n.transitionInterpolator}return i.onTransitionStart(),this._triggerTransition(n,i),!0}return this._isTransitionInProgress()&&(t.onTransitionInterrupt(),this._endTransition()),!1}},{key:"_isTransitionInProgress",value:function(){return Boolean(this._animationFrame)}},{key:"_isTransitionEnabled",value:function(e){var t=e.transitionDuration,n=e.transitionInterpolator;return(t>0||"auto"===t)&&Boolean(n)}},{key:"_isUpdateDueToCurrentTransition",value:function(e){return!!this.state.propsInTransition&&this.state.interpolator.arePropsEqual(e,this.state.propsInTransition)}},{key:"_shouldIgnoreViewportChange",value:function(e,t){return!e||(this._isTransitionInProgress()?this.state.interruption===gQ||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t))}},{key:"_triggerTransition",value:function(e,t){NX(this._isTransitionEnabled(t),"Transition is not enabled"),this._animationFrame&&cancelAnimationFrame(this._animationFrame);var n=t.transitionInterpolator.getDuration(e,t),i=t.transitionInterpolator.initializeProps(e,t),r={inTransition:!0,isZooming:e.zoom!==t.zoom,isPanning:e.longitude!==t.longitude||e.latitude!==t.latitude,isRotating:e.bearing!==t.bearing||e.pitch!==t.pitch};this.state={duration:n,easing:t.transitionEasing,interpolator:t.transitionInterpolator,interruption:t.transitionInterruption,startTime:this.time(),startProps:i.start,endProps:i.end,animation:null,propsInTransition:{},interactionState:r},this._onTransitionFrame(),this.props.onStateChange(r)}},{key:"_endTransition",value:function(){this._animationFrame&&(cancelAnimationFrame(this._animationFrame),this._animationFrame=null),this.props.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1})}},{key:"_updateViewport",value:function(){var e=this.time(),t=this.state,n=t.startTime,i=t.duration,r=t.easing,o=t.interpolator,a=t.startProps,s=t.endProps,l=!1,u=(e-n)/i;u>=1&&(u=1,l=!0),u=r(u);var c=o.interpolateProps(a,s,u),g=new eQ(Object.assign({},this.props,c));this.state.propsInTransition=g.getViewportProps(),this.props.onViewportChange(this.state.propsInTransition,this.state.interactionState,this.props),l&&(this._endTransition(),this.props.onTransitionEnd())}}]),e}();(0,Hn.Z)(pQ,"defaultProps",hQ);var AQ=n(4097);const fQ={mousedown:1,mousemove:2,mouseup:4};!function(e){const t=e.prototype.handler;e.prototype.handler=function(e){const n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(t=>t.pointerId===e.pointerId))||n.push(e)),t.call(this,e)}}(AQ.PointerEventInput),function(e){e.prototype.handler=function(e){let t=fQ[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}}(AQ.MouseInput);const CQ=AQ.Manager,IQ=AQ;class vQ{constructor(e,t,n){this.element=e,this.callback=t,this.options={enable:!0,...n}}}const mQ=IQ?[[IQ.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[IQ.Rotate,{enable:!1}],[IQ.Pinch,{enable:!1}],[IQ.Swipe,{enable:!1}],[IQ.Pan,{threshold:0,enable:!1}],[IQ.Press,{enable:!1}],[IQ.Tap,{event:"doubletap",taps:2,enable:!1}],[IQ.Tap,{event:"anytap",enable:!1}],[IQ.Tap,{enable:!1}]]:null,yQ={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},bQ={doubletap:["tap"]},xQ={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},_Q={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},wQ={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},kQ={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},EQ="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",SQ="undefined"!==typeof window?window:n.g;"undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document;let TQ=!1;try{const e={get passive(){return TQ=!0,!0}};SQ.addEventListener("test",null,e),SQ.removeEventListener("test",null)}catch(F$){TQ=!1}const OQ=-1!==EQ.indexOf("firefox"),{WHEEL_EVENTS:PQ}=_Q,DQ="wheel",jQ=4.000244140625;class MQ extends vQ{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{if(!this.options.enable)return;let t=e.deltaY;SQ.WheelEvent&&(OQ&&e.deltaMode===SQ.WheelEvent.DOM_DELTA_PIXEL&&(t/=SQ.devicePixelRatio),e.deltaMode===SQ.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%jQ===0&&(t=Math.floor(t/jQ)),e.shiftKey&&t&&(t*=.25),this.callback({type:DQ,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})},this.events=(this.options.events||[]).concat(PQ),this.events.forEach((t=>e.addEventListener(t,this.handleEvent,!!TQ&&{passive:!1})))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===DQ&&(this.options.enable=t)}}const{MOUSE_EVENTS:NQ}=_Q,zQ="pointermove",RQ="pointerover",FQ="pointerout",LQ="pointerenter",BQ="pointerleave";class ZQ extends vQ{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.handleOverEvent(e),this.handleOutEvent(e),this.handleEnterEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,this.events=(this.options.events||[]).concat(NQ),this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===zQ&&(this.enableMoveEvent=t),e===RQ&&(this.enableOverEvent=t),e===FQ&&(this.enableOutEvent=t),e===LQ&&(this.enableEnterEvent=t),e===BQ&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(RQ,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(FQ,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(LQ,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(BQ,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(zQ,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:VQ}=_Q,UQ="keydown",WQ="keyup";class GQ extends vQ{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{const t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:UQ,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:WQ,srcEvent:e,key:e.key,target:e.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(VQ),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===UQ&&(this.enableDownEvent=t),e===WQ&&(this.enableUpEvent=t)}}const HQ="contextmenu";class YQ extends vQ{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.options.enable&&this.callback({type:HQ,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===HQ&&(this.options.enable=t)}}const qQ={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function KQ(e){const t=qQ[e.srcEvent.type];if(!t)return null;const{buttons:n,button:i,which:r}=e.srcEvent;let o=!1,a=!1,s=!1;return 4===t||2===t&&!Number.isFinite(n)?(o=1===r,a=2===r,s=3===r):2===t?(o=Boolean(1&n),a=Boolean(4&n),s=Boolean(2&n)):1===t&&(o=0===i,a=1===i,s=2===i),{leftButton:o,middleButton:a,rightButton:s}}function XQ(e,t){const n=e.center;if(!n)return null;const i=t.getBoundingClientRect(),r=i.width/t.offsetWidth||1,o=i.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-i.left-t.clientLeft)/r,y:(n.y-i.top-t.clientTop)/o}}}const QQ={srcElement:"root",priority:0};class JQ{constructor(e){this.handleEvent=e=>{if(this.isEmpty())return;const t=this._normalizeEvent(e);let n=e.srcEvent.target;for(;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{handlers:o,handlersByElement:a}=this;let s=QQ;"string"===typeof n||n&&n.addEventListener?s={...QQ,srcElement:n}:n&&(s={...QQ,...n});let l=a.get(s.srcElement);l||(l=[],a.set(s.srcElement,l));const u={type:e,handler:t,srcElement:s.srcElement,priority:s.priority};i&&(u.once=!0),r&&(u.passive=!0),o.push(u),this._active=this._active||!u.passive;let c=l.length-1;for(;c>=0&&!(l[c].priority>=u.priority);)c--;l.splice(c+1,0,u)}remove(e,t){const{handlers:n,handlersByElement:i}=this;for(let r=n.length-1;r>=0;r--){const o=n[r];if(o.type===e&&o.handler===t){n.splice(r,1);const e=i.get(o.srcElement);e.splice(e.indexOf(o),1),0===e.length&&i.delete(o.srcElement)}}this._active=n.some((e=>!e.passive))}_emit(e,t){const n=this.handlersByElement.get(t);if(n){let t=!1;const i=()=>{e.handled=!0},r=()=>{e.handled=!0,t=!0},o=[];for(let a=0;a<n.length;a++){const{type:s,handler:l,once:u}=n[a];if(l({...e,type:s,stopPropagation:i,stopImmediatePropagation:r}),u&&o.push(n[a]),t)break}for(let e=0;e<o.length;e++){const{type:t,handler:n}=o[e];this.remove(t,n)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...KQ(e),...XQ(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const $Q={events:null,recognizers:null,recognizerOptions:{},Manager:CQ,touchAction:"none",tabIndex:0};class eJ{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this._onBasicInput=e=>{const{srcEvent:t}=e,n=xQ[t.type];n&&this.manager.emit(n,e)},this._onOtherEvent=e=>{this.manager.emit(e.type,e)},this.options={...$Q,...t},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this,n=t.Manager;this.manager=new n(e,{touchAction:t.touchAction,recognizers:t.recognizers||mQ}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(yQ).forEach((e=>{const t=this.manager.get(e);t&&yQ[e].forEach((e=>{t.recognizeWith(e)}))}));for(const i in t.recognizerOptions){const e=this.manager.get(i);if(e){const n=t.recognizerOptions[i];delete n.enable,e.set(n)}}this.wheelInput=new MQ(e,this._onOtherEvent,{enable:!1}),this.moveInput=new ZQ(e,this._onOtherEvent,{enable:!1}),this.keyInput=new GQ(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new YQ(e,this._onOtherEvent,{enable:!1});for(const[i,r]of this.events)r.isEmpty()||(this._toggleRecognizer(r.recognizerName,!0),this.manager.on(i,r.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,n){this._addEventHandler(e,t,n,!1)}once(e,t,n){this._addEventHandler(e,t,n,!0)}watch(e,t,n){this._addEventHandler(e,t,n,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:n}=this;if(!n)return;const i=n.get(e);if(i&&i.options.enable!==t){i.set({enable:t});const r=bQ[e];r&&!this.options.recognizers&&r.forEach((r=>{const o=n.get(r);t?(o.requireFailure(e),i.dropRequireFailure(r)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,n,i,r){if("string"!==typeof e){n=t;for(const t in e)this._addEventHandler(t,e[t],n,i,r);return}const{manager:o,events:a}=this,s=kQ[e]||e;let l=a.get(s);l||(l=new JQ(this),a.set(s,l),l.recognizerName=wQ[s]||s,o&&o.on(s,l.handleEvent)),l.add(e,t,n,i,r),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!==typeof e){for(const t in e)this._removeEventHandler(t,e[t]);return}const{events:n}=this,i=kQ[e]||e,r=n.get(i);if(r&&(r.remove(e,t),r.isEmpty())){const{recognizerName:e}=r;let t=!1;for(const i of n.values())if(i.recognizerName===e&&!i.isEmpty()){t=!0;break}t||this._toggleRecognizer(e,!1)}}}var tJ={transitionDuration:0},nJ={transitionDuration:300,transitionEasing:function(e){return e},transitionInterpolator:new KX,transitionInterruption:uQ},iJ=["wheel"],rJ=["panstart","panmove","panend"],oJ=["pinchstart","pinchmove","pinchend","pinchcancel"],aJ=["doubletap"],sJ=["keydown"],lJ=function(){function e(){var t=this;(0,Kn.Z)(this,e),(0,Hn.Z)(this,"events",[]),(0,Hn.Z)(this,"mapState",void 0),(0,Hn.Z)(this,"onViewportChange",void 0),(0,Hn.Z)(this,"onStateChange",void 0),(0,Hn.Z)(this,"mapStateProps",void 0),(0,Hn.Z)(this,"eventManager",void 0),(0,Hn.Z)(this,"scrollZoom",!0),(0,Hn.Z)(this,"dragPan",!0),(0,Hn.Z)(this,"dragRotate",!0),(0,Hn.Z)(this,"doubleClickZoom",!0),(0,Hn.Z)(this,"touchZoom",!0),(0,Hn.Z)(this,"touchRotate",!1),(0,Hn.Z)(this,"keyboard",!0),(0,Hn.Z)(this,"_state",{isDragging:!1}),(0,Hn.Z)(this,"_events",{}),(0,Hn.Z)(this,"_transitionManager",new pQ),(0,Hn.Z)(this,"setState",(function(e){Object.assign(t._state,e),t.onStateChange&&t.onStateChange(t._state)})),this.handleEvent=this.handleEvent.bind(this),this._onWheelEnd=function(e,t){var n,i,r,o=function(){return r=null,e.apply(n,i)};return function(){n=this,i=arguments,r&&clearTimeout(r),r=setTimeout(o,t)}}(this._onWheelEnd,100)}return(0,Xn.Z)(e,[{key:"handleEvent",value:function(e){switch(this.mapState=this.getMapState(),e.type){case"panstart":return this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchcancel":case"pinchend":return this._onPinchEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}},{key:"getCenter",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"isFunctionKeyPressed",value:function(e){var t=e.srcEvent;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}},{key:"updateViewport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.mapState?this.mapState.getViewportProps():{},r=Object.assign({},e.getViewportProps(),t),o=Object.keys(r).some((function(e){return i[e]!==r[e]}));o&&this.onViewportChange(r,n,i),this.setState(Object.assign({},e.getInteractiveState(),n))}},{key:"getMapState",value:function(e){return new eQ(Object.assign({},this.mapStateProps,this._state,e))}},{key:"setOptions",value:function(e){var t=e.onViewportChange,n=e.onStateChange,i=e.eventManager,r=void 0===i?this.eventManager:i,o=e.isInteractive,a=void 0===o||o,s=e.scrollZoom,l=void 0===s?this.scrollZoom:s,u=e.dragPan,c=void 0===u?this.dragPan:u,g=e.dragRotate,d=void 0===g?this.dragRotate:g,h=e.doubleClickZoom,p=void 0===h?this.doubleClickZoom:h,A=e.touchZoom,f=void 0===A?this.touchZoom:A,C=e.touchRotate,I=void 0===C?this.touchRotate:C,v=e.keyboard,m=void 0===v?this.keyboard:v;this.onViewportChange=t,this.onStateChange=n,this.mapStateProps&&this.mapStateProps.height===e.height||this.updateViewport(new eQ(e)),this.mapStateProps=e,this._transitionManager.processViewportChange(Object.assign({},e,{onStateChange:this.setState})),this.eventManager!==r&&(this.eventManager=r,this._events={},this.toggleEvents(this.events,!0)),this.toggleEvents(iJ,a&&l),this.toggleEvents(rJ,a&&(c||d)),this.toggleEvents(oJ,a&&(f||I)),this.toggleEvents(aJ,a&&p),this.toggleEvents(sJ,a&&m),this.scrollZoom=l,this.dragPan=c,this.dragRotate=d,this.doubleClickZoom=p,this.touchZoom=f,this.touchRotate=I,this.keyboard=m}},{key:"toggleEvents",value:function(e,t){var n=this;this.eventManager&&e.forEach((function(e){n._events[e]!==t&&(n._events[e]=t,t?n.eventManager.on(e,n.handleEvent):n.eventManager.off(e,n.handleEvent))}))}},{key:"_onPanStart",value:function(e){var t=this.getCenter(e),n=this.mapState.panStart({pos:t}).rotateStart({pos:t});return this.updateViewport(n,tJ,{isDragging:!0}),!0}},{key:"_onPan",value:function(e){return this.isFunctionKeyPressed(e)||e.rightButton?this._onPanRotate(e):this._onPanMove(e)}},{key:"_onPanEnd",value:function(e){var t=this.mapState.panEnd().rotateEnd();return this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isRotating:!1}),!0}},{key:"_onPanMove",value:function(e){if(!this.dragPan)return!1;var t=this.getCenter(e),n=this.mapState.pan({pos:t});return this.updateViewport(n,tJ,{isPanning:!0}),!0}},{key:"_onPanRotate",value:function(e){if(!this.dragRotate)return!1;var t=e.deltaX,n=e.deltaY,i=Tr(this.getCenter(e),2)[1],r=i-n,o=this.mapState.getViewportProps(),a=o.width,s=o.height,l=t/a,u=0;n>0?Math.abs(s-r)>5&&(u=n/(r-s)*1.2):n<0&&r>5&&(u=1-i/r),u=Math.min(1,Math.max(-1,u));var c=this.mapState.rotate({deltaScaleX:l,deltaScaleY:u});return this.updateViewport(c,tJ,{isRotating:!0}),!0}},{key:"_onWheel",value:function(e){if(!this.scrollZoom)return!1;e.preventDefault();var t=this.getCenter(e),n=e.delta,i=2/(1+Math.exp(-Math.abs(.01*n)));n<0&&0!==i&&(i=1/i);var r=this.mapState.zoom({pos:t,scale:i});return this.updateViewport(r,tJ,{isZooming:!0}),this._onWheelEnd(),!0}},{key:"_onWheelEnd",value:function(){this.setState({isZooming:!1})}},{key:"_onPinchStart",value:function(e){var t=this.getCenter(e),n=this.mapState.zoomStart({pos:t}).rotateStart({pos:t});return this._state.startPinchRotation=e.rotation,this.updateViewport(n,tJ,{isDragging:!0}),!0}},{key:"_onPinch",value:function(e){if(!this.touchZoom&&!this.touchRotate)return!1;var t=this.mapState;if(this.touchZoom){var n=e.scale,i=this.getCenter(e);t=t.zoom({pos:i,scale:n})}if(this.touchRotate){var r=e.rotation,o=this._state.startPinchRotation;t=t.rotate({deltaScaleX:-(r-o)/180})}return this.updateViewport(t,tJ,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),!0}},{key:"_onPinchEnd",value:function(e){var t=this.mapState.zoomEnd().rotateEnd();return this._state.startPinchRotation=0,this.updateViewport(t,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1}),!0}},{key:"_onDoubleTap",value:function(e){if(!this.doubleClickZoom)return!1;var t=this.getCenter(e),n=this.isFunctionKeyPressed(e),i=this.mapState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(i,Object.assign({},nJ,{transitionInterpolator:new KX({around:t})})),!0}},{key:"_onKeyDown",value:function(e){if(!this.keyboard)return!1;var t,n=this.isFunctionKeyPressed(e),i=this.mapStateProps;switch(e.srcEvent.keyCode){case 189:t=n?this.getMapState({zoom:i.zoom-2}):this.getMapState({zoom:i.zoom-1});break;case 187:t=n?this.getMapState({zoom:i.zoom+2}):this.getMapState({zoom:i.zoom+1});break;case 37:t=n?this.getMapState({bearing:i.bearing-15}):this.mapState.pan({pos:[100,0],startPos:[0,0]});break;case 39:t=n?this.getMapState({bearing:i.bearing+15}):this.mapState.pan({pos:[-100,0],startPos:[0,0]});break;case 38:t=n?this.getMapState({pitch:i.pitch+10}):this.mapState.pan({pos:[0,100],startPos:[0,0]});break;case 40:t=n?this.getMapState({pitch:i.pitch-10}):this.mapState.pan({pos:[0,-100],startPos:[0,0]});break;default:return!1}return this.updateViewport(t,nJ)}}]),e}(),uJ=[{old:"onChangeViewport",new:"onViewportChange"},{old:"perspectiveEnabled",new:"dragRotate"},{old:"onHoverFeatures",new:"onHover"},{old:"onClickFeatures",new:"onClick"},{old:"touchZoomRotate",new:"touchZoom, touchRotate"},{old:"mapControls",new:"controller"}];function cJ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};uJ.forEach((function(t){if(e.hasOwnProperty(t.old)){var n=(i=t.old,"react-map-gl: `".concat(i,"` is removed."));t.new&&(n="".concat(n," ").concat(function(e){return"Use `".concat(e,"` instead.")}(t.new))),console.warn(n)}var i}))}var gJ=Object.assign({},sQ.propTypes,{maxZoom:s().number,minZoom:s().number,maxPitch:s().number,minPitch:s().number,onViewStateChange:s().func,onViewportChange:s().func,onInteractionStateChange:s().func,transitionDuration:s().oneOfType([s().number,s().string]),transitionInterpolator:s().object,transitionInterruption:s().number,transitionEasing:s().func,onTransitionStart:s().func,onTransitionInterrupt:s().func,onTransitionEnd:s().func,scrollZoom:s().bool,dragPan:s().bool,dragRotate:s().bool,doubleClickZoom:s().bool,touchZoom:s().bool,touchRotate:s().bool,keyboard:s().bool,onHover:s().func,onClick:s().func,onDblClick:s().func,onContextMenu:s().func,onMouseDown:s().func,onMouseMove:s().func,onMouseUp:s().func,onTouchStart:s().func,onTouchMove:s().func,onTouchEnd:s().func,onMouseEnter:s().func,onMouseLeave:s().func,onMouseOut:s().func,onWheel:s().func,touchAction:s().string,clickRadius:s().number,interactiveLayerIds:s().array,getCursor:s().func,controller:s().instanceOf(lJ)}),dJ=Object.assign({},sQ.defaultProps,XX,pQ.defaultProps,{onViewStateChange:null,onViewportChange:null,onClick:null,onNativeClick:null,onHover:null,onContextMenu:function(e){return e.preventDefault()},scrollZoom:!0,dragPan:!0,dragRotate:!0,doubleClickZoom:!0,touchZoom:!0,touchRotate:!1,keyboard:!0,touchAction:"none",clickRadius:0,getCursor:function(e){var t=e.isDragging,n=e.isHovering;return t?"grabbing":n?"pointer":"grab"}}),hJ=function(t){function n(t){var i;return(0,Kn.Z)(this,n),i=(0,SK.Z)(this,(0,TK.Z)(n).call(this,t)),(0,Hn.Z)((0,OK.Z)(i),"state",{isLoaded:!1,isDragging:!1,isHovering:!1}),(0,Hn.Z)((0,OK.Z)(i),"_controller",void 0),(0,Hn.Z)((0,OK.Z)(i),"_eventManager",void 0),(0,Hn.Z)((0,OK.Z)(i),"_interactiveContext",void 0),(0,Hn.Z)((0,OK.Z)(i),"_width",0),(0,Hn.Z)((0,OK.Z)(i),"_height",0),(0,Hn.Z)((0,OK.Z)(i),"_eventCanvasRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_staticMapRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"getMap",(function(){return i._staticMapRef.current?i._staticMapRef.current.getMap():null})),(0,Hn.Z)((0,OK.Z)(i),"queryRenderedFeatures",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.getMap();return n&&n.queryRenderedFeatures(e,t)})),(0,Hn.Z)((0,OK.Z)(i),"_onInteractionStateChange",(function(e){var t=e.isDragging,n=void 0!==t&&t;n!==i.state.isDragging&&(i._updateInteractiveContext({isDragging:n}),i.setState({isDragging:n}));var r=i.props.onInteractionStateChange;r&&r(e)})),(0,Hn.Z)((0,OK.Z)(i),"_onResize",(function(e){var t=e.width,n=e.height;i._width=t,i._height=n,i._setControllerProps(i.props),i.props.onResize({width:t,height:n})})),(0,Hn.Z)((0,OK.Z)(i),"_onViewportChange",(function(e,t,n){var r=i.props,o=r.onViewStateChange,a=r.onViewportChange;o&&o({viewState:e,interactionState:t,oldViewState:n}),a&&a(e,t,n)})),(0,Hn.Z)((0,OK.Z)(i),"_onLoad",(function(e){i.setState({isLoaded:!0}),i.props.onLoad(e)})),(0,Hn.Z)((0,OK.Z)(i),"_onEvent",(function(e,t){var n=i.props[e];n&&n(i._normalizeEvent(t))})),(0,Hn.Z)((0,OK.Z)(i),"_onPointerDown",(function(e){if("touch"===e.pointerType)i._onEvent("onTouchStart",e);else i._onEvent("onMouseDown",e)})),(0,Hn.Z)((0,OK.Z)(i),"_onPointerUp",(function(e){if("touch"===e.pointerType)i._onEvent("onTouchEnd",e);else i._onEvent("onMouseUp",e)})),(0,Hn.Z)((0,OK.Z)(i),"_onPointerMove",(function(e){if("touch"===e.pointerType)i._onEvent("onTouchMove",e);else i._onEvent("onMouseMove",e);if(!i.state.isDragging){var t,n=i.props,r=n.onHover,o=n.interactiveLayerIds;e=i._normalizeEvent(e),i.state.isLoaded&&(o||r)&&(t=i._getFeatures({pos:e.point,radius:i.props.clickRadius})),r&&(e.features=t,r(e));var a=Boolean(o&&t&&t.length>0),s=a&&!i.state.isHovering,l=!a&&i.state.isHovering;s&&i._onEvent("onMouseEnter",e),l&&i._onEvent("onMouseLeave",e),(s||l)&&i.setState({isHovering:a})}})),(0,Hn.Z)((0,OK.Z)(i),"_onClick",(function(e){var t=i.props,n=t.onClick,r=t.onNativeClick,o=t.onDblClick,a=t.doubleClickZoom,s=[],l=o||a;switch(e.type){case"anyclick":s.push(r),l||s.push(n);break;case"click":l&&s.push(n)}(s=s.filter(Boolean)).length&&((e=i._normalizeEvent(e)).features=i._getFeatures({pos:e.point,radius:i.props.clickRadius}),s.forEach((function(t){return t(e)})))})),cJ(t),i._controller=t.controller||new lJ,i._eventManager=new eJ(null,{touchAction:t.touchAction}),i._updateInteractiveContext({isDragging:!1,eventManager:i._eventManager}),i}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,null,[{key:"supported",value:function(){return sQ.supported()}}]),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){var e=this._eventManager,t=this._eventCanvasRef.current;e.setElement(t),e.on({pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerup:this._onPointerUp,pointerleave:this._onEvent.bind(this,"onMouseOut"),click:this._onClick,anyclick:this._onClick,dblclick:this._onEvent.bind(this,"onDblClick"),wheel:this._onEvent.bind(this,"onWheel"),contextmenu:this._onEvent.bind(this,"onContextMenu")}),this._setControllerProps(this.props),this._updateInteractiveContext({mapContainer:t})}},{key:"componentWillUnmount",value:function(){this._eventManager.destroy()}},{key:"_setControllerProps",value:function(e){e=Object.assign({},e,e.viewState,{isInteractive:Boolean(e.onViewStateChange||e.onViewportChange),onViewportChange:this._onViewportChange,onStateChange:this._onInteractionStateChange,eventManager:this._eventManager,width:this._width,height:this._height}),this._controller.setOptions(e);var t=this._interactiveContext;t.onViewportChange=e.onViewportChange,t.onViewStateChange=e.onViewStateChange}},{key:"_getFeatures",value:function(e){var t,n=e.pos,i=e.radius,r={},o=this.getMap();if(this.props.interactiveLayerIds&&(r.layers=this.props.interactiveLayerIds),i){var a=i,s=[[n[0]-a,n[1]+a],[n[0]+a,n[1]-a]];t=o&&o.queryRenderedFeatures(s,r)}else t=o&&o.queryRenderedFeatures(n,r);return t}},{key:"_updateInteractiveContext",value:function(e){this._interactiveContext=Object.assign({},this._interactiveContext,e)}},{key:"_normalizeEvent",value:function(e){if(e.lngLat)return e;var t=e.offsetCenter,n=[t.x,t.y],i=new gX(Object.assign({},this.props,{width:this._width,height:this._height}));return e.point=n,e.lngLat=i.unproject(n),e}},{key:"render",value:function(){this._setControllerProps(this.props);var t=this.props,n=t.width,i=t.height,r=t.style,o=t.getCursor,a=Object.assign({position:"relative"},r,{width:n,height:i,cursor:o(this.state)});return e.createElement(tQ.Provider,{value:this._interactiveContext},e.createElement("div",{key:"event-canvas",ref:this._eventCanvasRef,style:a},e.createElement(sQ,l({},this.props,{width:"100%",height:"100%",style:null,onResize:this._onResize,onLoad:this._onLoad,ref:this._staticMapRef}),this.props.children)))}}]),n}(e.PureComponent);(0,Hn.Z)(hJ,"propTypes",gJ),(0,Hn.Z)(hJ,"defaultProps",dJ);var pJ={type:s().string.isRequired,id:s().string},AJ=0,fJ=function(t){function n(e){var t;return(0,Kn.Z)(this,n),t=(0,SK.Z)(this,(0,TK.Z)(n).call(this,e)),(0,Hn.Z)((0,OK.Z)(t),"id",void 0),(0,Hn.Z)((0,OK.Z)(t),"type",void 0),(0,Hn.Z)((0,OK.Z)(t),"_map",null),(0,Hn.Z)((0,OK.Z)(t),"_sourceOptions",{}),t.id=e.id||"jsx-source-".concat(AJ++),t.type=e.type,t}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentWillUnmount",value:function(){this._map.removeSource(this.id)}},{key:"getSource",value:function(){return this._map.getSource(this.id)}},{key:"_createSource",value:function(){var e=this,t=this._map;t.style._loaded?t.addSource(this.id,this._sourceOptions):t.once("styledata",(function(){return e.forceUpdate()}))}},{key:"_updateSource",value:function(){var e=this._sourceOptions,t=this.props;NX(!t.id||t.id===this.id,"source id changed"),NX(t.type===this.type,"source type changed");var n=null,i=0;for(var r in t)"children"!==r&&"id"!==r&&e[r]!==t[r]&&(e[r]=t[r],n=r,i++);var o=this.type,a=this._map,s=this.getSource();s?i&&("geojson"===o?s.setData(e.data):"image"===o?s.updateImage({url:e.url,coordinates:e.coordinates}):"canvas"!==o&&"video"!==o||1!==i||"coordinates"!==n?(a.removeSource(this.id),a.addSource(e)):s.setCoordinates(e.coordinates)):this._createSource()}},{key:"_render",value:function(t){var n=this;return this._map=t.map,this._updateSource(),e.Children.map(this.props.children,(function(t){return(0,e.cloneElement)(t,{source:n.id})}))}},{key:"render",value:function(){return e.createElement(tQ.Consumer,null,this._render.bind(this))}}]),n}(e.PureComponent);function CJ(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!CJ(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===(0,Pr.Z)(e)&&"object"===(0,Pr.Z)(t)){var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var o=0,a=i;o<a.length;o++){var s=a[o];if(!t.hasOwnProperty(s))return!1;if(!CJ(e[s],t[s]))return!1}return!0}return!1}(0,Hn.Z)(fJ,"propTypes",pJ);var IJ={type:s().string.isRequired,id:s().string,source:s().string,beforeId:s().string};var vJ=0,mJ=function(t){function n(e){var t;return(0,Kn.Z)(this,n),t=(0,SK.Z)(this,(0,TK.Z)(n).call(this,e)),(0,Hn.Z)((0,OK.Z)(t),"id",void 0),(0,Hn.Z)((0,OK.Z)(t),"type",void 0),(0,Hn.Z)((0,OK.Z)(t),"_map",null),t.id=e.id||"jsx-layer-".concat(vJ++),t.type=e.type,t}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){this._createLayer()}},{key:"componentDidUpdate",value:function(e){this._updateLayer(e)}},{key:"componentWillUnmount",value:function(){this._map.removeLayer(this.id)}},{key:"_createLayer",value:function(){var e=this,t=this._map,n=Object.assign({},this.props);n.id=this.id,delete n.beforeId,t.style._loaded?t.addLayer(n,this.props.beforeId):t.once("styledata",(function(){return e.forceUpdate()}))}},{key:"_updateLayer",value:function(e){var t=this.props;NX(!t.id||t.id===this.id,"layer id changed"),NX(t.type===this.type,"layer type changed");var n=this._map;if(n.getLayer(this.id))try{!function(e,t,n,i){var r=n.layout,o=void 0===r?{}:r,a=n.paint,s=void 0===a?{}:a,l=n.filter,u=n.minzoom,c=n.maxzoom,g=n.beforeId,d=Or(n,["layout","paint","filter","minzoom","maxzoom","beforeId"]);if(g!==i.beforeId&&e.moveLayer(t,g),o!==i.layout)for(var h in o)CJ(o[h],i.layout[h])||e.setLayoutProperty(t,h,o[h]);if(s!==i.paint)for(var p in s)CJ(s[p],i.paint[p])||e.setPaintProperty(t,p,s[p]);for(var A in CJ(l,i.filter)||e.setFilter(t,l),u===i.minzoom&&c===i.maxzoom||e.setLayerZoomRange(t,u,c),d)CJ(d[A],i[A])||e.setLayerProperty(t,A,d[A])}(n,this.id,t,e)}catch(z$){console.warn(z$)}else this._createLayer()}},{key:"_render",value:function(e){return this._map=e.map,null}},{key:"render",value:function(){return e.createElement(tQ.Consumer,null,this._render.bind(this))}}]),n}(e.PureComponent);(0,Hn.Z)(mJ,"propTypes",IJ);var yJ={captureScroll:s().bool,captureDrag:s().bool,captureClick:s().bool,captureDoubleClick:s().bool},bJ=function(t){function n(){var t,i;(0,Kn.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=(0,SK.Z)(this,(t=(0,TK.Z)(n)).call.apply(t,[this].concat(o))),(0,Hn.Z)((0,OK.Z)(i),"_context",{}),(0,Hn.Z)((0,OK.Z)(i),"_events",null),(0,Hn.Z)((0,OK.Z)(i),"_containerRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_onScroll",(function(e){i.props.captureScroll&&e.stopPropagation()})),(0,Hn.Z)((0,OK.Z)(i),"_onDragStart",(function(e){i.props.captureDrag&&e.stopPropagation()})),(0,Hn.Z)((0,OK.Z)(i),"_onDblClick",(function(e){i.props.captureDoubleClick&&e.stopPropagation()})),(0,Hn.Z)((0,OK.Z)(i),"_onClick",(function(e){i.props.captureClick&&e.stopPropagation()})),i}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;if(e){var t=this._context.eventManager;t&&(this._events={wheel:this._onScroll,panstart:this._onDragStart,anyclick:this._onClick,click:this._onClick,dblclick:this._onDblClick},t.on(this._events,e))}}},{key:"componentWillUnmount",value:function(){var e=this._context.eventManager;e&&this._events&&e.off(this._events)}},{key:"_render",value:function(){throw new Error("_render() not implemented")}},{key:"render",value:function(){var t=this;return e.createElement(tQ.Consumer,null,(function(e){return t._context=e,t._render()}))}}]),n}(e.PureComponent);function xJ(){return xJ="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,TK.Z)(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},xJ.apply(this,arguments)}(0,Hn.Z)(bJ,"propTypes",yJ),(0,Hn.Z)(bJ,"defaultProps",{captureScroll:!1,captureDrag:!0,captureClick:!0,captureDoubleClick:!0});var _J=Object.assign({},bJ.propTypes,{draggable:s().bool,onDrag:s().func,onDragEnd:s().func,onDragStart:s().func,offsetLeft:s().number,offsetTop:s().number}),wJ=Object.assign({},bJ.defaultProps,{draggable:!1,offsetLeft:0,offsetTop:0}),kJ=function(e){function t(){var e,n;(0,Kn.Z)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(0,SK.Z)(this,(e=(0,TK.Z)(t)).call.apply(e,[this].concat(r))),(0,Hn.Z)((0,OK.Z)(n),"state",{dragPos:null,dragOffset:null}),(0,Hn.Z)((0,OK.Z)(n),"_dragEvents",null),(0,Hn.Z)((0,OK.Z)(n),"_onDragStart",(function(e){var t=n.props,i=t.draggable,r=t.captureDrag;if((i||r)&&e.stopPropagation(),i){var o=n._getDragEventPosition(e),a=n._getDragEventOffset(e);n.setState({dragPos:o,dragOffset:a}),n._setupDragEvents();var s=n.props.onDragStart;if(s&&a){var l=Object.assign({},e);l.lngLat=n._getDragLngLat(o,a),s(l)}}})),(0,Hn.Z)((0,OK.Z)(n),"_onDrag",(function(e){e.stopPropagation();var t=n._getDragEventPosition(e);n.setState({dragPos:t});var i=n.props.onDrag,r=n.state.dragOffset;if(i&&r){var o=Object.assign({},e);o.lngLat=n._getDragLngLat(t,r),i(o)}})),(0,Hn.Z)((0,OK.Z)(n),"_onDragEnd",(function(e){var t=n.state,i=t.dragPos,r=t.dragOffset;e.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents();var o=n.props.onDragEnd;if(o&&i&&r){var a=Object.assign({},e);a.lngLat=n._getDragLngLat(i,r),o(a)}})),(0,Hn.Z)((0,OK.Z)(n),"_onDragCancel",(function(e){e.stopPropagation(),n.setState({dragPos:null,dragOffset:null}),n._removeDragEvents()})),n}return(0,Qn.Z)(t,e),(0,Xn.Z)(t,[{key:"componentWillUnmount",value:function(){xJ((0,TK.Z)(t.prototype),"componentWillUnmount",this).call(this),this._removeDragEvents()}},{key:"_setupDragEvents",value:function(){var e=this._context.eventManager;e&&(this._dragEvents={panmove:this._onDrag,panend:this._onDragEnd,pancancel:this._onDragCancel},e.on(this._dragEvents))}},{key:"_removeDragEvents",value:function(){var e=this._context.eventManager;e&&this._dragEvents&&(e.off(this._dragEvents),this._dragEvents=null)}},{key:"_getDragEventPosition",value:function(e){var t=e.offsetCenter;return[t.x,t.y]}},{key:"_getDragEventOffset",value:function(e){var t=e.center,n=t.x,i=t.y,r=this._containerRef.current;if(r){var o=r.getBoundingClientRect();return[o.left-n,o.top-i]}return null}},{key:"_getDraggedPosition",value:function(e,t){return[e[0]+t[0],e[1]+t[1]]}},{key:"_getDragLngLat",value:function(e,t){var n=this.props,i=n.offsetLeft,r=n.offsetTop,o=Tr(this._getDraggedPosition(e,t),2),a=o[0],s=o[1];return this._context.viewport.unproject([a-i,s-r])}}]),t}(bJ);(0,Hn.Z)(kJ,"propTypes",_J),(0,Hn.Z)(kJ,"defaultProps",wJ);var EJ=Object.assign({},kJ.propTypes,{className:s().string,longitude:s().number.isRequired,latitude:s().number.isRequired}),SJ=Object.assign({},kJ.defaultProps,{className:""}),TJ=function(t){function n(){return(0,Kn.Z)(this,n),(0,SK.Z)(this,(0,TK.Z)(n).apply(this,arguments))}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"_getPosition",value:function(){var e=this.props,t=e.longitude,n=e.latitude,i=e.offsetLeft,r=e.offsetTop,o=this.state,a=o.dragPos,s=o.dragOffset;if(a&&s)return this._getDraggedPosition(a,s);var l=Tr(this._context.viewport.project([t,n]),2),u=l[0],c=l[1];return[u+=i,c+=r]}},{key:"_render",value:function(){var t=this.props,n=t.className,i=t.draggable,r=this.state.dragPos,o=Tr(this._getPosition(),2),a={position:"absolute",left:o[0],top:o[1],cursor:i?r?"grabbing":"grab":"auto"};return e.createElement("div",{className:"mapboxgl-marker ".concat(n),ref:this._containerRef,style:a},this.props.children)}}]),n}(kJ);(0,Hn.Z)(TJ,"propTypes",EJ),(0,Hn.Z)(TJ,"defaultProps",SJ);var OJ={top:{x:.5,y:0},"top-left":{x:0,y:0},"top-right":{x:1,y:0},bottom:{x:.5,y:1},"bottom-left":{x:0,y:1},"bottom-right":{x:1,y:1},left:{x:0,y:.5},right:{x:1,y:.5}},PJ=Object.keys(OJ);var DJ=Object.assign({},bJ.propTypes,{className:s().string,longitude:s().number.isRequired,latitude:s().number.isRequired,altitude:s().number,offsetLeft:s().number,offsetTop:s().number,tipSize:s().number,closeButton:s().bool,closeOnClick:s().bool,anchor:s().oneOf(Object.keys(OJ)),dynamicPosition:s().bool,sortByDepth:s().bool,onClose:s().func}),jJ=Object.assign({},bJ.defaultProps,{className:"",altitude:0,offsetLeft:0,offsetTop:0,tipSize:10,anchor:"bottom",dynamicPosition:!0,sortByDepth:!1,closeButton:!0,closeOnClick:!0,onClose:function(){}}),MJ=function(t){function n(){var t,i;(0,Kn.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=(0,SK.Z)(this,(t=(0,TK.Z)(n)).call.apply(t,[this].concat(o))),(0,Hn.Z)((0,OK.Z)(i),"_closeOnClick",!1),(0,Hn.Z)((0,OK.Z)(i),"_contentRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_onClick",(function(e){if(i.props.captureClick&&e.stopPropagation(),i.props.closeOnClick||"mapboxgl-popup-close-button"===e.target.className){i.props.onClose();var t=i._context.eventManager;t&&t.once("click",(function(e){return e.stopPropagation()}),e.target)}})),i}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){xJ((0,TK.Z)(n.prototype),"componentDidMount",this).call(this),this.forceUpdate()}},{key:"_getPosition",value:function(e,t){var n=this._context.viewport,i=this.props,r=i.anchor,o=i.dynamicPosition,a=i.tipSize,s=this._contentRef.current;return s&&o?function(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=e.selfWidth,a=e.selfHeight,s=e.anchor,l=e.padding,u=void 0===l?0:l,c=OJ[s],g=c.x,d=c.y,h=n-d*a,p=h+a,A=.5;if(h<u)for(;h<u&&d>=A;)d-=A,h+=A*a;else if(p>r-u)for(;p>r-u&&d<=.5;)d+=A,p-=A*a;var f=t-g*o,C=f+o,I=.5;if(.5===d&&(g=Math.floor(g),I=1),f<u)for(;f<u&&g>=I;)g-=I,f+=I*o;else if(C>i-u)for(;C>i-u&&g<=1-I;)g+=I,C-=I*o;return PJ.find((function(e){var t=OJ[e];return t.x===g&&t.y===d}))||s}({x:e,y:t,anchor:r,padding:a,width:n.width,height:n.height,selfWidth:s.clientWidth,selfHeight:s.clientHeight}):r}},{key:"_getContainerStyle",value:function(e,t,n,i){var r=this._context.viewport,o=this.props,a=o.offsetLeft,s=o.offsetTop,l=o.sortByDepth,u=OJ[i],c=e+a,g=t+s,d={position:"absolute",transform:"\n        translate(".concat(100*-u.x,"%, ").concat(100*-u.y,"%)\n        translate(").concat(c,"px, ").concat(g,"px)\n      "),display:void 0,zIndex:void 0};return l?(n>1||n<-1||e<0||e>r.width||t<0||t>r.height?d.display="none":d.zIndex=Math.floor((1-n)/2*1e5),d):d}},{key:"_renderTip",value:function(t){var n=this.props.tipSize;return e.createElement("div",{key:"tip",className:"mapboxgl-popup-tip",style:{borderWidth:n}})}},{key:"_renderContent",value:function(){var t=this.props,n=t.closeButton,i=t.children,r=this._context.eventManager?null:this._onClick;return e.createElement("div",{key:"content",ref:this._contentRef,className:"mapboxgl-popup-content",onClick:r},n&&e.createElement("button",{key:"close-button",className:"mapboxgl-popup-close-button",type:"button"},"\xd7"),i)}},{key:"_render",value:function(){var t=this.props,n=t.className,i=t.longitude,r=t.latitude,o=t.altitude,a=Tr(this._context.viewport.project([i,r,o]),3),s=a[0],l=a[1],u=a[2],c=this._getPosition(s,l),g=this._getContainerStyle(s,l,u,c);return e.createElement("div",{className:"mapboxgl-popup mapboxgl-popup-anchor-".concat(c," ").concat(n),style:g,ref:this._containerRef},this._renderTip(c),this._renderContent())}}]),n}(bJ);(0,Hn.Z)(MJ,"propTypes",DJ),(0,Hn.Z)(MJ,"defaultProps",jJ);var NJ,zJ=Object.assign({},bJ.propTypes,{className:s().string,container:s().object}),RJ=Object.assign({},bJ.defaultProps,{className:"",container:null}),FJ=function(t){function n(){var e,t;(0,Kn.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,SK.Z)(this,(e=(0,TK.Z)(n)).call.apply(e,[this].concat(r))),(0,Hn.Z)((0,OK.Z)(t),"state",{isFullscreen:!1,showButton:!1}),(0,Hn.Z)((0,OK.Z)(t),"_mapboxFullscreenControl",null),(0,Hn.Z)((0,OK.Z)(t),"_onFullscreenChange",(function(){var e=!t._mapboxFullscreenControl._fullscreen;t._mapboxFullscreenControl._fullscreen=e,t.setState({isFullscreen:e})})),(0,Hn.Z)((0,OK.Z)(t),"_onClickFullscreen",(function(){t._mapboxFullscreenControl._onClickFullscreen()})),t}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.container||this._context.mapContainer;this._mapboxFullscreenControl=new(SX().FullscreenControl)({container:e}),this.setState({showButton:this._mapboxFullscreenControl._checkFullscreenSupport()}),bX.addEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"componentWillUnmount",value:function(){bX.removeEventListener(this._mapboxFullscreenControl._fullscreenchange,this._onFullscreenChange)}},{key:"_renderButton",value:function(t,n,i){return e.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:n,onClick:i})}},{key:"_render",value:function(){if(!this.state.showButton)return null;var t=this.props.className,n=this.state.isFullscreen?"shrink":"fullscreen";return e.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(t),ref:this._containerRef},this._renderButton(n,"Toggle fullscreen",this._onClickFullscreen))}}]),n}(bJ);(0,Hn.Z)(FJ,"propTypes",zJ),(0,Hn.Z)(FJ,"defaultProps",RJ);var LJ=Object.assign({},pQ.defaultProps,{transitionDuration:500}),BJ=function(){},ZJ=Object.assign({},bJ.propTypes,{className:s().string,style:s().object,positionOptions:s().object,fitBoundsOptions:s().object,trackUserLocation:s().bool,showUserLocation:s().bool,onViewStateChange:s().func,onViewportChange:s().func}),VJ=Object.assign({},bJ.defaultProps,{className:"",style:{},positionOptions:null,fitBoundsOptions:null,trackUserLocation:!1,showUserLocation:!0}),UJ=function(t){function n(){var t,i;(0,Kn.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=(0,SK.Z)(this,(t=(0,TK.Z)(n)).call.apply(t,[this].concat(o))),(0,Hn.Z)((0,OK.Z)(i),"state",{supportsGeolocation:!1,markerPosition:null}),(0,Hn.Z)((0,OK.Z)(i),"_mapboxGeolocateControl",null),(0,Hn.Z)((0,OK.Z)(i),"_geolocateButtonRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_markerRef",(0,e.createRef)()),(0,Hn.Z)((0,OK.Z)(i),"_setupMapboxGeolocateControl",(function(e){if(e){var t={};["positionOptions","fitBoundsOptions","trackUserLocation","showUserLocation"].forEach((function(e){e in i.props&&null!==i.props[e]&&(t[e]=i.props[e])})),i._mapboxGeolocateControl=new(SX().GeolocateControl)(t),i._mapboxGeolocateControl._watchState="OFF",i._mapboxGeolocateControl._geolocateButton=i._geolocateButtonRef.current,i._mapboxGeolocateControl._updateMarker=i._updateMarker,i._mapboxGeolocateControl._updateCamera=i._updateCamera,i._mapboxGeolocateControl._setup=!0}else console.warn("Geolocation support is not available, the GeolocateControl will not be visible.")})),(0,Hn.Z)((0,OK.Z)(i),"_onClickGeolocate",(function(){return i._mapboxGeolocateControl.trigger()})),(0,Hn.Z)((0,OK.Z)(i),"_updateMarker",(function(e){e&&i.setState({markerPosition:e.coords})})),(0,Hn.Z)((0,OK.Z)(i),"_getBounds",(function(e){var t=new(SX().LngLat)(e.coords.longitude,e.coords.latitude),n=e.coords.accuracy,i=t.toBounds(n);return[[i._ne.lng,i._ne.lat],[i._sw.lng,i._sw.lat]]})),(0,Hn.Z)((0,OK.Z)(i),"_updateCamera",(function(e){var t=i._context.viewport,n=i._getBounds(e),r=new gX(t).fitBounds(n),o=r.longitude,a=r.latitude,s=r.zoom,l=Object.assign({},t,{longitude:o,latitude:a,zoom:s}),u=new eQ(l),c=Object.assign({},u.getViewportProps(),LJ),g=i.props.onViewportChange||i._context.onViewportChange||BJ;(i.props.onViewStateChange||i._context.onViewStateChange||BJ)({viewState:c}),g(c)})),(0,Hn.Z)((0,OK.Z)(i),"_renderButton",(function(t,n,r){return e.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),ref:i._geolocateButtonRef,type:"button",title:n,onClick:r})})),(0,Hn.Z)((0,OK.Z)(i),"_renderMarker",(function(){var t=i.props.showUserLocation,n=i.state.markerPosition;return t&&n?e.createElement(TJ,{key:"location-maker",ref:i._markerRef,className:"mapboxgl-user-location-dot",longitude:n.longitude,latitude:n.latitude,onContextMenu:function(e){return e.preventDefault()},captureDrag:!1,captureDoubleClick:!1}):null})),i}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){var e=this;(void 0!==NJ?Promise.resolve(NJ):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((function(e){return NJ="denied"!==e.state})):(NJ=Boolean(window.navigator.geolocation),Promise.resolve(NJ))).then((function(t){e.setState({supportsGeolocation:t}),e._setupMapboxGeolocateControl(t)}))}},{key:"componentDidUpdate",value:function(){var e=this._markerRef.current;this._mapboxGeolocateControl&&e&&(this._mapboxGeolocateControl._dotElement=e._containerRef.current)}},{key:"componentWillUnmount",value:function(){var e=this._mapboxGeolocateControl._geolocationWatchID;void 0!==e&&(window.navigator.geolocation.clearWatch(e),this._mapboxGeolocateControl._geolocationWatchID=void 0)}},{key:"_render",value:function(){if(!this.state.supportsGeolocation)return null;var t=this.props,n=t.className,i=t.style;return e.createElement("div",null,this._renderMarker(),e.createElement("div",{key:"geolocate-control",className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(n),ref:this._containerRef,style:i,onContextMenu:function(e){return e.preventDefault()}},this._renderButton("geolocate","Geolocate",this._onClickGeolocate)))}}]),n}(bJ);(0,Hn.Z)(UJ,"propTypes",ZJ),(0,Hn.Z)(UJ,"defaultProps",VJ);var WJ=function(){},GJ=Object.assign({},bJ.propTypes,{className:s().string,onViewStateChange:s().func,onViewportChange:s().func,showCompass:s().bool,showZoom:s().bool}),HJ=Object.assign({},bJ.defaultProps,{className:"",showCompass:!0,showZoom:!0}),YJ=function(t){function n(e){var t;return(0,Kn.Z)(this,n),t=(0,SK.Z)(this,(0,TK.Z)(n).call(this,e)),(0,Hn.Z)((0,OK.Z)(t),"_onZoomIn",(function(){t._updateViewport({zoom:t._context.viewport.zoom+1})})),(0,Hn.Z)((0,OK.Z)(t),"_onZoomOut",(function(){t._updateViewport({zoom:t._context.viewport.zoom-1})})),(0,Hn.Z)((0,OK.Z)(t),"_onResetNorth",(function(){t._updateViewport({bearing:0,pitch:0})})),cJ(e),t}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"_updateViewport",value:function(e){var t=this._context.viewport,n=new eQ(Object.assign({},t,e)),i=Object.assign({},n.getViewportProps(),nJ),r=this.props.onViewportChange||this._context.onViewportChange||WJ;(this.props.onViewStateChange||this._context.onViewStateChange||WJ)({viewState:i}),r(i)}},{key:"_renderCompass",value:function(){var t=this._context.viewport.bearing;return e.createElement("span",{className:"mapboxgl-ctrl-compass-arrow",style:{transform:"rotate(".concat(-t,"deg)")}})}},{key:"_renderButton",value:function(t,n,i,r){return e.createElement("button",{key:t,className:"mapboxgl-ctrl-icon mapboxgl-ctrl-".concat(t),type:"button",title:n,onClick:i},r)}},{key:"_render",value:function(){var t=this.props,n=t.className,i=t.showCompass,r=t.showZoom;return e.createElement("div",{className:"mapboxgl-ctrl mapboxgl-ctrl-group ".concat(n),ref:this._containerRef},r&&this._renderButton("zoom-in","Zoom In",this._onZoomIn),r&&this._renderButton("zoom-out","Zoom Out",this._onZoomOut),i&&this._renderButton("compass","Reset North",this._onResetNorth,this._renderCompass()))}}]),n}(bJ);(0,Hn.Z)(YJ,"propTypes",GJ),(0,Hn.Z)(YJ,"defaultProps",HJ);var qJ=Object.assign({},bJ.propTypes,{redraw:s().func.isRequired}),KJ=function(t){function n(){var e,t;(0,Kn.Z)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=(0,SK.Z)(this,(e=(0,TK.Z)(n)).call.apply(e,[this].concat(r))),(0,Hn.Z)((0,OK.Z)(t),"_canvas",void 0),(0,Hn.Z)((0,OK.Z)(t),"_ctx",void 0),(0,Hn.Z)((0,OK.Z)(t),"_redraw",(function(){var e=t._ctx;if(e){var n=yX.devicePixelRatio||1;e.save(),e.scale(n,n);var i=t._context,r=i.viewport,o=i.isDragging;t.props.redraw({width:r.width,height:r.height,ctx:e,isDragging:o,project:r.project.bind(r),unproject:r.unproject.bind(r)}),e.restore()}})),t}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"componentDidMount",value:function(){var e=this._containerRef.current;e&&(this._canvas=e,this._ctx=e.getContext("2d")),this._redraw()}},{key:"_render",value:function(){var t=yX.devicePixelRatio||1,n=this._context.viewport,i=n.width,r=n.height;return this._redraw(),e.createElement("canvas",{ref:this._containerRef,width:i*t,height:r*t,style:{width:"".concat(i,"px"),height:"".concat(r,"px"),position:"absolute",left:0,top:0}})}}]),n}(bJ);(0,Hn.Z)(KJ,"propTypes",qJ),(0,Hn.Z)(KJ,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var XJ=Object.assign({},bJ.propTypes,{redraw:s().func.isRequired,style:s().object}),QJ=function(t){function n(){return(0,Kn.Z)(this,n),(0,SK.Z)(this,(0,TK.Z)(n).apply(this,arguments))}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"_render",value:function(){var t=this._context,n=t.viewport,i=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0,width:n.width,height:n.height},this.props.style);return e.createElement("div",{ref:this._containerRef,style:r},this.props.redraw({width:n.width,height:n.height,isDragging:i,project:n.project.bind(n),unproject:n.unproject.bind(n)}))}}]),n}(bJ);(0,Hn.Z)(QJ,"propTypes",XJ),(0,Hn.Z)(QJ,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});var JJ=Object.assign({},bJ.propTypes,{redraw:s().func.isRequired,style:s().object}),$J=function(t){function n(){return(0,Kn.Z)(this,n),(0,SK.Z)(this,(0,TK.Z)(n).apply(this,arguments))}return(0,Qn.Z)(n,t),(0,Xn.Z)(n,[{key:"_render",value:function(){var t=this._context,n=t.viewport,i=t.isDragging,r=Object.assign({position:"absolute",left:0,top:0},this.props.style);return e.createElement("svg",{width:n.width,height:n.height,ref:this._containerRef,style:r},this.props.redraw({width:n.width,height:n.height,isDragging:i,project:n.project.bind(n),unproject:n.unproject.bind(n)}))}}]),n}(bJ);(0,Hn.Z)($J,"propTypes",JJ),(0,Hn.Z)($J,"defaultProps",{captureScroll:!1,captureDrag:!1,captureClick:!1,captureDoubleClick:!1});const e$=t=>{let{tradingPartner:n}=t;const i=null===n||void 0===n?void 0:n.address,[r,o]=(0,e.useState)({latitude:34.741358,longitude:-85.9375443,height:"300px",zoom:12}),[a,s]=(0,e.useState)(void 0);return(0,e.useEffect)((()=>{Ee(i)||Ee(null===i||void 0===i?void 0:i.latitude)||Ee(null===i||void 0===i?void 0:i.longitude)||(o((e=>({...e,latitude:parseFloat(null===i||void 0===i?void 0:i.latitude),longitude:parseFloat(null===i||void 0===i?void 0:i.longitude)}))),s({latitude:parseFloat(null===i||void 0===i?void 0:i.latitude),longitude:parseFloat(null===i||void 0===i?void 0:i.longitude)}))}),[i]),(0,ye.jsx)("div",{className:"trading-partner-map",children:(0,ye.jsx)(hJ,{...r,width:"100%",mapboxApiAccessToken:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w",mapStyle:"mapbox://styles/mapbox/satellite-streets-v11",onViewportChange:e=>{o(e)},children:a&&(0,ye.jsx)(TJ,{latitude:null===a||void 0===a?void 0:a.latitude,longitude:null===a||void 0===a?void 0:a.longitude,children:null!==n&&void 0!==n&&n.trading_partner_type?(0,ye.jsx)(Eq,{alt:"End Market",height:"20px"}):(0,ye.jsx)(Sq,{alt:"Consumer",height:"20px"})})})})},t$=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C,I,v,m;let{detail:y,id:b,noTitle:x}=t;const{addAlert:_}=(0,e.useContext)(be),{selectItem:w}=(0,e.useContext)($t),[k,E]=(0,e.useState)({}),[S,T]=(0,e.useState)(!1),[O,P]=(0,e.useState)(!1),[D,j]=(0,e.useState)(!1);(0,e.useEffect)((()=>{We("api/v1/cust/tp/".concat(b,"/"),(e=>E(e)))}),[b,E]);return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"md-6",children:[void 0===x&&(0,ye.jsxs)("h4",{children:[(null===k||void 0===k?void 0:k.facility)&&(0,ye.jsx)("i",{className:"fas fa-building mr-2"}),k.display_name," (",k.source_code,")",!k.active&&(0,ye.jsx)("span",{className:"font-danger ml-1",children:"(Inactive)"})]}),(null===k||void 0===k?void 0:k.master_record)&&(0,ye.jsxs)("div",{className:"font-h5 mb-0",id:"trading-partner-parent",children:[(0,ye.jsx)("span",{className:"strong",children:"Parent:"}),void 0!==y?(0,ye.jsx)(Ie,{to:v$(I$.trading_partner_detail,null===k||void 0===k?void 0:k.master_record),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-external-link-alt clickable ml-1"})}):(0,ye.jsx)("i",{className:"fas fa-external-link-alt clickable ml-1",onClick:()=>{We("api/v1/cust/tp/".concat(null===k||void 0===k?void 0:k.master_record,"/"),(e=>w(e)))}})]}),(0,ye.jsx)(wK,{tradingPartner:k,setTradingPartner:E,onUpdate:e=>{He("api/v1/cust/tp/".concat(null===k||void 0===k?void 0:k.id,"/"),e,(e=>E(e)))}}),(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:Ee(null===k||void 0===k?void 0:k.facility)?"xl-12":"xl-6",children:[(0,ye.jsxs)("div",{id:"trading-partner-meta",children:[(null===k||void 0===k||null===(n=k.facility)||void 0===n?void 0:n.external_display)&&(0,ye.jsx)(Xg,{Label:"External Display",Value:null===k||void 0===k||null===(i=k.facility)||void 0===i?void 0:i.external_display,break:!0,conditional:!0}),(null===k||void 0===k||null===(r=k.facility)||void 0===r?void 0:r.parent_facility)&&(0,ye.jsx)(Xg,{Label:"Parent Facility",Value:null===k||void 0===k||null===(o=k.facility)||void 0===o||null===(a=o.parent_facility)||void 0===a?void 0:a.display_name,break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Source",Value:null===k||void 0===k?void 0:k.integration_desc,break:!0,conditional:!0}),(null===k||void 0===k?void 0:k.source_updated_on)&&(0,ye.jsx)(Xg,{Label:"Source Updated On",Value:Wg(null===k||void 0===k?void 0:k.source_updated_on),break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Type",Value:null===k||void 0===k?void 0:k.trading_partner_type_desc,break:!0,conditional:!0})]}),(0,ye.jsxs)("div",{className:"trading-partner-address",children:[(0,ye.jsxs)("div",{className:"strong text-muted mr-1",children:["Address:",(0,ye.jsx)("i",{className:"fas fa-edit ml-1 text-muted clickable",title:"Update Address","data-toggle":"tooltip",onClick:()=>T((e=>!e))})]}),null===k||void 0===k||null===(s=k.address)||void 0===s?void 0:s.address_line_1,(0,ye.jsx)("br",{}),null===k||void 0===k||null===(l=k.address)||void 0===l?void 0:l.city_state_raw,(0,ye.jsx)("br",{})]}),(0,ye.jsxs)("div",{className:"trading-partner-mailing-address",children:[(0,ye.jsxs)("div",{className:"strong text-muted mr-1",children:["Mailing Address:",(0,ye.jsx)("i",{className:"fas fa-edit ml-1 text-muted clickable",title:"Update Address","data-toggle":"tooltip",onClick:()=>P((e=>!e))}),D?(0,ye.jsx)("i",{className:"fas fa-caret-up fa-rotate-180 fa-lg clickable ml-1",onClick:()=>j(!1)}):(0,ye.jsx)("i",{className:"fas fa-caret-up fa-rotate-90 fa-lg clickable ml-1",onClick:()=>j(!0)})]}),D&&(0,ye.jsxs)(e.Fragment,{children:[null===k||void 0===k||null===(u=k.mailing_address)||void 0===u?void 0:u.address_line_1,(null===k||void 0===k||null===(c=k.mailing_address)||void 0===c?void 0:c.address_line_2)&&(0,ye.jsx)("br",{}),null===k||void 0===k||null===(g=k.mailing_address)||void 0===g?void 0:g.address_line_2,(0,ye.jsx)("br",{}),null===k||void 0===k||null===(d=k.address)||void 0===d?void 0:d.city_state_raw,(0,ye.jsx)("br",{})]})]}),(0,ye.jsx)(Xg,{Label:"Contact",Value:k.contact_name,conditional:!0,inline:!0}),(0,ye.jsx)(Xg,{Label:"Phone",Value:k.phone,className:"ml-2",conditional:!0,inline:!0}),(0,ye.jsx)(Xg,{Label:"Mobile",Value:k.mobile_cell,className:"ml-2",conditional:!0,inline:!0})]}),!Ee(null===k||void 0===k?void 0:k.facility)&&(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsxs)("div",{id:"facility-meta",children:[(0,ye.jsx)(Xg,{Label:"Default Mkt Zone",Value:null===k||void 0===k||null===(h=k.facility)||void 0===h||null===(p=h.market_zone_default)||void 0===p?void 0:p.name,break:!0,conditional:!0}),(0,ye.jsx)(Xg,{Label:"Mkt Zone Adj",Value:Bg(null===k||void 0===k||null===(A=k.facility)||void 0===A?void 0:A.market_zone_adj,3),break:!0,conditional:!0}),!Ee(null===k||void 0===k||null===(f=k.facility)||void 0===f?void 0:f.operational)&&(0,ye.jsxs)("div",{className:"facility-operational-metrics",children:[(0,ye.jsx)("span",{className:"font-h6",style:{fontWeight:"inherit"},children:"Operational"}),null===k||void 0===k||null===(C=k.facility)||void 0===C?void 0:C.operational.map(((e,t)=>(0,ye.jsx)(Xg,{Label:"".concat(e.ship_mode_desc," ").concat(e.metric_type_desc),Value:Fg(null===e||void 0===e?void 0:e.metric_amount,2),break:!0,simple:!0},t)))]}),!Ee(null===k||void 0===k||null===(I=k.facility)||void 0===I?void 0:I.storage)&&(0,ye.jsxs)("div",{className:"facility-storage",children:[(0,ye.jsx)("span",{className:"font-h6",style:{fontWeight:"inherit"},children:"Storage"}),null===k||void 0===k||null===(v=k.facility)||void 0===v?void 0:v.storage.map(((e,t)=>(0,ye.jsx)(Xg,{Label:e.storage_type_desc,Value:Fg(null===e||void 0===e?void 0:e.storage_amount),break:!0,simple:!0},t)))]})]})})]}),(0,ye.jsx)("hr",{className:"my-1"}),k.children&&(0,ye.jsxs)("div",{className:"trading-partner-children",children:[(0,ye.jsx)("div",{className:"text-muted strong mr-1",children:"Child Accounts"}),null===k||void 0===k||null===(m=k.children)||void 0===m?void 0:m.map(((e,t)=>(0,ye.jsxs)("div",{className:"trading-partner-child clickable",children:[void 0!==y?(0,ye.jsxs)(Ie,{to:v$(I$.trading_partner_detail,null===e||void 0===e?void 0:e.id),className:"text-muted",style:{textDecoration:"None"},children:[null===e||void 0===e?void 0:e.integration_desc,": ",null===e||void 0===e?void 0:e.name," - ",null===e||void 0===e?void 0:e.source_code," (",Wg(null===e||void 0===e?void 0:e.updated_on),")"]}):(0,ye.jsxs)("span",{onClick:()=>w(e),children:[null===e||void 0===e?void 0:e.integration_desc,": ",null===e||void 0===e?void 0:e.name," - ",null===e||void 0===e?void 0:e.source_code," (",Wg(null===e||void 0===e?void 0:e.updated_on),")"]}),"src"===(null===e||void 0===e?void 0:e.source_type)&&(0,ye.jsx)("i",{className:"fas fa-ban ml-1 text-muted","data-toggle":"tooltip",title:"Split from Parent",onClick:()=>(e=>{He("api/v1/cust/tp/".concat(null===e||void 0===e?void 0:e.id,"/split/"),{},(e=>E(e)))})(e)})]},t))),(0,ye.jsx)("hr",{className:"my-1"})]}),(0,ye.jsx)(vK,{data:(null===k||void 0===k?void 0:k.active_contracts)||[]}),(0,ye.jsx)(kK,{notes:(null===k||void 0===k?void 0:k.notes)||[],onAddNote:e=>{Ge("api/v1/cust/tp-note/",{trading_partner:b,notes:e},(e=>E((t=>({...t,notes:[...null===t||void 0===t?void 0:t.notes,e]})))))}})]}),(0,ye.jsxs)(Wn,{colSize:"md-6",children:[(0,ye.jsx)(e$,{address:null===k||void 0===k?void 0:k.address,tradingPartner:k}),(0,ye.jsx)("h5",{children:"Planned Deliveries"}),(0,ye.jsx)("hr",{}),(0,ye.jsx)("h5",{children:"Planned Pickups"})]})]}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:"Address Update",FormElement:EK,address:k.address,tradingPartner:k,show:S,onClose:()=>T(!1),onUpdate:e=>(e=>{He("api/v1/cust/tp/".concat(null===k||void 0===k?void 0:k.id,"/address/"),e,(e=>E(e))),T(!1),_("success","Updated address")})(e)}),(0,ye.jsx)(hu,{compressed:!0,midHigh:!0,shadow:"lg",size:"lg",title:"Mailing Address Update",FormElement:EK,address:k.mailing_address,mailingAddress:!0,tradingPartner:k,show:O,onClose:()=>P(!1),onUpdate:e=>(e=>{He("api/v1/cust/tp/".concat(null===k||void 0===k?void 0:k.id,"/mailing-address/"),e,(e=>E(e))),P(!1),_("success","Updated mailing address")})(e)})]})},n$=e=>(0,ye.jsx)(pn,{children:(0,ye.jsx)(t$,{...e})}),i$=e=>{const{id:t}=ge();return(0,ye.jsxs)("div",{className:"trading-partner-container",children:[(0,ye.jsx)(ed,{route:null===I$||void 0===I$?void 0:I$.trading_partner_list}),(0,ye.jsx)(n$,{id:t,detail:!0})]})},r$=t=>{let{record:n}=t;const{selectItem:i}=(0,e.useContext)($t);return(0,ye.jsxs)("div",{className:"trading-partner-name",children:[(0,ye.jsx)("span",{className:"clickable",onClick:()=>i(n),children:null===n||void 0===n?void 0:n.display_name}),(0,ye.jsx)(Ie,{to:v$(I$.trading_partner_detail,null===n||void 0===n?void 0:n.id),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)("i",{className:"fas fa-external-link-alt text-muted clickable ml-2"})})]})},o$=[{header:"Name",accessor:e=>(0,ye.jsx)(r$,{record:e}),FilterKey:"name",center:!0},{header:"Address",accessor:"address.long_display",FilterKey:"address",center:!0},{header:"Code",accessor:"source_code",FilterKey:"source_code",center:!0},{header:"Phone",accessor:"phone",FilterKey:"phone",center:!0},{header:"Mobile",accessor:"mobile_cell",FilterKey:"mobile_cell",center:!0},{header:"Source",accessor:e=>"src"===e.source_type?null===e||void 0===e?void 0:e.integration_desc:(0,ye.jsx)("span",{className:"strong",children:null===e||void 0===e?void 0:e.source_type_desc}),FilterKey:"integration",center:!0,style:{width:"8%"}},{header:"Trader/Rep",accessor:"trader_sales_rep",FilterKey:"trader_sales_rep",center:!0},{header:"Type",accessor:"trading_partner_type_desc",center:!0},{header:"Facility",accessor:e=>null!==e&&void 0!==e&&e.facility?(0,ye.jsx)("i",{className:"fas fa-building fa-lg",title:"View Facility","data-toggle":"tooltip"}):null!==e&&void 0!==e&&e.active?(0,ye.jsx)("i",{className:"fas fa-building fa-lg icon-danger",title:"Create Facility","data-toggle":"tooltip"}):void 0,center:!0,style:{width:"6%"},FilterKey:"facility",FilterOptions:[{id:"",label:"All"},{id:!0,label:"Yes"},{id:!1,label:"No"}],FilterNullable:!0},{header:"Internal",accessor:"is_internal",center:!0,formatter:Kg,style:{width:"8%"},FilterKey:"internal",FilterOptions:[{id:"",label:"All"},{id:!0,label:"Internal"},{id:!1,label:"External"}],FilterNullable:!0},{header:"Contracts",accessor:"contracts",center:!0,FilterKey:"contracts",FilterOptions:[{id:"",label:"All"},{id:"p",label:"Purch"},{id:"s",label:"Sale"}],FilterNullable:!0},{header:"Active",accessor:"active",center:!0,formatter:Kg,FilterKey:"active",style:{width:"6%"},FilterOptions:[{id:"",label:"All"},{id:!0,label:"Yes"},{id:!1,label:"No"}],FilterNullable:!0}],a$=t=>(0,ye.jsxs)(e.Fragment,{children:[(null===t||void 0===t?void 0:t.facility)&&(0,ye.jsx)("i",{className:"fas fa-building mr-2"}),null===t||void 0===t?void 0:t.display_name," (",null===t||void 0===t?void 0:t.source_code,")",!(null!==t&&void 0!==t&&t.active)&&(0,ye.jsx)("span",{className:"font-danger ml-1",children:"(Inactive)"})]}),s$=e=>{let{id:t}=e;return(0,ye.jsx)(n$,{id:t,noTitle:!0})},l$=t=>{const{item:n,deSelectItem:i,selectItem:r}=(0,e.useContext)($t),[o,a]=(0,e.useState)(!1),s=o$.map((e=>"owner_id"===e.FilterKey?{...e}:e));(0,e.useEffect)((()=>{document.title="Trading Partners"}),[]),(0,e.useEffect)((()=>{document.title=void 0===n?"Trading Partners":null===n||void 0===n?void 0:n.display_name}),[n]);return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsxs)(we,{children:[(0,ye.jsx)($g,{}),(0,ye.jsx)(ad,{hover:!0,small:!0,flat:!0,title:"Trading Partners",tableColumns:s,apiURL:"api/v1/cust/tp/",sortKey:"-name",filters:!0,filterCacheKey:"trading-partner",onSelectCreate:()=>a((e=>!e)),paginationSize:20})]}),(0,ye.jsx)(hu,{FormElement:s$,compressed:!0,size:"90w",show:n,onClose:i,id:null===n||void 0===n?void 0:n.id,title:a$(n)}),(0,ye.jsx)(hu,{FormElement:bK,compressed:!0,size:"70w",show:o,onClose:()=>a(!1),title:"Create Trading Partner",onSubmit:e=>(e=>{Ge("api/v1/cust/tp/",e,(e=>r(e)))})(e)})]})},u$=e=>(0,ye.jsx)(en,{children:(0,ye.jsx)(l$,{props:e})}),c$=t=>{var n;const{debug:i,commodities:r,mktZones:o}=(0,e.useContext)(tn),{completedTasks:a,filters:s,loading:l,queuedTasks:u,skipPayload:c,taskPayload:g,tradingPartner:d,deSelectTask:h,deSelectTradingPartner:p,deSelectSkipTask:A,fetchTasks:f,updateFilters:C,skipTask:I,submitTask:v}=(0,e.useContext)(sn);return(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)($g,{}),(0,ye.jsxs)(Un,{className:"mb-2",children:[(0,ye.jsx)(Wn,{colSize:"lg-2",children:i&&(0,ye.jsx)(xs,{compressed:!0,id:"show_all_filter",label:"Show All",options:Gt,value:_t(Gt,!(null!==s&&void 0!==s&&s.assigned_to_me)),onChange:e=>C({assigned_to_me:!(null!==e&&void 0!==e&&e.id)})},"show_all_filter")}),(0,ye.jsx)(Wn,{colSize:"lg-2",children:(0,ye.jsx)(xs,{id:"commodity_filter",label:"Commodity",compressed:!0,options:r,value:_t(r,null===s||void 0===s?void 0:s.commodity),onChange:e=>C({commodity:null===e||void 0===e?void 0:e.id})},"commodity_filter")}),(0,ye.jsx)(Wn,{colSize:"lg-2",children:(0,ye.jsx)(xs,{id:"market_zone_filter",label:"Market Zone",compressed:!0,options:o,value:_t(o,null===s||void 0===s?void 0:s.market_zone),onChange:e=>C({market_zone:null===e||void 0===e?void 0:e.id})},"market_zone_filter")}),(0,ye.jsx)(Wn,{colSize:"lg-2",children:(0,ye.jsx)(id,{id:"trading_partner_filter",label:"Trading Partner",value:null===s||void 0===s?void 0:s.trading_partner,onChange:e=>C({trading_partner:e})},"trading_partner_filter")})]}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsxs)("div",{className:"planned-interations",children:[(0,ye.jsxs)("div",{className:"font-h4 mb-2",children:["Todo Tasks",(0,ye.jsx)(Pn,{loading:l,muted:!0,className:"ml-1",onClick:()=>f()})]}),null===u||void 0===u?void 0:u.map(((e,t)=>(0,ye.jsx)(AK,{task:e},t)))]})}),(0,ye.jsx)(Wn,{colSize:"lg-6",children:(0,ye.jsxs)("div",{className:"completed-interations",children:[(0,ye.jsx)("div",{className:"font-h4 mb-2",children:"Completed Tasks"}),null===a||void 0===a?void 0:a.map(((e,t)=>(0,ye.jsx)(AK,{task:e},t)))]})})]}),(0,ye.jsx)(hu,{compressed:!0,show:c,onClose:()=>A(),shadow:"lg",size:"md",title:c?"".concat(null===c||void 0===c||null===(n=c.trading_partner)||void 0===n?void 0:n.display_name,": ").concat(null===c||void 0===c?void 0:c.task_type_desc):"",FormElement:CK,skipPayload:c,onSubmit:I}),(0,ye.jsx)(hu,{compressed:!0,show:g,onClose:()=>h(),shadow:"lg",size:"80w",title:g?pK(null===g||void 0===g?void 0:g.task,!0):"",FormElement:fK,taskPayload:g,onSubmit:v}),(0,ye.jsx)(hu,{FormElement:s$,compressed:!0,size:"90w",show:d,onClose:p,id:null===d||void 0===d?void 0:d.id,title:a$(d)})]})},g$={releases:{exact:!0,path:"releases/",name:"Releases",render:t=>{const{addSuccessAlert:n}=(0,e.useContext)(be),[i,r]=(0,e.useState)(!1),[o,a]=(0,e.useState)(void 0),[s,l]=(0,e.useState)(void 0),[u,c]=(0,e.useState)(void 0),[g,d]=(0,e.useState)(void 0),[h,p]=(0,e.useState)(void 0),[A,f]=(0,e.useState)(void 0),C=[...cK,{header:"Actions",accessor:"",ActionElementPrepend:e=>{var t;let{data:n}=e;return(0,ye.jsxs)("span",{children:[(0,ye.jsx)("i",{className:"far fa-clone clickable",onClick:()=>{a({...n,...tt(2)}),r(!0)}}),"closed"===(null===n||void 0===n?void 0:n.status)?(0,ye.jsx)("i",{className:"fa fa-undo clickable ml-2",onClick:()=>d(n)}):(0,ye.jsx)("i",{className:"fas fa-ban clickable ml-2",onClick:()=>c(n)}),(0,ye.jsx)("i",{className:"fas fa-edit clickable ml-2",onClick:()=>p(n)}),void 0===(null===n||void 0===n||null===(t=n.orig_trading_partner)||void 0===t?void 0:t.id)&&(0,ye.jsx)("i",{className:"fas fa-link clickable ml-2",onClick:()=>{l(n),r(!0)}})]})},center:!0,style:{width:"5%"}}];(0,e.useEffect)((()=>{document.title="Releases"}),[]);return(0,ye.jsx)("div",{className:"release-items",children:(0,ye.jsxs)(dn,{children:[(0,ye.jsxs)(we,{children:[(0,ye.jsx)(ed,{route:I$.home}),(0,ye.jsx)(ad,{hover:!0,small:!0,debug:!0,flat:!0,lastUpdate:A,title:"Releases",tableColumns:C,apiURL:"api/v1/tr/release/",filters:!0,paginationSize:20,onSelectCreate:()=>r((e=>!e))})]}),(0,ye.jsx)(hu,{compressed:!0,show:i,cloneRelease:o,parentRelease:s,shadow:"xl",size:"60w",title:"Create Release",FormElement:lK,onClose:()=>{r(!1),l(void 0),f(new Date)}}),(0,ye.jsx)(hu,{compressed:!0,show:void 0!==h,inital:h,shadow:"xl",size:"60w",title:"Update",FormElement:gK,onClose:()=>{p(void 0),f(new Date)}}),(0,ye.jsx)(du,{show:u,onDecline:()=>c(void 0),onConfirm:()=>{var e;He("/api/v1/tr/release/".concat((e=u).id,"/close/"),{},(()=>{n("Closed: ".concat(e.display)),c(void 0)})),f(new Date),f(new Date)},confirmText:"Close",helperTitle:"Close ".concat(null===u||void 0===u?void 0:u.display)}),(0,ye.jsx)(du,{show:g,onDecline:()=>d(void 0),onConfirm:()=>{var e;He("/api/v1/tr/release/".concat((e=g).id,"/re-open/"),{},(()=>{n("Re-Opened: ".concat(e.display)),d(void 0)})),f(new Date),f(new Date)},confirmText:"ReOpen",helperTitle:"ReOpen ".concat(null===g||void 0===g?void 0:g.display)})]})})}}},d$=[{header:"Start",accessor:e=>(0,ye.jsx)(mg,{tooltip:null===e||void 0===e?void 0:e.trip_key,text:Gg(null===e||void 0===e?void 0:e.start)}),FilterKey:"start",center:!0},{header:"End",accessor:"end",FilterKey:"end",formatter:Gg,center:!0},{header:"Origin",accessor:e=>{var t,n;return Ee(null===e||void 0===e||null===(t=e.orig_location)||void 0===t?void 0:t.display_name)?(0,ye.jsxs)("span",{children:[null===e||void 0===e?void 0:e.orig_address_raw,(0,ye.jsx)("a",{className:"ml-2",href:null===e||void 0===e?void 0:e.orig_google_link,target:"_blank",rel:"noreferrer",children:(0,ye.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})]}):(0,ye.jsxs)("span",{children:[null===e||void 0===e||null===(n=e.orig_location)||void 0===n?void 0:n.display_name,(0,ye.jsx)("a",{className:"ml-2",href:null===e||void 0===e?void 0:e.orig_google_link,target:"_blank",rel:"noreferrer",children:(0,ye.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})]})},FilterKey:"origin",center:!0},{header:"Destination",accessor:e=>{var t,n;return Ee(null===e||void 0===e||null===(t=e.dest_location)||void 0===t?void 0:t.display_name)?(0,ye.jsxs)("span",{children:[null===e||void 0===e?void 0:e.dest_address_raw,(0,ye.jsx)("a",{className:"ml-2",href:null===e||void 0===e?void 0:e.dest_google_link,target:"_blank",rel:"noreferrer",children:(0,ye.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})]}):(0,ye.jsxs)("span",{children:[null===e||void 0===e||null===(n=e.dest_location)||void 0===n?void 0:n.display_name,(0,ye.jsx)("a",{className:"ml-2",href:null===e||void 0===e?void 0:e.dest_google_link,target:"_blank",rel:"noreferrer",children:(0,ye.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})]})},FilterKey:"destination",center:!0},{header:"Miles",accessor:"distance_miles",formatter:Fg,center:!0},{header:"Drive Minutes",accessor:"drive_minutes",formatter:Fg,center:!0},{header:"Wait Minutes",accessor:"wait_minutes",formatter:Fg,center:!0},{header:"Tractor",accessor:"tractor.name",center:!0},{header:"Tractor Src",accessor:"tractor_raw",center:!0},{header:"Linked Order",accessor:"order_linked_by.full_name",center:!0}],h$=[{header:"Order Num",accessor:(e,t)=>(0,ye.jsx)(mg,{tooltip:null===e||void 0===e?void 0:e.id,text:e.order_num}),center:!0},{header:"Linked",accessor:"linked_to_trips",formatter:qg,center:!0},{header:"Status",accessor:"status_desc",center:!0},{header:"Origin",accessor:(e,t)=>{var n,i,r;return"".concat(null===e||void 0===e||null===(n=e.shipper)||void 0===n?void 0:n.display_name," - ").concat(null===e||void 0===e||null===(i=e.shipper)||void 0===i||null===(r=i.address)||void 0===r?void 0:r.city_raw)},center:!0},{header:"Destination",accessor:(e,t)=>{var n,i,r;return"".concat(null===e||void 0===e||null===(n=e.consignee)||void 0===n?void 0:n.display_name," - ").concat(null===e||void 0===e||null===(i=e.consignee)||void 0===i||null===(r=i.address)||void 0===r?void 0:r.city_raw)},center:!0},{header:"Tractor",accessor:"tractor.name",center:!0},{header:"Order Start",accessor:"order_start_date",center:!0},{header:"Order End",accessor:"order_end_date",center:!0},{header:"Arrive Origin",accessor:"arrive_at_origin",center:!0},{header:"Arrive Dest",accessor:"arrive_at_destination",center:!0},{header:"Commodity",accessor:e=>{var t;return(null===e||void 0===e||null===(t=e.commodity)||void 0===t?void 0:t.commodity_code)||(null===e||void 0===e?void 0:e.commodity_raw)},center:!0}],p$=e=>{var t,n;return"".concat(null===e||void 0===e?void 0:e.order_num," ").concat(null===e||void 0===e||null===(t=e.shipper)||void 0===t?void 0:t.display_name,">").concat(null===e||void 0===e||null===(n=e.consignee)||void 0===n?void 0:n.display_name)},A$=t=>{let{data:n,context:i}=t;const{orderOptions:r}=i,{addSuccessAlert:o}=(0,e.useContext)(be),[a,s]=(0,e.useState)(null);(0,e.useEffect)((()=>{s(null===n||void 0===n?void 0:n.order)}),[n,s]);return(0,ye.jsx)("span",{children:null===a?(0,ye.jsx)(xs,{compressed:!0,className:"pr-2",options:r||[],value:a,onChange:e=>(e=>{He("/api/v1/wh/trip/".concat(null===n||void 0===n?void 0:n.id,"/order-link/"),{order:null===e||void 0===e?void 0:e.id},(e=>{const t=p$(null===e||void 0===e?void 0:e.order);s({...null===e||void 0===e?void 0:e.order,label:t}),o("Attached ".concat(t," order"))}))})(e)}):(0,ye.jsxs)("span",{children:[null===a||void 0===a?void 0:a.order_num,(0,ye.jsx)("i",{className:"fas fa-ban icon-danger clickable ml-2",onClick:()=>{He("/api/v1/wh/trip/".concat(null===n||void 0===n?void 0:n.id,"/order-link/"),{order:null},(e=>{s(null),o("Detached Order")}))}})]})})},f$={trips:{exact:!0,path:"trips",name:"Trips",render:t=>{const{tractors:n}=(0,e.useContext)(tn),[i,r]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[s,l]=(0,e.useState)([]),[u,c]=(0,e.useState)("2023-12-21"),[g,d]=(0,e.useState)({id:25,label:"60 WT"}),[h,p]=(0,e.useState)(!1),[A,f]=(0,e.useState)(!1),C=()=>{f(!0);const e=new URLSearchParams({start_date:u,tractor_id:null===g||void 0===g?void 0:g.id}).toString(),t=new URLSearchParams({fuzzy_date:u,tractor_id:null===g||void 0===g?void 0:g.id,include_linked_to_trips:!0}).toString();We("/api/v1/wh/trip/?".concat(e),(e=>{r(null===e||void 0===e?void 0:e.results),f(!1)})),We("/api/v1/wh/order/?".concat(t),(e=>{a(null===e||void 0===e?void 0:e.results),f(!1)}))};(0,e.useEffect)((()=>{l(void 0===o?[]:null===o||void 0===o?void 0:o.map((e=>({id:e.id,label:p$(e)}))))}),[o]),(0,e.useEffect)((()=>{new Date(u).getFullYear()>=2023&&void 0!==(null===g||void 0===g?void 0:g.id)&&C()}),[u,null===g||void 0===g?void 0:g.id,C]);const I=[{header:"Order",accessor:"",ActionElementPrepend:A$,center:!0,style:{width:"20%"}},...d$];return(0,e.useEffect)((()=>{document.title="Trips"}),[]),(0,ye.jsxs)("div",{className:"trip-items",children:[(0,ye.jsx)(ed,{route:I$.home}),(0,ye.jsx)("div",{className:"trip-filter-form",style:{width:"50%",marginTop:"0.25rem",marginBottom:"0.25rem"},children:(0,ye.jsxs)(Ln,{children:[(0,ye.jsx)(Bn,{colSize:"5",children:(0,ye.jsx)(zn,{compressed:!0,label:(0,ye.jsxs)("span",{children:["Start Date",(0,ye.jsx)(Gn,{number:-1,onClick:()=>c(Je(0,u,!0))}),(0,ye.jsx)(Gn,{number:1,onClick:()=>c(Je(2,u,!0))})]}),id:"postpone-days",elementType:"date",value:u,onChange:c})}),(0,ye.jsx)(Bn,{colSize:"5",children:(0,ye.jsx)(xs,{compressed:!0,id:"tractor",label:"Tractor",options:n,value:g,onChange:d},"tractor")}),(0,ye.jsx)(Bn,{colSize:"2",children:(0,ye.jsx)(Dn,{small:!0,buttonType:"btn-outline-primary py-1",onClick:C,isLoading:A,style:{position:"absolute",bottom:0},Text:"Search"})})]})}),(0,ye.jsx)("span",{className:"font-h4",children:"Orders"}),(0,ye.jsx)(Dg,{hover:!0,small:!0,debug:!0,flat:!0,context:{startDate:u},data:null===o||void 0===o?void 0:o.filter((e=>e.order_start_date===u)),tableColumns:h$,paginationSize:20}),(0,ye.jsx)("div",{className:"font-h4 clickable",onClick:()=>p((e=>!e)),children:"Orders (Fuzzy)"}),h&&(0,ye.jsx)(Dg,{hover:!0,small:!0,debug:!0,flat:!0,context:{startDate:u},data:null===o||void 0===o?void 0:o.filter((e=>e.order_start_date!==u)),tableColumns:h$,paginationSize:20}),(0,ye.jsx)("div",{className:"font-h4",children:"Trips"}),(0,ye.jsx)(Dg,{hover:!0,small:!0,debug:!0,flat:!0,context:{orderOptions:s},data:Pe(i,"start_timestampe"),tableColumns:I,filters:!0,paginationSize:20})]})}}},C$={...Dq,...jq,...{pipeline_dashboard:{exact:!0,path:"tp-pipeline/",name:"Trading Partner Pipeline",render:e=>(0,ye.jsx)(ln,{children:(0,ye.jsx)(c$,{...e})})},multi_release_example:{exact:!0,path:"multi-release-example/",name:"Multi Release Example",render:e=>{let{...t}=e;return(0,ye.jsx)("div",{className:"release-form-container",children:(0,ye.jsx)(zq,{children:(0,ye.jsx)(Lq,{})})})}}},...g$,...f$},I$={home:{exact:!0,path:"",name:"Home"},flow_version_list:{exact:!0,path:"flow/",name:"Flow Version List"},flow_version_detail:{params:!0,exact:!1,path:"flow/:id",name:"Flow Version List"},flow_items:{params:!0,exact:!1,path:"flow-items/:id",name:"Flow Item List"},flow_contract_planning:{exact:!1,path:"flow-contract-planning/:id",name:"Flow Contract Planning"},flow_nodes:{exact:!1,path:"flow-nodes/:id",name:"Flow Nodes"},flow_edges:{exact:!1,path:"flow-edges/:id",name:"Flow Edges"},flow_network:{params:!0,exact:!1,path:"flow-network/:id",name:"Flow Netowrk"},flow_facility:{params:!0,exact:!1,path:"flow-facility/:id",name:"Flow Facility"},flow_inventory:{params:!0,exact:!1,path:"flow-inventory/:id",name:"Flow Inventory"},freigh_rates:{params:!0,exact:!1,path:"freight-rate/",name:"Freight Rates"},trading_partner_list:{exact:!0,path:"tp/",name:"Trading Partner List"},trading_partner_detail:{params:!0,exact:!1,path:"tp/:id",name:"Trading Partner Detail"},pipeline_dashboard:{exact:!0,path:"tp-pipeline/",name:"Trading Partner Pipeline"},flow_item_option:{exact:!0,path:"flow-item-option/",name:"Flow Option"},releases:{exact:!0,path:"releases/",name:"Releases"},contracts:{exact:!0,path:"contracts/",name:"Contracts"},trips:{exact:!0,path:"trips/",name:"Trip Matching"},multi_release_example:{exact:!0,path:"multi-release-example/",name:"Multi Release Example"},flow_diagram:{params:!0,exact:!1,path:"flow-diagram/",name:"Flow Diagram"}},v$=(e,t)=>Yt(((e,t)=>{var n;return!1===(null===e||void 0===e?void 0:e.exact)&&void 0!==t?null===e||void 0===e||null===(n=e.path)||void 0===n?void 0:n.replace(":id",t):null===e||void 0===e?void 0:e.path})(e,t)),m$=t=>{let{route:n}=t;const[i,r]=(0,e.useState)({latitude:34.741358,longitude:-85.9375443,height:"300px",zoom:8}),o=null===n||void 0===n?void 0:n[0],a=null===n||void 0===n?void 0:n[(null===n||void 0===n?void 0:n.length)-1];(0,e.useEffect)((()=>{void 0!==n&&r((e=>({...e,...ot(n)})))}),[n]);const s={type:"LineString",coordinates:n};return(0,ye.jsx)("div",{className:"freigh-rate-route-map",children:n&&(0,ye.jsxs)(hJ,{...i,width:"100%",mapboxApiAccessToken:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w",mapStyle:"mapbox://styles/mapbox/satellite-streets-v11",onViewportChange:e=>{r(e)},children:[(0,ye.jsx)(fJ,{id:"route",type:"geojson",data:s,children:(0,ye.jsx)(mJ,{id:"line",type:"line",paint:{"line-color":"#4e73df","line-width":3}})}),(0,ye.jsx)(TJ,{longitude:parseFloat(o[0]),latitude:parseFloat(o[1]),color:"#4e73df",anchor:"top-left",children:(0,ye.jsx)(Sq,{height:"20px"})}),(0,ye.jsx)(TJ,{longitude:parseFloat(a[0]),latitude:parseFloat(a[1]),color:"#4e73df",anchor:"top-left",children:(0,ye.jsx)(Eq,{height:"20px"})})]})})},y$=t=>{var n,i,r,o,a,s,l,u;let{initial:c,onSubmit:g}=t;const{commodities:d,shipModes:h}=(0,e.useContext)(tn),[p,A]=(0,e.useState)(void 0),[f,C]=(0,e.useState)(void 0),[I,v]=(0,e.useState)(void 0),[m,y]=(0,e.useState)(void 0),[b,x]=(0,e.useState)(!1);(0,e.useEffect)((()=>{v(null===d||void 0===d?void 0:d[0]),y(null===h||void 0===h?void 0:h[0])}),[d,h]),(0,e.useEffect)((()=>{void 0!==c&&(A(null===c||void 0===c?void 0:c.origin),C(null===c||void 0===c?void 0:c.destination))}),[c]);const[_,w]=(0,e.useState)(Fe),k=[{field:"commodity",value:I,notNull:!0},{field:"ship_mode",value:m,notNull:!0},{field:"origin",value:p,notNull:!0},{field:"destination",value:f,notNull:!0}];return(0,ye.jsxs)("div",{className:"freight-rate-request-form",children:[(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(id,{id:"origin-trading-partner",label:"Origin",value:p,onChange:A})}),(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(id,{id:"destination-trading-partner",label:"Destination",value:f,onChange:C})})]}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(xs,{id:"commodity",label:"Commodity",compressed:!0,valid:null===_||void 0===_||null===(n=_.formErrors)||void 0===n||null===(i=n.commodity)||void 0===i?void 0:i.valid,inputInvalidText:null===_||void 0===_||null===(r=_.formErrors)||void 0===r||null===(o=r.commodity)||void 0===o?void 0:o.message,options:d,value:I,onChange:v},"commodity")}),(0,ye.jsx)(Wn,{colSize:"xl-6",children:(0,ye.jsx)(xs,{id:"ship_mode",label:"Ship Mode",compressed:!0,valid:null===_||void 0===_||null===(a=_.formErrors)||void 0===a||null===(s=a.ship_mode)||void 0===s?void 0:s.valid,inputInvalidText:null===_||void 0===_||null===(l=_.formErrors)||void 0===l||null===(u=l.ship_mode)||void 0===u?void 0:u.message,options:h,value:m,onChange:y},"ship_mode")})]}),(0,ye.jsx)(Un,{className:"mt-1",children:(0,ye.jsx)(Wn,{colSize:"lg-12",children:(0,ye.jsx)(Dn,{className:"float-right",buttonType:"btn-primary",onClick:()=>{if(!Re(k,w))return x(!1);const e={origin_trading_partner:null===p||void 0===p?void 0:p.id,destination_trading_partner:null===f||void 0===f?void 0:f.id,commodity:null===I||void 0===I?void 0:I.id,ship_mode:null===m||void 0===m?void 0:m.id};return g(e)},isLoading:b,Text:"Submit"})})})]})},b$=t=>{var n,i;const[r,o]=(0,e.useState)(void 0);return(0,ye.jsxs)("div",{className:"freight-rate-request-container",children:[(0,ye.jsx)($g,{}),(0,ye.jsxs)(Un,{children:[(0,ye.jsxs)(Wn,{colSize:"xl-5",children:[(0,ye.jsx)("h4",{children:"Rate Request"}),(0,ye.jsx)(y$,{onSubmit:e=>{Ge("/api/v1/logistics/rate-request/",e,(e=>o(e)))}})]}),(0,ye.jsxs)(Wn,{colSize:"xl-7",children:[r&&(0,ye.jsxs)("div",{style:{fontSize:"larger"},children:[(0,ye.jsx)(Xg,{Label:"Rate/Unit",Value:(0,ye.jsxs)("span",{children:["".concat(Bg(r.rate_per_unit,3),"/mi"),(0,ye.jsx)("i",{className:"fa fa-copy clickable ml-1",onClick:()=>{navigator.clipboard.writeText(r.rate_per_unit)}})]}),break:!0},"rate"),(0,ye.jsx)(Xg,{Label:"Miles",Value:"".concat(Lg(null===r||void 0===r||null===(n=r.route)||void 0===n?void 0:n.distance_miles,1)),break:!0},"distance")]}),(0,ye.jsx)(m$,{route:null===r||void 0===r||null===(i=r.route)||void 0===i?void 0:i.route})]})]})]})},x$={id:"data",type:"fill",paint:{"fill-color":["match",["get","market_zone_type"],"end_market","#3288bd","open","orange","elev","yellow","green"],"fill-opacity":["match",["get","market_zone_type"],"elev",.5,.8],"fill-outline-color":"black"}},_$={id:"label",type:"symbol",layout:{"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,0],"text-anchor":"top"}},w$=t=>{var n,i,r,o,a,s,l,u,c,g,d,h,p,A,f,C;let{data:I,saving:v,onCancel:m,onSubmit:y}=t;const{marketZoneTypes:b}=(0,e.useContext)(tn),[x,_]=(0,e.useState)(""),[w,k]=(0,e.useState)(""),[E,S]=(0,e.useState)(void 0),[T,O]=(0,e.useState)(!0),[P,D]=(0,e.useState)(""),[j,M]=(0,e.useState)(Fe),N=[{field:"name",value:x,notNull:!0},{field:"code",value:w,notNull:!0},{field:"type",value:E,notNull:!0}];(0,e.useEffect)((()=>{void 0!==I&&(_(I.name||""),k(I.code||""),S(_t(b,I.market_zone_type)),O(I.active||!0),D(I.notes||""))}),[I,b]);const z=()=>{Re(N,M)&&y({name:x,code:w,market_zone_type:null===E||void 0===E?void 0:E.id,active:T,notes:""===P?null:P})};return(0,ye.jsx)(Nn,{className:"mb-2",children:(0,ye.jsxs)(jn,{compressed:!0,onKeyDown:e=>{ze(e,z)},children:[(0,ye.jsxs)(Ln,{className:"mb-2",children:[(0,ye.jsx)(Bn,{colSize:"6",children:(0,ye.jsx)(zn,{compressed:!0,label:"Name",id:"name",elementType:"text",valid:null===(n=j.formErrors)||void 0===n||null===(i=n.name)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=j.formErrors)||void 0===r||null===(o=r.name)||void 0===o?void 0:o.message,value:x,onChange:_})}),(0,ye.jsx)(Bn,{colSize:"6",children:(0,ye.jsx)(zn,{compressed:!0,label:"Code",id:"code",elementType:"text",valid:null===(a=j.formErrors)||void 0===a||null===(s=a.code)||void 0===s?void 0:s.valid,inputInvalidText:null===j||void 0===j||null===(l=j.formErrors)||void 0===l||null===(u=l.code)||void 0===u?void 0:u.message,value:w,onChange:k})})]}),(0,ye.jsxs)(Ln,{children:[(0,ye.jsx)(Bn,{colSize:"6",children:(0,ye.jsx)(xs,{id:"market-zone-type",label:"Type",compressed:!0,valid:null===j||void 0===j||null===(c=j.formErrors)||void 0===c||null===(g=c.type)||void 0===g?void 0:g.valid,inputInvalidText:null===j||void 0===j||null===(d=j.formErrors)||void 0===d||null===(h=d.type)||void 0===h?void 0:h.message,options:b,value:E,onChange:S},"market_zone_type")}),(0,ye.jsx)(Bn,{colSize:"6",children:(0,ye.jsx)(ws,{className:"vertical-center",label:"Active",checked:T,onChange:()=>O((e=>!e))})})]}),(0,ye.jsx)(Ln,{className:"mb-2",children:(0,ye.jsx)(Bn,{colSize:"12",children:(0,ye.jsx)(zn,{compressed:!0,label:"Notes",id:"notes",elementType:"textarea",rows:2,valid:null===(p=j.formErrors)||void 0===p||null===(A=p.notes)||void 0===A?void 0:A.valid,inputInvalidText:null===(f=j.formErrors)||void 0===f||null===(C=f.notes)||void 0===C?void 0:C.message,value:P,onChange:D})})}),(0,ye.jsx)(Ln,{className:"mt-1",children:(0,ye.jsxs)(Bn,{colSize:"12",children:[(0,ye.jsx)("div",{style:{float:"left"},children:(0,ye.jsx)(Dn,{buttonType:"btn-outline-warning btn-round btn-sm",onClick:()=>m(),Text:"Cancel"})}),(0,ye.jsx)("div",{style:{float:"right"},children:(0,ye.jsx)(Dn,{buttonType:"btn-outline-primary btn-round btn-sm",isLoading:v,onClick:z,Text:"Save"})})]})})]})})},k$=t=>{var n,i,r,o,a,s,l,u;let{data:c,onCancel:g,onSubmit:d}=t;const h=(0,e.useContext)(tn),[p,A]=(0,e.useState)(void 0),[f,C]=(0,e.useState)(void 0),[I,v]=(0,e.useState)(!1);(0,e.useEffect)((()=>{var e,t,n;Ee(c)||C(Ee(null===c||void 0===c||null===(e=c.facility)||void 0===e?void 0:e.id)?void 0:{id:null===c||void 0===c||null===(t=c.facility)||void 0===t?void 0:t.id,label:null===c||void 0===c||null===(n=c.facility)||void 0===n?void 0:n.display_name})}),[c]);const[m,y]=(0,e.useState)(Fe),b=[{field:"commodity",value:p,notNull:!0},{field:"facility",value:f,notNull:!0}];return(0,ye.jsx)(Nn,{className:"market-zone-peg-form",children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsx)(Ln,{children:(0,ye.jsx)(Bn,{colSize:"12",children:(0,ye.jsx)(xs,{id:"commodity",label:"Commodity",compressed:!0,valid:null===m||void 0===m||null===(n=m.formErrors)||void 0===n||null===(i=n.commodity)||void 0===i?void 0:i.valid,inputInvalidText:null===(r=m.formErrors)||void 0===r||null===(o=r.commodity)||void 0===o?void 0:o.message,options:h.commodities,value:p,onChange:A},"commodity")})}),(0,ye.jsx)(Ln,{children:(0,ye.jsx)(Bn,{colSize:"12",children:(0,ye.jsx)(nd,{id:"facility",label:"Facility",className:"mb-1",valid:null===(a=m.formErrors)||void 0===a||null===(s=a.facilityPeg)||void 0===s?void 0:s.valid,inputInvalidText:null===(l=m.formErrors)||void 0===l||null===(u=l.facilityPeg)||void 0===u?void 0:u.message,value:f,onChange:C},"facility")})}),(0,ye.jsx)(Ln,{className:"mt-1",children:(0,ye.jsxs)(Bn,{colSize:"12",children:[(0,ye.jsx)("div",{style:{float:"left"},children:(0,ye.jsx)(Dn,{buttonType:"btn-outline-warning btn-round btn-sm",onClick:()=>g(),Text:"Cancel"})}),(0,ye.jsx)("div",{style:{float:"right"},children:(0,ye.jsx)(Dn,{buttonType:"btn-outline-primary btn-round btn-sm",isLoading:I,onClick:()=>{v(!0),Re(b,y)?d({facility:null===f||void 0===f?void 0:f.id,commodity:null===p||void 0===p?void 0:p.id}):v(!1)},Text:"Save"})})]})})]})})},E$=t=>{var n;let{editEnabled:i}=t;const{loading:r,marketZone:o,marketZones:a,searchCounties:s,refreshMarketZone:l,refreshMarketZones:u,setMarketZone:c,setMarketZones:g,setSearchCounties:d}=(0,e.useContext)(rn),[h,p]=(0,e.useState)(!1),[A,f]=(0,e.useState)(void 0);return(0,ye.jsxs)("div",{className:"market-zone-list-container mx-2",children:[(0,ye.jsxs)("div",{className:"mb-1",children:[(0,ye.jsx)("span",{className:"span-h4",children:"Market Zones"}),(0,ye.jsxs)("span",{className:"float-right",children:[i&&(0,ye.jsx)("i",{className:"fas fa-plus clickable mr-1",onClick:()=>c(null)}),(0,ye.jsx)("i",{className:"fas fa-sync clickable mx-1".concat(r?" fa-spin":""),onClick:()=>u()})]})]}),!0===i&&null===o&&(0,ye.jsx)(w$,{onSubmit:e=>{Ge("api/v1/comm/mz/",e,(e=>{c(e),g((t=>[e,...t]))})),p(void 0)},onCancel:()=>c(void 0)}),(0,ye.jsx)("div",{className:"market-zone-list",children:null===(n=Pe(a||[],"active",!0))||void 0===n?void 0:n.map(((e,t)=>{var n,r;return(0,ye.jsx)(Nn,{className:"mb-1",children:(0,ye.jsxs)(jn,{compressed:!0,children:[(0,ye.jsxs)("span",{className:"clickable",onClick:()=>(null===o||void 0===o?void 0:o.id)===(null===e||void 0===e?void 0:e.id)?c(void 0):c(e),children:[(0,ye.jsxs)("span",{className:"mr-2",children:[null===e||void 0===e?void 0:e.name,":"]}),!1===(null===e||void 0===e?void 0:e.active)&&(0,ye.jsx)("span",{className:"mr-2",style:{color:"crimson"},children:"(Inactive)"}),(null===e||void 0===e?void 0:e.market_zone_type_desc)&&(0,ye.jsx)("span",{className:"mr-2",children:null===e||void 0===e?void 0:e.market_zone_type_desc})]}),void 0===(null===e||void 0===e||null===(n=e.geojson)||void 0===n?void 0:n.geometry)?(0,ye.jsx)("i",{className:"fas fa-globe",style:{color:"crimson"}}):(0,ye.jsx)("i",{className:"fas fa-globe",style:{color:"darkgreen"}}),i&&(null===o||void 0===o?void 0:o.id)===e.id&&(0,ye.jsx)("span",{className:"float-right",children:(0,ye.jsx)("i",{className:"fas fa-edit clickable",onClick:()=>p((e=>!e))})}),(null===e||void 0===e?void 0:e.id)===(null===o||void 0===o?void 0:o.id)&&(0,ye.jsxs)("div",{className:"market-zone-mgmt",children:[!Ee(null===o||void 0===o?void 0:o.notes)&&(0,ye.jsx)("p",{children:o.notes}),h?(0,ye.jsx)(w$,{data:o,onSubmit:e=>(e=>{e.id=null===o||void 0===o?void 0:o.id,He("api/v1/comm/mz/".concat(null===o||void 0===o?void 0:o.id,"/"),e,(e=>{c(e),g((t=>t.map((t=>t.id===e.id?e:t))))})),p(void 0)})(e),onCancel:()=>p(!1)}):(0,ye.jsx)("hr",{className:"my-1"}),(0,ye.jsxs)("div",{className:"market-zone-info",children:[(0,ye.jsxs)("h6",{className:"strong text-muted",children:["Facility Pegs",i&&(0,ye.jsx)("span",{className:"float-right",children:(0,ye.jsx)("i",{className:"fas fa-plus clickable mr-2",onClick:()=>f({id:o.id})})})]}),void 0!==A&&(0,ye.jsx)(k$,{data:A,onCancel:()=>f(void 0),onSubmit:e=>((e,t)=>{e.market_zone=null===t||void 0===t?void 0:t.id,Ge("api/v1/comm/mz-peg/",e,(e=>{l()}))})(e,o)}),(0,ye.jsx)("hr",{className:"my-1"}),(0,ye.jsx)("h6",{className:"strong text-muted",children:"Counties"}),null===o||void 0===o||null===(r=o.geographies)||void 0===r?void 0:r.map(((e,t)=>{var n,r,o,a,s;return(0,ye.jsx)(Nn,{className:"mb-1",children:(0,ye.jsxs)(jn,{compressed:!0,children:[null===e||void 0===e||null===(n=e.shape)||void 0===n?void 0:n.short_display," (",null===e||void 0===e||null===(r=e.shape)||void 0===r||null===(o=r.ref_data)||void 0===o?void 0:o.full_fips_code,")",i&&(0,ye.jsx)("i",{className:"fas fa-ban ml-1 icon-warning strong clickable float-right",onClick:()=>(e=>{Ye("api/v1/comm/mz-geo/".concat(e,"/"),(()=>l()))})(null===e||void 0===e?void 0:e.id)}),(0,ye.jsx)("br",{}),(0,ye.jsx)(Xg,{Label:"City",Value:null===e||void 0===e||null===(a=e.shape)||void 0===a||null===(s=a.ref_data)||void 0===s?void 0:s.city,break:!0})]})},t)}))]}),(null===s||void 0===s?void 0:s.length)>0&&(0,ye.jsxs)("div",{className:"market-zone-addition-options",children:[(0,ye.jsx)("h6",{children:"Additions"}),null===s||void 0===s?void 0:s.map(((e,t)=>{var n,i;return(0,ye.jsx)(mg,{tooltip:"Add County",text:(0,ye.jsx)(Nn,{className:"mb-1 clickable",onClick:()=>(e=>{const t={market_zone:null===o||void 0===o?void 0:o.id,reference_code:null===e||void 0===e?void 0:e.reference_code};Ge("/api/v1/comm/mz-geo/",t,(()=>l())),d(null===s||void 0===s?void 0:s.filter((t=>(null===t||void 0===t?void 0:t.reference_code)!==e.reference_code)))})(e),children:(0,ye.jsxs)(jn,{compressed:!0,children:[null===e||void 0===e?void 0:e.short_display," (",null===e||void 0===e||null===(n=e.ref_data)||void 0===n?void 0:n.full_fips_code,")",(0,ye.jsx)("br",{}),(0,ye.jsx)(Xg,{Label:"City",Value:null===e||void 0===e||null===(i=e.ref_data)||void 0===i?void 0:i.city,break:!0},t)]})})},t)}))]})]})]})},t)}))})]})},S$=t=>{var n,i,r,o,a;const{marketZone:s,setSearchCounties:l}=(0,e.useContext)(rn);(0,e.useEffect)((()=>{document.title="Market Zone Management"}),[]);const[u,c]=(0,e.useState)({}),[g,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)(void 0),[A,f]=(0,e.useState)({latitude:34.741358,longitude:-85.9375443,width:null,height:"80vh",zoom:7});(0,e.useEffect)((()=>{We("api/v1/comm/mz-geo-json/",(e=>{c(e)}))}),[g]);const C=e=>{const[t,n]=e.lngLat,i="api/v1/geo/geo-radius/?latitude=".concat(n,"&longitude=").concat(t,"&geo_type=County&radius=25&exclude_mkt_zone_geo=").concat(null===s||void 0===s?void 0:s.market_zone_type);We(i,(e=>{l(e)}))},I=(0,e.useCallback)((e=>{const{features:t,point:n}=e,i=t&&t[0];if("mkt-zone"===(null===i||void 0===i?void 0:i.source)){const[e,t]=n;p(i&&{feature:i,x:e,y:t})}else p(void 0)}),[]);return(0,e.useEffect)((()=>{if(!Ee(null===s||void 0===s?void 0:s.geojson)){var e;const r=null===s||void 0===s||null===(e=s.geojson)||void 0===e?void 0:e.geometry;let o=[];var t,n,i;if("MultiPolygon"===(null===r||void 0===r?void 0:r.type))o=null===r||void 0===r||null===(t=r.coordinates)||void 0===t||null===(n=t[0])||void 0===n?void 0:n[0];else o=null===r||void 0===r||null===(i=r.coordinates)||void 0===i?void 0:i[0];const a=ot(o);if(isNaN(null===a||void 0===a?void 0:a.longitude)||Ee(null===a||void 0===a?void 0:a.longitude))return;f((e=>({...e,...a})))}}),[s]),(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)($g,{className:"mb-1"}),(0,ye.jsx)(Un,{children:(0,ye.jsx)(Wn,{colSize:"12",children:(0,ye.jsx)("div",{className:"switch-button-container pb-1 mb-3",children:(0,ye.jsxs)("div",{className:"switch-button","data-off":"Edit",children:[(0,ye.jsx)("input",{className:"switch-button-checkbox",type:"checkbox",checked:g,onChange:()=>d((e=>!e))}),(0,ye.jsx)("label",{className:"switch-button-label",htmlFor:"",children:(0,ye.jsx)("span",{className:"switch-button-label-span",children:"Locked"})})]})})})}),(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"lg-5",children:(0,ye.jsx)(E$,{editEnabled:g})}),(0,ye.jsx)(Wn,{colSize:"lg-7",children:(0,ye.jsx)("div",{className:"market-zone-map-container",children:g?(0,ye.jsxs)(hJ,{...A,mapboxApiAccessToken:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w",mapStyle:"mapbox://styles/mapbox/light-v9",onViewportChange:e=>{f(e)},onClick:e=>C(e),onHover:I,children:[(null===s||void 0===s?void 0:s.geojson)&&(0,ye.jsxs)(fJ,{type:"geojson",data:null===s||void 0===s?void 0:s.geojson,id:"mkt-zone",children:[(0,ye.jsx)(mJ,{...x$}),(0,ye.jsx)(mJ,{..._$})]},"mkt-zone"),h&&(0,ye.jsx)("div",{className:"map-tooltip",style:{left:h.x,top:h.y},children:(0,ye.jsxs)("div",{children:["Name: ",null===h||void 0===h||null===(n=h.feature)||void 0===n||null===(i=n.properties)||void 0===i?void 0:i.name]})})]}):(0,ye.jsxs)(hJ,{...A,mapboxApiAccessToken:"pk.eyJ1Ijoid29vZGFsbC1tYXBib3giLCJhIjoiY2xqMWZ4Y2R6MGZ6djNmcDF6bnN4Nm43YiJ9.ZriMLPtQjTU8rA7ERtf11w",mapStyle:"mapbox://styles/mapbox/light-v9",onViewportChange:e=>{f(e)},onClick:e=>C(e),onHover:I,children:[(null===u||void 0===u||null===(r=u.features)||void 0===r?void 0:r.length)>0&&(0,ye.jsxs)(fJ,{type:"geojson",data:u,id:"mkt-zone-geo-json",children:[(0,ye.jsx)(mJ,{...x$}),(0,ye.jsx)(mJ,{..._$})]},"mkt-zone-geo-json"),h&&(0,ye.jsx)("div",{className:"map-tooltip",style:{left:h.x,top:h.y},children:(0,ye.jsxs)("div",{children:["Name: ",null===h||void 0===h||null===(o=h.feature)||void 0===o||null===(a=o.properties)||void 0===a?void 0:a.name]})})]})})})]})]})},T$=e=>(0,ye.jsx)(on,{children:(0,ye.jsx)(S$,{...e})}),O$=e=>{let{tasks:t}=e;if(t)return(0,ye.jsx)("div",{className:"background-task-overlay",children:(0,ye.jsx)(Nn,{compressed:!0,children:(0,ye.jsxs)(jn,{children:[(0,ye.jsx)("div",{className:"font-h6",children:"Tasks"}),null===t||void 0===t?void 0:t.map(((e,t)=>{var n,i;return(0,ye.jsx)(Nn,{className:"mt-1",compressed:!0,children:(0,ye.jsxs)(jn,{children:[(0,ye.jsx)(mg,{placement:"bottom",tooltip:null===e||void 0===e?void 0:e.traceback,text:(null===e||void 0===e||null===(n=e.result)||void 0===n?void 0:n.task_desc)||it(null===e||void 0===e?void 0:e.status)}),": ",(null===e||void 0===e||null===(i=e.result)||void 0===i?void 0:i.task_desc)&&it(null===e||void 0===e?void 0:e.status)," ",Wg(null===e||void 0===e?void 0:e.date_done)]})},t)}))]})})})},P$=e=>(0,ye.jsxs)(Un,{children:[(0,ye.jsx)(Wn,{colSize:"md-6 mt-3",className:"text-center",children:(0,ye.jsx)(Ie,{to:Yt("flow/"),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)(Nn,{children:(0,ye.jsx)(jn,{children:(0,ye.jsx)("h1",{className:"mt-2",children:"Commodity Flow"})})})})}),(0,ye.jsx)(Wn,{colSize:"md-6 mt-3",className:"text-center",children:(0,ye.jsx)(Ie,{to:Yt(I$.flow_item_option.path),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)(Nn,{children:(0,ye.jsx)(jn,{children:(0,ye.jsx)("h1",{className:"mt-2",children:I$.flow_item_option.name})})})})}),(0,ye.jsx)(Wn,{colSize:"md-6 mt-3",className:"text-center",children:(0,ye.jsx)(Ie,{to:Yt(I$.releases.path),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)(Nn,{children:(0,ye.jsx)(jn,{children:(0,ye.jsx)("h1",{className:"mt-2",children:I$.releases.name})})})})}),(0,ye.jsx)(Wn,{colSize:"md-6 mt-3",className:"text-center",children:(0,ye.jsx)(Ie,{to:Yt(I$.trips.path),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)(Nn,{children:(0,ye.jsx)(jn,{children:(0,ye.jsx)("h1",{className:"mt-2",children:I$.trips.name})})})})}),(0,ye.jsx)(Wn,{colSize:"md-6 mt-3",className:"text-center",children:(0,ye.jsx)(Ie,{to:Yt("mz/"),className:"text-muted",style:{textDecoration:"None"},children:(0,ye.jsx)(Nn,{children:(0,ye.jsx)(jn,{children:(0,ye.jsx)("h1",{className:"mt-2",children:"Market Zones"})})})})})]}),D$=()=>{const{alerts:t,pendingTasks:n,pendingTasksMeta:i,addSuccessAlert:r,removePendingTask:o,setPendingTasksMeta:a}=(0,e.useContext)(be);let s=Yt("");const l=()=>{(null===n||void 0===n?void 0:n.length)>0&&We("api/v1/comm/tasks/?task_ids=".concat(Zg(n,",")),(e=>{var t;e.filter((e=>"SUCCESS"===e.status)).map((e=>{var t;r("".concat((null===e||void 0===e||null===(t=e.result)||void 0===t?void 0:t.task_desc)||"Task"," Completed")),o(null===e||void 0===e?void 0:e.task_id)})),(null===(t=e.filter((e=>"SUCCESS"!==e.status)))||void 0===t?void 0:t.length)>0?(a(e),setTimeout((()=>l()),2500)):a(void 0)}))};return(0,e.useEffect)((()=>{l()}),[n]),(0,ye.jsxs)(e.Fragment,{children:[(0,ye.jsx)("div",{style:{position:"fixed",right:"20px",zIndex:"1075"},children:Pe(t||[],"on").slice(0,5).map(((e,t)=>(0,ye.jsx)(An,{variant:e.variant,message:e.message},t)))}),(0,ye.jsx)(O$,{tasks:i}),(0,ye.jsx)(de,{children:(0,ye.jsxs)(ue,{children:[(0,ye.jsx)(ie,{path:s,exact:!0,render:e=>(0,ye.jsx)(P$,{...e})}),(0,ye.jsx)(ie,{path:Yt("mz"),exact:!0,render:e=>(0,ye.jsx)(T$,{...e})}),(0,ye.jsx)(ie,{path:Yt("flow/"),exact:!0,render:e=>(0,ye.jsx)(cq,{...e})}),(0,ye.jsx)(ie,{path:Yt("flow/:id"),exact:!0,render:e=>(0,ye.jsx)(Oq,{...e})}),(0,ye.jsx)(ie,{path:Yt("flow-items/:id"),exact:!0,render:e=>(0,ye.jsx)(lq,{...e})}),(0,ye.jsx)(ie,{path:Yt("flow-price/mkt-zone"),exact:!0,render:e=>(0,ye.jsx)(Pq,{...e})}),(0,ye.jsx)(ie,{path:Yt(I$.trading_partner_list.path),exact:!0,render:e=>(0,ye.jsx)(u$,{...e})}),(0,ye.jsx)(ie,{path:Yt(I$.trading_partner_detail.path),exact:!0,render:e=>(0,ye.jsx)(i$,{...e})}),Object.values(C$).map(((e,t)=>(0,ye.jsx)(ie,{exact:!0,path:Yt(e.path),render:t=>(0,ye.jsx)(e.render,{...t,pageName:e.name})},t))),(0,ye.jsx)(ie,{path:Yt(I$.flow_diagram.path),exact:!0,render:e=>(0,ye.jsx)(aq,{...e})}),(0,ye.jsx)(ie,{path:Yt(I$.freigh_rates.path),exact:!0,render:e=>(0,ye.jsx)(b$,{...e})}),(0,ye.jsx)(J,{from:"",to:s})]})})]})},j$=()=>(0,ye.jsx)(nn,{children:(0,ye.jsx)(xe,{children:(0,ye.jsx)(D$,{})})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const M$=document.getElementById("root");(0,i.s)(M$).render((0,ye.jsx)(j$,{})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))})()})();
//# sourceMappingURL=main.bf6b9cb4.js.map